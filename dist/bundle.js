var dae=Object.create;var sI=Object.defineProperty;var Aae=Object.getOwnPropertyDescriptor;var fae=Object.getOwnPropertyNames;var hae=Object.getPrototypeOf,pae=Object.prototype.hasOwnProperty;var Ed=(t,e)=>()=>(t&&(e=t(t=0)),e);var Ge=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),oI=(t,e)=>{for(var r in e)sI(t,r,{get:e[r],enumerable:!0})},pO=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of fae(e))!pae.call(t,a)&&a!==r&&sI(t,a,{get:()=>e[a],enumerable:!(n=Aae(e,a))||n.enumerable});return t};var ce=(t,e,r)=>(r=t!=null?dae(hae(t)):{},pO(e||!t||!t.__esModule?sI(r,"default",{value:t,enumerable:!0}):r,t)),mO=t=>pO(sI({},"__esModule",{value:!0}),t);var _O=Ge(Zn=>{"use strict";var Rb=Symbol.for("react.element"),mae=Symbol.for("react.portal"),gae=Symbol.for("react.fragment"),yae=Symbol.for("react.strict_mode"),vae=Symbol.for("react.profiler"),bae=Symbol.for("react.provider"),wae=Symbol.for("react.context"),xae=Symbol.for("react.forward_ref"),Cae=Symbol.for("react.suspense"),Iae=Symbol.for("react.memo"),Nae=Symbol.for("react.lazy"),gO=Symbol.iterator;function Sae(t){return t===null||typeof t!="object"?null:(t=gO&&t[gO]||t["@@iterator"],typeof t=="function"?t:null)}var bO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wO=Object.assign,xO={};function Fy(t,e,r){this.props=t,this.context=e,this.refs=xO,this.updater=r||bO}Fy.prototype.isReactComponent={};Fy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CO(){}CO.prototype=Fy.prototype;function w4(t,e,r){this.props=t,this.context=e,this.refs=xO,this.updater=r||bO}var x4=w4.prototype=new CO;x4.constructor=w4;wO(x4,Fy.prototype);x4.isPureReactComponent=!0;var yO=Array.isArray,IO=Object.prototype.hasOwnProperty,C4={current:null},NO={key:!0,ref:!0,__self:!0,__source:!0};function SO(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)IO.call(e,n)&&!NO.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Rb,type:t,key:i,ref:s,props:a,_owner:C4.current}}function Bae(t,e){return{$$typeof:Rb,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I4(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rb}function _ae(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var vO=/\/+/g;function b4(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_ae(""+t.key):e.toString(36)}function uI(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Rb:case mae:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+b4(s,0):n,yO(a)?(r="",t!=null&&(r=t.replace(vO,"$&/")+"/"),uI(a,e,r,"",function(u){return u})):a!=null&&(I4(a)&&(a=Bae(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(vO,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",yO(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+b4(i,o);s+=uI(i,e,r,l,a)}else if(l=Sae(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+b4(i,o++),s+=uI(i,e,r,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function lI(t,e,r){if(t==null)return t;var n=[],a=0;return uI(t,n,"","",function(i){return e.call(r,i,a++)}),n}function Eae(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kl={current:null},cI={transition:null},Tae={ReactCurrentDispatcher:Kl,ReactCurrentBatchConfig:cI,ReactCurrentOwner:C4};function BO(){throw Error("act(...) is not supported in production builds of React.")}Zn.Children={map:lI,forEach:function(t,e,r){lI(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return lI(t,function(){e++}),e},toArray:function(t){return lI(t,function(e){return e})||[]},only:function(t){if(!I4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Zn.Component=Fy;Zn.Fragment=gae;Zn.Profiler=vae;Zn.PureComponent=w4;Zn.StrictMode=yae;Zn.Suspense=Cae;Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tae;Zn.act=BO;Zn.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wO({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=C4.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)IO.call(e,l)&&!NO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Rb,type:t.type,key:a,ref:i,props:n,_owner:s}};Zn.createContext=function(t){return t={$$typeof:wae,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bae,_context:t},t.Consumer=t};Zn.createElement=SO;Zn.createFactory=function(t){var e=SO.bind(null,t);return e.type=t,e};Zn.createRef=function(){return{current:null}};Zn.forwardRef=function(t){return{$$typeof:xae,render:t}};Zn.isValidElement=I4;Zn.lazy=function(t){return{$$typeof:Nae,_payload:{_status:-1,_result:t},_init:Eae}};Zn.memo=function(t,e){return{$$typeof:Iae,type:t,compare:e===void 0?null:e}};Zn.startTransition=function(t){var e=cI.transition;cI.transition={};try{t()}finally{cI.transition=e}};Zn.unstable_act=BO;Zn.useCallback=function(t,e){return Kl.current.useCallback(t,e)};Zn.useContext=function(t){return Kl.current.useContext(t)};Zn.useDebugValue=function(){};Zn.useDeferredValue=function(t){return Kl.current.useDeferredValue(t)};Zn.useEffect=function(t,e){return Kl.current.useEffect(t,e)};Zn.useId=function(){return Kl.current.useId()};Zn.useImperativeHandle=function(t,e,r){return Kl.current.useImperativeHandle(t,e,r)};Zn.useInsertionEffect=function(t,e){return Kl.current.useInsertionEffect(t,e)};Zn.useLayoutEffect=function(t,e){return Kl.current.useLayoutEffect(t,e)};Zn.useMemo=function(t,e){return Kl.current.useMemo(t,e)};Zn.useReducer=function(t,e,r){return Kl.current.useReducer(t,e,r)};Zn.useRef=function(t){return Kl.current.useRef(t)};Zn.useState=function(t){return Kl.current.useState(t)};Zn.useSyncExternalStore=function(t,e,r){return Kl.current.useSyncExternalStore(t,e,r)};Zn.useTransition=function(){return Kl.current.useTransition()};Zn.version="18.3.1"});var $t=Ge((ySe,EO)=>{"use strict";EO.exports=_O()});var OO=Ge(pi=>{"use strict";function _4(t,e){var r=t.length;t.push(e);e:for(;0<r;){var n=r-1>>>1,a=t[n];if(0<dI(a,e))t[n]=e,t[r]=a,r=n;else break e}}function Td(t){return t.length===0?null:t[0]}function fI(t){if(t.length===0)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;e:for(var n=0,a=t.length,i=a>>>1;n<i;){var s=2*(n+1)-1,o=t[s],l=s+1,u=t[l];if(0>dI(o,r))l<a&&0>dI(u,o)?(t[n]=u,t[l]=r,n=l):(t[n]=o,t[s]=r,n=s);else if(l<a&&0>dI(u,r))t[n]=u,t[l]=r,n=l;else break e}}return e}function dI(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}typeof performance=="object"&&typeof performance.now=="function"?(TO=performance,pi.unstable_now=function(){return TO.now()}):(N4=Date,LO=N4.now(),pi.unstable_now=function(){return N4.now()-LO});var TO,N4,LO,zA=[],up=[],Lae=1,Vc=null,hl=3,hI=!1,Xm=!1,Db=!1,FO=typeof setTimeout=="function"?setTimeout:null,RO=typeof clearTimeout=="function"?clearTimeout:null,PO=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E4(t){for(var e=Td(up);e!==null;){if(e.callback===null)fI(up);else if(e.startTime<=t)fI(up),e.sortIndex=e.expirationTime,_4(zA,e);else break;e=Td(up)}}function T4(t){if(Db=!1,E4(t),!Xm)if(Td(zA)!==null)Xm=!0,P4(L4);else{var e=Td(up);e!==null&&k4(T4,e.startTime-t)}}function L4(t,e){Xm=!1,Db&&(Db=!1,RO(Mb),Mb=-1),hI=!0;var r=hl;try{for(E4(e),Vc=Td(zA);Vc!==null&&(!(Vc.expirationTime>e)||t&&!MO());){var n=Vc.callback;if(typeof n=="function"){Vc.callback=null,hl=Vc.priorityLevel;var a=n(Vc.expirationTime<=e);e=pi.unstable_now(),typeof a=="function"?Vc.callback=a:Vc===Td(zA)&&fI(zA),E4(e)}else fI(zA);Vc=Td(zA)}if(Vc!==null)var i=!0;else{var s=Td(up);s!==null&&k4(T4,s.startTime-e),i=!1}return i}finally{Vc=null,hl=r,hI=!1}}var pI=!1,AI=null,Mb=-1,UO=5,DO=-1;function MO(){return!(pi.unstable_now()-DO<UO)}function S4(){if(AI!==null){var t=pi.unstable_now();DO=t;var e=!0;try{e=AI(!0,t)}finally{e?Ub():(pI=!1,AI=null)}}else pI=!1}var Ub;typeof PO=="function"?Ub=function(){PO(S4)}:typeof MessageChannel<"u"?(B4=new MessageChannel,kO=B4.port2,B4.port1.onmessage=S4,Ub=function(){kO.postMessage(null)}):Ub=function(){FO(S4,0)};var B4,kO;function P4(t){AI=t,pI||(pI=!0,Ub())}function k4(t,e){Mb=FO(function(){t(pi.unstable_now())},e)}pi.unstable_IdlePriority=5;pi.unstable_ImmediatePriority=1;pi.unstable_LowPriority=4;pi.unstable_NormalPriority=3;pi.unstable_Profiling=null;pi.unstable_UserBlockingPriority=2;pi.unstable_cancelCallback=function(t){t.callback=null};pi.unstable_continueExecution=function(){Xm||hI||(Xm=!0,P4(L4))};pi.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):UO=0<t?Math.floor(1e3/t):5};pi.unstable_getCurrentPriorityLevel=function(){return hl};pi.unstable_getFirstCallbackNode=function(){return Td(zA)};pi.unstable_next=function(t){switch(hl){case 1:case 2:case 3:var e=3;break;default:e=hl}var r=hl;hl=e;try{return t()}finally{hl=r}};pi.unstable_pauseExecution=function(){};pi.unstable_requestPaint=function(){};pi.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=hl;hl=t;try{return e()}finally{hl=r}};pi.unstable_scheduleCallback=function(t,e,r){var n=pi.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=r+a,t={id:Lae++,callback:e,priorityLevel:t,startTime:r,expirationTime:a,sortIndex:-1},r>n?(t.sortIndex=r,_4(up,t),Td(zA)===null&&t===Td(up)&&(Db?(RO(Mb),Mb=-1):Db=!0,k4(T4,r-n))):(t.sortIndex=a,_4(zA,t),Xm||hI||(Xm=!0,P4(L4))),t};pi.unstable_shouldYield=MO;pi.unstable_wrapCallback=function(t){var e=hl;return function(){var r=hl;hl=e;try{return t.apply(this,arguments)}finally{hl=r}}}});var HO=Ge((bSe,QO)=>{"use strict";QO.exports=OO()});var j7=Ge(dc=>{"use strict";var Pae=$t(),uc=HO();function qt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W8=new Set,sw={};function cg(t,e){tv(t,e),tv(t+"Capture",e)}function tv(t,e){for(sw[t]=e,t=0;t<e.length;t++)W8.add(e[t])}var sh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rT=Object.prototype.hasOwnProperty,kae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VO={},qO={};function Fae(t){return rT.call(qO,t)?!0:rT.call(VO,t)?!1:kae.test(t)?qO[t]=!0:(VO[t]=!0,!1)}function Rae(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Uae(t,e,r,n){if(e===null||typeof e>"u"||Rae(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $l(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Go={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Go[t]=new $l(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Go[e]=new $l(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Go[t]=new $l(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Go[t]=new $l(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Go[t]=new $l(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Go[t]=new $l(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Go[t]=new $l(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Go[t]=new $l(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Go[t]=new $l(t,5,!1,t.toLowerCase(),null,!1,!1)});var WT=/[\-:]([a-z])/g;function $T(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(WT,$T);Go[e]=new $l(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(WT,$T);Go[e]=new $l(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(WT,$T);Go[e]=new $l(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Go[t]=new $l(t,1,!1,t.toLowerCase(),null,!1,!1)});Go.xlinkHref=new $l("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Go[t]=new $l(t,1,!1,t.toLowerCase(),null,!0,!0)});function YT(t,e,r,n){var a=Go.hasOwnProperty(e)?Go[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Uae(e,r,a,n)&&(r=null),n||a===null?Fae(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ch=Pae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mI=Symbol.for("react.element"),Dy=Symbol.for("react.portal"),My=Symbol.for("react.fragment"),XT=Symbol.for("react.strict_mode"),nT=Symbol.for("react.profiler"),$8=Symbol.for("react.provider"),Y8=Symbol.for("react.context"),JT=Symbol.for("react.forward_ref"),aT=Symbol.for("react.suspense"),iT=Symbol.for("react.suspense_list"),ZT=Symbol.for("react.memo"),dp=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var X8=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var zO=Symbol.iterator;function Ob(t){return t===null||typeof t!="object"?null:(t=zO&&t[zO]||t["@@iterator"],typeof t=="function"?t:null)}var Gi=Object.assign,F4;function Gb(t){if(F4===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);F4=e&&e[1]||""}return`
`+F4+t}var R4=!1;function U4(t,e){if(!t||R4)return"";R4=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{R4=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Gb(t):""}function Dae(t){switch(t.tag){case 5:return Gb(t.type);case 16:return Gb("Lazy");case 13:return Gb("Suspense");case 19:return Gb("SuspenseList");case 0:case 2:case 15:return t=U4(t.type,!1),t;case 11:return t=U4(t.type.render,!1),t;case 1:return t=U4(t.type,!0),t;default:return""}}function sT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case My:return"Fragment";case Dy:return"Portal";case nT:return"Profiler";case XT:return"StrictMode";case aT:return"Suspense";case iT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y8:return(t.displayName||"Context")+".Consumer";case $8:return(t._context.displayName||"Context")+".Provider";case JT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ZT:return e=t.displayName||null,e!==null?e:sT(t.type)||"Memo";case dp:e=t._payload,t=t._init;try{return sT(t(e))}catch{}}return null}function Mae(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sT(e);case 8:return e===XT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Np(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Oae(t){var e=J8(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gI(t){t._valueTracker||(t._valueTracker=Oae(t))}function Z8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=J8(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function jI(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oT(t,e){var r=e.checked;return Gi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function jO(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Np(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eQ(t,e){e=e.checked,e!=null&&YT(t,"checked",e,!1)}function lT(t,e){eQ(t,e);var r=Np(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uT(t,e.type,r):e.hasOwnProperty("defaultValue")&&uT(t,e.type,Np(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KO(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function uT(t,e,r){(e!=="number"||jI(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Wb=Array.isArray;function $y(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Np(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function cT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qt(91));return Gi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function GO(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(qt(92));if(Wb(r)){if(1<r.length)throw Error(qt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Np(r)}}function tQ(t,e){var r=Np(e.value),n=Np(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function WO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rQ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rQ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yI,nQ=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t})(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yI=yI||document.createElement("div"),yI.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yI.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ow(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Xb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qae=["Webkit","ms","Moz","O"];Object.keys(Xb).forEach(function(t){Qae.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xb[e]=Xb[t]})});function aQ(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Xb.hasOwnProperty(t)&&Xb[t]?(""+e).trim():e+"px"}function iQ(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=aQ(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Hae=Gi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AT(t,e){if(e){if(Hae[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qt(62))}}function fT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hT=null;function eL(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pT=null,Yy=null,Xy=null;function $O(t){if(t=Nw(t)){if(typeof pT!="function")throw Error(qt(280));var e=t.stateNode;e&&(e=vN(e),pT(t.stateNode,t.type,e))}}function sQ(t){Yy?Xy?Xy.push(t):Xy=[t]:Yy=t}function oQ(){if(Yy){var t=Yy,e=Xy;if(Xy=Yy=null,$O(t),e)for(t=0;t<e.length;t++)$O(e[t])}}function lQ(t,e){return t(e)}function uQ(){}var D4=!1;function cQ(t,e,r){if(D4)return t(e,r);D4=!0;try{return lQ(t,e,r)}finally{D4=!1,(Yy!==null||Xy!==null)&&(uQ(),oQ())}}function lw(t,e){var r=t.stateNode;if(r===null)return null;var n=vN(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(qt(231,e,typeof r));return r}var mT=!1;if(sh)try{Ry={},Object.defineProperty(Ry,"passive",{get:function(){mT=!0}}),window.addEventListener("test",Ry,Ry),window.removeEventListener("test",Ry,Ry)}catch{mT=!1}var Ry;function Vae(t,e,r,n,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Jb=!1,KI=null,GI=!1,gT=null,qae={onError:function(t){Jb=!0,KI=t}};function zae(t,e,r,n,a,i,s,o,l){Jb=!1,KI=null,Vae.apply(qae,arguments)}function jae(t,e,r,n,a,i,s,o,l){if(zae.apply(this,arguments),Jb){if(Jb){var u=KI;Jb=!1,KI=null}else throw Error(qt(198));GI||(GI=!0,gT=u)}}function dg(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dQ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function YO(t){if(dg(t)!==t)throw Error(qt(188))}function Kae(t){var e=t.alternate;if(!e){if(e=dg(t),e===null)throw Error(qt(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return YO(a),t;if(i===n)return YO(a),e;i=i.sibling}throw Error(qt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(qt(189))}}if(r.alternate!==n)throw Error(qt(190))}if(r.tag!==3)throw Error(qt(188));return r.stateNode.current===r?t:e}function AQ(t){return t=Kae(t),t!==null?fQ(t):null}function fQ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fQ(t);if(e!==null)return e;t=t.sibling}return null}var hQ=uc.unstable_scheduleCallback,XO=uc.unstable_cancelCallback,Gae=uc.unstable_shouldYield,Wae=uc.unstable_requestPaint,bs=uc.unstable_now,$ae=uc.unstable_getCurrentPriorityLevel,tL=uc.unstable_ImmediatePriority,pQ=uc.unstable_UserBlockingPriority,WI=uc.unstable_NormalPriority,Yae=uc.unstable_LowPriority,mQ=uc.unstable_IdlePriority,pN=null,WA=null;function Xae(t){if(WA&&typeof WA.onCommitFiberRoot=="function")try{WA.onCommitFiberRoot(pN,t,void 0,(t.current.flags&128)===128)}catch{}}var Rd=Math.clz32?Math.clz32:eie,Jae=Math.log,Zae=Math.LN2;function eie(t){return t>>>=0,t===0?32:31-(Jae(t)/Zae|0)|0}var vI=64,bI=4194304;function $b(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $I(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=$b(o):(i&=s,i!==0&&(n=$b(i)))}else s=r&~a,s!==0?n=$b(s):i!==0&&(n=$b(i));if(n===0)return 0;if(e!==0&&e!==n&&(e&a)===0&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if((n&4)!==0&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Rd(e),a=1<<r,n|=t[r],e&=~a;return n}function tie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Rd(i),o=1<<s,l=a[s];l===-1?((o&r)===0||(o&n)!==0)&&(a[s]=tie(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function yT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gQ(){var t=vI;return vI<<=1,(vI&4194240)===0&&(vI=64),t}function M4(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Cw(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rd(e),t[e]=r}function nie(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Rd(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function rL(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Rd(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Ga=0;function yQ(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var vQ,nL,bQ,wQ,xQ,vT=!1,wI=[],gp=null,yp=null,vp=null,uw=new Map,cw=new Map,fp=[],aie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JO(t,e){switch(t){case"focusin":case"focusout":gp=null;break;case"dragenter":case"dragleave":yp=null;break;case"mouseover":case"mouseout":vp=null;break;case"pointerover":case"pointerout":uw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cw.delete(e.pointerId)}}function Qb(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Nw(e),e!==null&&nL(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function iie(t,e,r,n,a){switch(e){case"focusin":return gp=Qb(gp,t,e,r,n,a),!0;case"dragenter":return yp=Qb(yp,t,e,r,n,a),!0;case"mouseover":return vp=Qb(vp,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return uw.set(i,Qb(uw.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,cw.set(i,Qb(cw.get(i)||null,t,e,r,n,a)),!0}return!1}function CQ(t){var e=eg(t.target);if(e!==null){var r=dg(e);if(r!==null){if(e=r.tag,e===13){if(e=dQ(r),e!==null){t.blockedOn=e,xQ(t.priority,function(){bQ(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function RI(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=bT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);hT=n,r.target.dispatchEvent(n),hT=null}else return e=Nw(r),e!==null&&nL(e),t.blockedOn=r,!1;e.shift()}return!0}function ZO(t,e,r){RI(t)&&r.delete(e)}function sie(){vT=!1,gp!==null&&RI(gp)&&(gp=null),yp!==null&&RI(yp)&&(yp=null),vp!==null&&RI(vp)&&(vp=null),uw.forEach(ZO),cw.forEach(ZO)}function Hb(t,e){t.blockedOn===e&&(t.blockedOn=null,vT||(vT=!0,uc.unstable_scheduleCallback(uc.unstable_NormalPriority,sie)))}function dw(t){function e(a){return Hb(a,t)}if(0<wI.length){Hb(wI[0],t);for(var r=1;r<wI.length;r++){var n=wI[r];n.blockedOn===t&&(n.blockedOn=null)}}for(gp!==null&&Hb(gp,t),yp!==null&&Hb(yp,t),vp!==null&&Hb(vp,t),uw.forEach(e),cw.forEach(e),r=0;r<fp.length;r++)n=fp[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<fp.length&&(r=fp[0],r.blockedOn===null);)CQ(r),r.blockedOn===null&&fp.shift()}var Jy=ch.ReactCurrentBatchConfig,YI=!0;function oie(t,e,r,n){var a=Ga,i=Jy.transition;Jy.transition=null;try{Ga=1,aL(t,e,r,n)}finally{Ga=a,Jy.transition=i}}function lie(t,e,r,n){var a=Ga,i=Jy.transition;Jy.transition=null;try{Ga=4,aL(t,e,r,n)}finally{Ga=a,Jy.transition=i}}function aL(t,e,r,n){if(YI){var a=bT(t,e,r,n);if(a===null)j4(t,e,n,XI,r),JO(t,n);else if(iie(a,t,e,r,n))n.stopPropagation();else if(JO(t,n),e&4&&-1<aie.indexOf(t)){for(;a!==null;){var i=Nw(a);if(i!==null&&vQ(i),i=bT(t,e,r,n),i===null&&j4(t,e,n,XI,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else j4(t,e,n,null,r)}}var XI=null;function bT(t,e,r,n){if(XI=null,t=eL(n),t=eg(t),t!==null)if(e=dg(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dQ(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return XI=t,null}function IQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($ae()){case tL:return 1;case pQ:return 4;case WI:case Yae:return 16;case mQ:return 536870912;default:return 16}default:return 16}}var pp=null,iL=null,UI=null;function NQ(){if(UI)return UI;var t,e=iL,r=e.length,n,a="value"in pp?pp.value:pp.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return UI=a.slice(t,1<n?1-n:void 0)}function DI(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xI(){return!0}function e8(){return!1}function cc(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xI:e8,this.isPropagationStopped=e8,this}return Gi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xI)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xI)},persist:function(){},isPersistent:xI}),e}var lv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sL=cc(lv),Iw=Gi({},lv,{view:0,detail:0}),uie=cc(Iw),O4,Q4,Vb,mN=Gi({},Iw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oL,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vb&&(Vb&&t.type==="mousemove"?(O4=t.screenX-Vb.screenX,Q4=t.screenY-Vb.screenY):Q4=O4=0,Vb=t),O4)},movementY:function(t){return"movementY"in t?t.movementY:Q4}}),t8=cc(mN),cie=Gi({},mN,{dataTransfer:0}),die=cc(cie),Aie=Gi({},Iw,{relatedTarget:0}),H4=cc(Aie),fie=Gi({},lv,{animationName:0,elapsedTime:0,pseudoElement:0}),hie=cc(fie),pie=Gi({},lv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mie=cc(pie),gie=Gi({},lv,{data:0}),r8=cc(gie),yie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bie[t])?!!e[t]:!1}function oL(){return wie}var xie=Gi({},Iw,{key:function(t){if(t.key){var e=yie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=DI(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oL,charCode:function(t){return t.type==="keypress"?DI(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?DI(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cie=cc(xie),Iie=Gi({},mN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n8=cc(Iie),Nie=Gi({},Iw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oL}),Sie=cc(Nie),Bie=Gi({},lv,{propertyName:0,elapsedTime:0,pseudoElement:0}),_ie=cc(Bie),Eie=Gi({},mN,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tie=cc(Eie),Lie=[9,13,27,32],lL=sh&&"CompositionEvent"in window,Zb=null;sh&&"documentMode"in document&&(Zb=document.documentMode);var Pie=sh&&"TextEvent"in window&&!Zb,SQ=sh&&(!lL||Zb&&8<Zb&&11>=Zb),a8=" ",i8=!1;function BQ(t,e){switch(t){case"keyup":return Lie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _Q(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oy=!1;function kie(t,e){switch(t){case"compositionend":return _Q(e);case"keypress":return e.which!==32?null:(i8=!0,a8);case"textInput":return t=e.data,t===a8&&i8?null:t;default:return null}}function Fie(t,e){if(Oy)return t==="compositionend"||!lL&&BQ(t,e)?(t=NQ(),UI=iL=pp=null,Oy=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SQ&&e.locale!=="ko"?null:e.data;default:return null}}var Rie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rie[t.type]:e==="textarea"}function EQ(t,e,r,n){sQ(n),e=JI(e,"onChange"),0<e.length&&(r=new sL("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ew=null,Aw=null;function Uie(t){QQ(t,0)}function gN(t){var e=Vy(t);if(Z8(e))return t}function Die(t,e){if(t==="change")return e}var TQ=!1;sh&&(sh?(II="oninput"in document,II||(V4=document.createElement("div"),V4.setAttribute("oninput","return;"),II=typeof V4.oninput=="function"),CI=II):CI=!1,TQ=CI&&(!document.documentMode||9<document.documentMode));var CI,II,V4;function o8(){ew&&(ew.detachEvent("onpropertychange",LQ),Aw=ew=null)}function LQ(t){if(t.propertyName==="value"&&gN(Aw)){var e=[];EQ(e,Aw,t,eL(t)),cQ(Uie,e)}}function Mie(t,e,r){t==="focusin"?(o8(),ew=e,Aw=r,ew.attachEvent("onpropertychange",LQ)):t==="focusout"&&o8()}function Oie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gN(Aw)}function Qie(t,e){if(t==="click")return gN(e)}function Hie(t,e){if(t==="input"||t==="change")return gN(e)}function Vie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dd=typeof Object.is=="function"?Object.is:Vie;function fw(t,e){if(Dd(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!rT.call(e,a)||!Dd(t[a],e[a]))return!1}return!0}function l8(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u8(t,e){var r=l8(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=l8(r)}}function PQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kQ(){for(var t=window,e=jI();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=jI(t.document)}return e}function uL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qie(t){var e=kQ(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&PQ(r.ownerDocument.documentElement,r)){if(n!==null&&uL(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=u8(r,i);var s=u8(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zie=sh&&"documentMode"in document&&11>=document.documentMode,Qy=null,wT=null,tw=null,xT=!1;function c8(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xT||Qy==null||Qy!==jI(n)||(n=Qy,"selectionStart"in n&&uL(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tw&&fw(tw,n)||(tw=n,n=JI(wT,"onSelect"),0<n.length&&(e=new sL("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Qy)))}function NI(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hy={animationend:NI("Animation","AnimationEnd"),animationiteration:NI("Animation","AnimationIteration"),animationstart:NI("Animation","AnimationStart"),transitionend:NI("Transition","TransitionEnd")},q4={},FQ={};sh&&(FQ=document.createElement("div").style,"AnimationEvent"in window||(delete Hy.animationend.animation,delete Hy.animationiteration.animation,delete Hy.animationstart.animation),"TransitionEvent"in window||delete Hy.transitionend.transition);function yN(t){if(q4[t])return q4[t];if(!Hy[t])return t;var e=Hy[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in FQ)return q4[t]=e[r];return t}var RQ=yN("animationend"),UQ=yN("animationiteration"),DQ=yN("animationstart"),MQ=yN("transitionend"),OQ=new Map,d8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bp(t,e){OQ.set(t,e),cg(e,[t])}for(SI=0;SI<d8.length;SI++)BI=d8[SI],A8=BI.toLowerCase(),f8=BI[0].toUpperCase()+BI.slice(1),Bp(A8,"on"+f8);var BI,A8,f8,SI;Bp(RQ,"onAnimationEnd");Bp(UQ,"onAnimationIteration");Bp(DQ,"onAnimationStart");Bp("dblclick","onDoubleClick");Bp("focusin","onFocus");Bp("focusout","onBlur");Bp(MQ,"onTransitionEnd");tv("onMouseEnter",["mouseout","mouseover"]);tv("onMouseLeave",["mouseout","mouseover"]);tv("onPointerEnter",["pointerout","pointerover"]);tv("onPointerLeave",["pointerout","pointerover"]);cg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cg("onBeforeInput",["compositionend","keypress","textInput","paste"]);cg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jie=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yb));function h8(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,jae(n,e,void 0,t),t.currentTarget=null}function QQ(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;h8(a,o,u),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;h8(a,o,u),i=l}}}if(GI)throw t=gT,GI=!1,gT=null,t}function xi(t,e){var r=e[BT];r===void 0&&(r=e[BT]=new Set);var n=t+"__bubble";r.has(n)||(HQ(e,t,2,!1),r.add(n))}function z4(t,e,r){var n=0;e&&(n|=4),HQ(r,t,n,e)}var _I="_reactListening"+Math.random().toString(36).slice(2);function hw(t){if(!t[_I]){t[_I]=!0,W8.forEach(function(r){r!=="selectionchange"&&(jie.has(r)||z4(r,!1,t),z4(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_I]||(e[_I]=!0,z4("selectionchange",!1,e))}}function HQ(t,e,r,n){switch(IQ(e)){case 1:var a=oie;break;case 4:a=lie;break;default:a=aL}r=a.bind(null,e,r,t),a=void 0,!mT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function j4(t,e,r,n,a){var i=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=eg(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}cQ(function(){var u=i,c=eL(r),d=[];e:{var f=OQ.get(t);if(f!==void 0){var A=sL,v=t;switch(t){case"keypress":if(DI(r)===0)break e;case"keydown":case"keyup":A=Cie;break;case"focusin":v="focus",A=H4;break;case"focusout":v="blur",A=H4;break;case"beforeblur":case"afterblur":A=H4;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=t8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=die;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Sie;break;case RQ:case UQ:case DQ:A=hie;break;case MQ:A=_ie;break;case"scroll":A=uie;break;case"wheel":A=Tie;break;case"copy":case"cut":case"paste":A=mie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=n8}var I=(e&4)!==0,w=!I&&t==="scroll",g=I?f!==null?f+"Capture":null:f;I=[];for(var b=u,S;b!==null;){S=b;var F=S.stateNode;if(S.tag===5&&F!==null&&(S=F,g!==null&&(F=lw(b,g),F!=null&&I.push(pw(b,F,S)))),w)break;b=b.return}0<I.length&&(f=new A(f,v,null,r,c),d.push({event:f,listeners:I}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",f&&r!==hT&&(v=r.relatedTarget||r.fromElement)&&(eg(v)||v[oh]))break e;if((A||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,A?(v=r.relatedTarget||r.toElement,A=u,v=v?eg(v):null,v!==null&&(w=dg(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(A=null,v=u),A!==v)){if(I=t8,F="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(I=n8,F="onPointerLeave",g="onPointerEnter",b="pointer"),w=A==null?f:Vy(A),S=v==null?f:Vy(v),f=new I(F,b+"leave",A,r,c),f.target=w,f.relatedTarget=S,F=null,eg(c)===u&&(I=new I(g,b+"enter",v,r,c),I.target=S,I.relatedTarget=w,F=I),w=F,A&&v)t:{for(I=A,g=v,b=0,S=I;S;S=Uy(S))b++;for(S=0,F=g;F;F=Uy(F))S++;for(;0<b-S;)I=Uy(I),b--;for(;0<S-b;)g=Uy(g),S--;for(;b--;){if(I===g||g!==null&&I===g.alternate)break t;I=Uy(I),g=Uy(g)}I=null}else I=null;A!==null&&p8(d,f,A,I,!1),v!==null&&w!==null&&p8(d,w,v,I,!0)}}e:{if(f=u?Vy(u):window,A=f.nodeName&&f.nodeName.toLowerCase(),A==="select"||A==="input"&&f.type==="file")var O=Die;else if(s8(f))if(TQ)O=Hie;else{O=Oie;var R=Mie}else(A=f.nodeName)&&A.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=Qie);if(O&&(O=O(t,u))){EQ(d,O,r,c);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&uT(f,"number",f.value)}switch(R=u?Vy(u):window,t){case"focusin":(s8(R)||R.contentEditable==="true")&&(Qy=R,wT=u,tw=null);break;case"focusout":tw=wT=Qy=null;break;case"mousedown":xT=!0;break;case"contextmenu":case"mouseup":case"dragend":xT=!1,c8(d,r,c);break;case"selectionchange":if(zie)break;case"keydown":case"keyup":c8(d,r,c)}var T;if(lL)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Oy?BQ(t,r)&&(B="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(SQ&&r.locale!=="ko"&&(Oy||B!=="onCompositionStart"?B==="onCompositionEnd"&&Oy&&(T=NQ()):(pp=c,iL="value"in pp?pp.value:pp.textContent,Oy=!0)),R=JI(u,B),0<R.length&&(B=new r8(B,t,null,r,c),d.push({event:B,listeners:R}),T?B.data=T:(T=_Q(r),T!==null&&(B.data=T)))),(T=Pie?kie(t,r):Fie(t,r))&&(u=JI(u,"onBeforeInput"),0<u.length&&(c=new r8("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=T))}QQ(d,e)})}function pw(t,e,r){return{instance:t,listener:e,currentTarget:r}}function JI(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=lw(t,r),i!=null&&n.unshift(pw(t,i,a)),i=lw(t,e),i!=null&&n.push(pw(t,i,a))),t=t.return}return n}function Uy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function p8(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,a?(l=lw(r,i),l!=null&&s.unshift(pw(r,l,o))):a||(l=lw(r,i),l!=null&&s.push(pw(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Kie=/\r\n?/g,Gie=/\u0000|\uFFFD/g;function m8(t){return(typeof t=="string"?t:""+t).replace(Kie,`
`).replace(Gie,"")}function EI(t,e,r){if(e=m8(e),m8(t)!==e&&r)throw Error(qt(425))}function ZI(){}var CT=null,IT=null;function NT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ST=typeof setTimeout=="function"?setTimeout:void 0,Wie=typeof clearTimeout=="function"?clearTimeout:void 0,g8=typeof Promise=="function"?Promise:void 0,$ie=typeof queueMicrotask=="function"?queueMicrotask:typeof g8<"u"?function(t){return g8.resolve(null).then(t).catch(Yie)}:ST;function Yie(t){setTimeout(function(){throw t})}function K4(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),dw(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);dw(e)}function bp(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function y8(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var uv=Math.random().toString(36).slice(2),GA="__reactFiber$"+uv,mw="__reactProps$"+uv,oh="__reactContainer$"+uv,BT="__reactEvents$"+uv,Xie="__reactListeners$"+uv,Jie="__reactHandles$"+uv;function eg(t){var e=t[GA];if(e)return e;for(var r=t.parentNode;r;){if(e=r[oh]||r[GA]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=y8(t);t!==null;){if(r=t[GA])return r;t=y8(t)}return e}t=r,r=t.parentNode}return null}function Nw(t){return t=t[GA]||t[oh],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vy(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(qt(33))}function vN(t){return t[mw]||null}var _T=[],qy=-1;function _p(t){return{current:t}}function Ci(t){0>qy||(t.current=_T[qy],_T[qy]=null,qy--)}function mi(t,e){qy++,_T[qy]=t.current,t.current=e}var Sp={},yl=_p(Sp),Bu=_p(!1),ig=Sp;function rv(t,e){var r=t.type.contextTypes;if(!r)return Sp;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function _u(t){return t=t.childContextTypes,t!=null}function eN(){Ci(Bu),Ci(yl)}function v8(t,e,r){if(yl.current!==Sp)throw Error(qt(168));mi(yl,e),mi(Bu,r)}function VQ(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(qt(108,Mae(t)||"Unknown",a));return Gi({},r,n)}function tN(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sp,ig=yl.current,mi(yl,t),mi(Bu,Bu.current),!0}function b8(t,e,r){var n=t.stateNode;if(!n)throw Error(qt(169));r?(t=VQ(t,e,ig),n.__reactInternalMemoizedMergedChildContext=t,Ci(Bu),Ci(yl),mi(yl,t)):Ci(Bu),mi(Bu,r)}var rh=null,bN=!1,G4=!1;function qQ(t){rh===null?rh=[t]:rh.push(t)}function Zie(t){bN=!0,qQ(t)}function Ep(){if(!G4&&rh!==null){G4=!0;var t=0,e=Ga;try{var r=rh;for(Ga=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}rh=null,bN=!1}catch(a){throw rh!==null&&(rh=rh.slice(t+1)),hQ(tL,Ep),a}finally{Ga=e,G4=!1}}return null}var zy=[],jy=0,rN=null,nN=0,qc=[],zc=0,sg=null,nh=1,ah="";function Jm(t,e){zy[jy++]=nN,zy[jy++]=rN,rN=t,nN=e}function zQ(t,e,r){qc[zc++]=nh,qc[zc++]=ah,qc[zc++]=sg,sg=t;var n=nh;t=ah;var a=32-Rd(n)-1;n&=~(1<<a),r+=1;var i=32-Rd(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,nh=1<<32-Rd(e)+a|r<<a|n,ah=i+t}else nh=1<<i|r<<a|n,ah=t}function cL(t){t.return!==null&&(Jm(t,1),zQ(t,1,0))}function dL(t){for(;t===rN;)rN=zy[--jy],zy[jy]=null,nN=zy[--jy],zy[jy]=null;for(;t===sg;)sg=qc[--zc],qc[zc]=null,ah=qc[--zc],qc[zc]=null,nh=qc[--zc],qc[zc]=null}var lc=null,oc=null,Oi=!1,Fd=null;function jQ(t,e){var r=jc(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function w8(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lc=t,oc=bp(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lc=t,oc=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=sg!==null?{id:nh,overflow:ah}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=jc(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,lc=t,oc=null,!0):!1;default:return!1}}function ET(t){return(t.mode&1)!==0&&(t.flags&128)===0}function TT(t){if(Oi){var e=oc;if(e){var r=e;if(!w8(t,e)){if(ET(t))throw Error(qt(418));e=bp(r.nextSibling);var n=lc;e&&w8(t,e)?jQ(n,r):(t.flags=t.flags&-4097|2,Oi=!1,lc=t)}}else{if(ET(t))throw Error(qt(418));t.flags=t.flags&-4097|2,Oi=!1,lc=t}}}function x8(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lc=t}function TI(t){if(t!==lc)return!1;if(!Oi)return x8(t),Oi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!NT(t.type,t.memoizedProps)),e&&(e=oc)){if(ET(t))throw KQ(),Error(qt(418));for(;e;)jQ(t,e),e=bp(e.nextSibling)}if(x8(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(qt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){oc=bp(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}oc=null}}else oc=lc?bp(t.stateNode.nextSibling):null;return!0}function KQ(){for(var t=oc;t;)t=bp(t.nextSibling)}function nv(){oc=lc=null,Oi=!1}function AL(t){Fd===null?Fd=[t]:Fd.push(t)}var ese=ch.ReactCurrentBatchConfig;function qb(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(qt(309));var n=r.stateNode}if(!n)throw Error(qt(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(qt(284));if(!r._owner)throw Error(qt(290,t))}return t}function LI(t,e){throw t=Object.prototype.toString.call(e),Error(qt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C8(t){var e=t._init;return e(t._payload)}function GQ(t){function e(g,b){if(t){var S=g.deletions;S===null?(g.deletions=[b],g.flags|=16):S.push(b)}}function r(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=Ip(g,b),g.index=0,g.sibling=null,g}function i(g,b,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<b?(g.flags|=2,b):S):(g.flags|=2,b)):(g.flags|=1048576,b)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,b,S,F){return b===null||b.tag!==6?(b=eT(S,g.mode,F),b.return=g,b):(b=a(b,S),b.return=g,b)}function l(g,b,S,F){var O=S.type;return O===My?c(g,b,S.props.children,F,S.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===dp&&C8(O)===b.type)?(F=a(b,S.props),F.ref=qb(g,b,S),F.return=g,F):(F=zI(S.type,S.key,S.props,null,g.mode,F),F.ref=qb(g,b,S),F.return=g,F)}function u(g,b,S,F){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=tT(S,g.mode,F),b.return=g,b):(b=a(b,S.children||[]),b.return=g,b)}function c(g,b,S,F,O){return b===null||b.tag!==7?(b=ag(S,g.mode,F,O),b.return=g,b):(b=a(b,S),b.return=g,b)}function d(g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=eT(""+b,g.mode,S),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mI:return S=zI(b.type,b.key,b.props,null,g.mode,S),S.ref=qb(g,null,b),S.return=g,S;case Dy:return b=tT(b,g.mode,S),b.return=g,b;case dp:var F=b._init;return d(g,F(b._payload),S)}if(Wb(b)||Ob(b))return b=ag(b,g.mode,S,null),b.return=g,b;LI(g,b)}return null}function f(g,b,S,F){var O=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:o(g,b,""+S,F);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mI:return S.key===O?l(g,b,S,F):null;case Dy:return S.key===O?u(g,b,S,F):null;case dp:return O=S._init,f(g,b,O(S._payload),F)}if(Wb(S)||Ob(S))return O!==null?null:c(g,b,S,F,null);LI(g,S)}return null}function A(g,b,S,F,O){if(typeof F=="string"&&F!==""||typeof F=="number")return g=g.get(S)||null,o(b,g,""+F,O);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case mI:return g=g.get(F.key===null?S:F.key)||null,l(b,g,F,O);case Dy:return g=g.get(F.key===null?S:F.key)||null,u(b,g,F,O);case dp:var R=F._init;return A(g,b,S,R(F._payload),O)}if(Wb(F)||Ob(F))return g=g.get(S)||null,c(b,g,F,O,null);LI(b,F)}return null}function v(g,b,S,F){for(var O=null,R=null,T=b,B=b=0,k=null;T!==null&&B<S.length;B++){T.index>B?(k=T,T=null):k=T.sibling;var U=f(g,T,S[B],F);if(U===null){T===null&&(T=k);break}t&&T&&U.alternate===null&&e(g,T),b=i(U,b,B),R===null?O=U:R.sibling=U,R=U,T=k}if(B===S.length)return r(g,T),Oi&&Jm(g,B),O;if(T===null){for(;B<S.length;B++)T=d(g,S[B],F),T!==null&&(b=i(T,b,B),R===null?O=T:R.sibling=T,R=T);return Oi&&Jm(g,B),O}for(T=n(g,T);B<S.length;B++)k=A(T,g,B,S[B],F),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?B:k.key),b=i(k,b,B),R===null?O=k:R.sibling=k,R=k);return t&&T.forEach(function(E){return e(g,E)}),Oi&&Jm(g,B),O}function I(g,b,S,F){var O=Ob(S);if(typeof O!="function")throw Error(qt(150));if(S=O.call(S),S==null)throw Error(qt(151));for(var R=O=null,T=b,B=b=0,k=null,U=S.next();T!==null&&!U.done;B++,U=S.next()){T.index>B?(k=T,T=null):k=T.sibling;var E=f(g,T,U.value,F);if(E===null){T===null&&(T=k);break}t&&T&&E.alternate===null&&e(g,T),b=i(E,b,B),R===null?O=E:R.sibling=E,R=E,T=k}if(U.done)return r(g,T),Oi&&Jm(g,B),O;if(T===null){for(;!U.done;B++,U=S.next())U=d(g,U.value,F),U!==null&&(b=i(U,b,B),R===null?O=U:R.sibling=U,R=U);return Oi&&Jm(g,B),O}for(T=n(g,T);!U.done;B++,U=S.next())U=A(T,g,B,U.value,F),U!==null&&(t&&U.alternate!==null&&T.delete(U.key===null?B:U.key),b=i(U,b,B),R===null?O=U:R.sibling=U,R=U);return t&&T.forEach(function(_){return e(g,_)}),Oi&&Jm(g,B),O}function w(g,b,S,F){if(typeof S=="object"&&S!==null&&S.type===My&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mI:e:{for(var O=S.key,R=b;R!==null;){if(R.key===O){if(O=S.type,O===My){if(R.tag===7){r(g,R.sibling),b=a(R,S.props.children),b.return=g,g=b;break e}}else if(R.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===dp&&C8(O)===R.type){r(g,R.sibling),b=a(R,S.props),b.ref=qb(g,R,S),b.return=g,g=b;break e}r(g,R);break}else e(g,R);R=R.sibling}S.type===My?(b=ag(S.props.children,g.mode,F,S.key),b.return=g,g=b):(F=zI(S.type,S.key,S.props,null,g.mode,F),F.ref=qb(g,b,S),F.return=g,g=F)}return s(g);case Dy:e:{for(R=S.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(g,b.sibling),b=a(b,S.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else e(g,b);b=b.sibling}b=tT(S,g.mode,F),b.return=g,g=b}return s(g);case dp:return R=S._init,w(g,b,R(S._payload),F)}if(Wb(S))return v(g,b,S,F);if(Ob(S))return I(g,b,S,F);LI(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(g,b.sibling),b=a(b,S),b.return=g,g=b):(r(g,b),b=eT(S,g.mode,F),b.return=g,g=b),s(g)):r(g,b)}return w}var av=GQ(!0),WQ=GQ(!1),aN=_p(null),iN=null,Ky=null,fL=null;function hL(){fL=Ky=iN=null}function pL(t){var e=aN.current;Ci(aN),t._currentValue=e}function LT(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zy(t,e){iN=t,fL=Ky=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Su=!0),t.firstContext=null)}function Gc(t){var e=t._currentValue;if(fL!==t)if(t={context:t,memoizedValue:e,next:null},Ky===null){if(iN===null)throw Error(qt(308));Ky=t,iN.dependencies={lanes:0,firstContext:t}}else Ky=Ky.next=t;return e}var tg=null;function mL(t){tg===null?tg=[t]:tg.push(t)}function $Q(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,mL(e)):(r.next=a.next,a.next=r),e.interleaved=r,lh(t,n)}function lh(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ap=!1;function gL(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ih(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wp(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(xa&2)!==0){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,lh(t,r)}return a=n.interleaved,a===null?(e.next=e,mL(n)):(e.next=a.next,a.next=e),n.interleaved=e,lh(t,r)}function MI(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rL(t,r)}}function I8(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sN(t,e,r,n){var a=t.updateQueue;Ap=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;s=0,c=u=l=null,o=i;do{var f=o.lane,A=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:A,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,I=o;switch(f=e,A=r,I.tag){case 1:if(v=I.payload,typeof v=="function"){d=v.call(A,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=I.payload,f=typeof v=="function"?v.call(A,d,f):v,f==null)break e;d=Gi({},d,f);break e;case 2:Ap=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else A={eventTime:A,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=A,l=d):c=c.next=A,s|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(c===null&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);lg|=s,t.lanes=s,t.memoizedState=d}}function N8(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(qt(191,a));a.call(n)}}}var Sw={},$A=_p(Sw),gw=_p(Sw),yw=_p(Sw);function rg(t){if(t===Sw)throw Error(qt(174));return t}function yL(t,e){switch(mi(yw,e),mi(gw,t),mi($A,Sw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dT(e,t)}Ci($A),mi($A,e)}function iv(){Ci($A),Ci(gw),Ci(yw)}function XQ(t){rg(yw.current);var e=rg($A.current),r=dT(e,t.type);e!==r&&(mi(gw,t),mi($A,r))}function vL(t){gw.current===t&&(Ci($A),Ci(gw))}var ji=_p(0);function oN(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var W4=[];function bL(){for(var t=0;t<W4.length;t++)W4[t]._workInProgressVersionPrimary=null;W4.length=0}var OI=ch.ReactCurrentDispatcher,$4=ch.ReactCurrentBatchConfig,og=0,Ki=null,ho=null,Po=null,lN=!1,rw=!1,vw=0,tse=0;function pl(){throw Error(qt(321))}function wL(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Dd(t[r],e[r]))return!1;return!0}function xL(t,e,r,n,a,i){if(og=i,Ki=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,OI.current=t===null||t.memoizedState===null?ise:sse,t=r(n,a),rw){i=0;do{if(rw=!1,vw=0,25<=i)throw Error(qt(301));i+=1,Po=ho=null,e.updateQueue=null,OI.current=ose,t=r(n,a)}while(rw)}if(OI.current=uN,e=ho!==null&&ho.next!==null,og=0,Po=ho=Ki=null,lN=!1,e)throw Error(qt(300));return t}function CL(){var t=vw!==0;return vw=0,t}function KA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Po===null?Ki.memoizedState=Po=t:Po=Po.next=t,Po}function Wc(){if(ho===null){var t=Ki.alternate;t=t!==null?t.memoizedState:null}else t=ho.next;var e=Po===null?Ki.memoizedState:Po.next;if(e!==null)Po=e,ho=t;else{if(t===null)throw Error(qt(310));ho=t,t={memoizedState:ho.memoizedState,baseState:ho.baseState,baseQueue:ho.baseQueue,queue:ho.queue,next:null},Po===null?Ki.memoizedState=Po=t:Po=Po.next=t}return Po}function bw(t,e){return typeof e=="function"?e(t):e}function Y4(t){var e=Wc(),r=e.queue;if(r===null)throw Error(qt(311));r.lastRenderedReducer=t;var n=ho,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,u=i;do{var c=u.lane;if((og&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,Ki.lanes|=c,lg|=c}u=u.next}while(u!==null&&u!==i);l===null?s=n:l.next=o,Dd(n,e.memoizedState)||(Su=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Ki.lanes|=i,lg|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function X4(t){var e=Wc(),r=e.queue;if(r===null)throw Error(qt(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Dd(i,e.memoizedState)||(Su=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function JQ(){}function ZQ(t,e){var r=Ki,n=Wc(),a=e(),i=!Dd(n.memoizedState,a);if(i&&(n.memoizedState=a,Su=!0),n=n.queue,IL(r7.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Po!==null&&Po.memoizedState.tag&1){if(r.flags|=2048,ww(9,t7.bind(null,r,n,a,e),void 0,null),ko===null)throw Error(qt(349));(og&30)!==0||e7(r,e,a)}return a}function e7(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ki.updateQueue,e===null?(e={lastEffect:null,stores:null},Ki.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function t7(t,e,r,n){e.value=r,e.getSnapshot=n,n7(e)&&a7(t)}function r7(t,e,r){return r(function(){n7(e)&&a7(t)})}function n7(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Dd(t,r)}catch{return!0}}function a7(t){var e=lh(t,1);e!==null&&Ud(e,t,1,-1)}function S8(t){var e=KA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bw,lastRenderedState:t},e.queue=t,t=t.dispatch=ase.bind(null,Ki,t),[e.memoizedState,t]}function ww(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ki.updateQueue,e===null?(e={lastEffect:null,stores:null},Ki.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function i7(){return Wc().memoizedState}function QI(t,e,r,n){var a=KA();Ki.flags|=t,a.memoizedState=ww(1|e,r,void 0,n===void 0?null:n)}function wN(t,e,r,n){var a=Wc();n=n===void 0?null:n;var i=void 0;if(ho!==null){var s=ho.memoizedState;if(i=s.destroy,n!==null&&wL(n,s.deps)){a.memoizedState=ww(e,r,i,n);return}}Ki.flags|=t,a.memoizedState=ww(1|e,r,i,n)}function B8(t,e){return QI(8390656,8,t,e)}function IL(t,e){return wN(2048,8,t,e)}function s7(t,e){return wN(4,2,t,e)}function o7(t,e){return wN(4,4,t,e)}function l7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u7(t,e,r){return r=r!=null?r.concat([t]):null,wN(4,4,l7.bind(null,e,t),r)}function NL(){}function c7(t,e){var r=Wc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wL(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function d7(t,e){var r=Wc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wL(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function A7(t,e,r){return(og&21)===0?(t.baseState&&(t.baseState=!1,Su=!0),t.memoizedState=r):(Dd(r,e)||(r=gQ(),Ki.lanes|=r,lg|=r,t.baseState=!0),e)}function rse(t,e){var r=Ga;Ga=r!==0&&4>r?r:4,t(!0);var n=$4.transition;$4.transition={};try{t(!1),e()}finally{Ga=r,$4.transition=n}}function f7(){return Wc().memoizedState}function nse(t,e,r){var n=Cp(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},h7(t))p7(e,r);else if(r=$Q(t,e,r,n),r!==null){var a=Wl();Ud(r,t,n,a),m7(r,e,n)}}function ase(t,e,r){var n=Cp(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(h7(t))p7(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Dd(o,s)){var l=e.interleaved;l===null?(a.next=a,mL(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=$Q(t,e,a,n),r!==null&&(a=Wl(),Ud(r,t,n,a),m7(r,e,n))}}function h7(t){var e=t.alternate;return t===Ki||e!==null&&e===Ki}function p7(t,e){rw=lN=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function m7(t,e,r){if((r&4194240)!==0){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rL(t,r)}}var uN={readContext:Gc,useCallback:pl,useContext:pl,useEffect:pl,useImperativeHandle:pl,useInsertionEffect:pl,useLayoutEffect:pl,useMemo:pl,useReducer:pl,useRef:pl,useState:pl,useDebugValue:pl,useDeferredValue:pl,useTransition:pl,useMutableSource:pl,useSyncExternalStore:pl,useId:pl,unstable_isNewReconciler:!1},ise={readContext:Gc,useCallback:function(t,e){return KA().memoizedState=[t,e===void 0?null:e],t},useContext:Gc,useEffect:B8,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,QI(4194308,4,l7.bind(null,e,t),r)},useLayoutEffect:function(t,e){return QI(4194308,4,t,e)},useInsertionEffect:function(t,e){return QI(4,2,t,e)},useMemo:function(t,e){var r=KA();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=KA();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=nse.bind(null,Ki,t),[n.memoizedState,t]},useRef:function(t){var e=KA();return t={current:t},e.memoizedState=t},useState:S8,useDebugValue:NL,useDeferredValue:function(t){return KA().memoizedState=t},useTransition:function(){var t=S8(!1),e=t[0];return t=rse.bind(null,t[1]),KA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ki,a=KA();if(Oi){if(r===void 0)throw Error(qt(407));r=r()}else{if(r=e(),ko===null)throw Error(qt(349));(og&30)!==0||e7(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,B8(r7.bind(null,n,i,t),[t]),n.flags|=2048,ww(9,t7.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=KA(),e=ko.identifierPrefix;if(Oi){var r=ah,n=nh;r=(n&~(1<<32-Rd(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=vw++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=tse++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sse={readContext:Gc,useCallback:c7,useContext:Gc,useEffect:IL,useImperativeHandle:u7,useInsertionEffect:s7,useLayoutEffect:o7,useMemo:d7,useReducer:Y4,useRef:i7,useState:function(){return Y4(bw)},useDebugValue:NL,useDeferredValue:function(t){var e=Wc();return A7(e,ho.memoizedState,t)},useTransition:function(){var t=Y4(bw)[0],e=Wc().memoizedState;return[t,e]},useMutableSource:JQ,useSyncExternalStore:ZQ,useId:f7,unstable_isNewReconciler:!1},ose={readContext:Gc,useCallback:c7,useContext:Gc,useEffect:IL,useImperativeHandle:u7,useInsertionEffect:s7,useLayoutEffect:o7,useMemo:d7,useReducer:X4,useRef:i7,useState:function(){return X4(bw)},useDebugValue:NL,useDeferredValue:function(t){var e=Wc();return ho===null?e.memoizedState=t:A7(e,ho.memoizedState,t)},useTransition:function(){var t=X4(bw)[0],e=Wc().memoizedState;return[t,e]},useMutableSource:JQ,useSyncExternalStore:ZQ,useId:f7,unstable_isNewReconciler:!1};function Pd(t,e){if(t&&t.defaultProps){e=Gi({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function PT(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Gi({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xN={isMounted:function(t){return(t=t._reactInternals)?dg(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Wl(),a=Cp(t),i=ih(n,a);i.payload=e,r!=null&&(i.callback=r),e=wp(t,i,a),e!==null&&(Ud(e,t,a,n),MI(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Wl(),a=Cp(t),i=ih(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=wp(t,i,a),e!==null&&(Ud(e,t,a,n),MI(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Wl(),n=Cp(t),a=ih(r,n);a.tag=2,e!=null&&(a.callback=e),e=wp(t,a,n),e!==null&&(Ud(e,t,n,r),MI(e,t,n))}};function _8(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!fw(r,n)||!fw(a,i):!0}function g7(t,e,r){var n=!1,a=Sp,i=e.contextType;return typeof i=="object"&&i!==null?i=Gc(i):(a=_u(e)?ig:yl.current,n=e.contextTypes,i=(n=n!=null)?rv(t,a):Sp),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xN,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function E8(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&xN.enqueueReplaceState(e,e.state,null)}function kT(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},gL(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=Gc(i):(i=_u(e)?ig:yl.current,a.context=rv(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(PT(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&xN.enqueueReplaceState(a,a.state,null),sN(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function sv(t,e){try{var r="",n=e;do r+=Dae(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function J4(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function FT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var lse=typeof WeakMap=="function"?WeakMap:Map;function y7(t,e,r){r=ih(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){dN||(dN=!0,zT=n),FT(t,e)},r}function v7(t,e,r){r=ih(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){FT(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){FT(t,e),typeof n!="function"&&(xp===null?xp=new Set([this]):xp.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function T8(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new lse;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=xse.bind(null,t,e,r),e.then(t,t))}function L8(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P8(t,e,r,n,a){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ih(-1,1),e.tag=2,wp(r,e,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=a,t)}var use=ch.ReactCurrentOwner,Su=!1;function Gl(t,e,r,n){e.child=t===null?WQ(e,null,r,n):av(e,t.child,r,n)}function k8(t,e,r,n,a){r=r.render;var i=e.ref;return Zy(e,a),n=xL(t,e,r,n,i,a),r=CL(),t!==null&&!Su?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,uh(t,e,a)):(Oi&&r&&cL(e),e.flags|=1,Gl(t,e,n,a),e.child)}function F8(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!kL(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,b7(t,e,i,n,a)):(t=zI(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,(t.lanes&a)===0){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:fw,r(s,n)&&t.ref===e.ref)return uh(t,e,a)}return e.flags|=1,t=Ip(i,n),t.ref=e.ref,t.return=e,e.child=t}function b7(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(fw(i,n)&&t.ref===e.ref)if(Su=!1,e.pendingProps=n=i,(t.lanes&a)!==0)(t.flags&131072)!==0&&(Su=!0);else return e.lanes=t.lanes,uh(t,e,a)}return RT(t,e,r,n,a)}function w7(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mi(Wy,sc),sc|=r;else{if((r&1073741824)===0)return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mi(Wy,sc),sc|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,mi(Wy,sc),sc|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,mi(Wy,sc),sc|=n;return Gl(t,e,a,r),e.child}function x7(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function RT(t,e,r,n,a){var i=_u(r)?ig:yl.current;return i=rv(e,i),Zy(e,a),r=xL(t,e,r,n,i,a),n=CL(),t!==null&&!Su?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,uh(t,e,a)):(Oi&&n&&cL(e),e.flags|=1,Gl(t,e,r,a),e.child)}function R8(t,e,r,n,a){if(_u(r)){var i=!0;tN(e)}else i=!1;if(Zy(e,a),e.stateNode===null)HI(t,e),g7(e,r,n),kT(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Gc(u):(u=_u(r)?ig:yl.current,u=rv(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&E8(e,s,n,u),Ap=!1;var f=e.memoizedState;s.state=f,sN(e,n,s,a),l=e.memoizedState,o!==n||f!==l||Bu.current||Ap?(typeof c=="function"&&(PT(e,r,c,n),l=e.memoizedState),(o=Ap||_8(e,r,o,n,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,YQ(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Pd(e.type,o),s.props=u,d=e.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gc(l):(l=_u(r)?ig:yl.current,l=rv(e,l));var A=r.getDerivedStateFromProps;(c=typeof A=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==l)&&E8(e,s,n,l),Ap=!1,f=e.memoizedState,s.state=f,sN(e,n,s,a);var v=e.memoizedState;o!==d||f!==v||Bu.current||Ap?(typeof A=="function"&&(PT(e,r,A,n),v=e.memoizedState),(u=Ap||_8(e,r,u,n,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return UT(t,e,r,n,i,a)}function UT(t,e,r,n,a,i){x7(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&b8(e,r,!1),uh(t,e,i);n=e.stateNode,use.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=av(e,t.child,null,i),e.child=av(e,null,o,i)):Gl(t,e,o,i),e.memoizedState=n.state,a&&b8(e,r,!0),e.child}function C7(t){var e=t.stateNode;e.pendingContext?v8(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v8(t,e.context,!1),yL(t,e.containerInfo)}function U8(t,e,r,n,a){return nv(),AL(a),e.flags|=256,Gl(t,e,r,n),e.child}var DT={dehydrated:null,treeContext:null,retryLane:0};function MT(t){return{baseLanes:t,cachePool:null,transitions:null}}function I7(t,e,r){var n=e.pendingProps,a=ji.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),mi(ji,a&1),t===null)return TT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},(n&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=s):i=NN(s,n,0,null),t=ag(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=MT(r),e.memoizedState=DT,t):SL(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return cse(t,e,s,n,o,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,o=a.sibling;var l={mode:"hidden",children:n.children};return(s&1)===0&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ip(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ip(o,i):(i=ag(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?MT(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=DT,n}return i=t.child,t=i.sibling,n=Ip(i,{mode:"visible",children:n.children}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function SL(t,e){return e=NN({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function PI(t,e,r,n){return n!==null&&AL(n),av(e,t.child,null,r),t=SL(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cse(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=J4(Error(qt(422))),PI(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=NN({mode:"visible",children:n.children},a,0,null),i=ag(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,(e.mode&1)!==0&&av(e,t.child,null,s),e.child.memoizedState=MT(s),e.memoizedState=DT,i);if((e.mode&1)===0)return PI(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(qt(419)),n=J4(i,n,void 0),PI(t,e,s,n)}if(o=(s&t.childLanes)!==0,Su||o){if(n=ko,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(n.suspendedLanes|s))!==0?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,lh(t,a),Ud(n,t,a,-1))}return PL(),n=J4(Error(qt(421))),PI(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=Cse.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,oc=bp(a.nextSibling),lc=e,Oi=!0,Fd=null,t!==null&&(qc[zc++]=nh,qc[zc++]=ah,qc[zc++]=sg,nh=t.id,ah=t.overflow,sg=e),e=SL(e,n.children),e.flags|=4096,e)}function D8(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),LT(t.return,e,r)}function Z4(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function N7(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Gl(t,e,n.children,r),n=ji.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D8(t,r,e);else if(t.tag===19)D8(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(mi(ji,n),(e.mode&1)===0)e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&oN(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Z4(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&oN(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Z4(e,!0,r,null,i);break;case"together":Z4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function HI(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function uh(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),lg|=e.lanes,(r&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(qt(153));if(e.child!==null){for(t=e.child,r=Ip(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ip(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function dse(t,e,r){switch(e.tag){case 3:C7(e),nv();break;case 5:XQ(e);break;case 1:_u(e.type)&&tN(e);break;case 4:yL(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;mi(aN,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(mi(ji,ji.current&1),e.flags|=128,null):(r&e.child.childLanes)!==0?I7(t,e,r):(mi(ji,ji.current&1),t=uh(t,e,r),t!==null?t.sibling:null);mi(ji,ji.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&128)!==0){if(n)return N7(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),mi(ji,ji.current),n)break;return null;case 22:case 23:return e.lanes=0,w7(t,e,r)}return uh(t,e,r)}var S7,OT,B7,_7;S7=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};OT=function(){};B7=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,rg($A.current);var i=null;switch(r){case"input":a=oT(t,a),n=oT(t,n),i=[];break;case"select":a=Gi({},a,{value:void 0}),n=Gi({},n,{value:void 0}),i=[];break;case"textarea":a=cT(t,a),n=cT(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ZI)}AT(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sw.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=a?.[u],n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sw.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xi("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};_7=function(t,e,r,n){r!==n&&(e.flags|=4)};function zb(t,e){if(!Oi)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ml(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ase(t,e,r){var n=e.pendingProps;switch(dL(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ml(e),null;case 1:return _u(e.type)&&eN(),ml(e),null;case 3:return n=e.stateNode,iv(),Ci(Bu),Ci(yl),bL(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(TI(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Fd!==null&&(GT(Fd),Fd=null))),OT(t,e),ml(e),null;case 5:vL(e);var a=rg(yw.current);if(r=e.type,t!==null&&e.stateNode!=null)B7(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(qt(166));return ml(e),null}if(t=rg($A.current),TI(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[GA]=e,n[mw]=i,t=(e.mode&1)!==0,r){case"dialog":xi("cancel",n),xi("close",n);break;case"iframe":case"object":case"embed":xi("load",n);break;case"video":case"audio":for(a=0;a<Yb.length;a++)xi(Yb[a],n);break;case"source":xi("error",n);break;case"img":case"image":case"link":xi("error",n),xi("load",n);break;case"details":xi("toggle",n);break;case"input":jO(n,i),xi("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},xi("invalid",n);break;case"textarea":GO(n,i),xi("invalid",n)}AT(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&EI(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&EI(n.textContent,o,t),a=["children",""+o]):sw.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&xi("scroll",n)}switch(r){case"input":gI(n),KO(n,i,!0);break;case"textarea":gI(n),WO(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ZI)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rQ(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[GA]=e,t[mw]=n,S7(t,e,!1,!1),e.stateNode=t;e:{switch(s=fT(r,n),r){case"dialog":xi("cancel",t),xi("close",t),a=n;break;case"iframe":case"object":case"embed":xi("load",t),a=n;break;case"video":case"audio":for(a=0;a<Yb.length;a++)xi(Yb[a],t);a=n;break;case"source":xi("error",t),a=n;break;case"img":case"image":case"link":xi("error",t),xi("load",t),a=n;break;case"details":xi("toggle",t),a=n;break;case"input":jO(t,n),a=oT(t,n),xi("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Gi({},n,{value:void 0}),xi("invalid",t);break;case"textarea":GO(t,n),a=cT(t,n),xi("invalid",t);break;default:a=n}AT(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?iQ(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nQ(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ow(t,l):typeof l=="number"&&ow(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sw.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xi("scroll",t):l!=null&&YT(t,i,l,s))}switch(r){case"input":gI(t),KO(t,n,!1);break;case"textarea":gI(t),WO(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Np(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?$y(t,!!n.multiple,i,!1):n.defaultValue!=null&&$y(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=ZI)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ml(e),null;case 6:if(t&&e.stateNode!=null)_7(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(qt(166));if(r=rg(yw.current),rg($A.current),TI(e)){if(n=e.stateNode,r=e.memoizedProps,n[GA]=e,(i=n.nodeValue!==r)&&(t=lc,t!==null))switch(t.tag){case 3:EI(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&EI(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[GA]=e,e.stateNode=n}return ml(e),null;case 13:if(Ci(ji),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oi&&oc!==null&&(e.mode&1)!==0&&(e.flags&128)===0)KQ(),nv(),e.flags|=98560,i=!1;else if(i=TI(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(qt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(qt(317));i[GA]=e}else nv(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ml(e),i=!1}else Fd!==null&&(GT(Fd),Fd=null),i=!0;if(!i)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(ji.current&1)!==0?po===0&&(po=3):PL())),e.updateQueue!==null&&(e.flags|=4),ml(e),null);case 4:return iv(),OT(t,e),t===null&&hw(e.stateNode.containerInfo),ml(e),null;case 10:return pL(e.type._context),ml(e),null;case 17:return _u(e.type)&&eN(),ml(e),null;case 19:if(Ci(ji),i=e.memoizedState,i===null)return ml(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)zb(i,!1);else{if(po!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=oN(t),s!==null){for(e.flags|=128,zb(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return mi(ji,ji.current&1|2),e.child}t=t.sibling}i.tail!==null&&bs()>ov&&(e.flags|=128,n=!0,zb(i,!1),e.lanes=4194304)}else{if(!n)if(t=oN(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),zb(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Oi)return ml(e),null}else 2*bs()-i.renderingStartTime>ov&&r!==1073741824&&(e.flags|=128,n=!0,zb(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=bs(),e.sibling=null,r=ji.current,mi(ji,n?r&1|2:r&1),e):(ml(e),null);case 22:case 23:return LL(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&(e.mode&1)!==0?(sc&1073741824)!==0&&(ml(e),e.subtreeFlags&6&&(e.flags|=8192)):ml(e),null;case 24:return null;case 25:return null}throw Error(qt(156,e.tag))}function fse(t,e){switch(dL(e),e.tag){case 1:return _u(e.type)&&eN(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return iv(),Ci(Bu),Ci(yl),bL(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return vL(e),null;case 13:if(Ci(ji),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(qt(340));nv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ci(ji),null;case 4:return iv(),null;case 10:return pL(e.type._context),null;case 22:case 23:return LL(),null;case 24:return null;default:return null}}var kI=!1,gl=!1,hse=typeof WeakSet=="function"?WeakSet:Set,Tr=null;function Gy(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ls(t,e,n)}else r.current=null}function QT(t,e,r){try{r()}catch(n){ls(t,e,n)}}var M8=!1;function pse(t,e){if(CT=YI,t=kQ(),uL(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var A;d!==r||a!==0&&d.nodeType!==3||(o=s+a),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(A=d.firstChild)!==null;)f=d,d=A;for(;;){if(d===t)break t;if(f===r&&++u===a&&(o=s),f===i&&++c===n&&(l=s),(A=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=A}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(IT={focusedElem:t,selectionRange:r},YI=!1,Tr=e;Tr!==null;)if(e=Tr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Tr=t;else for(;Tr!==null;){e=Tr;try{var v=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var I=v.memoizedProps,w=v.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?I:Pd(e.type,I),w);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qt(163))}}catch(F){ls(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,Tr=t;break}Tr=e.return}return v=M8,M8=!1,v}function nw(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&QT(e,r,i)}a=a.next}while(a!==n)}}function CN(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function HT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function E7(t){var e=t.alternate;e!==null&&(t.alternate=null,E7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[GA],delete e[mw],delete e[BT],delete e[Xie],delete e[Jie])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T7(t){return t.tag===5||t.tag===3||t.tag===4}function O8(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function VT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ZI));else if(n!==4&&(t=t.child,t!==null))for(VT(t,e,r),t=t.sibling;t!==null;)VT(t,e,r),t=t.sibling}function qT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(qT(t,e,r),t=t.sibling;t!==null;)qT(t,e,r),t=t.sibling}var jo=null,kd=!1;function cp(t,e,r){for(r=r.child;r!==null;)L7(t,e,r),r=r.sibling}function L7(t,e,r){if(WA&&typeof WA.onCommitFiberUnmount=="function")try{WA.onCommitFiberUnmount(pN,r)}catch{}switch(r.tag){case 5:gl||Gy(r,e);case 6:var n=jo,a=kd;jo=null,cp(t,e,r),jo=n,kd=a,jo!==null&&(kd?(t=jo,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):jo.removeChild(r.stateNode));break;case 18:jo!==null&&(kd?(t=jo,r=r.stateNode,t.nodeType===8?K4(t.parentNode,r):t.nodeType===1&&K4(t,r),dw(t)):K4(jo,r.stateNode));break;case 4:n=jo,a=kd,jo=r.stateNode.containerInfo,kd=!0,cp(t,e,r),jo=n,kd=a;break;case 0:case 11:case 14:case 15:if(!gl&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&((i&2)!==0||(i&4)!==0)&&QT(r,e,s),a=a.next}while(a!==n)}cp(t,e,r);break;case 1:if(!gl&&(Gy(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ls(r,e,o)}cp(t,e,r);break;case 21:cp(t,e,r);break;case 22:r.mode&1?(gl=(n=gl)||r.memoizedState!==null,cp(t,e,r),gl=n):cp(t,e,r);break;default:cp(t,e,r)}}function Q8(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new hse),e.forEach(function(n){var a=Ise.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ld(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:jo=o.stateNode,kd=!1;break e;case 3:jo=o.stateNode.containerInfo,kd=!0;break e;case 4:jo=o.stateNode.containerInfo,kd=!0;break e}o=o.return}if(jo===null)throw Error(qt(160));L7(i,s,a),jo=null,kd=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){ls(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P7(e,t),e=e.sibling}function P7(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ld(e,t),jA(t),n&4){try{nw(3,t,t.return),CN(3,t)}catch(I){ls(t,t.return,I)}try{nw(5,t,t.return)}catch(I){ls(t,t.return,I)}}break;case 1:Ld(e,t),jA(t),n&512&&r!==null&&Gy(r,r.return);break;case 5:if(Ld(e,t),jA(t),n&512&&r!==null&&Gy(r,r.return),t.flags&32){var a=t.stateNode;try{ow(a,"")}catch(I){ls(t,t.return,I)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&eQ(a,i),fT(o,s);var u=fT(o,i);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?iQ(a,d):c==="dangerouslySetInnerHTML"?nQ(a,d):c==="children"?ow(a,d):YT(a,c,d,u)}switch(o){case"input":lT(a,i);break;case"textarea":tQ(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var A=i.value;A!=null?$y(a,!!i.multiple,A,!1):f!==!!i.multiple&&(i.defaultValue!=null?$y(a,!!i.multiple,i.defaultValue,!0):$y(a,!!i.multiple,i.multiple?[]:"",!1))}a[mw]=i}catch(I){ls(t,t.return,I)}}break;case 6:if(Ld(e,t),jA(t),n&4){if(t.stateNode===null)throw Error(qt(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(I){ls(t,t.return,I)}}break;case 3:if(Ld(e,t),jA(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dw(e.containerInfo)}catch(I){ls(t,t.return,I)}break;case 4:Ld(e,t),jA(t);break;case 13:Ld(e,t),jA(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(EL=bs())),n&4&&Q8(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(gl=(u=gl)||c,Ld(e,t),gl=u):Ld(e,t),jA(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(Tr=t,c=t.child;c!==null;){for(d=Tr=c;Tr!==null;){switch(f=Tr,A=f.child,f.tag){case 0:case 11:case 14:case 15:nw(4,f,f.return);break;case 1:Gy(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(I){ls(n,r,I)}}break;case 5:Gy(f,f.return);break;case 22:if(f.memoizedState!==null){V8(d);continue}}A!==null?(A.return=f,Tr=A):V8(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=aQ("display",s))}catch(I){ls(t,t.return,I)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(I){ls(t,t.return,I)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ld(e,t),jA(t),n&4&&Q8(t);break;case 21:break;default:Ld(e,t),jA(t)}}function jA(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(T7(r)){var n=r;break e}r=r.return}throw Error(qt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ow(a,""),n.flags&=-33);var i=O8(t);qT(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=O8(t);VT(t,o,s);break;default:throw Error(qt(161))}}catch(l){ls(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mse(t,e,r){Tr=t,k7(t,e,r)}function k7(t,e,r){for(var n=(t.mode&1)!==0;Tr!==null;){var a=Tr,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||kI;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||gl;o=kI;var u=gl;if(kI=s,(gl=l)&&!u)for(Tr=a;Tr!==null;)s=Tr,l=s.child,s.tag===22&&s.memoizedState!==null?q8(a):l!==null?(l.return=s,Tr=l):q8(a);for(;i!==null;)Tr=i,k7(i,e,r),i=i.sibling;Tr=a,kI=o,gl=u}H8(t,e,r)}else(a.subtreeFlags&8772)!==0&&i!==null?(i.return=a,Tr=i):H8(t,e,r)}}function H8(t){for(;Tr!==null;){var e=Tr;if((e.flags&8772)!==0){var r=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:gl||CN(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!gl)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Pd(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&N8(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}N8(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&dw(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qt(163))}gl||e.flags&512&&HT(e)}catch(f){ls(e,e.return,f)}}if(e===t){Tr=null;break}if(r=e.sibling,r!==null){r.return=e.return,Tr=r;break}Tr=e.return}}function V8(t){for(;Tr!==null;){var e=Tr;if(e===t){Tr=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Tr=r;break}Tr=e.return}}function q8(t){for(;Tr!==null;){var e=Tr;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{CN(4,e)}catch(l){ls(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){ls(e,a,l)}}var i=e.return;try{HT(e)}catch(l){ls(e,i,l)}break;case 5:var s=e.return;try{HT(e)}catch(l){ls(e,s,l)}}}catch(l){ls(e,e.return,l)}if(e===t){Tr=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Tr=o;break}Tr=e.return}}var gse=Math.ceil,cN=ch.ReactCurrentDispatcher,BL=ch.ReactCurrentOwner,Kc=ch.ReactCurrentBatchConfig,xa=0,ko=null,Os=null,Ko=0,sc=0,Wy=_p(0),po=0,xw=null,lg=0,IN=0,_L=0,aw=null,Nu=null,EL=0,ov=1/0,th=null,dN=!1,zT=null,xp=null,FI=!1,mp=null,AN=0,iw=0,jT=null,VI=-1,qI=0;function Wl(){return(xa&6)!==0?bs():VI!==-1?VI:VI=bs()}function Cp(t){return(t.mode&1)===0?1:(xa&2)!==0&&Ko!==0?Ko&-Ko:ese.transition!==null?(qI===0&&(qI=gQ()),qI):(t=Ga,t!==0||(t=window.event,t=t===void 0?16:IQ(t.type)),t)}function Ud(t,e,r,n){if(50<iw)throw iw=0,jT=null,Error(qt(185));Cw(t,r,n),((xa&2)===0||t!==ko)&&(t===ko&&((xa&2)===0&&(IN|=r),po===4&&hp(t,Ko)),Eu(t,n),r===1&&xa===0&&(e.mode&1)===0&&(ov=bs()+500,bN&&Ep()))}function Eu(t,e){var r=t.callbackNode;rie(t,e);var n=$I(t,t===ko?Ko:0);if(n===0)r!==null&&XO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&XO(r),e===1)t.tag===0?Zie(z8.bind(null,t)):qQ(z8.bind(null,t)),$ie(function(){(xa&6)===0&&Ep()}),r=null;else{switch(yQ(n)){case 1:r=tL;break;case 4:r=pQ;break;case 16:r=WI;break;case 536870912:r=mQ;break;default:r=WI}r=H7(r,F7.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function F7(t,e){if(VI=-1,qI=0,(xa&6)!==0)throw Error(qt(327));var r=t.callbackNode;if(ev()&&t.callbackNode!==r)return null;var n=$I(t,t===ko?Ko:0);if(n===0)return null;if((n&30)!==0||(n&t.expiredLanes)!==0||e)e=fN(t,n);else{e=n;var a=xa;xa|=2;var i=U7();(ko!==t||Ko!==e)&&(th=null,ov=bs()+500,ng(t,e));do try{bse();break}catch(o){R7(t,o)}while(!0);hL(),cN.current=i,xa=a,Os!==null?e=0:(ko=null,Ko=0,e=po)}if(e!==0){if(e===2&&(a=yT(t),a!==0&&(n=a,e=KT(t,a))),e===1)throw r=xw,ng(t,0),hp(t,n),Eu(t,bs()),r;if(e===6)hp(t,n);else{if(a=t.current.alternate,(n&30)===0&&!yse(a)&&(e=fN(t,n),e===2&&(i=yT(t),i!==0&&(n=i,e=KT(t,i))),e===1))throw r=xw,ng(t,0),hp(t,n),Eu(t,bs()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(qt(345));case 2:Zm(t,Nu,th);break;case 3:if(hp(t,n),(n&130023424)===n&&(e=EL+500-bs(),10<e)){if($I(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Wl(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=ST(Zm.bind(null,t,Nu,th),e);break}Zm(t,Nu,th);break;case 4:if(hp(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-Rd(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=bs()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gse(n/1960))-n,10<n){t.timeoutHandle=ST(Zm.bind(null,t,Nu,th),n);break}Zm(t,Nu,th);break;case 5:Zm(t,Nu,th);break;default:throw Error(qt(329))}}}return Eu(t,bs()),t.callbackNode===r?F7.bind(null,t):null}function KT(t,e){var r=aw;return t.current.memoizedState.isDehydrated&&(ng(t,e).flags|=256),t=fN(t,e),t!==2&&(e=Nu,Nu=r,e!==null&&GT(e)),t}function GT(t){Nu===null?Nu=t:Nu.push.apply(Nu,t)}function yse(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Dd(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hp(t,e){for(e&=~_L,e&=~IN,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Rd(e),n=1<<r;t[r]=-1,e&=~n}}function z8(t){if((xa&6)!==0)throw Error(qt(327));ev();var e=$I(t,0);if((e&1)===0)return Eu(t,bs()),null;var r=fN(t,e);if(t.tag!==0&&r===2){var n=yT(t);n!==0&&(e=n,r=KT(t,n))}if(r===1)throw r=xw,ng(t,0),hp(t,e),Eu(t,bs()),r;if(r===6)throw Error(qt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zm(t,Nu,th),Eu(t,bs()),null}function TL(t,e){var r=xa;xa|=1;try{return t(e)}finally{xa=r,xa===0&&(ov=bs()+500,bN&&Ep())}}function ug(t){mp!==null&&mp.tag===0&&(xa&6)===0&&ev();var e=xa;xa|=1;var r=Kc.transition,n=Ga;try{if(Kc.transition=null,Ga=1,t)return t()}finally{Ga=n,Kc.transition=r,xa=e,(xa&6)===0&&Ep()}}function LL(){sc=Wy.current,Ci(Wy)}function ng(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Wie(r)),Os!==null)for(r=Os.return;r!==null;){var n=r;switch(dL(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&eN();break;case 3:iv(),Ci(Bu),Ci(yl),bL();break;case 5:vL(n);break;case 4:iv();break;case 13:Ci(ji);break;case 19:Ci(ji);break;case 10:pL(n.type._context);break;case 22:case 23:LL()}r=r.return}if(ko=t,Os=t=Ip(t.current,null),Ko=sc=e,po=0,xw=null,_L=IN=lg=0,Nu=aw=null,tg!==null){for(e=0;e<tg.length;e++)if(r=tg[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}tg=null}return t}function R7(t,e){do{var r=Os;try{if(hL(),OI.current=uN,lN){for(var n=Ki.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}lN=!1}if(og=0,Po=ho=Ki=null,rw=!1,vw=0,BL.current=null,r===null||r.return===null){po=1,xw=e,Os=null;break}e:{var i=t,s=r.return,o=r,l=e;if(e=Ko,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var A=L8(s);if(A!==null){A.flags&=-257,P8(A,s,o,i,e),A.mode&1&&T8(i,u,e),e=A,l=u;var v=e.updateQueue;if(v===null){var I=new Set;I.add(l),e.updateQueue=I}else v.add(l);break e}else{if((e&1)===0){T8(i,u,e),PL();break e}l=Error(qt(426))}}else if(Oi&&o.mode&1){var w=L8(s);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),P8(w,s,o,i,e),AL(sv(l,o));break e}}i=l=sv(l,o),po!==4&&(po=2),aw===null?aw=[i]:aw.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=y7(i,l,e);I8(i,g);break e;case 1:o=l;var b=i.type,S=i.stateNode;if((i.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(xp===null||!xp.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var F=v7(i,o,e);I8(i,F);break e}}i=i.return}while(i!==null)}M7(r)}catch(O){e=O,Os===r&&r!==null&&(Os=r=r.return);continue}break}while(!0)}function U7(){var t=cN.current;return cN.current=uN,t===null?uN:t}function PL(){(po===0||po===3||po===2)&&(po=4),ko===null||(lg&268435455)===0&&(IN&268435455)===0||hp(ko,Ko)}function fN(t,e){var r=xa;xa|=2;var n=U7();(ko!==t||Ko!==e)&&(th=null,ng(t,e));do try{vse();break}catch(a){R7(t,a)}while(!0);if(hL(),xa=r,cN.current=n,Os!==null)throw Error(qt(261));return ko=null,Ko=0,po}function vse(){for(;Os!==null;)D7(Os)}function bse(){for(;Os!==null&&!Gae();)D7(Os)}function D7(t){var e=Q7(t.alternate,t,sc);t.memoizedProps=t.pendingProps,e===null?M7(t):Os=e,BL.current=null}function M7(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&32768)===0){if(r=Ase(r,e,sc),r!==null){Os=r;return}}else{if(r=fse(r,e),r!==null){r.flags&=32767,Os=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{po=6,Os=null;return}}if(e=e.sibling,e!==null){Os=e;return}Os=e=t}while(e!==null);po===0&&(po=5)}function Zm(t,e,r){var n=Ga,a=Kc.transition;try{Kc.transition=null,Ga=1,wse(t,e,r,n)}finally{Kc.transition=a,Ga=n}return null}function wse(t,e,r,n){do ev();while(mp!==null);if((xa&6)!==0)throw Error(qt(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(qt(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(nie(t,i),t===ko&&(Os=ko=null,Ko=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||FI||(FI=!0,H7(WI,function(){return ev(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=Kc.transition,Kc.transition=null;var s=Ga;Ga=1;var o=xa;xa|=4,BL.current=null,pse(t,r),P7(r,t),qie(IT),YI=!!CT,IT=CT=null,t.current=r,mse(r,t,a),Wae(),xa=o,Ga=s,Kc.transition=i}else t.current=r;if(FI&&(FI=!1,mp=t,AN=a),i=t.pendingLanes,i===0&&(xp=null),Xae(r.stateNode,n),Eu(t,bs()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(dN)throw dN=!1,t=zT,zT=null,t;return(AN&1)!==0&&t.tag!==0&&ev(),i=t.pendingLanes,(i&1)!==0?t===jT?iw++:(iw=0,jT=t):iw=0,Ep(),null}function ev(){if(mp!==null){var t=yQ(AN),e=Kc.transition,r=Ga;try{if(Kc.transition=null,Ga=16>t?16:t,mp===null)var n=!1;else{if(t=mp,mp=null,AN=0,(xa&6)!==0)throw Error(qt(331));var a=xa;for(xa|=4,Tr=t.current;Tr!==null;){var i=Tr,s=i.child;if((Tr.flags&16)!==0){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Tr=u;Tr!==null;){var c=Tr;switch(c.tag){case 0:case 11:case 15:nw(8,c,i)}var d=c.child;if(d!==null)d.return=c,Tr=d;else for(;Tr!==null;){c=Tr;var f=c.sibling,A=c.return;if(E7(c),c===u){Tr=null;break}if(f!==null){f.return=A,Tr=f;break}Tr=A}}}var v=i.alternate;if(v!==null){var I=v.child;if(I!==null){v.child=null;do{var w=I.sibling;I.sibling=null,I=w}while(I!==null)}}Tr=i}}if((i.subtreeFlags&2064)!==0&&s!==null)s.return=i,Tr=s;else e:for(;Tr!==null;){if(i=Tr,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:nw(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Tr=g;break e}Tr=i.return}}var b=t.current;for(Tr=b;Tr!==null;){s=Tr;var S=s.child;if((s.subtreeFlags&2064)!==0&&S!==null)S.return=s,Tr=S;else e:for(s=b;Tr!==null;){if(o=Tr,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:CN(9,o)}}catch(O){ls(o,o.return,O)}if(o===s){Tr=null;break e}var F=o.sibling;if(F!==null){F.return=o.return,Tr=F;break e}Tr=o.return}}if(xa=a,Ep(),WA&&typeof WA.onPostCommitFiberRoot=="function")try{WA.onPostCommitFiberRoot(pN,t)}catch{}n=!0}return n}finally{Ga=r,Kc.transition=e}}return!1}function j8(t,e,r){e=sv(r,e),e=y7(t,e,1),t=wp(t,e,1),e=Wl(),t!==null&&(Cw(t,1,e),Eu(t,e))}function ls(t,e,r){if(t.tag===3)j8(t,t,r);else for(;e!==null;){if(e.tag===3){j8(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xp===null||!xp.has(n))){t=sv(r,t),t=v7(e,t,1),e=wp(e,t,1),t=Wl(),e!==null&&(Cw(e,1,t),Eu(e,t));break}}e=e.return}}function xse(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Wl(),t.pingedLanes|=t.suspendedLanes&r,ko===t&&(Ko&r)===r&&(po===4||po===3&&(Ko&130023424)===Ko&&500>bs()-EL?ng(t,0):_L|=r),Eu(t,e)}function O7(t,e){e===0&&((t.mode&1)===0?e=1:(e=bI,bI<<=1,(bI&130023424)===0&&(bI=4194304)));var r=Wl();t=lh(t,e),t!==null&&(Cw(t,e,r),Eu(t,r))}function Cse(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),O7(t,r)}function Ise(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(qt(314))}n!==null&&n.delete(e),O7(t,r)}var Q7;Q7=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bu.current)Su=!0;else{if((t.lanes&r)===0&&(e.flags&128)===0)return Su=!1,dse(t,e,r);Su=(t.flags&131072)!==0}else Su=!1,Oi&&(e.flags&1048576)!==0&&zQ(e,nN,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;HI(t,e),t=e.pendingProps;var a=rv(e,yl.current);Zy(e,r),a=xL(null,e,n,t,a,r);var i=CL();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_u(n)?(i=!0,tN(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,gL(e),a.updater=xN,e.stateNode=a,a._reactInternals=e,kT(e,n,t,r),e=UT(null,e,n,!0,i,r)):(e.tag=0,Oi&&i&&cL(e),Gl(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(HI(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=Sse(n),t=Pd(n,t),a){case 0:e=RT(null,e,n,t,r);break e;case 1:e=R8(null,e,n,t,r);break e;case 11:e=k8(null,e,n,t,r);break e;case 14:e=F8(null,e,n,Pd(n.type,t),r);break e}throw Error(qt(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Pd(n,a),RT(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Pd(n,a),R8(t,e,n,a,r);case 3:e:{if(C7(e),t===null)throw Error(qt(387));n=e.pendingProps,i=e.memoizedState,a=i.element,YQ(t,e),sN(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=sv(Error(qt(423)),e),e=U8(t,e,n,r,a);break e}else if(n!==a){a=sv(Error(qt(424)),e),e=U8(t,e,n,r,a);break e}else for(oc=bp(e.stateNode.containerInfo.firstChild),lc=e,Oi=!0,Fd=null,r=WQ(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nv(),n===a){e=uh(t,e,r);break e}Gl(t,e,n,r)}e=e.child}return e;case 5:return XQ(e),t===null&&TT(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,NT(n,a)?s=null:i!==null&&NT(n,i)&&(e.flags|=32),x7(t,e),Gl(t,e,s,r),e.child;case 6:return t===null&&TT(e),null;case 13:return I7(t,e,r);case 4:return yL(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=av(e,null,n,r):Gl(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Pd(n,a),k8(t,e,n,a,r);case 7:return Gl(t,e,e.pendingProps,r),e.child;case 8:return Gl(t,e,e.pendingProps.children,r),e.child;case 12:return Gl(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,mi(aN,n._currentValue),n._currentValue=s,i!==null)if(Dd(i.value,s)){if(i.children===a.children&&!Bu.current){e=uh(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ih(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),LT(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(qt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),LT(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Gl(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Zy(e,r),a=Gc(a),n=n(a),e.flags|=1,Gl(t,e,n,r),e.child;case 14:return n=e.type,a=Pd(n,e.pendingProps),a=Pd(n.type,a),F8(t,e,n,a,r);case 15:return b7(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Pd(n,a),HI(t,e),e.tag=1,_u(n)?(t=!0,tN(e)):t=!1,Zy(e,r),g7(e,n,a),kT(e,n,a,r),UT(null,e,n,!0,t,r);case 19:return N7(t,e,r);case 22:return w7(t,e,r)}throw Error(qt(156,e.tag))};function H7(t,e){return hQ(t,e)}function Nse(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(t,e,r,n){return new Nse(t,e,r,n)}function kL(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sse(t){if(typeof t=="function")return kL(t)?1:0;if(t!=null){if(t=t.$$typeof,t===JT)return 11;if(t===ZT)return 14}return 2}function Ip(t,e){var r=t.alternate;return r===null?(r=jc(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function zI(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")kL(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case My:return ag(r.children,a,i,e);case XT:s=8,a|=8;break;case nT:return t=jc(12,r,e,a|2),t.elementType=nT,t.lanes=i,t;case aT:return t=jc(13,r,e,a),t.elementType=aT,t.lanes=i,t;case iT:return t=jc(19,r,e,a),t.elementType=iT,t.lanes=i,t;case X8:return NN(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $8:s=10;break e;case Y8:s=9;break e;case JT:s=11;break e;case ZT:s=14;break e;case dp:s=16,n=null;break e}throw Error(qt(130,t==null?t:typeof t,""))}return e=jc(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function ag(t,e,r,n){return t=jc(7,t,n,e),t.lanes=r,t}function NN(t,e,r,n){return t=jc(22,t,n,e),t.elementType=X8,t.lanes=r,t.stateNode={isHidden:!1},t}function eT(t,e,r){return t=jc(6,t,null,e),t.lanes=r,t}function tT(t,e,r){return e=jc(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bse(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M4(0),this.expirationTimes=M4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M4(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function FL(t,e,r,n,a,i,s,o,l){return t=new Bse(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jc(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gL(i),t}function _se(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dy,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function V7(t){if(!t)return Sp;t=t._reactInternals;e:{if(dg(t)!==t||t.tag!==1)throw Error(qt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_u(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qt(171))}if(t.tag===1){var r=t.type;if(_u(r))return VQ(t,r,e)}return e}function q7(t,e,r,n,a,i,s,o,l){return t=FL(r,n,!0,t,a,i,s,o,l),t.context=V7(null),r=t.current,n=Wl(),a=Cp(r),i=ih(n,a),i.callback=e??null,wp(r,i,a),t.current.lanes=a,Cw(t,a,n),Eu(t,n),t}function SN(t,e,r,n){var a=e.current,i=Wl(),s=Cp(a);return r=V7(r),e.context===null?e.context=r:e.pendingContext=r,e=ih(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=wp(a,e,s),t!==null&&(Ud(t,a,s,i),MI(t,a,s)),s}function hN(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K8(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function RL(t,e){K8(t,e),(t=t.alternate)&&K8(t,e)}function Ese(){return null}var z7=typeof reportError=="function"?reportError:function(t){console.error(t)};function UL(t){this._internalRoot=t}BN.prototype.render=UL.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(qt(409));SN(t,e,null,null)};BN.prototype.unmount=UL.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ug(function(){SN(null,t,null,null)}),e[oh]=null}};function BN(t){this._internalRoot=t}BN.prototype.unstable_scheduleHydration=function(t){if(t){var e=wQ();t={blockedOn:null,target:t,priority:e};for(var r=0;r<fp.length&&e!==0&&e<fp[r].priority;r++);fp.splice(r,0,t),r===0&&CQ(t)}};function DL(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _N(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function G8(){}function Tse(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=hN(s);i.call(u)}}var s=q7(e,n,t,0,null,!1,!1,"",G8);return t._reactRootContainer=s,t[oh]=s.current,hw(t.nodeType===8?t.parentNode:t),ug(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=hN(l);o.call(u)}}var l=FL(t,0,!1,null,null,!1,!1,"",G8);return t._reactRootContainer=l,t[oh]=l.current,hw(t.nodeType===8?t.parentNode:t),ug(function(){SN(e,l,r,n)}),l}function EN(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=hN(s);o.call(l)}}SN(e,s,t,a)}else s=Tse(r,e,t,a,n);return hN(s)}vQ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=$b(e.pendingLanes);r!==0&&(rL(e,r|1),Eu(e,bs()),(xa&6)===0&&(ov=bs()+500,Ep()))}break;case 13:ug(function(){var n=lh(t,1);if(n!==null){var a=Wl();Ud(n,t,1,a)}}),RL(t,1)}};nL=function(t){if(t.tag===13){var e=lh(t,134217728);if(e!==null){var r=Wl();Ud(e,t,134217728,r)}RL(t,134217728)}};bQ=function(t){if(t.tag===13){var e=Cp(t),r=lh(t,e);if(r!==null){var n=Wl();Ud(r,t,e,n)}RL(t,e)}};wQ=function(){return Ga};xQ=function(t,e){var r=Ga;try{return Ga=t,e()}finally{Ga=r}};pT=function(t,e,r){switch(e){case"input":if(lT(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=vN(n);if(!a)throw Error(qt(90));Z8(n),lT(n,a)}}}break;case"textarea":tQ(t,r);break;case"select":e=r.value,e!=null&&$y(t,!!r.multiple,e,!1)}};lQ=TL;uQ=ug;var Lse={usingClientEntryPoint:!1,Events:[Nw,Vy,vN,sQ,oQ,TL]},jb={findFiberByHostInstance:eg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pse={bundleType:jb.bundleType,version:jb.version,rendererPackageName:jb.rendererPackageName,rendererConfig:jb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ch.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AQ(t),t===null?null:t.stateNode},findFiberByHostInstance:jb.findFiberByHostInstance||Ese,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Kb=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Kb.isDisabled&&Kb.supportsFiber))try{pN=Kb.inject(Pse),WA=Kb}catch{}var Kb;dc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lse;dc.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DL(e))throw Error(qt(200));return _se(t,e,null,r)};dc.createRoot=function(t,e){if(!DL(t))throw Error(qt(299));var r=!1,n="",a=z7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=FL(t,1,!1,null,null,r,!1,n,a),t[oh]=e.current,hw(t.nodeType===8?t.parentNode:t),new UL(e)};dc.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(qt(188)):(t=Object.keys(t).join(","),Error(qt(268,t)));return t=AQ(e),t=t===null?null:t.stateNode,t};dc.flushSync=function(t){return ug(t)};dc.hydrate=function(t,e,r){if(!_N(e))throw Error(qt(200));return EN(null,t,e,!0,r)};dc.hydrateRoot=function(t,e,r){if(!DL(t))throw Error(qt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=z7;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=q7(e,null,t,1,r??null,a,!1,i,s),t[oh]=e.current,hw(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new BN(e)};dc.render=function(t,e,r){if(!_N(e))throw Error(qt(200));return EN(null,t,e,!1,r)};dc.unmountComponentAtNode=function(t){if(!_N(t))throw Error(qt(40));return t._reactRootContainer?(ug(function(){EN(null,null,t,!1,function(){t._reactRootContainer=null,t[oh]=null})}),!0):!1};dc.unstable_batchedUpdates=TL;dc.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!_N(r))throw Error(qt(200));if(t==null||t._reactInternals===void 0)throw Error(qt(38));return EN(t,e,r,!1,n)};dc.version="18.3.1-next-f1338f8080-20240426"});var W7=Ge((xSe,G7)=>{"use strict";function K7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K7)}catch(t){console.error(t)}}K7(),G7.exports=j7()});var Y7=Ge(ML=>{"use strict";var $7=W7();ML.createRoot=$7.createRoot,ML.hydrateRoot=$7.hydrateRoot;var CSe});var oK=Ge(rB=>{"use strict";var The=$t(),Lhe=Symbol.for("react.element"),Phe=Symbol.for("react.fragment"),khe=Object.prototype.hasOwnProperty,Fhe=The.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rhe={key:!0,ref:!0,__self:!0,__source:!0};function sK(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)khe.call(e,n)&&!Rhe.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:Lhe,type:t,key:i,ref:s,props:a,_owner:Fhe.current}}rB.Fragment=Phe;rB.jsx=sK;rB.jsxs=sK});var _e=Ge((wke,lK)=>{"use strict";lK.exports=oK()});function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}var fB=Ed(()=>{});function gB(t,e){e===void 0&&(e={});var r=Npe();r.p(t);var n=Spe(t,e,2,4);return _pe(n,e),Bpe(n,n.length-4,r.d()),n}function KK(t,e){return wpe((Epe(t),t.subarray(2,-4)),e)}var iu,su,c2,pB,mB,NU,HK,VK,qK,SU,zK,mpe,MK,BU,kh,Da,Nf,pm,Da,Da,Da,Da,d2,Da,gpe,ype,vpe,bpe,xU,cA,CU,EU,jK,wpe,Fh,l2,IU,_U,OK,u2,hB,QK,xpe,Cpe,Ipe,Npe,Spe,Bpe,_pe,Epe,GK=Ed(()=>{iu=Uint8Array,su=Uint16Array,c2=Uint32Array,pB=new iu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mB=new iu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),NU=new iu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HK=function(t,e){for(var r=new su(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new c2(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return[r,a]},VK=HK(pB,2),qK=VK[0],SU=VK[1];qK[28]=258,SU[258]=28;zK=HK(mB,0),mpe=zK[0],MK=zK[1],BU=new su(32768);for(Da=0;Da<32768;++Da)kh=(Da&43690)>>>1|(Da&21845)<<1,kh=(kh&52428)>>>2|(kh&13107)<<2,kh=(kh&61680)>>>4|(kh&3855)<<4,BU[Da]=((kh&65280)>>>8|(kh&255)<<8)>>>1;Nf=(function(t,e,r){for(var n=t.length,a=0,i=new su(e);a<n;++a)++i[t[a]-1];var s=new su(e);for(a=0;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new su(1<<e);var l=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],c=e-t[a],d=s[t[a]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)o[BU[d]>>>l]=u}else for(o=new su(n),a=0;a<n;++a)o[a]=BU[s[t[a]-1]++]>>>15-t[a];return o}),pm=new iu(288);for(Da=0;Da<144;++Da)pm[Da]=8;for(Da=144;Da<256;++Da)pm[Da]=9;for(Da=256;Da<280;++Da)pm[Da]=7;for(Da=280;Da<288;++Da)pm[Da]=8;d2=new iu(32);for(Da=0;Da<32;++Da)d2[Da]=5;gpe=Nf(pm,9,0),ype=Nf(pm,9,1),vpe=Nf(d2,5,0),bpe=Nf(d2,5,1),xU=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},cA=function(t,e,r){var n=e/8>>0;return(t[n]|t[n+1]<<8)>>>(e&7)&r},CU=function(t,e){var r=e/8>>0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>>(e&7)},EU=function(t){return(t/8>>0)+(t&7&&1)},jK=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var n=new(t instanceof su?su:t instanceof c2?c2:iu)(r-e);return n.set(t.subarray(e,r)),n},wpe=function(t,e,r){var n=t.length,a=!e||r,i=!r||r.i;r||(r={}),e||(e=new iu(n*3));var s=function(be){var ge=e.length;if(be>ge){var Ne=new iu(Math.max(ge*2,be));Ne.set(e),e=Ne}},o=r.f||0,l=r.p||0,u=r.b||0,c=r.l,d=r.d,f=r.m,A=r.n,v=n*8;do{if(!c){r.f=o=cA(t,l,1);var I=cA(t,l+1,3);if(l+=3,I)if(I==1)c=ype,d=bpe,f=9,A=5;else if(I==2){var S=cA(t,l,31)+257,F=cA(t,l+10,15)+4,O=S+cA(t,l+5,31)+1;l+=14;for(var R=new iu(O),T=new iu(19),B=0;B<F;++B)T[NU[B]]=cA(t,l+B*3,7);l+=F*3;var k=xU(T),U=(1<<k)-1;if(!i&&l+O*(k+7)>v)break;for(var E=Nf(T,k,1),B=0;B<O;){var _=E[cA(t,l,U)];l+=_&15;var w=_>>>4;if(w<16)R[B++]=w;else{var L=0,D=0;for(w==16?(D=3+cA(t,l,3),l+=2,L=R[B-1]):w==17?(D=3+cA(t,l,7),l+=3):w==18&&(D=11+cA(t,l,127),l+=7);D--;)R[B++]=L}}var z=R.subarray(0,S),ee=R.subarray(S);f=xU(z),A=xU(ee),c=Nf(z,f,1),d=Nf(ee,A,1)}else throw"invalid block type";else{var w=EU(l)+4,g=t[w-4]|t[w-3]<<8,b=w+g;if(b>n){if(i)throw"unexpected EOF";break}a&&s(u+g),e.set(t.subarray(w,b),u),r.b=u+=g,r.p=l=b*8;continue}if(l>v)throw"unexpected EOF"}a&&s(u+131072);for(var Y=(1<<f)-1,$=(1<<A)-1,j=f+A+18;i||l+j<v;){var L=c[CU(t,l)&Y],K=L>>>4;if(l+=L&15,l>v)throw"unexpected EOF";if(!L)throw"invalid length/literal";if(K<256)e[u++]=K;else if(K==256){c=null;break}else{var oe=K-254;if(K>264){var B=K-257,q=pB[B];oe=cA(t,l,(1<<q)-1)+qK[B],l+=q}var X=d[CU(t,l)&$],te=X>>>4;if(!X)throw"invalid distance";l+=X&15;var ee=mpe[te];if(te>3){var q=mB[te];ee+=CU(t,l)&(1<<q)-1,l+=q}if(l>v)throw"unexpected EOF";a&&s(u+131072);for(var ue=u+oe;u<ue;u+=4)e[u]=e[u-ee],e[u+1]=e[u+1-ee],e[u+2]=e[u+2-ee],e[u+3]=e[u+3-ee];u=ue}}r.l=c,r.p=l,r.b=u,c&&(o=1,r.m=f,r.d=d,r.n=A)}while(!o);return u==e.length?e:jK(e,0,u)},Fh=function(t,e,r){r<<=e&7;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8},l2=function(t,e,r){r<<=e&7;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},IU=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return[new iu(0),0];if(a==1){var s=new iu(r[0].s+1);return s[r[0].s]=1,[s,1]}r.sort(function(O,R){return O.f-R.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=a-1;)o=r[r[u].f<r[d].f?u++:d++],l=r[u!=c&&r[u].f<r[d].f?u++:d++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=i[0].s,n=1;n<a;++n)i[n].s>f&&(f=i[n].s);var A=new su(f+1),v=_U(r[c-1],A,0);if(v>e){var n=0,I=0,w=v-e,g=1<<w;for(i.sort(function(R,T){return A[T.s]-A[R.s]||R.f-T.f});n<a;++n){var b=i[n].s;if(A[b]>e)I+=g-(1<<v-A[b]),A[b]=e;else break}for(I>>>=w;I>0;){var S=i[n].s;A[S]<e?I-=1<<e-A[S]++-1:++n}for(;n>=0&&I;--n){var F=i[n].s;A[F]==e&&(--A[F],++I)}v=e}return[new iu(A),v]},_U=function(t,e,r){return t.s==-1?Math.max(_U(t.l,e,r+1),_U(t.r,e,r+1)):e[t.s]=r},OK=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new su(++e),n=0,a=t[0],i=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==a&&o!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[o]}return[r.subarray(0,n),e]},u2=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},hB=function(t,e,r){var n=r.length,a=EU(e+2);t[a]=n&255,t[a+1]=n>>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},QK=function(t,e,r,n,a,i,s,o,l,u,c){Fh(e,c++,r),++a[256];for(var d=IU(a,15),f=d[0],A=d[1],v=IU(i,15),I=v[0],w=v[1],g=OK(f),b=g[0],S=g[1],F=OK(I),O=F[0],R=F[1],T=new su(19),B=0;B<b.length;++B)T[b[B]&31]++;for(var B=0;B<O.length;++B)T[O[B]&31]++;for(var k=IU(T,7),U=k[0],E=k[1],_=19;_>4&&!U[NU[_-1]];--_);var L=u+5<<3,D=u2(a,pm)+u2(i,d2)+s,z=u2(a,f)+u2(i,I)+s+14+3*_+u2(T,U)+(2*T[16]+3*T[17]+7*T[18]);if(L<=D&&L<=z)return hB(e,c,t.subarray(l,l+u));var ee,Y,$,j;if(Fh(e,c,1+(z<D)),c+=2,z<D){ee=Nf(f,A,0),Y=f,$=Nf(I,w,0),j=I;var K=Nf(U,E,0);Fh(e,c,S-257),Fh(e,c+5,R-1),Fh(e,c+10,_-4),c+=14;for(var B=0;B<_;++B)Fh(e,c+3*B,U[NU[B]]);c+=3*_;for(var oe=[b,O],q=0;q<2;++q)for(var X=oe[q],B=0;B<X.length;++B){var te=X[B]&31;Fh(e,c,K[te]),c+=U[te],te>15&&(Fh(e,c,X[B]>>>5&127),c+=X[B]>>>12)}}else ee=gpe,Y=pm,$=vpe,j=d2;for(var B=0;B<o;++B)if(n[B]>255){var te=n[B]>>>18&31;l2(e,c,ee[te+257]),c+=Y[te+257],te>7&&(Fh(e,c,n[B]>>>23&31),c+=pB[te]);var ue=n[B]&31;l2(e,c,$[ue]),c+=j[ue],ue>3&&(l2(e,c,n[B]>>>5&8191),c+=mB[ue])}else l2(e,c,ee[n[B]]),c+=Y[n[B]];return l2(e,c,ee[256]),c+Y[256]},xpe=new c2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Cpe=new iu(0),Ipe=function(t,e,r,n,a,i){var s=t.length,o=new iu(n+s+5*(1+Math.floor(s/7e3))+a),l=o.subarray(n,o.length-a),u=0;if(!e||s<8)for(var c=0;c<=s;c+=65535){var d=c+65535;d<s?u=hB(l,u,t.subarray(c,d)):(l[c]=i,u=hB(l,u,t.subarray(c,s)))}else{for(var f=xpe[e-1],A=f>>>13,v=f&8191,I=(1<<r)-1,w=new su(32768),g=new su(I+1),b=Math.ceil(r/3),S=2*b,F=function(wt){return(t[wt]^t[wt+1]<<b^t[wt+2]<<S)&I},O=new c2(25e3),R=new su(288),T=new su(32),B=0,k=0,c=0,U=0,E=0,_=0;c<s;++c){var L=F(c),D=c&32767,z=g[L];if(w[D]=z,g[L]=D,E<=c){var ee=s-c;if((B>7e3||U>24576)&&ee>423){u=QK(t,l,0,O,R,T,k,U,_,c-_,u),U=B=k=0,_=c;for(var Y=0;Y<286;++Y)R[Y]=0;for(var Y=0;Y<30;++Y)T[Y]=0}var $=2,j=0,K=v,oe=D-z&32767;if(ee>2&&L==F(c-oe))for(var q=Math.min(A,ee)-1,X=Math.min(32767,c),te=Math.min(258,ee);oe<=X&&--K&&D!=z;){if(t[c+$]==t[c+$-oe]){for(var ue=0;ue<te&&t[c+ue]==t[c+ue-oe];++ue);if(ue>$){if($=ue,j=oe,ue>q)break;for(var be=Math.min(oe,ue-2),ge=0,Y=0;Y<be;++Y){var Ne=c-oe+Y+32768&32767,Le=w[Ne],Ie=Ne-Le+32768&32767;Ie>ge&&(ge=Ie,z=Ne)}}}D=z,z=w[D],oe+=D-z+32768&32767}if(j){O[U++]=268435456|SU[$]<<18|MK[j];var de=SU[$]&31,xe=MK[j]&31;k+=pB[de]+mB[xe],++R[257+de],++T[xe],E=c+$,++B}else O[U++]=t[c],++R[t[c]]}}u=QK(t,l,i,O,R,T,k,U,_,c-_,u),i||(u=hB(l,u,Cpe))}return jK(o,0,n+EU(u)+a)},Npe=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length,s=0;s!=i;){for(var o=Math.min(s+5552,i);s<o;++s)n+=r[s],a+=n;n%=65521,a%=65521}t=n,e=a},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},Spe=function(t,e,r,n,a){return Ipe(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,r,n,!a)},Bpe=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},_pe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;t[0]=120,t[1]=n<<6|(n?32-2*n:1)},Epe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"}});var WK=Ge((TU,LU)=>{(function(t,e){typeof TU=="object"&&typeof LU<"u"?LU.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.html2canvas=e())})(TU,(function(){"use strict";var t=function(y,p){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,x){C.__proto__=x}||function(C,x){for(var H in x)Object.prototype.hasOwnProperty.call(x,H)&&(C[H]=x[H])},t(y,p)};function e(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");t(y,p);function C(){this.constructor=y}y.prototype=p===null?Object.create(p):(C.prototype=p.prototype,new C)}var r=function(){return r=Object.assign||function(p){for(var C,x=1,H=arguments.length;x<H;x++){C=arguments[x];for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&(p[W]=C[W])}return p},r.apply(this,arguments)};function n(y,p,C,x){function H(W){return W instanceof C?W:new C(function(ne){ne(W)})}return new(C||(C=Promise))(function(W,ne){function he(He){try{Fe(x.next(He))}catch(We){ne(We)}}function fe(He){try{Fe(x.throw(He))}catch(We){ne(We)}}function Fe(He){He.done?W(He.value):H(He.value).then(he,fe)}Fe((x=x.apply(y,p||[])).next())})}function a(y,p){var C={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},x,H,W,ne;return ne={next:he(0),throw:he(1),return:he(2)},typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function he(Fe){return function(He){return fe([Fe,He])}}function fe(Fe){if(x)throw new TypeError("Generator is already executing.");for(;C;)try{if(x=1,H&&(W=Fe[0]&2?H.return:Fe[0]?H.throw||((W=H.return)&&W.call(H),0):H.next)&&!(W=W.call(H,Fe[1])).done)return W;switch(H=0,W&&(Fe=[Fe[0]&2,W.value]),Fe[0]){case 0:case 1:W=Fe;break;case 4:return C.label++,{value:Fe[1],done:!1};case 5:C.label++,H=Fe[1],Fe=[0];continue;case 7:Fe=C.ops.pop(),C.trys.pop();continue;default:if(W=C.trys,!(W=W.length>0&&W[W.length-1])&&(Fe[0]===6||Fe[0]===2)){C=0;continue}if(Fe[0]===3&&(!W||Fe[1]>W[0]&&Fe[1]<W[3])){C.label=Fe[1];break}if(Fe[0]===6&&C.label<W[1]){C.label=W[1],W=Fe;break}if(W&&C.label<W[2]){C.label=W[2],C.ops.push(Fe);break}W[2]&&C.ops.pop(),C.trys.pop();continue}Fe=p.call(y,C)}catch(He){Fe=[6,He],H=0}finally{x=W=0}if(Fe[0]&5)throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}}function i(y,p,C){if(C||arguments.length===2)for(var x=0,H=p.length,W;x<H;x++)(W||!(x in p))&&(W||(W=Array.prototype.slice.call(p,0,x)),W[x]=p[x]);return y.concat(W||p)}for(var s=(function(){function y(p,C,x,H){this.left=p,this.top=C,this.width=x,this.height=H}return y.prototype.add=function(p,C,x,H){return new y(this.left+p,this.top+C,this.width+x,this.height+H)},y.fromClientRect=function(p,C){return new y(C.left+p.windowBounds.left,C.top+p.windowBounds.top,C.width,C.height)},y.fromDOMRectList=function(p,C){var x=Array.from(C).find(function(H){return H.width!==0});return x?new y(x.left+p.windowBounds.left,x.top+p.windowBounds.top,x.width,x.height):y.EMPTY},y.EMPTY=new y(0,0,0,0),y})(),o=function(y,p){return s.fromClientRect(y,p.getBoundingClientRect())},l=function(y){var p=y.body,C=y.documentElement;if(!p||!C)throw new Error("Unable to get document size");var x=Math.max(Math.max(p.scrollWidth,C.scrollWidth),Math.max(p.offsetWidth,C.offsetWidth),Math.max(p.clientWidth,C.clientWidth)),H=Math.max(Math.max(p.scrollHeight,C.scrollHeight),Math.max(p.offsetHeight,C.offsetHeight),Math.max(p.clientHeight,C.clientHeight));return new s(0,0,x,H)},u=function(y){for(var p=[],C=0,x=y.length;C<x;){var H=y.charCodeAt(C++);if(H>=55296&&H<=56319&&C<x){var W=y.charCodeAt(C++);(W&64512)===56320?p.push(((H&1023)<<10)+(W&1023)+65536):(p.push(H),C--)}else p.push(H)}return p},c=function(){for(var y=[],p=0;p<arguments.length;p++)y[p]=arguments[p];if(String.fromCodePoint)return String.fromCodePoint.apply(String,y);var C=y.length;if(!C)return"";for(var x=[],H=-1,W="";++H<C;){var ne=y[H];ne<=65535?x.push(ne):(ne-=65536,x.push((ne>>10)+55296,ne%1024+56320)),(H+1===C||x.length>16384)&&(W+=String.fromCharCode.apply(String,x),x.length=0)}return W},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=typeof Uint8Array>"u"?[]:new Uint8Array(256),A=0;A<d.length;A++)f[d.charCodeAt(A)]=A;for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=typeof Uint8Array>"u"?[]:new Uint8Array(256),w=0;w<v.length;w++)I[v.charCodeAt(w)]=w;for(var g=function(y){var p=y.length*.75,C=y.length,x,H=0,W,ne,he,fe;y[y.length-1]==="="&&(p--,y[y.length-2]==="="&&p--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(p):new Array(p),He=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(x=0;x<C;x+=4)W=I[y.charCodeAt(x)],ne=I[y.charCodeAt(x+1)],he=I[y.charCodeAt(x+2)],fe=I[y.charCodeAt(x+3)],He[H++]=W<<2|ne>>4,He[H++]=(ne&15)<<4|he>>2,He[H++]=(he&3)<<6|fe&63;return Fe},b=function(y){for(var p=y.length,C=[],x=0;x<p;x+=2)C.push(y[x+1]<<8|y[x]);return C},S=function(y){for(var p=y.length,C=[],x=0;x<p;x+=4)C.push(y[x+3]<<24|y[x+2]<<16|y[x+1]<<8|y[x]);return C},F=5,O=11,R=2,T=O-F,B=65536>>F,k=1<<F,U=k-1,E=1024>>F,_=B+E,L=_,D=32,z=L+D,ee=65536>>O,Y=1<<T,$=Y-1,j=function(y,p,C){return y.slice?y.slice(p,C):new Uint16Array(Array.prototype.slice.call(y,p,C))},K=function(y,p,C){return y.slice?y.slice(p,C):new Uint32Array(Array.prototype.slice.call(y,p,C))},oe=function(y,p){var C=g(y),x=Array.isArray(C)?S(C):new Uint32Array(C),H=Array.isArray(C)?b(C):new Uint16Array(C),W=24,ne=j(H,W/2,x[4]/2),he=x[5]===2?j(H,(W+x[4])/2):K(x,Math.ceil((W+x[4])/4));return new q(x[0],x[1],x[2],x[3],ne,he)},q=(function(){function y(p,C,x,H,W,ne){this.initialValue=p,this.errorValue=C,this.highStart=x,this.highValueIndex=H,this.index=W,this.data=ne}return y.prototype.get=function(p){var C;if(p>=0){if(p<55296||p>56319&&p<=65535)return C=this.index[p>>F],C=(C<<R)+(p&U),this.data[C];if(p<=65535)return C=this.index[B+(p-55296>>F)],C=(C<<R)+(p&U),this.data[C];if(p<this.highStart)return C=z-ee+(p>>O),C=this.index[C],C+=p>>F&$,C=this.index[C],C=(C<<R)+(p&U),this.data[C];if(p<=1114111)return this.data[this.highValueIndex]}return this.errorValue},y})(),X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te=typeof Uint8Array>"u"?[]:new Uint8Array(256),ue=0;ue<X.length;ue++)te[X.charCodeAt(ue)]=ue;var be="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ge=50,Ne=1,Le=2,Ie=3,de=4,xe=5,qe=7,wt=8,Re=9,Ae=10,Kt=11,zt=12,pt=13,Oe=14,me=15,Ue=16,it=17,At=18,ct=19,Tt=20,Ot=21,vr=22,rr=23,Er=24,Nt=25,gn=26,dt=27,Wt=28,Qe=29,tt=30,rt=31,Ct=32,Nr=33,nr=34,jr=35,Zt=36,en=37,Yt=38,Sr=39,Qr=40,Yr=41,yn=42,ra=43,fr=[9001,65288],Kr="!",xr="\xD7",fn="\xF7",Jr=oe(be),ln=[tt,Zt],ma=[Ne,Le,Ie,xe],Ia=[Ae,wt],ri=[dt,gn],Pi=ma.concat(Ia),na=[Yt,Sr,Qr,nr,jr],ki=[me,pt],ps=function(y,p){p===void 0&&(p="strict");var C=[],x=[],H=[];return y.forEach(function(W,ne){var he=Jr.get(W);if(he>ge?(H.push(!0),he-=ge):H.push(!1),["normal","auto","loose"].indexOf(p)!==-1&&[8208,8211,12316,12448].indexOf(W)!==-1)return x.push(ne),C.push(Ue);if(he===de||he===Kt){if(ne===0)return x.push(ne),C.push(tt);var fe=C[ne-1];return Pi.indexOf(fe)===-1?(x.push(x[ne-1]),C.push(fe)):(x.push(ne),C.push(tt))}if(x.push(ne),he===rt)return C.push(p==="strict"?Ot:en);if(he===yn||he===Qe)return C.push(tt);if(he===ra)return W>=131072&&W<=196605||W>=196608&&W<=262141?C.push(en):C.push(tt);C.push(he)}),[x,C,H]},ni=function(y,p,C,x){var H=x[C];if(Array.isArray(y)?y.indexOf(H)!==-1:y===H)for(var W=C;W<=x.length;){W++;var ne=x[W];if(ne===p)return!0;if(ne!==Ae)break}if(H===Ae)for(var W=C;W>0;){W--;var he=x[W];if(Array.isArray(y)?y.indexOf(he)!==-1:y===he)for(var fe=C;fe<=x.length;){fe++;var ne=x[fe];if(ne===p)return!0;if(ne!==Ae)break}if(he!==Ae)break}return!1},za=function(y,p){for(var C=y;C>=0;){var x=p[C];if(x===Ae)C--;else return x}return 0},Do=function(y,p,C,x,H){if(C[x]===0)return xr;var W=x-1;if(Array.isArray(H)&&H[W]===!0)return xr;var ne=W-1,he=W+1,fe=p[W],Fe=ne>=0?p[ne]:0,He=p[he];if(fe===Le&&He===Ie)return xr;if(ma.indexOf(fe)!==-1)return Kr;if(ma.indexOf(He)!==-1||Ia.indexOf(He)!==-1)return xr;if(za(W,p)===wt)return fn;if(Jr.get(y[W])===Kt||(fe===Ct||fe===Nr)&&Jr.get(y[he])===Kt||fe===qe||He===qe||fe===Re||[Ae,pt,me].indexOf(fe)===-1&&He===Re||[it,At,ct,Er,Wt].indexOf(He)!==-1||za(W,p)===vr||ni(rr,vr,W,p)||ni([it,At],Ot,W,p)||ni(zt,zt,W,p))return xr;if(fe===Ae)return fn;if(fe===rr||He===rr)return xr;if(He===Ue||fe===Ue)return fn;if([pt,me,Ot].indexOf(He)!==-1||fe===Oe||Fe===Zt&&ki.indexOf(fe)!==-1||fe===Wt&&He===Zt||He===Tt||ln.indexOf(He)!==-1&&fe===Nt||ln.indexOf(fe)!==-1&&He===Nt||fe===dt&&[en,Ct,Nr].indexOf(He)!==-1||[en,Ct,Nr].indexOf(fe)!==-1&&He===gn||ln.indexOf(fe)!==-1&&ri.indexOf(He)!==-1||ri.indexOf(fe)!==-1&&ln.indexOf(He)!==-1||[dt,gn].indexOf(fe)!==-1&&(He===Nt||[vr,me].indexOf(He)!==-1&&p[he+1]===Nt)||[vr,me].indexOf(fe)!==-1&&He===Nt||fe===Nt&&[Nt,Wt,Er].indexOf(He)!==-1)return xr;if([Nt,Wt,Er,it,At].indexOf(He)!==-1)for(var We=W;We>=0;){var ht=p[We];if(ht===Nt)return xr;if([Wt,Er].indexOf(ht)!==-1)We--;else break}if([dt,gn].indexOf(He)!==-1)for(var We=[it,At].indexOf(fe)!==-1?ne:W;We>=0;){var ht=p[We];if(ht===Nt)return xr;if([Wt,Er].indexOf(ht)!==-1)We--;else break}if(Yt===fe&&[Yt,Sr,nr,jr].indexOf(He)!==-1||[Sr,nr].indexOf(fe)!==-1&&[Sr,Qr].indexOf(He)!==-1||[Qr,jr].indexOf(fe)!==-1&&He===Qr||na.indexOf(fe)!==-1&&[Tt,gn].indexOf(He)!==-1||na.indexOf(He)!==-1&&fe===dt||ln.indexOf(fe)!==-1&&ln.indexOf(He)!==-1||fe===Er&&ln.indexOf(He)!==-1||ln.concat(Nt).indexOf(fe)!==-1&&He===vr&&fr.indexOf(y[he])===-1||ln.concat(Nt).indexOf(He)!==-1&&fe===At)return xr;if(fe===Yr&&He===Yr){for(var br=C[W],Gt=1;br>0&&(br--,p[br]===Yr);)Gt++;if(Gt%2!==0)return xr}return fe===Ct&&He===Nr?xr:fn},Cr=function(y,p){p||(p={lineBreak:"normal",wordBreak:"normal"});var C=ps(y,p.lineBreak),x=C[0],H=C[1],W=C[2];(p.wordBreak==="break-all"||p.wordBreak==="break-word")&&(H=H.map(function(he){return[Nt,tt,yn].indexOf(he)!==-1?en:he}));var ne=p.wordBreak==="keep-all"?W.map(function(he,fe){return he&&y[fe]>=19968&&y[fe]<=40959}):void 0;return[x,H,ne]},Se=(function(){function y(p,C,x,H){this.codePoints=p,this.required=C===Kr,this.start=x,this.end=H}return y.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},y})(),St=function(y,p){var C=u(y),x=Cr(C,p),H=x[0],W=x[1],ne=x[2],he=C.length,fe=0,Fe=0;return{next:function(){if(Fe>=he)return{done:!0,value:null};for(var He=xr;Fe<he&&(He=Do(C,W,H,++Fe,ne))===xr;);if(He!==xr||Fe===he){var We=new Se(C,He,fe,Fe);return fe=Fe,{value:We,done:!1}}return{done:!0,value:null}}}},lr=1,vn=2,La=4,Yn=8,Na=10,qi=47,Fi=92,as=9,Pa=32,il=34,Mo=61,$u=35,md=36,Ma=37,Ul=39,fu=40,Dl=41,Ec=95,zi=45,Io=33,Yu=60,Ps=62,Oo=64,Jn=91,kt=93,jt=61,Xr=123,Wr=63,ka=125,di=124,Ai=126,ao=128,io=65533,Qo=42,No=43,Tc=44,NA=58,fi=59,ks=46,gd=0,an=8,SA=11,hu=14,sl=31,BA=127,so=-1,Fs=48,Lc=97,_A=101,Xu=102,Pc=117,kc=122,So=65,oo=69,Fc=70,Bo=85,Sa=90,ai=function(y){return y>=Fs&&y<=57},EA=function(y){return y>=55296&&y<=57343},Fa=function(y){return ai(y)||y>=So&&y<=Fc||y>=Lc&&y<=Xu},Oa=function(y){return y>=Lc&&y<=kc},ms=function(y){return y>=So&&y<=Sa},Rs=function(y){return Oa(y)||ms(y)},Ml=function(y){return y>=ao},_o=function(y){return y===Na||y===as||y===Pa},ol=function(y){return Rs(y)||Ml(y)||y===Ec},ll=function(y){return ol(y)||ai(y)||y===zi},Ju=function(y){return y>=gd&&y<=an||y===SA||y>=hu&&y<=sl||y===BA},lo=function(y,p){return y!==Fi?!1:p!==Na},Rc=function(y,p,C){return y===zi?ol(p)||lo(p,C):ol(y)?!0:!!(y===Fi&&lo(y,p))},Ol=function(y,p,C){return y===No||y===zi?ai(p)?!0:p===ks&&ai(C):ai(y===ks?p:y)},Kh=function(y){var p=0,C=1;(y[p]===No||y[p]===zi)&&(y[p]===zi&&(C=-1),p++);for(var x=[];ai(y[p]);)x.push(y[p++]);var H=x.length?parseInt(c.apply(void 0,x),10):0;y[p]===ks&&p++;for(var W=[];ai(y[p]);)W.push(y[p++]);var ne=W.length,he=ne?parseInt(c.apply(void 0,W),10):0;(y[p]===oo||y[p]===_A)&&p++;var fe=1;(y[p]===No||y[p]===zi)&&(y[p]===zi&&(fe=-1),p++);for(var Fe=[];ai(y[p]);)Fe.push(y[p++]);var He=Fe.length?parseInt(c.apply(void 0,Fe),10):0;return C*(H+he*Math.pow(10,-ne))*Math.pow(10,fe*He)},Uc={type:2},Of={type:3},Qf={type:4},pu={type:13},TA={type:8},LA={type:21},PA={type:9},Hf={type:10},yd={type:11},mu={type:12},kA={type:14},ul={type:23},Ql={type:1},P={type:25},Z={type:24},ve={type:26},Be={type:27},Ke={type:28},at={type:29},Ut={type:31},ar={type:32},Ur=(function(){function y(){this._value=[]}return y.prototype.write=function(p){this._value=this._value.concat(u(p))},y.prototype.read=function(){for(var p=[],C=this.consumeToken();C!==ar;)p.push(C),C=this.consumeToken();return p},y.prototype.consumeToken=function(){var p=this.consumeCodePoint();switch(p){case il:return this.consumeStringToken(il);case $u:var C=this.peekCodePoint(0),x=this.peekCodePoint(1),H=this.peekCodePoint(2);if(ll(C)||lo(x,H)){var W=Rc(C,x,H)?vn:lr,ne=this.consumeName();return{type:5,value:ne,flags:W}}break;case md:if(this.peekCodePoint(0)===Mo)return this.consumeCodePoint(),pu;break;case Ul:return this.consumeStringToken(Ul);case fu:return Uc;case Dl:return Of;case Qo:if(this.peekCodePoint(0)===Mo)return this.consumeCodePoint(),kA;break;case No:if(Ol(p,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(p),this.consumeNumericToken();break;case Tc:return Qf;case zi:var he=p,fe=this.peekCodePoint(0),Fe=this.peekCodePoint(1);if(Ol(he,fe,Fe))return this.reconsumeCodePoint(p),this.consumeNumericToken();if(Rc(he,fe,Fe))return this.reconsumeCodePoint(p),this.consumeIdentLikeToken();if(fe===zi&&Fe===Ps)return this.consumeCodePoint(),this.consumeCodePoint(),Z;break;case ks:if(Ol(p,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(p),this.consumeNumericToken();break;case qi:if(this.peekCodePoint(0)===Qo)for(this.consumeCodePoint();;){var He=this.consumeCodePoint();if(He===Qo&&(He=this.consumeCodePoint(),He===qi))return this.consumeToken();if(He===so)return this.consumeToken()}break;case NA:return ve;case fi:return Be;case Yu:if(this.peekCodePoint(0)===Io&&this.peekCodePoint(1)===zi&&this.peekCodePoint(2)===zi)return this.consumeCodePoint(),this.consumeCodePoint(),P;break;case Oo:var We=this.peekCodePoint(0),ht=this.peekCodePoint(1),br=this.peekCodePoint(2);if(Rc(We,ht,br)){var ne=this.consumeName();return{type:7,value:ne}}break;case Jn:return Ke;case Fi:if(lo(p,this.peekCodePoint(0)))return this.reconsumeCodePoint(p),this.consumeIdentLikeToken();break;case kt:return at;case jt:if(this.peekCodePoint(0)===Mo)return this.consumeCodePoint(),TA;break;case Xr:return yd;case ka:return mu;case Pc:case Bo:var Gt=this.peekCodePoint(0),ur=this.peekCodePoint(1);return Gt===No&&(Fa(ur)||ur===Wr)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(p),this.consumeIdentLikeToken();case di:if(this.peekCodePoint(0)===Mo)return this.consumeCodePoint(),PA;if(this.peekCodePoint(0)===di)return this.consumeCodePoint(),LA;break;case Ai:if(this.peekCodePoint(0)===Mo)return this.consumeCodePoint(),Hf;break;case so:return ar}return _o(p)?(this.consumeWhiteSpace(),Ut):ai(p)?(this.reconsumeCodePoint(p),this.consumeNumericToken()):ol(p)?(this.reconsumeCodePoint(p),this.consumeIdentLikeToken()):{type:6,value:c(p)}},y.prototype.consumeCodePoint=function(){var p=this._value.shift();return typeof p>"u"?-1:p},y.prototype.reconsumeCodePoint=function(p){this._value.unshift(p)},y.prototype.peekCodePoint=function(p){return p>=this._value.length?-1:this._value[p]},y.prototype.consumeUnicodeRangeToken=function(){for(var p=[],C=this.consumeCodePoint();Fa(C)&&p.length<6;)p.push(C),C=this.consumeCodePoint();for(var x=!1;C===Wr&&p.length<6;)p.push(C),C=this.consumeCodePoint(),x=!0;if(x){var H=parseInt(c.apply(void 0,p.map(function(fe){return fe===Wr?Fs:fe})),16),W=parseInt(c.apply(void 0,p.map(function(fe){return fe===Wr?Fc:fe})),16);return{type:30,start:H,end:W}}var ne=parseInt(c.apply(void 0,p),16);if(this.peekCodePoint(0)===zi&&Fa(this.peekCodePoint(1))){this.consumeCodePoint(),C=this.consumeCodePoint();for(var he=[];Fa(C)&&he.length<6;)he.push(C),C=this.consumeCodePoint();var W=parseInt(c.apply(void 0,he),16);return{type:30,start:ne,end:W}}else return{type:30,start:ne,end:ne}},y.prototype.consumeIdentLikeToken=function(){var p=this.consumeName();return p.toLowerCase()==="url"&&this.peekCodePoint(0)===fu?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===fu?(this.consumeCodePoint(),{type:19,value:p}):{type:20,value:p}},y.prototype.consumeUrlToken=function(){var p=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===so)return{type:22,value:""};var C=this.peekCodePoint(0);if(C===Ul||C===il){var x=this.consumeStringToken(this.consumeCodePoint());return x.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===so||this.peekCodePoint(0)===Dl)?(this.consumeCodePoint(),{type:22,value:x.value}):(this.consumeBadUrlRemnants(),ul)}for(;;){var H=this.consumeCodePoint();if(H===so||H===Dl)return{type:22,value:c.apply(void 0,p)};if(_o(H))return this.consumeWhiteSpace(),this.peekCodePoint(0)===so||this.peekCodePoint(0)===Dl?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,p)}):(this.consumeBadUrlRemnants(),ul);if(H===il||H===Ul||H===fu||Ju(H))return this.consumeBadUrlRemnants(),ul;if(H===Fi)if(lo(H,this.peekCodePoint(0)))p.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ul;else p.push(H)}},y.prototype.consumeWhiteSpace=function(){for(;_o(this.peekCodePoint(0));)this.consumeCodePoint()},y.prototype.consumeBadUrlRemnants=function(){for(;;){var p=this.consumeCodePoint();if(p===Dl||p===so)return;lo(p,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},y.prototype.consumeStringSlice=function(p){for(var C=5e4,x="";p>0;){var H=Math.min(C,p);x+=c.apply(void 0,this._value.splice(0,H)),p-=H}return this._value.shift(),x},y.prototype.consumeStringToken=function(p){var C="",x=0;do{var H=this._value[x];if(H===so||H===void 0||H===p)return C+=this.consumeStringSlice(x),{type:0,value:C};if(H===Na)return this._value.splice(0,x),Ql;if(H===Fi){var W=this._value[x+1];W!==so&&W!==void 0&&(W===Na?(C+=this.consumeStringSlice(x),x=-1,this._value.shift()):lo(H,W)&&(C+=this.consumeStringSlice(x),C+=c(this.consumeEscapedCodePoint()),x=-1))}x++}while(!0)},y.prototype.consumeNumber=function(){var p=[],C=La,x=this.peekCodePoint(0);for((x===No||x===zi)&&p.push(this.consumeCodePoint());ai(this.peekCodePoint(0));)p.push(this.consumeCodePoint());x=this.peekCodePoint(0);var H=this.peekCodePoint(1);if(x===ks&&ai(H))for(p.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Yn;ai(this.peekCodePoint(0));)p.push(this.consumeCodePoint());x=this.peekCodePoint(0),H=this.peekCodePoint(1);var W=this.peekCodePoint(2);if((x===oo||x===_A)&&((H===No||H===zi)&&ai(W)||ai(H)))for(p.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Yn;ai(this.peekCodePoint(0));)p.push(this.consumeCodePoint());return[Kh(p),C]},y.prototype.consumeNumericToken=function(){var p=this.consumeNumber(),C=p[0],x=p[1],H=this.peekCodePoint(0),W=this.peekCodePoint(1),ne=this.peekCodePoint(2);if(Rc(H,W,ne)){var he=this.consumeName();return{type:15,number:C,flags:x,unit:he}}return H===Ma?(this.consumeCodePoint(),{type:16,number:C,flags:x}):{type:17,number:C,flags:x}},y.prototype.consumeEscapedCodePoint=function(){var p=this.consumeCodePoint();if(Fa(p)){for(var C=c(p);Fa(this.peekCodePoint(0))&&C.length<6;)C+=c(this.consumeCodePoint());_o(this.peekCodePoint(0))&&this.consumeCodePoint();var x=parseInt(C,16);return x===0||EA(x)||x>1114111?io:x}return p===so?io:p},y.prototype.consumeName=function(){for(var p="";;){var C=this.consumeCodePoint();if(ll(C))p+=c(C);else if(lo(C,this.peekCodePoint(0)))p+=c(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(C),p}},y})(),m=(function(){function y(p){this._tokens=p}return y.create=function(p){var C=new Ur;return C.write(p),new y(C.read())},y.parseValue=function(p){return y.create(p).parseComponentValue()},y.parseValues=function(p){return y.create(p).parseComponentValues()},y.prototype.parseComponentValue=function(){for(var p=this.consumeToken();p.type===31;)p=this.consumeToken();if(p.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(p);var C=this.consumeComponentValue();do p=this.consumeToken();while(p.type===31);if(p.type===32)return C;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},y.prototype.parseComponentValues=function(){for(var p=[];;){var C=this.consumeComponentValue();if(C.type===32)return p;p.push(C),p.push()}},y.prototype.consumeComponentValue=function(){var p=this.consumeToken();switch(p.type){case 11:case 28:case 2:return this.consumeSimpleBlock(p.type);case 19:return this.consumeFunction(p)}return p},y.prototype.consumeSimpleBlock=function(p){for(var C={type:p,values:[]},x=this.consumeToken();;){if(x.type===32||An(x,p))return C;this.reconsumeToken(x),C.values.push(this.consumeComponentValue()),x=this.consumeToken()}},y.prototype.consumeFunction=function(p){for(var C={name:p.value,values:[],type:18};;){var x=this.consumeToken();if(x.type===32||x.type===3)return C;this.reconsumeToken(x),C.values.push(this.consumeComponentValue())}},y.prototype.consumeToken=function(){var p=this._tokens.shift();return typeof p>"u"?ar:p},y.prototype.reconsumeToken=function(p){this._tokens.unshift(p)},y})(),Q=function(y){return y.type===15},G=function(y){return y.type===17},ae=function(y){return y.type===20},De=function(y){return y.type===0},$e=function(y,p){return ae(y)&&y.value===p},Dt=function(y){return y.type!==31},tn=function(y){return y.type!==31&&y.type!==4},On=function(y){var p=[],C=[];return y.forEach(function(x){if(x.type===4){if(C.length===0)throw new Error("Error parsing function args, zero tokens for arg");p.push(C),C=[];return}x.type!==31&&C.push(x)}),C.length&&p.push(C),p},An=function(y,p){return p===11&&y.type===12||p===28&&y.type===29?!0:p===2&&y.type===3},ia=function(y){return y.type===17||y.type===15},kn=function(y){return y.type===16||ia(y)},Hl=function(y){return y.length>1?[y[0],y[1]]:[y[0]]},sa={type:17,number:0,flags:La},Vl={type:16,number:50,flags:La},Eo={type:16,number:100,flags:La},vd=function(y,p,C){var x=y[0],H=y[1];return[wa(x,p),wa(typeof H<"u"?H:x,C)]},wa=function(y,p){if(y.type===16)return y.number/100*p;if(Q(y))switch(y.unit){case"rem":case"em":return 16*y.number;case"px":default:return y.number}return y.number},Ho="deg",Vf="grad",qf="rad",zf="turn",FA={name:"angle",parse:function(y,p){if(p.type===15)switch(p.unit){case Ho:return Math.PI*p.number/180;case Vf:return Math.PI/200*p.number;case qf:return p.number;case zf:return Math.PI*2*p.number}throw new Error("Unsupported angle type")}},Vo=function(y){return y.type===15&&(y.unit===Ho||y.unit===Vf||y.unit===qf||y.unit===zf)},ny=function(y){var p=y.filter(ae).map(function(C){return C.value}).join(" ");switch(p){case"to bottom right":case"to right bottom":case"left top":case"top left":return[sa,sa];case"to top":case"bottom":return To(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[sa,Eo];case"to right":case"left":return To(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Eo,Eo];case"to bottom":case"top":return To(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Eo,sa];case"to left":case"right":return To(270)}return 0},To=function(y){return Math.PI*y/180},Zu={name:"color",parse:function(y,p){if(p.type===18){var C=RA[p.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported color function "'+p.name+'"');return C(y,p.values)}if(p.type===5){if(p.value.length===3){var x=p.value.substring(0,1),H=p.value.substring(1,2),W=p.value.substring(2,3);return Dc(parseInt(x+x,16),parseInt(H+H,16),parseInt(W+W,16),1)}if(p.value.length===4){var x=p.value.substring(0,1),H=p.value.substring(1,2),W=p.value.substring(2,3),ne=p.value.substring(3,4);return Dc(parseInt(x+x,16),parseInt(H+H,16),parseInt(W+W,16),parseInt(ne+ne,16)/255)}if(p.value.length===6){var x=p.value.substring(0,2),H=p.value.substring(2,4),W=p.value.substring(4,6);return Dc(parseInt(x,16),parseInt(H,16),parseInt(W,16),1)}if(p.value.length===8){var x=p.value.substring(0,2),H=p.value.substring(2,4),W=p.value.substring(4,6),ne=p.value.substring(6,8);return Dc(parseInt(x,16),parseInt(H,16),parseInt(W,16),parseInt(ne,16)/255)}}if(p.type===20){var he=uo[p.value.toUpperCase()];if(typeof he<"u")return he}return uo.TRANSPARENT}},Us=function(y){return(255&y)===0},Ri=function(y){var p=255&y,C=255&y>>8,x=255&y>>16,H=255&y>>24;return p<255?"rgba("+H+","+x+","+C+","+p/255+")":"rgb("+H+","+x+","+C+")"},Dc=function(y,p,C,x){return(y<<24|p<<16|C<<8|Math.round(x*255)<<0)>>>0},ay=function(y,p){if(y.type===17)return y.number;if(y.type===16){var C=p===3?1:255;return p===3?y.number/100*C:Math.round(y.number/100*C)}return 0},bd=function(y,p){var C=p.filter(tn);if(C.length===3){var x=C.map(ay),H=x[0],W=x[1],ne=x[2];return Dc(H,W,ne,1)}if(C.length===4){var he=C.map(ay),H=he[0],W=he[1],ne=he[2],fe=he[3];return Dc(H,W,ne,fe)}return 0};function cl(y,p,C){return C<0&&(C+=1),C>=1&&(C-=1),C<1/6?(p-y)*C*6+y:C<1/2?p:C<2/3?(p-y)*6*(2/3-C)+y:y}var gu=function(y,p){var C=p.filter(tn),x=C[0],H=C[1],W=C[2],ne=C[3],he=(x.type===17?To(x.number):FA.parse(y,x))/(Math.PI*2),fe=kn(H)?H.number/100:0,Fe=kn(W)?W.number/100:0,He=typeof ne<"u"&&kn(ne)?wa(ne,1):1;if(fe===0)return Dc(Fe*255,Fe*255,Fe*255,1);var We=Fe<=.5?Fe*(fe+1):Fe+fe-Fe*fe,ht=Fe*2-We,br=cl(ht,We,he+1/3),Gt=cl(ht,We,he),ur=cl(ht,We,he-1/3);return Dc(br*255,Gt*255,ur*255,He)},RA={hsl:gu,hsla:gu,rgb:bd,rgba:bd},dl=function(y,p){return Zu.parse(y,m.create(p).parseComponentValue())},uo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Gh={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(y,p){return p.map(function(C){if(ae(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ec={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wd=function(y,p){var C=Zu.parse(y,p[0]),x=p[1];return x&&kn(x)?{color:C,stop:x}:{color:C,stop:null}},Wh=function(y,p){var C=y[0],x=y[y.length-1];C.stop===null&&(C.stop=sa),x.stop===null&&(x.stop=Eo);for(var H=[],W=0,ne=0;ne<y.length;ne++){var he=y[ne].stop;if(he!==null){var fe=wa(he,p);fe>W?H.push(fe):H.push(W),W=fe}else H.push(null)}for(var Fe=null,ne=0;ne<H.length;ne++){var He=H[ne];if(He===null)Fe===null&&(Fe=ne);else if(Fe!==null){for(var We=ne-Fe,ht=H[Fe-1],br=(He-ht)/(We+1),Gt=1;Gt<=We;Gt++)H[Fe+Gt-1]=br*Gt;Fe=null}}return y.map(function(ur,Un){var Hr=ur.color;return{color:Hr,stop:Math.max(Math.min(1,H[Un]/p),0)}})},UA=function(y,p,C){var x=p/2,H=C/2,W=wa(y[0],p)-x,ne=H-wa(y[1],C);return(Math.atan2(ne,W)+Math.PI*2)%(Math.PI*2)},tc=function(y,p,C){var x=typeof y=="number"?y:UA(y,p,C),H=Math.abs(p*Math.sin(x))+Math.abs(C*Math.cos(x)),W=p/2,ne=C/2,he=H/2,fe=Math.sin(x-Math.PI/2)*he,Fe=Math.cos(x-Math.PI/2)*he;return[H,W-Fe,W+Fe,ne-fe,ne+fe]},gs=function(y,p){return Math.sqrt(y*y+p*p)},DA=function(y,p,C,x,H){var W=[[0,0],[0,p],[y,0],[y,p]];return W.reduce(function(ne,he){var fe=he[0],Fe=he[1],He=gs(C-fe,x-Fe);return(H?He<ne.optimumDistance:He>ne.optimumDistance)?{optimumCorner:he,optimumDistance:He}:ne},{optimumDistance:H?1/0:-1/0,optimumCorner:null}).optimumCorner},$h=function(y,p,C,x,H){var W=0,ne=0;switch(y.size){case 0:y.shape===0?W=ne=Math.min(Math.abs(p),Math.abs(p-x),Math.abs(C),Math.abs(C-H)):y.shape===1&&(W=Math.min(Math.abs(p),Math.abs(p-x)),ne=Math.min(Math.abs(C),Math.abs(C-H)));break;case 2:if(y.shape===0)W=ne=Math.min(gs(p,C),gs(p,C-H),gs(p-x,C),gs(p-x,C-H));else if(y.shape===1){var he=Math.min(Math.abs(C),Math.abs(C-H))/Math.min(Math.abs(p),Math.abs(p-x)),fe=DA(x,H,p,C,!0),Fe=fe[0],He=fe[1];W=gs(Fe-p,(He-C)/he),ne=he*W}break;case 1:y.shape===0?W=ne=Math.max(Math.abs(p),Math.abs(p-x),Math.abs(C),Math.abs(C-H)):y.shape===1&&(W=Math.max(Math.abs(p),Math.abs(p-x)),ne=Math.max(Math.abs(C),Math.abs(C-H)));break;case 3:if(y.shape===0)W=ne=Math.max(gs(p,C),gs(p,C-H),gs(p-x,C),gs(p-x,C-H));else if(y.shape===1){var he=Math.max(Math.abs(C),Math.abs(C-H))/Math.max(Math.abs(p),Math.abs(p-x)),We=DA(x,H,p,C,!1),Fe=We[0],He=We[1];W=gs(Fe-p,(He-C)/he),ne=he*W}break}return Array.isArray(y.size)&&(W=wa(y.size[0],x),ne=y.size.length===2?wa(y.size[1],H):W),[W,ne]},jf=function(y,p){var C=To(180),x=[];return On(p).forEach(function(H,W){if(W===0){var ne=H[0];if(ne.type===20&&ne.value==="to"){C=ny(H);return}else if(Vo(ne)){C=FA.parse(y,ne);return}}var he=wd(y,H);x.push(he)}),{angle:C,stops:x,type:1}},rc=function(y,p){var C=To(180),x=[];return On(p).forEach(function(H,W){if(W===0){var ne=H[0];if(ne.type===20&&["top","left","right","bottom"].indexOf(ne.value)!==-1){C=ny(H);return}else if(Vo(ne)){C=(FA.parse(y,ne)+To(270))%To(360);return}}var he=wd(y,H);x.push(he)}),{angle:C,stops:x,type:1}},Om=function(y,p){var C=To(180),x=[],H=1,W=0,ne=3,he=[];return On(p).forEach(function(fe,Fe){var He=fe[0];if(Fe===0){if(ae(He)&&He.value==="linear"){H=1;return}else if(ae(He)&&He.value==="radial"){H=2;return}}if(He.type===18){if(He.name==="from"){var We=Zu.parse(y,He.values[0]);x.push({stop:sa,color:We})}else if(He.name==="to"){var We=Zu.parse(y,He.values[0]);x.push({stop:Eo,color:We})}else if(He.name==="color-stop"){var ht=He.values.filter(tn);if(ht.length===2){var We=Zu.parse(y,ht[1]),br=ht[0];G(br)&&x.push({stop:{type:16,number:br.number*100,flags:br.flags},color:We})}}}}),H===1?{angle:(C+To(180))%To(360),stops:x,type:H}:{size:ne,shape:W,stops:x,position:he,type:H}},ql="closest-side",Mc="farthest-side",ja="closest-corner",Ka="farthest-corner",Ui="circle",is="ellipse",Oc="cover",xd="contain",Yh=function(y,p){var C=0,x=3,H=[],W=[];return On(p).forEach(function(ne,he){var fe=!0;if(he===0){var Fe=!1;fe=ne.reduce(function(We,ht){if(Fe)if(ae(ht))switch(ht.value){case"center":return W.push(Vl),We;case"top":case"left":return W.push(sa),We;case"right":case"bottom":return W.push(Eo),We}else(kn(ht)||ia(ht))&&W.push(ht);else if(ae(ht))switch(ht.value){case Ui:return C=0,!1;case is:return C=1,!1;case"at":return Fe=!0,!1;case ql:return x=0,!1;case Oc:case Mc:return x=1,!1;case xd:case ja:return x=2,!1;case Ka:return x=3,!1}else if(ia(ht)||kn(ht))return Array.isArray(x)||(x=[]),x.push(ht),!1;return We},fe)}if(fe){var He=wd(y,ne);H.push(He)}}),{size:x,shape:C,stops:H,position:W,type:2}},Kf=function(y,p){var C=0,x=3,H=[],W=[];return On(p).forEach(function(ne,he){var fe=!0;if(he===0?fe=ne.reduce(function(He,We){if(ae(We))switch(We.value){case"center":return W.push(Vl),!1;case"top":case"left":return W.push(sa),!1;case"right":case"bottom":return W.push(Eo),!1}else if(kn(We)||ia(We))return W.push(We),!1;return He},fe):he===1&&(fe=ne.reduce(function(He,We){if(ae(We))switch(We.value){case Ui:return C=0,!1;case is:return C=1,!1;case xd:case ql:return x=0,!1;case Mc:return x=1,!1;case ja:return x=2,!1;case Oc:case Ka:return x=3,!1}else if(ia(We)||kn(We))return Array.isArray(x)||(x=[]),x.push(We),!1;return He},fe)),fe){var Fe=wd(y,ne);H.push(Fe)}}),{size:x,shape:C,stops:H,position:W,type:2}},vC=function(y){return y.type===1},bC=function(y){return y.type===2},iy={name:"image",parse:function(y,p){if(p.type===22){var C={url:p.value,type:0};return y.cache.addImage(p.value),C}if(p.type===18){var x=Ab[p.name];if(typeof x>"u")throw new Error('Attempting to parse an unsupported image function "'+p.name+'"');return x(y,p.values)}throw new Error("Unsupported image type "+p.type)}};function wC(y){return!(y.type===20&&y.value==="none")&&(y.type!==18||!!Ab[y.name])}var Ab={"linear-gradient":jf,"-moz-linear-gradient":rc,"-ms-linear-gradient":rc,"-o-linear-gradient":rc,"-webkit-linear-gradient":rc,"radial-gradient":Yh,"-moz-radial-gradient":Kf,"-ms-radial-gradient":Kf,"-o-radial-gradient":Kf,"-webkit-radial-gradient":Kf,"-webkit-gradient":Om},xC={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(y,p){if(p.length===0)return[];var C=p[0];return C.type===20&&C.value==="none"?[]:p.filter(function(x){return tn(x)&&wC(x)}).map(function(x){return iy.parse(y,x)})}},fb={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(y,p){return p.map(function(C){if(ae(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},sy={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(y,p){return On(p).map(function(C){return C.filter(kn)}).map(Hl)}},zl={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(y,p){return On(p).map(function(C){return C.filter(ae).map(function(x){return x.value}).join(" ")}).map(yu)}},yu=function(y){switch(y){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Cd;(function(y){y.AUTO="auto",y.CONTAIN="contain",y.COVER="cover"})(Cd||(Cd={}));var oy={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(y,p){return On(p).map(function(C){return C.filter(CC)})}},CC=function(y){return ae(y)||kn(y)},Gf=function(y){return{name:"border-"+y+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ly=Gf("top"),hb=Gf("right"),IC=Gf("bottom"),pb=Gf("left"),Xh=function(y){return{name:"border-radius-"+y,initialValue:"0 0",prefix:!1,type:1,parse:function(p,C){return Hl(C.filter(kn))}}},uy=Xh("top-left"),mb=Xh("top-right"),RE=Xh("bottom-right"),UE=Xh("bottom-left"),Qm=function(y){return{name:"border-"+y+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(p,C){switch(C){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},DE=Qm("top"),ME=Qm("right"),OE=Qm("bottom"),QE=Qm("left"),cy=function(y){return{name:"border-"+y+"-width",initialValue:"0",type:0,prefix:!1,parse:function(p,C){return Q(C)?C.number:0}}},gb=cy("top"),yb=cy("right"),Hm=cy("bottom"),HE=cy("left"),VE={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},NC={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(y,p){switch(p){case"rtl":return 1;case"ltr":default:return 0}}},qE={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(y,p){return p.filter(ae).reduce(function(C,x){return C|zE(x.value)},0)}},zE=function(y){switch(y){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},jE={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(y,p){switch(p){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},KE={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(y,p){return p.type===20&&p.value==="normal"?0:p.type===17||p.type===15?p.number:0}},nc;(function(y){y.NORMAL="normal",y.STRICT="strict"})(nc||(nc={}));var ac={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(y,p){switch(p){case"strict":return nc.STRICT;case"normal":default:return nc.NORMAL}}},Id={name:"line-height",initialValue:"normal",prefix:!1,type:4},SC=function(y,p){return ae(y)&&y.value==="normal"?1.2*p:y.type===17?p*y.number:kn(y)?wa(y,p):p},BC={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(y,p){return p.type===20&&p.value==="none"?null:iy.parse(y,p)}},MA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(y,p){switch(p){case"inside":return 0;case"outside":default:return 1}}},Al={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(y,p){switch(p){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},dy=function(y){return{name:"margin-"+y,initialValue:"0",prefix:!1,type:4}},GE=dy("top"),_C=dy("right"),EC=dy("bottom"),TC=dy("left"),LC={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(y,p){return p.filter(ae).map(function(C){switch(C.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},WE={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(y,p){switch(p){case"break-word":return"break-word";case"normal":default:return"normal"}}},Wf=function(y){return{name:"padding-"+y,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ay=Wf("top"),Vm=Wf("right"),vb=Wf("bottom"),PC=Wf("left"),$E={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(y,p){switch(p){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},kC={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(y,p){switch(p){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},YE={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(y,p){return p.length===1&&$e(p[0],"none")?[]:On(p).map(function(C){for(var x={color:uo.TRANSPARENT,offsetX:sa,offsetY:sa,blur:sa},H=0,W=0;W<C.length;W++){var ne=C[W];ia(ne)?(H===0?x.offsetX=ne:H===1?x.offsetY=ne:x.blur=ne,H++):x.color=Zu.parse(y,ne)}return x})}},XE={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(y,p){switch(p){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},JE={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(y,p){if(p.type===20&&p.value==="none")return null;if(p.type===18){var C=t4[p.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported transform function "'+p.name+'"');return C(p.values)}return null}},ZE=function(y){var p=y.filter(function(C){return C.type===17}).map(function(C){return C.number});return p.length===6?p:null},e4=function(y){var p=y.filter(function(fe){return fe.type===17}).map(function(fe){return fe.number}),C=p[0],x=p[1];p[2],p[3];var H=p[4],W=p[5];p[6],p[7],p[8],p[9],p[10],p[11];var ne=p[12],he=p[13];return p[14],p[15],p.length===16?[C,x,H,W,ne,he]:null},t4={matrix:ZE,matrix3d:e4},bb={type:16,number:50,flags:La},fy=[bb,bb],r4={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(y,p){var C=p.filter(kn);return C.length!==2?fy:[C[0],C[1]]}},n4={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(y,p){switch(p){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Jh;(function(y){y.NORMAL="normal",y.BREAK_ALL="break-all",y.KEEP_ALL="keep-all"})(Jh||(Jh={}));for(var h={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(y,p){switch(p){case"break-all":return Jh.BREAK_ALL;case"keep-all":return Jh.KEEP_ALL;case"normal":default:return Jh.NORMAL}}},N={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(y,p){if(p.type===20)return{auto:!0,order:0};if(G(p))return{auto:!1,order:p.number};throw new Error("Invalid z-index number parsed")}},M={name:"time",parse:function(y,p){if(p.type===15)switch(p.unit.toLowerCase()){case"s":return 1e3*p.number;case"ms":return p.number}throw new Error("Unsupported time type")}},V={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(y,p){return G(p)?p.number:1}},J={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},re={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(y,p){return p.filter(ae).map(function(C){switch(C.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(C){return C!==0})}},ie={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(y,p){var C=[],x=[];return p.forEach(function(H){switch(H.type){case 20:case 0:C.push(H.value);break;case 17:C.push(H.number.toString());break;case 4:x.push(C.join(" ")),C.length=0;break}}),C.length&&x.push(C.join(" ")),x.map(function(H){return H.indexOf(" ")===-1?H:"'"+H+"'"})}},se={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},le={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(y,p){if(G(p))return p.number;if(ae(p))switch(p.value){case"bold":return 700;case"normal":default:return 400}return 400}},pe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(y,p){return p.filter(ae).map(function(C){return C.value})}},Pe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(y,p){switch(p){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ze=function(y,p){return(y&p)!==0},Xe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(y,p){if(p.length===0)return[];var C=p[0];return C.type===20&&C.value==="none"?[]:p}},Ve={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(y,p){if(p.length===0)return null;var C=p[0];if(C.type===20&&C.value==="none")return null;for(var x=[],H=p.filter(Dt),W=0;W<H.length;W++){var ne=H[W],he=H[W+1];if(ne.type===20){var fe=he&&G(he)?he.number:1;x.push({counter:ne.value,increment:fe})}}return x}},bt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(y,p){if(p.length===0)return[];for(var C=[],x=p.filter(Dt),H=0;H<x.length;H++){var W=x[H],ne=x[H+1];if(ae(W)&&W.value!=="none"){var he=ne&&G(ne)?ne.number:0;C.push({counter:W.value,reset:he})}}return C}},ut={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(y,p){return p.filter(Q).map(function(C){return M.parse(y,C)})}},ke={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(y,p){if(p.length===0)return null;var C=p[0];if(C.type===20&&C.value==="none")return null;var x=[],H=p.filter(De);if(H.length%2!==0)return null;for(var W=0;W<H.length;W+=2){var ne=H[W].value,he=H[W+1].value;x.push({open:ne,close:he})}return x}},Me=function(y,p,C){if(!y)return"";var x=y[Math.min(p,y.length-1)];return x?C?x.open:x.close:""},yt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(y,p){return p.length===1&&$e(p[0],"none")?[]:On(p).map(function(C){for(var x={color:255,offsetX:sa,offsetY:sa,blur:sa,spread:sa,inset:!1},H=0,W=0;W<C.length;W++){var ne=C[W];$e(ne,"inset")?x.inset=!0:ia(ne)?(H===0?x.offsetX=ne:H===1?x.offsetY=ne:H===2?x.blur=ne:x.spread=ne,H++):x.color=Zu.parse(y,ne)}return x})}},Bt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(y,p){var C=[0,1,2],x=[];return p.filter(ae).forEach(function(H){switch(H.value){case"stroke":x.push(1);break;case"fill":x.push(0);break;case"markers":x.push(2);break}}),C.forEach(function(H){x.indexOf(H)===-1&&x.push(H)}),x}},vt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},hr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(y,p){return Q(p)?p.number:0}},Xt=(function(){function y(p,C){var x,H;this.animationDuration=Mt(p,ut,C.animationDuration),this.backgroundClip=Mt(p,Gh,C.backgroundClip),this.backgroundColor=Mt(p,ec,C.backgroundColor),this.backgroundImage=Mt(p,xC,C.backgroundImage),this.backgroundOrigin=Mt(p,fb,C.backgroundOrigin),this.backgroundPosition=Mt(p,sy,C.backgroundPosition),this.backgroundRepeat=Mt(p,zl,C.backgroundRepeat),this.backgroundSize=Mt(p,oy,C.backgroundSize),this.borderTopColor=Mt(p,ly,C.borderTopColor),this.borderRightColor=Mt(p,hb,C.borderRightColor),this.borderBottomColor=Mt(p,IC,C.borderBottomColor),this.borderLeftColor=Mt(p,pb,C.borderLeftColor),this.borderTopLeftRadius=Mt(p,uy,C.borderTopLeftRadius),this.borderTopRightRadius=Mt(p,mb,C.borderTopRightRadius),this.borderBottomRightRadius=Mt(p,RE,C.borderBottomRightRadius),this.borderBottomLeftRadius=Mt(p,UE,C.borderBottomLeftRadius),this.borderTopStyle=Mt(p,DE,C.borderTopStyle),this.borderRightStyle=Mt(p,ME,C.borderRightStyle),this.borderBottomStyle=Mt(p,OE,C.borderBottomStyle),this.borderLeftStyle=Mt(p,QE,C.borderLeftStyle),this.borderTopWidth=Mt(p,gb,C.borderTopWidth),this.borderRightWidth=Mt(p,yb,C.borderRightWidth),this.borderBottomWidth=Mt(p,Hm,C.borderBottomWidth),this.borderLeftWidth=Mt(p,HE,C.borderLeftWidth),this.boxShadow=Mt(p,yt,C.boxShadow),this.color=Mt(p,VE,C.color),this.direction=Mt(p,NC,C.direction),this.display=Mt(p,qE,C.display),this.float=Mt(p,jE,C.cssFloat),this.fontFamily=Mt(p,ie,C.fontFamily),this.fontSize=Mt(p,se,C.fontSize),this.fontStyle=Mt(p,Pe,C.fontStyle),this.fontVariant=Mt(p,pe,C.fontVariant),this.fontWeight=Mt(p,le,C.fontWeight),this.letterSpacing=Mt(p,KE,C.letterSpacing),this.lineBreak=Mt(p,ac,C.lineBreak),this.lineHeight=Mt(p,Id,C.lineHeight),this.listStyleImage=Mt(p,BC,C.listStyleImage),this.listStylePosition=Mt(p,MA,C.listStylePosition),this.listStyleType=Mt(p,Al,C.listStyleType),this.marginTop=Mt(p,GE,C.marginTop),this.marginRight=Mt(p,_C,C.marginRight),this.marginBottom=Mt(p,EC,C.marginBottom),this.marginLeft=Mt(p,TC,C.marginLeft),this.opacity=Mt(p,V,C.opacity);var W=Mt(p,LC,C.overflow);this.overflowX=W[0],this.overflowY=W[W.length>1?1:0],this.overflowWrap=Mt(p,WE,C.overflowWrap),this.paddingTop=Mt(p,Ay,C.paddingTop),this.paddingRight=Mt(p,Vm,C.paddingRight),this.paddingBottom=Mt(p,vb,C.paddingBottom),this.paddingLeft=Mt(p,PC,C.paddingLeft),this.paintOrder=Mt(p,Bt,C.paintOrder),this.position=Mt(p,kC,C.position),this.textAlign=Mt(p,$E,C.textAlign),this.textDecorationColor=Mt(p,J,(x=C.textDecorationColor)!==null&&x!==void 0?x:C.color),this.textDecorationLine=Mt(p,re,(H=C.textDecorationLine)!==null&&H!==void 0?H:C.textDecoration),this.textShadow=Mt(p,YE,C.textShadow),this.textTransform=Mt(p,XE,C.textTransform),this.transform=Mt(p,JE,C.transform),this.transformOrigin=Mt(p,r4,C.transformOrigin),this.visibility=Mt(p,n4,C.visibility),this.webkitTextStrokeColor=Mt(p,vt,C.webkitTextStrokeColor),this.webkitTextStrokeWidth=Mt(p,hr,C.webkitTextStrokeWidth),this.wordBreak=Mt(p,h,C.wordBreak),this.zIndex=Mt(p,N,C.zIndex)}return y.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},y.prototype.isTransparent=function(){return Us(this.backgroundColor)},y.prototype.isTransformed=function(){return this.transform!==null},y.prototype.isPositioned=function(){return this.position!==0},y.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},y.prototype.isFloating=function(){return this.float!==0},y.prototype.isInlineLevel=function(){return ze(this.display,4)||ze(this.display,33554432)||ze(this.display,268435456)||ze(this.display,536870912)||ze(this.display,67108864)||ze(this.display,134217728)},y})(),Zr=(function(){function y(p,C){this.content=Mt(p,Xe,C.content),this.quotes=Mt(p,ke,C.quotes)}return y})(),er=(function(){function y(p,C){this.counterIncrement=Mt(p,Ve,C.counterIncrement),this.counterReset=Mt(p,bt,C.counterReset)}return y})(),Mt=function(y,p,C){var x=new Ur,H=C!==null&&typeof C<"u"?C.toString():p.initialValue;x.write(H);var W=new m(x.read());switch(p.type){case 2:var ne=W.parseComponentValue();return p.parse(y,ae(ne)?ne.value:p.initialValue);case 0:return p.parse(y,W.parseComponentValue());case 1:return p.parse(y,W.parseComponentValues());case 4:return W.parseComponentValue();case 3:switch(p.format){case"angle":return FA.parse(y,W.parseComponentValue());case"color":return Zu.parse(y,W.parseComponentValue());case"image":return iy.parse(y,W.parseComponentValue());case"length":var he=W.parseComponentValue();return ia(he)?he:sa;case"length-percentage":var fe=W.parseComponentValue();return kn(fe)?fe:sa;case"time":return M.parse(y,W.parseComponentValue())}break}},Ra="data-html2canvas-debug",oa=function(y){var p=y.getAttribute(Ra);switch(p){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Qn=function(y,p){var C=oa(y);return C===1||p===C},Xn=(function(){function y(p,C){if(this.context=p,this.textNodes=[],this.elements=[],this.flags=0,Qn(C,3))debugger;this.styles=new Xt(p,window.getComputedStyle(C,null)),u4(C)&&(this.styles.animationDuration.some(function(x){return x>0})&&(C.style.animationDuration="0s"),this.styles.transform!==null&&(C.style.transform="none")),this.bounds=o(this.context,C),Qn(C,4)&&(this.flags|=16)}return y})(),Qa="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hi=typeof Uint8Array>"u"?[]:new Uint8Array(256),co=0;co<bn.length;co++)hi[bn.charCodeAt(co)]=co;for(var ss=function(y){var p=y.length*.75,C=y.length,x,H=0,W,ne,he,fe;y[y.length-1]==="="&&(p--,y[y.length-2]==="="&&p--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(p):new Array(p),He=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(x=0;x<C;x+=4)W=hi[y.charCodeAt(x)],ne=hi[y.charCodeAt(x+1)],he=hi[y.charCodeAt(x+2)],fe=hi[y.charCodeAt(x+3)],He[H++]=W<<2|ne>>4,He[H++]=(ne&15)<<4|he>>2,He[H++]=(he&3)<<6|fe&63;return Fe},fl=function(y){for(var p=y.length,C=[],x=0;x<p;x+=2)C.push(y[x+1]<<8|y[x]);return C},Ua=function(y){for(var p=y.length,C=[],x=0;x<p;x+=4)C.push(y[x+3]<<24|y[x+2]<<16|y[x+1]<<8|y[x]);return C},ys=5,qo=11,os=2,Ao=qo-ys,Lo=65536>>ys,vu=1<<ys,bu=vu-1,Ds=1024>>ys,Nd=Lo+Ds,$f=Nd,Zh=32,OA=$f+Zh,Di=65536>>qo,wb=1<<Ao,FC=wb-1,xb=function(y,p,C){return y.slice?y.slice(p,C):new Uint16Array(Array.prototype.slice.call(y,p,C))},hy=function(y,p,C){return y.slice?y.slice(p,C):new Uint32Array(Array.prototype.slice.call(y,p,C))},qm=function(y,p){var C=ss(y),x=Array.isArray(C)?Ua(C):new Uint32Array(C),H=Array.isArray(C)?fl(C):new Uint16Array(C),W=24,ne=xb(H,W/2,x[4]/2),he=x[5]===2?xb(H,(W+x[4])/2):hy(x,Math.ceil((W+x[4])/4));return new py(x[0],x[1],x[2],x[3],ne,he)},py=(function(){function y(p,C,x,H,W,ne){this.initialValue=p,this.errorValue=C,this.highStart=x,this.highValueIndex=H,this.index=W,this.data=ne}return y.prototype.get=function(p){var C;if(p>=0){if(p<55296||p>56319&&p<=65535)return C=this.index[p>>ys],C=(C<<os)+(p&bu),this.data[C];if(p<=65535)return C=this.index[Lo+(p-55296>>ys)],C=(C<<os)+(p&bu),this.data[C];if(p<this.highStart)return C=OA-Di+(p>>qo),C=this.index[C],C+=p>>ys&FC,C=this.index[C],C=(C<<os)+(p&bu),this.data[C];if(p<=1114111)return this.data[this.highValueIndex]}return this.errorValue},y})(),wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ep=typeof Uint8Array>"u"?[]:new Uint8Array(256),Sd=0;Sd<wu.length;Sd++)ep[wu.charCodeAt(Sd)]=Sd;var RC=1,tp=2,my=3,zm=4,gy=5,yy=7,rp=8,Cb=9,Ib=10,vy=11,Bd=12,UC=13,DC=14,Nb=15,MC=function(y){for(var p=[],C=0,x=y.length;C<x;){var H=y.charCodeAt(C++);if(H>=55296&&H<=56319&&C<x){var W=y.charCodeAt(C++);(W&64512)===56320?p.push(((H&1023)<<10)+(W&1023)+65536):(p.push(H),C--)}else p.push(H)}return p},by=function(){for(var y=[],p=0;p<arguments.length;p++)y[p]=arguments[p];if(String.fromCodePoint)return String.fromCodePoint.apply(String,y);var C=y.length;if(!C)return"";for(var x=[],H=-1,W="";++H<C;){var ne=y[H];ne<=65535?x.push(ne):(ne-=65536,x.push((ne>>10)+55296,ne%1024+56320)),(H+1===C||x.length>16384)&&(W+=String.fromCharCode.apply(String,x),x.length=0)}return W},OC=qm(Qa),jl="\xD7",np="\xF7",Sb=function(y){return OC.get(y)},jm=function(y,p,C){var x=C-2,H=p[x],W=p[C-1],ne=p[C];if(W===tp&&ne===my)return jl;if(W===tp||W===my||W===zm||ne===tp||ne===my||ne===zm)return np;if(W===rp&&[rp,Cb,vy,Bd].indexOf(ne)!==-1||(W===vy||W===Cb)&&(ne===Cb||ne===Ib)||(W===Bd||W===Ib)&&ne===Ib||ne===UC||ne===gy||ne===yy||W===RC)return jl;if(W===UC&&ne===DC){for(;H===gy;)H=p[--x];if(H===DC)return jl}if(W===Nb&&ne===Nb){for(var he=0;H===Nb;)he++,H=p[--x];if(he%2===0)return jl}return np},QC=function(y){var p=MC(y),C=p.length,x=0,H=0,W=p.map(Sb);return{next:function(){if(x>=C)return{done:!0,value:null};for(var ne=jl;x<C&&(ne=jm(p,W,++x))===jl;);if(ne!==jl||x===C){var he=by.apply(null,p.slice(H,x));return H=x,{value:he,done:!1}}return{done:!0,value:null}}}},a4=function(y){for(var p=QC(y),C=[],x;!(x=p.next()).done;)x.value&&C.push(x.value.slice());return C},wy=function(y){var p=123;if(y.createRange){var C=y.createRange();if(C.getBoundingClientRect){var x=y.createElement("boundtest");x.style.height=p+"px",x.style.display="block",y.body.appendChild(x),C.selectNode(x);var H=C.getBoundingClientRect(),W=Math.round(H.height);if(y.body.removeChild(x),W===p)return!0}}return!1},HC=function(y){var p=y.createElement("boundtest");p.style.width="50px",p.style.display="block",p.style.fontSize="12px",p.style.letterSpacing="0px",p.style.wordSpacing="0px",y.body.appendChild(p);var C=y.createRange();p.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var x=p.firstChild,H=u(x.data).map(function(fe){return c(fe)}),W=0,ne={},he=H.every(function(fe,Fe){C.setStart(x,W),C.setEnd(x,W+fe.length);var He=C.getBoundingClientRect();W+=fe.length;var We=He.x>ne.x||He.y>ne.y;return ne=He,Fe===0?!0:We});return y.body.removeChild(p),he},Bb=function(){return typeof new Image().crossOrigin<"u"},QA=function(){return typeof new XMLHttpRequest().responseType=="string"},VC=function(y){var p=new Image,C=y.createElement("canvas"),x=C.getContext("2d");if(!x)return!1;p.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{x.drawImage(p,0,0),C.toDataURL()}catch{return!1}return!0},_b=function(y){return y[0]===0&&y[1]===255&&y[2]===0&&y[3]===255},i4=function(y){var p=y.createElement("canvas"),C=100;p.width=C,p.height=C;var x=p.getContext("2d");if(!x)return Promise.reject(!1);x.fillStyle="rgb(0, 255, 0)",x.fillRect(0,0,C,C);var H=new Image,W=p.toDataURL();H.src=W;var ne=xy(C,C,0,0,H);return x.fillStyle="red",x.fillRect(0,0,C,C),Yf(ne).then(function(he){x.drawImage(he,0,0);var fe=x.getImageData(0,0,C,C).data;x.fillStyle="red",x.fillRect(0,0,C,C);var Fe=y.createElement("div");return Fe.style.backgroundImage="url("+W+")",Fe.style.height=C+"px",_b(fe)?Yf(xy(C,C,0,0,Fe)):Promise.reject(!1)}).then(function(he){return x.drawImage(he,0,0),_b(x.getImageData(0,0,C,C).data)}).catch(function(){return!1})},xy=function(y,p,C,x,H){var W="http://www.w3.org/2000/svg",ne=document.createElementNS(W,"svg"),he=document.createElementNS(W,"foreignObject");return ne.setAttributeNS(null,"width",y.toString()),ne.setAttributeNS(null,"height",p.toString()),he.setAttributeNS(null,"width","100%"),he.setAttributeNS(null,"height","100%"),he.setAttributeNS(null,"x",C.toString()),he.setAttributeNS(null,"y",x.toString()),he.setAttributeNS(null,"externalResourcesRequired","true"),ne.appendChild(he),he.appendChild(H),ne},Yf=function(y){return new Promise(function(p,C){var x=new Image;x.onload=function(){return p(x)},x.onerror=C,x.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(y))})},fo={get SUPPORT_RANGE_BOUNDS(){var y=wy(document);return Object.defineProperty(fo,"SUPPORT_RANGE_BOUNDS",{value:y}),y},get SUPPORT_WORD_BREAKING(){var y=fo.SUPPORT_RANGE_BOUNDS&&HC(document);return Object.defineProperty(fo,"SUPPORT_WORD_BREAKING",{value:y}),y},get SUPPORT_SVG_DRAWING(){var y=VC(document);return Object.defineProperty(fo,"SUPPORT_SVG_DRAWING",{value:y}),y},get SUPPORT_FOREIGNOBJECT_DRAWING(){var y=typeof Array.from=="function"&&typeof window.fetch=="function"?i4(document):Promise.resolve(!1);return Object.defineProperty(fo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:y}),y},get SUPPORT_CORS_IMAGES(){var y=Bb();return Object.defineProperty(fo,"SUPPORT_CORS_IMAGES",{value:y}),y},get SUPPORT_RESPONSE_TYPE(){var y=QA();return Object.defineProperty(fo,"SUPPORT_RESPONSE_TYPE",{value:y}),y},get SUPPORT_CORS_XHR(){var y="withCredentials"in new XMLHttpRequest;return Object.defineProperty(fo,"SUPPORT_CORS_XHR",{value:y}),y},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var y=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(fo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:y}),y}},ap=(function(){function y(p,C){this.text=p,this.bounds=C}return y})(),s4=function(y,p,C,x){var H=Cy(p,C),W=[],ne=0;return H.forEach(function(he){if(C.textDecorationLine.length||he.trim().length>0)if(fo.SUPPORT_RANGE_BOUNDS){var fe=zC(x,ne,he.length).getClientRects();if(fe.length>1){var Fe=Xf(he),He=0;Fe.forEach(function(ht){W.push(new ap(ht,s.fromDOMRectList(y,zC(x,He+ne,ht.length).getClientRects()))),He+=ht.length})}else W.push(new ap(he,s.fromDOMRectList(y,fe)))}else{var We=x.splitText(he.length);W.push(new ap(he,qC(y,x))),x=We}else fo.SUPPORT_RANGE_BOUNDS||(x=x.splitText(he.length));ne+=he.length}),W},qC=function(y,p){var C=p.ownerDocument;if(C){var x=C.createElement("html2canvaswrapper");x.appendChild(p.cloneNode(!0));var H=p.parentNode;if(H){H.replaceChild(x,p);var W=o(y,x);return x.firstChild&&H.replaceChild(x.firstChild,x),W}}return s.EMPTY},zC=function(y,p,C){var x=y.ownerDocument;if(!x)throw new Error("Node has no owner document");var H=x.createRange();return H.setStart(y,p),H.setEnd(y,p+C),H},Xf=function(y){if(fo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var p=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(p.segment(y)).map(function(C){return C.segment})}return a4(y)},Eb=function(y,p){if(fo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var C=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(C.segment(y)).map(function(x){return x.segment})}return HA(y,p)},Cy=function(y,p){return p.letterSpacing!==0?Xf(y):Eb(y,p)},_d=[32,160,4961,65792,65793,4153,4241],HA=function(y,p){for(var C=St(y,{lineBreak:p.lineBreak,wordBreak:p.overflowWrap==="break-word"?"break-word":p.wordBreak}),x=[],H,W=function(){if(H.value){var ne=H.value.slice(),he=u(ne),fe="";he.forEach(function(Fe){_d.indexOf(Fe)===-1?fe+=c(Fe):(fe.length&&x.push(fe),x.push(c(Fe)),fe="")}),fe.length&&x.push(fe)}};!(H=C.next()).done;)W();return x},VA=(function(){function y(p,C,x){this.text=Iy(C.data,x.textTransform),this.textBounds=s4(p,this.text,x,C)}return y})(),Iy=function(y,p){switch(p){case 1:return y.toLowerCase();case 3:return y.replace(Tb,jC);case 2:return y.toUpperCase();default:return y}},Tb=/(^|\s|:|-|\(|\))([a-z])/g,jC=function(y,p,C){return y.length>0?p+C.toUpperCase():y},KC=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this;return H.src=x.currentSrc||x.src,H.intrinsicWidth=x.naturalWidth,H.intrinsicHeight=x.naturalHeight,H.context.cache.addImage(H.src),H}return p})(Xn),Ny=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this;return H.canvas=x,H.intrinsicWidth=x.width,H.intrinsicHeight=x.height,H}return p})(Xn),Sy=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this,W=new XMLSerializer,ne=o(C,x);return x.setAttribute("width",ne.width+"px"),x.setAttribute("height",ne.height+"px"),H.svg="data:image/svg+xml,"+encodeURIComponent(W.serializeToString(x)),H.intrinsicWidth=x.width.baseVal.value,H.intrinsicHeight=x.height.baseVal.value,H.context.cache.addImage(H.svg),H}return p})(Xn),RM=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this;return H.value=x.value,H}return p})(Xn),o4=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this;return H.start=x.start,H.reversed=typeof x.reversed=="boolean"&&x.reversed===!0,H}return p})(Xn),Zre=[{type:15,flags:0,unit:"px",number:3}],ene=[{type:16,flags:0,number:50}],tne=function(y){return y.width>y.height?new s(y.left+(y.width-y.height)/2,y.top,y.height,y.height):y.width<y.height?new s(y.left,y.top+(y.height-y.width)/2,y.width,y.width):y},rne=function(y){var p=y.type===nne?new Array(y.value.length+1).join("\u2022"):y.value;return p.length===0?y.placeholder||"":p},GC="checkbox",WC="radio",nne="password",UM=707406591,l4=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this;switch(H.type=x.type.toLowerCase(),H.checked=x.checked,H.value=rne(x),(H.type===GC||H.type===WC)&&(H.styles.backgroundColor=3739148031,H.styles.borderTopColor=H.styles.borderRightColor=H.styles.borderBottomColor=H.styles.borderLeftColor=2779096575,H.styles.borderTopWidth=H.styles.borderRightWidth=H.styles.borderBottomWidth=H.styles.borderLeftWidth=1,H.styles.borderTopStyle=H.styles.borderRightStyle=H.styles.borderBottomStyle=H.styles.borderLeftStyle=1,H.styles.backgroundClip=[0],H.styles.backgroundOrigin=[0],H.bounds=tne(H.bounds)),H.type){case GC:H.styles.borderTopRightRadius=H.styles.borderTopLeftRadius=H.styles.borderBottomRightRadius=H.styles.borderBottomLeftRadius=Zre;break;case WC:H.styles.borderTopRightRadius=H.styles.borderTopLeftRadius=H.styles.borderBottomRightRadius=H.styles.borderBottomLeftRadius=ene;break}return H}return p})(Xn),DM=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this,W=x.options[x.selectedIndex||0];return H.value=W&&W.text||"",H}return p})(Xn),MM=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this;return H.value=x.value,H}return p})(Xn),OM=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this;H.src=x.src,H.width=parseInt(x.width,10)||0,H.height=parseInt(x.height,10)||0,H.backgroundColor=H.styles.backgroundColor;try{if(x.contentWindow&&x.contentWindow.document&&x.contentWindow.document.documentElement){H.tree=HM(C,x.contentWindow.document.documentElement);var W=x.contentWindow.document.documentElement?dl(C,getComputedStyle(x.contentWindow.document.documentElement).backgroundColor):uo.TRANSPARENT,ne=x.contentWindow.document.body?dl(C,getComputedStyle(x.contentWindow.document.body).backgroundColor):uo.TRANSPARENT;H.backgroundColor=Us(W)?Us(ne)?H.styles.backgroundColor:ne:W}}catch{}return H}return p})(Xn),ane=["OL","UL","MENU"],$C=function(y,p,C,x){for(var H=p.firstChild,W=void 0;H;H=W)if(W=H.nextSibling,VM(H)&&H.data.trim().length>0)C.textNodes.push(new VA(y,H,C.styles));else if(By(H))if(WM(H)&&H.assignedNodes)H.assignedNodes().forEach(function(he){return $C(y,he,C,x)});else{var ne=QM(y,H);ne.styles.isVisible()&&(ine(H,ne,x)?ne.flags|=4:sne(ne.styles)&&(ne.flags|=2),ane.indexOf(H.tagName)!==-1&&(ne.flags|=8),C.elements.push(ne),H.slot,H.shadowRoot?$C(y,H.shadowRoot,ne,x):!XC(H)&&!qM(H)&&!JC(H)&&$C(y,H,ne,x))}},QM=function(y,p){return d4(p)?new KC(y,p):zM(p)?new Ny(y,p):qM(p)?new Sy(y,p):one(p)?new RM(y,p):lne(p)?new o4(y,p):une(p)?new l4(y,p):JC(p)?new DM(y,p):XC(p)?new MM(y,p):KM(p)?new OM(y,p):new Xn(y,p)},HM=function(y,p){var C=QM(y,p);return C.flags|=4,$C(y,p,C,C),C},ine=function(y,p,C){return p.styles.isPositionedWithZIndex()||p.styles.opacity<1||p.styles.isTransformed()||c4(y)&&C.styles.isTransparent()},sne=function(y){return y.isPositioned()||y.isFloating()},VM=function(y){return y.nodeType===Node.TEXT_NODE},By=function(y){return y.nodeType===Node.ELEMENT_NODE},u4=function(y){return By(y)&&typeof y.style<"u"&&!YC(y)},YC=function(y){return typeof y.className=="object"},one=function(y){return y.tagName==="LI"},lne=function(y){return y.tagName==="OL"},une=function(y){return y.tagName==="INPUT"},cne=function(y){return y.tagName==="HTML"},qM=function(y){return y.tagName==="svg"},c4=function(y){return y.tagName==="BODY"},zM=function(y){return y.tagName==="CANVAS"},jM=function(y){return y.tagName==="VIDEO"},d4=function(y){return y.tagName==="IMG"},KM=function(y){return y.tagName==="IFRAME"},GM=function(y){return y.tagName==="STYLE"},dne=function(y){return y.tagName==="SCRIPT"},XC=function(y){return y.tagName==="TEXTAREA"},JC=function(y){return y.tagName==="SELECT"},WM=function(y){return y.tagName==="SLOT"},$M=function(y){return y.tagName.indexOf("-")>0},Ane=(function(){function y(){this.counters={}}return y.prototype.getCounterValue=function(p){var C=this.counters[p];return C&&C.length?C[C.length-1]:1},y.prototype.getCounterValues=function(p){var C=this.counters[p];return C||[]},y.prototype.pop=function(p){var C=this;p.forEach(function(x){return C.counters[x].pop()})},y.prototype.parse=function(p){var C=this,x=p.counterIncrement,H=p.counterReset,W=!0;x!==null&&x.forEach(function(he){var fe=C.counters[he.counter];fe&&he.increment!==0&&(W=!1,fe.length||fe.push(1),fe[Math.max(0,fe.length-1)]+=he.increment)});var ne=[];return W&&H.forEach(function(he){var fe=C.counters[he.counter];ne.push(he.counter),fe||(fe=C.counters[he.counter]=[]),fe.push(he.reset)}),ne},y})(),YM={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},XM={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},fne={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},hne={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},_y=function(y,p,C,x,H,W){return y<p||y>C?Pb(y,H,W.length>0):x.integers.reduce(function(ne,he,fe){for(;y>=he;)y-=he,ne+=x.values[fe];return ne},"")+W},JM=function(y,p,C,x){var H="";do C||y--,H=x(y)+H,y/=p;while(y*p>=p);return H},vs=function(y,p,C,x,H){var W=C-p+1;return(y<0?"-":"")+(JM(Math.abs(y),W,x,function(ne){return c(Math.floor(ne%W)+p)})+H)},Km=function(y,p,C){C===void 0&&(C=". ");var x=p.length;return JM(Math.abs(y),x,!1,function(H){return p[Math.floor(H%x)]})+C},Ey=1,ip=2,sp=4,Lb=8,Jf=function(y,p,C,x,H,W){if(y<-9999||y>9999)return Pb(y,4,H.length>0);var ne=Math.abs(y),he=H;if(ne===0)return p[0]+he;for(var fe=0;ne>0&&fe<=4;fe++){var Fe=ne%10;Fe===0&&ze(W,Ey)&&he!==""?he=p[Fe]+he:Fe>1||Fe===1&&fe===0||Fe===1&&fe===1&&ze(W,ip)||Fe===1&&fe===1&&ze(W,sp)&&y>100||Fe===1&&fe>1&&ze(W,Lb)?he=p[Fe]+(fe>0?C[fe-1]:"")+he:Fe===1&&fe>0&&(he=C[fe-1]+he),ne=Math.floor(ne/10)}return(y<0?x:"")+he},ZM="\u5341\u767E\u5343\u842C",eO="\u62FE\u4F70\u4EDF\u842C",tO="\u30DE\u30A4\u30CA\u30B9",A4="\uB9C8\uC774\uB108\uC2A4",Pb=function(y,p,C){var x=C?". ":"",H=C?"\u3001":"",W=C?", ":"",ne=C?" ":"";switch(p){case 0:return"\u2022"+ne;case 1:return"\u25E6"+ne;case 2:return"\u25FE"+ne;case 5:var he=vs(y,48,57,!0,x);return he.length<4?"0"+he:he;case 4:return Km(y,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",H);case 6:return _y(y,1,3999,YM,3,x).toLowerCase();case 7:return _y(y,1,3999,YM,3,x);case 8:return vs(y,945,969,!1,x);case 9:return vs(y,97,122,!1,x);case 10:return vs(y,65,90,!1,x);case 11:return vs(y,1632,1641,!0,x);case 12:case 49:return _y(y,1,9999,XM,3,x);case 35:return _y(y,1,9999,XM,3,x).toLowerCase();case 13:return vs(y,2534,2543,!0,x);case 14:case 30:return vs(y,6112,6121,!0,x);case 15:return Km(y,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",H);case 16:return Km(y,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",H);case 17:case 48:return Jf(y,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",ZM,"\u8CA0",H,ip|sp|Lb);case 47:return Jf(y,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",eO,"\u8CA0",H,Ey|ip|sp|Lb);case 42:return Jf(y,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",ZM,"\u8D1F",H,ip|sp|Lb);case 41:return Jf(y,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",eO,"\u8D1F",H,Ey|ip|sp|Lb);case 26:return Jf(y,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",tO,H,0);case 25:return Jf(y,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",tO,H,Ey|ip|sp);case 31:return Jf(y,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",A4,W,Ey|ip|sp);case 33:return Jf(y,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",A4,W,0);case 32:return Jf(y,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",A4,W,Ey|ip|sp);case 18:return vs(y,2406,2415,!0,x);case 20:return _y(y,1,19999,hne,3,x);case 21:return vs(y,2790,2799,!0,x);case 22:return vs(y,2662,2671,!0,x);case 22:return _y(y,1,10999,fne,3,x);case 23:return Km(y,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Km(y,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return vs(y,3302,3311,!0,x);case 28:return Km(y,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",H);case 29:return Km(y,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",H);case 34:return vs(y,3792,3801,!0,x);case 37:return vs(y,6160,6169,!0,x);case 38:return vs(y,4160,4169,!0,x);case 39:return vs(y,2918,2927,!0,x);case 40:return vs(y,1776,1785,!0,x);case 43:return vs(y,3046,3055,!0,x);case 44:return vs(y,3174,3183,!0,x);case 45:return vs(y,3664,3673,!0,x);case 46:return vs(y,3872,3881,!0,x);case 3:default:return vs(y,48,57,!0,x)}},rO="data-html2canvas-ignore",nO=(function(){function y(p,C,x){if(this.context=p,this.options=x,this.scrolledElements=[],this.referenceElement=C,this.counters=new Ane,this.quoteDepth=0,!C.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(C.ownerDocument.documentElement,!1)}return y.prototype.toIFrame=function(p,C){var x=this,H=pne(p,C);if(!H.contentWindow)return Promise.reject("Unable to find iframe window");var W=p.defaultView.pageXOffset,ne=p.defaultView.pageYOffset,he=H.contentWindow,fe=he.document,Fe=yne(H).then(function(){return n(x,void 0,void 0,function(){var He,We;return a(this,function(ht){switch(ht.label){case 0:return this.scrolledElements.forEach(xne),he&&(he.scrollTo(C.left,C.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(he.scrollY!==C.top||he.scrollX!==C.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(he.scrollX-C.left,he.scrollY-C.top,0,0))),He=this.options.onclone,We=this.clonedReferenceElement,typeof We>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:fe.fonts&&fe.fonts.ready?[4,fe.fonts.ready]:[3,2];case 1:ht.sent(),ht.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,gne(fe)]:[3,4];case 3:ht.sent(),ht.label=4;case 4:return typeof He=="function"?[2,Promise.resolve().then(function(){return He(fe,We)}).then(function(){return H})]:[2,H]}})})});return fe.open(),fe.write(bne(document.doctype)+"<html></html>"),wne(this.referenceElement.ownerDocument,W,ne),fe.replaceChild(fe.adoptNode(this.documentElement),fe.documentElement),fe.close(),Fe},y.prototype.createElementClone=function(p){if(Qn(p,2))debugger;if(zM(p))return this.createCanvasClone(p);if(jM(p))return this.createVideoClone(p);if(GM(p))return this.createStyleClone(p);var C=p.cloneNode(!1);return d4(C)&&(d4(p)&&p.currentSrc&&p.currentSrc!==p.src&&(C.src=p.currentSrc,C.srcset=""),C.loading==="lazy"&&(C.loading="eager")),$M(C)?this.createCustomElementClone(C):C},y.prototype.createCustomElementClone=function(p){var C=document.createElement("html2canvascustomelement");return f4(p.style,C),C},y.prototype.createStyleClone=function(p){try{var C=p.sheet;if(C&&C.cssRules){var x=[].slice.call(C.cssRules,0).reduce(function(W,ne){return ne&&typeof ne.cssText=="string"?W+ne.cssText:W},""),H=p.cloneNode(!1);return H.textContent=x,H}}catch(W){if(this.context.logger.error("Unable to access cssRules property",W),W.name!=="SecurityError")throw W}return p.cloneNode(!1)},y.prototype.createCanvasClone=function(p){var C;if(this.options.inlineImages&&p.ownerDocument){var x=p.ownerDocument.createElement("img");try{return x.src=p.toDataURL(),x}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",p)}}var H=p.cloneNode(!1);try{H.width=p.width,H.height=p.height;var W=p.getContext("2d"),ne=H.getContext("2d");if(ne)if(!this.options.allowTaint&&W)ne.putImageData(W.getImageData(0,0,p.width,p.height),0,0);else{var he=(C=p.getContext("webgl2"))!==null&&C!==void 0?C:p.getContext("webgl");if(he){var fe=he.getContextAttributes();fe?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",p)}ne.drawImage(p,0,0)}return H}catch{this.context.logger.info("Unable to clone canvas as it is tainted",p)}return H},y.prototype.createVideoClone=function(p){var C=p.ownerDocument.createElement("canvas");C.width=p.offsetWidth,C.height=p.offsetHeight;var x=C.getContext("2d");try{return x&&(x.drawImage(p,0,0,C.width,C.height),this.options.allowTaint||x.getImageData(0,0,C.width,C.height)),C}catch{this.context.logger.info("Unable to clone video as it is tainted",p)}var H=p.ownerDocument.createElement("canvas");return H.width=p.offsetWidth,H.height=p.offsetHeight,H},y.prototype.appendChildNode=function(p,C,x){(!By(C)||!dne(C)&&!C.hasAttribute(rO)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(C)))&&(!this.options.copyStyles||!By(C)||!GM(C))&&p.appendChild(this.cloneNode(C,x))},y.prototype.cloneChildNodes=function(p,C,x){for(var H=this,W=p.shadowRoot?p.shadowRoot.firstChild:p.firstChild;W;W=W.nextSibling)if(By(W)&&WM(W)&&typeof W.assignedNodes=="function"){var ne=W.assignedNodes();ne.length&&ne.forEach(function(he){return H.appendChildNode(C,he,x)})}else this.appendChildNode(C,W,x)},y.prototype.cloneNode=function(p,C){if(VM(p))return document.createTextNode(p.data);if(!p.ownerDocument)return p.cloneNode(!1);var x=p.ownerDocument.defaultView;if(x&&By(p)&&(u4(p)||YC(p))){var H=this.createElementClone(p);H.style.transitionProperty="none";var W=x.getComputedStyle(p),ne=x.getComputedStyle(p,":before"),he=x.getComputedStyle(p,":after");this.referenceElement===p&&u4(H)&&(this.clonedReferenceElement=H),c4(H)&&Nne(H);var fe=this.counters.parse(new er(this.context,W)),Fe=this.resolvePseudoContent(p,H,ne,kb.BEFORE);$M(p)&&(C=!0),jM(p)||this.cloneChildNodes(p,H,C),Fe&&H.insertBefore(Fe,H.firstChild);var He=this.resolvePseudoContent(p,H,he,kb.AFTER);return He&&H.appendChild(He),this.counters.pop(fe),(W&&(this.options.copyStyles||YC(p))&&!KM(p)||C)&&f4(W,H),(p.scrollTop!==0||p.scrollLeft!==0)&&this.scrolledElements.push([H,p.scrollLeft,p.scrollTop]),(XC(p)||JC(p))&&(XC(H)||JC(H))&&(H.value=p.value),H}return p.cloneNode(!1)},y.prototype.resolvePseudoContent=function(p,C,x,H){var W=this;if(x){var ne=x.content,he=C.ownerDocument;if(!(!he||!ne||ne==="none"||ne==="-moz-alt-content"||x.display==="none")){this.counters.parse(new er(this.context,x));var fe=new Zr(this.context,x),Fe=he.createElement("html2canvaspseudoelement");f4(x,Fe),fe.content.forEach(function(We){if(We.type===0)Fe.appendChild(he.createTextNode(We.value));else if(We.type===22){var ht=he.createElement("img");ht.src=We.value,ht.style.opacity="1",Fe.appendChild(ht)}else if(We.type===18){if(We.name==="attr"){var br=We.values.filter(ae);br.length&&Fe.appendChild(he.createTextNode(p.getAttribute(br[0].value)||""))}else if(We.name==="counter"){var Gt=We.values.filter(tn),ur=Gt[0],Un=Gt[1];if(ur&&ae(ur)){var Hr=W.counters.getCounterValue(ur.value),Dr=Un&&ae(Un)?Al.parse(W.context,Un.value):3;Fe.appendChild(he.createTextNode(Pb(Hr,Dr,!1)))}}else if(We.name==="counters"){var Ba=We.values.filter(tn),ur=Ba[0],Hn=Ba[1],Un=Ba[2];if(ur&&ae(ur)){var hn=W.counters.getCounterValues(ur.value),mr=Un&&ae(Un)?Al.parse(W.context,Un.value):3,ga=Hn&&Hn.type===0?Hn.value:"",ya=hn.map(function(xu){return Pb(xu,mr,!1)}).join(ga);Fe.appendChild(he.createTextNode(ya))}}}else if(We.type===20)switch(We.value){case"open-quote":Fe.appendChild(he.createTextNode(Me(fe.quotes,W.quoteDepth++,!0)));break;case"close-quote":Fe.appendChild(he.createTextNode(Me(fe.quotes,--W.quoteDepth,!1)));break;default:Fe.appendChild(he.createTextNode(We.value))}}),Fe.className=h4+" "+p4;var He=H===kb.BEFORE?" "+h4:" "+p4;return YC(C)?C.className.baseValue+=He:C.className+=He,Fe}}},y.destroy=function(p){return p.parentNode?(p.parentNode.removeChild(p),!0):!1},y})(),kb;(function(y){y[y.BEFORE=0]="BEFORE",y[y.AFTER=1]="AFTER"})(kb||(kb={}));var pne=function(y,p){var C=y.createElement("iframe");return C.className="html2canvas-container",C.style.visibility="hidden",C.style.position="fixed",C.style.left="-10000px",C.style.top="0px",C.style.border="0",C.width=p.width.toString(),C.height=p.height.toString(),C.scrolling="no",C.setAttribute(rO,"true"),y.body.appendChild(C),C},mne=function(y){return new Promise(function(p){if(y.complete){p();return}if(!y.src){p();return}y.onload=p,y.onerror=p})},gne=function(y){return Promise.all([].slice.call(y.images,0).map(mne))},yne=function(y){return new Promise(function(p,C){var x=y.contentWindow;if(!x)return C("No window assigned for iframe");var H=x.document;x.onload=y.onload=function(){x.onload=y.onload=null;var W=setInterval(function(){H.body.childNodes.length>0&&H.readyState==="complete"&&(clearInterval(W),p(y))},50)}})},vne=["all","d","content"],f4=function(y,p){for(var C=y.length-1;C>=0;C--){var x=y.item(C);vne.indexOf(x)===-1&&p.style.setProperty(x,y.getPropertyValue(x))}return p},bne=function(y){var p="";return y&&(p+="<!DOCTYPE ",y.name&&(p+=y.name),y.internalSubset&&(p+=y.internalSubset),y.publicId&&(p+='"'+y.publicId+'"'),y.systemId&&(p+='"'+y.systemId+'"'),p+=">"),p},wne=function(y,p,C){y&&y.defaultView&&(p!==y.defaultView.pageXOffset||C!==y.defaultView.pageYOffset)&&y.defaultView.scrollTo(p,C)},xne=function(y){var p=y[0],C=y[1],x=y[2];p.scrollLeft=C,p.scrollTop=x},Cne=":before",Ine=":after",h4="___html2canvas___pseudoelement_before",p4="___html2canvas___pseudoelement_after",aO=`{
    content: "" !important;
    display: none !important;
}`,Nne=function(y){Sne(y,"."+h4+Cne+aO+`
         .`+p4+Ine+aO)},Sne=function(y,p){var C=y.ownerDocument;if(C){var x=C.createElement("style");x.textContent=p,y.appendChild(x)}},iO=(function(){function y(){}return y.getOrigin=function(p){var C=y._link;return C?(C.href=p,C.href=C.href,C.protocol+C.hostname+C.port):"about:blank"},y.isSameOrigin=function(p){return y.getOrigin(p)===y._origin},y.setContext=function(p){y._link=p.document.createElement("a"),y._origin=y.getOrigin(p.location.href)},y._origin="about:blank",y})(),Bne=(function(){function y(p,C){this.context=p,this._options=C,this._cache={}}return y.prototype.addImage=function(p){var C=Promise.resolve();return this.has(p)||(g4(p)||Lne(p))&&(this._cache[p]=this.loadImage(p)).catch(function(){}),C},y.prototype.match=function(p){return this._cache[p]},y.prototype.loadImage=function(p){return n(this,void 0,void 0,function(){var C,x,H,W,ne=this;return a(this,function(he){switch(he.label){case 0:return C=iO.isSameOrigin(p),x=!m4(p)&&this._options.useCORS===!0&&fo.SUPPORT_CORS_IMAGES&&!C,H=!m4(p)&&!C&&!g4(p)&&typeof this._options.proxy=="string"&&fo.SUPPORT_CORS_XHR&&!x,!C&&this._options.allowTaint===!1&&!m4(p)&&!g4(p)&&!H&&!x?[2]:(W=p,H?[4,this.proxy(W)]:[3,2]);case 1:W=he.sent(),he.label=2;case 2:return this.context.logger.debug("Added image "+p.substring(0,256)),[4,new Promise(function(fe,Fe){var He=new Image;He.onload=function(){return fe(He)},He.onerror=Fe,(Pne(W)||x)&&(He.crossOrigin="anonymous"),He.src=W,He.complete===!0&&setTimeout(function(){return fe(He)},500),ne._options.imageTimeout>0&&setTimeout(function(){return Fe("Timed out ("+ne._options.imageTimeout+"ms) loading image")},ne._options.imageTimeout)})];case 3:return[2,he.sent()]}})})},y.prototype.has=function(p){return typeof this._cache[p]<"u"},y.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},y.prototype.proxy=function(p){var C=this,x=this._options.proxy;if(!x)throw new Error("No proxy defined");var H=p.substring(0,256);return new Promise(function(W,ne){var he=fo.SUPPORT_RESPONSE_TYPE?"blob":"text",fe=new XMLHttpRequest;fe.onload=function(){if(fe.status===200)if(he==="text")W(fe.response);else{var We=new FileReader;We.addEventListener("load",function(){return W(We.result)},!1),We.addEventListener("error",function(ht){return ne(ht)},!1),We.readAsDataURL(fe.response)}else ne("Failed to proxy resource "+H+" with status code "+fe.status)},fe.onerror=ne;var Fe=x.indexOf("?")>-1?"&":"?";if(fe.open("GET",""+x+Fe+"url="+encodeURIComponent(p)+"&responseType="+he),he!=="text"&&fe instanceof XMLHttpRequest&&(fe.responseType=he),C._options.imageTimeout){var He=C._options.imageTimeout;fe.timeout=He,fe.ontimeout=function(){return ne("Timed out ("+He+"ms) proxying "+H)}}fe.send()})},y})(),_ne=/^data:image\/svg\+xml/i,Ene=/^data:image\/.*;base64,/i,Tne=/^data:image\/.*/i,Lne=function(y){return fo.SUPPORT_SVG_DRAWING||!kne(y)},m4=function(y){return Tne.test(y)},Pne=function(y){return Ene.test(y)},g4=function(y){return y.substr(0,4)==="blob"},kne=function(y){return y.substr(-3).toLowerCase()==="svg"||_ne.test(y)},pr=(function(){function y(p,C){this.type=0,this.x=p,this.y=C}return y.prototype.add=function(p,C){return new y(this.x+p,this.y+C)},y})(),Ty=function(y,p,C){return new pr(y.x+(p.x-y.x)*C,y.y+(p.y-y.y)*C)},ZC=(function(){function y(p,C,x,H){this.type=1,this.start=p,this.startControl=C,this.endControl=x,this.end=H}return y.prototype.subdivide=function(p,C){var x=Ty(this.start,this.startControl,p),H=Ty(this.startControl,this.endControl,p),W=Ty(this.endControl,this.end,p),ne=Ty(x,H,p),he=Ty(H,W,p),fe=Ty(ne,he,p);return C?new y(this.start,x,ne,fe):new y(fe,he,W,this.end)},y.prototype.add=function(p,C){return new y(this.start.add(p,C),this.startControl.add(p,C),this.endControl.add(p,C),this.end.add(p,C))},y.prototype.reverse=function(){return new y(this.end,this.endControl,this.startControl,this.start)},y})(),Qc=function(y){return y.type===1},Fne=(function(){function y(p){var C=p.styles,x=p.bounds,H=vd(C.borderTopLeftRadius,x.width,x.height),W=H[0],ne=H[1],he=vd(C.borderTopRightRadius,x.width,x.height),fe=he[0],Fe=he[1],He=vd(C.borderBottomRightRadius,x.width,x.height),We=He[0],ht=He[1],br=vd(C.borderBottomLeftRadius,x.width,x.height),Gt=br[0],ur=br[1],Un=[];Un.push((W+fe)/x.width),Un.push((Gt+We)/x.width),Un.push((ne+ur)/x.height),Un.push((Fe+ht)/x.height);var Hr=Math.max.apply(Math,Un);Hr>1&&(W/=Hr,ne/=Hr,fe/=Hr,Fe/=Hr,We/=Hr,ht/=Hr,Gt/=Hr,ur/=Hr);var Dr=x.width-fe,Ba=x.height-ht,Hn=x.width-We,hn=x.height-ur,mr=C.borderTopWidth,ga=C.borderRightWidth,ya=C.borderBottomWidth,mn=C.borderLeftWidth,Ms=wa(C.paddingTop,p.bounds.width),xu=wa(C.paddingRight,p.bounds.width),ic=wa(C.paddingBottom,p.bounds.width),Za=wa(C.paddingLeft,p.bounds.width);this.topLeftBorderDoubleOuterBox=W>0||ne>0?Mi(x.left+mn/3,x.top+mr/3,W-mn/3,ne-mr/3,Ha.TOP_LEFT):new pr(x.left+mn/3,x.top+mr/3),this.topRightBorderDoubleOuterBox=W>0||ne>0?Mi(x.left+Dr,x.top+mr/3,fe-ga/3,Fe-mr/3,Ha.TOP_RIGHT):new pr(x.left+x.width-ga/3,x.top+mr/3),this.bottomRightBorderDoubleOuterBox=We>0||ht>0?Mi(x.left+Hn,x.top+Ba,We-ga/3,ht-ya/3,Ha.BOTTOM_RIGHT):new pr(x.left+x.width-ga/3,x.top+x.height-ya/3),this.bottomLeftBorderDoubleOuterBox=Gt>0||ur>0?Mi(x.left+mn/3,x.top+hn,Gt-mn/3,ur-ya/3,Ha.BOTTOM_LEFT):new pr(x.left+mn/3,x.top+x.height-ya/3),this.topLeftBorderDoubleInnerBox=W>0||ne>0?Mi(x.left+mn*2/3,x.top+mr*2/3,W-mn*2/3,ne-mr*2/3,Ha.TOP_LEFT):new pr(x.left+mn*2/3,x.top+mr*2/3),this.topRightBorderDoubleInnerBox=W>0||ne>0?Mi(x.left+Dr,x.top+mr*2/3,fe-ga*2/3,Fe-mr*2/3,Ha.TOP_RIGHT):new pr(x.left+x.width-ga*2/3,x.top+mr*2/3),this.bottomRightBorderDoubleInnerBox=We>0||ht>0?Mi(x.left+Hn,x.top+Ba,We-ga*2/3,ht-ya*2/3,Ha.BOTTOM_RIGHT):new pr(x.left+x.width-ga*2/3,x.top+x.height-ya*2/3),this.bottomLeftBorderDoubleInnerBox=Gt>0||ur>0?Mi(x.left+mn*2/3,x.top+hn,Gt-mn*2/3,ur-ya*2/3,Ha.BOTTOM_LEFT):new pr(x.left+mn*2/3,x.top+x.height-ya*2/3),this.topLeftBorderStroke=W>0||ne>0?Mi(x.left+mn/2,x.top+mr/2,W-mn/2,ne-mr/2,Ha.TOP_LEFT):new pr(x.left+mn/2,x.top+mr/2),this.topRightBorderStroke=W>0||ne>0?Mi(x.left+Dr,x.top+mr/2,fe-ga/2,Fe-mr/2,Ha.TOP_RIGHT):new pr(x.left+x.width-ga/2,x.top+mr/2),this.bottomRightBorderStroke=We>0||ht>0?Mi(x.left+Hn,x.top+Ba,We-ga/2,ht-ya/2,Ha.BOTTOM_RIGHT):new pr(x.left+x.width-ga/2,x.top+x.height-ya/2),this.bottomLeftBorderStroke=Gt>0||ur>0?Mi(x.left+mn/2,x.top+hn,Gt-mn/2,ur-ya/2,Ha.BOTTOM_LEFT):new pr(x.left+mn/2,x.top+x.height-ya/2),this.topLeftBorderBox=W>0||ne>0?Mi(x.left,x.top,W,ne,Ha.TOP_LEFT):new pr(x.left,x.top),this.topRightBorderBox=fe>0||Fe>0?Mi(x.left+Dr,x.top,fe,Fe,Ha.TOP_RIGHT):new pr(x.left+x.width,x.top),this.bottomRightBorderBox=We>0||ht>0?Mi(x.left+Hn,x.top+Ba,We,ht,Ha.BOTTOM_RIGHT):new pr(x.left+x.width,x.top+x.height),this.bottomLeftBorderBox=Gt>0||ur>0?Mi(x.left,x.top+hn,Gt,ur,Ha.BOTTOM_LEFT):new pr(x.left,x.top+x.height),this.topLeftPaddingBox=W>0||ne>0?Mi(x.left+mn,x.top+mr,Math.max(0,W-mn),Math.max(0,ne-mr),Ha.TOP_LEFT):new pr(x.left+mn,x.top+mr),this.topRightPaddingBox=fe>0||Fe>0?Mi(x.left+Math.min(Dr,x.width-ga),x.top+mr,Dr>x.width+ga?0:Math.max(0,fe-ga),Math.max(0,Fe-mr),Ha.TOP_RIGHT):new pr(x.left+x.width-ga,x.top+mr),this.bottomRightPaddingBox=We>0||ht>0?Mi(x.left+Math.min(Hn,x.width-mn),x.top+Math.min(Ba,x.height-ya),Math.max(0,We-ga),Math.max(0,ht-ya),Ha.BOTTOM_RIGHT):new pr(x.left+x.width-ga,x.top+x.height-ya),this.bottomLeftPaddingBox=Gt>0||ur>0?Mi(x.left+mn,x.top+Math.min(hn,x.height-ya),Math.max(0,Gt-mn),Math.max(0,ur-ya),Ha.BOTTOM_LEFT):new pr(x.left+mn,x.top+x.height-ya),this.topLeftContentBox=W>0||ne>0?Mi(x.left+mn+Za,x.top+mr+Ms,Math.max(0,W-(mn+Za)),Math.max(0,ne-(mr+Ms)),Ha.TOP_LEFT):new pr(x.left+mn+Za,x.top+mr+Ms),this.topRightContentBox=fe>0||Fe>0?Mi(x.left+Math.min(Dr,x.width+mn+Za),x.top+mr+Ms,Dr>x.width+mn+Za?0:fe-mn+Za,Fe-(mr+Ms),Ha.TOP_RIGHT):new pr(x.left+x.width-(ga+xu),x.top+mr+Ms),this.bottomRightContentBox=We>0||ht>0?Mi(x.left+Math.min(Hn,x.width-(mn+Za)),x.top+Math.min(Ba,x.height+mr+Ms),Math.max(0,We-(ga+xu)),ht-(ya+ic),Ha.BOTTOM_RIGHT):new pr(x.left+x.width-(ga+xu),x.top+x.height-(ya+ic)),this.bottomLeftContentBox=Gt>0||ur>0?Mi(x.left+mn+Za,x.top+hn,Math.max(0,Gt-(mn+Za)),ur-(ya+ic),Ha.BOTTOM_LEFT):new pr(x.left+mn+Za,x.top+x.height-(ya+ic))}return y})(),Ha;(function(y){y[y.TOP_LEFT=0]="TOP_LEFT",y[y.TOP_RIGHT=1]="TOP_RIGHT",y[y.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",y[y.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ha||(Ha={}));var Mi=function(y,p,C,x,H){var W=4*((Math.sqrt(2)-1)/3),ne=C*W,he=x*W,fe=y+C,Fe=p+x;switch(H){case Ha.TOP_LEFT:return new ZC(new pr(y,Fe),new pr(y,Fe-he),new pr(fe-ne,p),new pr(fe,p));case Ha.TOP_RIGHT:return new ZC(new pr(y,p),new pr(y+ne,p),new pr(fe,Fe-he),new pr(fe,Fe));case Ha.BOTTOM_RIGHT:return new ZC(new pr(fe,p),new pr(fe,p+he),new pr(y+ne,Fe),new pr(y,Fe));case Ha.BOTTOM_LEFT:default:return new ZC(new pr(fe,Fe),new pr(fe-ne,Fe),new pr(y,p+he),new pr(y,p))}},eI=function(y){return[y.topLeftBorderBox,y.topRightBorderBox,y.bottomRightBorderBox,y.bottomLeftBorderBox]},Rne=function(y){return[y.topLeftContentBox,y.topRightContentBox,y.bottomRightContentBox,y.bottomLeftContentBox]},tI=function(y){return[y.topLeftPaddingBox,y.topRightPaddingBox,y.bottomRightPaddingBox,y.bottomLeftPaddingBox]},Une=(function(){function y(p,C,x){this.offsetX=p,this.offsetY=C,this.matrix=x,this.type=0,this.target=6}return y})(),rI=(function(){function y(p,C){this.path=p,this.target=C,this.type=1}return y})(),Dne=(function(){function y(p){this.opacity=p,this.type=2,this.target=6}return y})(),Mne=function(y){return y.type===0},sO=function(y){return y.type===1},One=function(y){return y.type===2},oO=function(y,p){return y.length===p.length?y.some(function(C,x){return C===p[x]}):!1},Qne=function(y,p,C,x,H){return y.map(function(W,ne){switch(ne){case 0:return W.add(p,C);case 1:return W.add(p+x,C);case 2:return W.add(p+x,C+H);case 3:return W.add(p,C+H)}return W})},lO=(function(){function y(p){this.element=p,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return y})(),uO=(function(){function y(p,C){if(this.container=p,this.parent=C,this.effects=[],this.curves=new Fne(this.container),this.container.styles.opacity<1&&this.effects.push(new Dne(this.container.styles.opacity)),this.container.styles.transform!==null){var x=this.container.bounds.left+this.container.styles.transformOrigin[0].number,H=this.container.bounds.top+this.container.styles.transformOrigin[1].number,W=this.container.styles.transform;this.effects.push(new Une(x,H,W))}if(this.container.styles.overflowX!==0){var ne=eI(this.curves),he=tI(this.curves);oO(ne,he)?this.effects.push(new rI(ne,6)):(this.effects.push(new rI(ne,2)),this.effects.push(new rI(he,4)))}}return y.prototype.getEffects=function(p){for(var C=[2,3].indexOf(this.container.styles.position)===-1,x=this.parent,H=this.effects.slice(0);x;){var W=x.effects.filter(function(fe){return!sO(fe)});if(C||x.container.styles.position!==0||!x.parent){if(H.unshift.apply(H,W),C=[2,3].indexOf(x.container.styles.position)===-1,x.container.styles.overflowX!==0){var ne=eI(x.curves),he=tI(x.curves);oO(ne,he)||H.unshift(new rI(he,6))}}else H.unshift.apply(H,W);x=x.parent}return H.filter(function(fe){return ze(fe.target,p)})},y})(),y4=function(y,p,C,x){y.container.elements.forEach(function(H){var W=ze(H.flags,4),ne=ze(H.flags,2),he=new uO(H,y);ze(H.styles.display,2048)&&x.push(he);var fe=ze(H.flags,8)?[]:x;if(W||ne){var Fe=W||H.styles.isPositioned()?C:p,He=new lO(he);if(H.styles.isPositioned()||H.styles.opacity<1||H.styles.isTransformed()){var We=H.styles.zIndex.order;if(We<0){var ht=0;Fe.negativeZIndex.some(function(Gt,ur){return We>Gt.element.container.styles.zIndex.order?(ht=ur,!1):ht>0}),Fe.negativeZIndex.splice(ht,0,He)}else if(We>0){var br=0;Fe.positiveZIndex.some(function(Gt,ur){return We>=Gt.element.container.styles.zIndex.order?(br=ur+1,!1):br>0}),Fe.positiveZIndex.splice(br,0,He)}else Fe.zeroOrAutoZIndexOrTransformedOrOpacity.push(He)}else H.styles.isFloating()?Fe.nonPositionedFloats.push(He):Fe.nonPositionedInlineLevel.push(He);y4(he,He,W?He:C,fe)}else H.styles.isInlineLevel()?p.inlineLevel.push(he):p.nonInlineLevel.push(he),y4(he,p,C,fe);ze(H.flags,8)&&cO(H,fe)})},cO=function(y,p){for(var C=y instanceof o4?y.start:1,x=y instanceof o4?y.reversed:!1,H=0;H<p.length;H++){var W=p[H];W.container instanceof RM&&typeof W.container.value=="number"&&W.container.value!==0&&(C=W.container.value),W.listValue=Pb(C,W.container.styles.listStyleType,!0),C+=x?-1:1}},Hne=function(y){var p=new uO(y,null),C=new lO(p),x=[];return y4(p,C,C,x),cO(p.container,x),C},dO=function(y,p){switch(p){case 0:return Hc(y.topLeftBorderBox,y.topLeftPaddingBox,y.topRightBorderBox,y.topRightPaddingBox);case 1:return Hc(y.topRightBorderBox,y.topRightPaddingBox,y.bottomRightBorderBox,y.bottomRightPaddingBox);case 2:return Hc(y.bottomRightBorderBox,y.bottomRightPaddingBox,y.bottomLeftBorderBox,y.bottomLeftPaddingBox);case 3:default:return Hc(y.bottomLeftBorderBox,y.bottomLeftPaddingBox,y.topLeftBorderBox,y.topLeftPaddingBox)}},Vne=function(y,p){switch(p){case 0:return Hc(y.topLeftBorderBox,y.topLeftBorderDoubleOuterBox,y.topRightBorderBox,y.topRightBorderDoubleOuterBox);case 1:return Hc(y.topRightBorderBox,y.topRightBorderDoubleOuterBox,y.bottomRightBorderBox,y.bottomRightBorderDoubleOuterBox);case 2:return Hc(y.bottomRightBorderBox,y.bottomRightBorderDoubleOuterBox,y.bottomLeftBorderBox,y.bottomLeftBorderDoubleOuterBox);case 3:default:return Hc(y.bottomLeftBorderBox,y.bottomLeftBorderDoubleOuterBox,y.topLeftBorderBox,y.topLeftBorderDoubleOuterBox)}},qne=function(y,p){switch(p){case 0:return Hc(y.topLeftBorderDoubleInnerBox,y.topLeftPaddingBox,y.topRightBorderDoubleInnerBox,y.topRightPaddingBox);case 1:return Hc(y.topRightBorderDoubleInnerBox,y.topRightPaddingBox,y.bottomRightBorderDoubleInnerBox,y.bottomRightPaddingBox);case 2:return Hc(y.bottomRightBorderDoubleInnerBox,y.bottomRightPaddingBox,y.bottomLeftBorderDoubleInnerBox,y.bottomLeftPaddingBox);case 3:default:return Hc(y.bottomLeftBorderDoubleInnerBox,y.bottomLeftPaddingBox,y.topLeftBorderDoubleInnerBox,y.topLeftPaddingBox)}},zne=function(y,p){switch(p){case 0:return nI(y.topLeftBorderStroke,y.topRightBorderStroke);case 1:return nI(y.topRightBorderStroke,y.bottomRightBorderStroke);case 2:return nI(y.bottomRightBorderStroke,y.bottomLeftBorderStroke);case 3:default:return nI(y.bottomLeftBorderStroke,y.topLeftBorderStroke)}},nI=function(y,p){var C=[];return Qc(y)?C.push(y.subdivide(.5,!1)):C.push(y),Qc(p)?C.push(p.subdivide(.5,!0)):C.push(p),C},Hc=function(y,p,C,x){var H=[];return Qc(y)?H.push(y.subdivide(.5,!1)):H.push(y),Qc(C)?H.push(C.subdivide(.5,!0)):H.push(C),Qc(x)?H.push(x.subdivide(.5,!0).reverse()):H.push(x),Qc(p)?H.push(p.subdivide(.5,!1).reverse()):H.push(p),H},AO=function(y){var p=y.bounds,C=y.styles;return p.add(C.borderLeftWidth,C.borderTopWidth,-(C.borderRightWidth+C.borderLeftWidth),-(C.borderTopWidth+C.borderBottomWidth))},aI=function(y){var p=y.styles,C=y.bounds,x=wa(p.paddingLeft,C.width),H=wa(p.paddingRight,C.width),W=wa(p.paddingTop,C.width),ne=wa(p.paddingBottom,C.width);return C.add(x+p.borderLeftWidth,W+p.borderTopWidth,-(p.borderRightWidth+p.borderLeftWidth+x+H),-(p.borderTopWidth+p.borderBottomWidth+W+ne))},jne=function(y,p){return y===0?p.bounds:y===2?aI(p):AO(p)},Kne=function(y,p){return y===0?p.bounds:y===2?aI(p):AO(p)},v4=function(y,p,C){var x=jne(Py(y.styles.backgroundOrigin,p),y),H=Kne(Py(y.styles.backgroundClip,p),y),W=Gne(Py(y.styles.backgroundSize,p),C,x),ne=W[0],he=W[1],fe=vd(Py(y.styles.backgroundPosition,p),x.width-ne,x.height-he),Fe=Wne(Py(y.styles.backgroundRepeat,p),fe,W,x,H),He=Math.round(x.left+fe[0]),We=Math.round(x.top+fe[1]);return[Fe,He,We,ne,he]},Ly=function(y){return ae(y)&&y.value===Cd.AUTO},iI=function(y){return typeof y=="number"},Gne=function(y,p,C){var x=p[0],H=p[1],W=p[2],ne=y[0],he=y[1];if(!ne)return[0,0];if(kn(ne)&&he&&kn(he))return[wa(ne,C.width),wa(he,C.height)];var fe=iI(W);if(ae(ne)&&(ne.value===Cd.CONTAIN||ne.value===Cd.COVER)){if(iI(W)){var Fe=C.width/C.height;return Fe<W!=(ne.value===Cd.COVER)?[C.width,C.width/W]:[C.height*W,C.height]}return[C.width,C.height]}var He=iI(x),We=iI(H),ht=He||We;if(Ly(ne)&&(!he||Ly(he))){if(He&&We)return[x,H];if(!fe&&!ht)return[C.width,C.height];if(ht&&fe){var br=He?x:H*W,Gt=We?H:x/W;return[br,Gt]}var ur=He?x:C.width,Un=We?H:C.height;return[ur,Un]}if(fe){var Hr=0,Dr=0;return kn(ne)?Hr=wa(ne,C.width):kn(he)&&(Dr=wa(he,C.height)),Ly(ne)?Hr=Dr*W:(!he||Ly(he))&&(Dr=Hr/W),[Hr,Dr]}var Ba=null,Hn=null;if(kn(ne)?Ba=wa(ne,C.width):he&&kn(he)&&(Hn=wa(he,C.height)),Ba!==null&&(!he||Ly(he))&&(Hn=He&&We?Ba/x*H:C.height),Hn!==null&&Ly(ne)&&(Ba=He&&We?Hn/H*x:C.width),Ba!==null&&Hn!==null)return[Ba,Hn];throw new Error("Unable to calculate background-size for element")},Py=function(y,p){var C=y[p];return typeof C>"u"?y[0]:C},Wne=function(y,p,C,x,H){var W=p[0],ne=p[1],he=C[0],fe=C[1];switch(y){case 2:return[new pr(Math.round(x.left),Math.round(x.top+ne)),new pr(Math.round(x.left+x.width),Math.round(x.top+ne)),new pr(Math.round(x.left+x.width),Math.round(fe+x.top+ne)),new pr(Math.round(x.left),Math.round(fe+x.top+ne))];case 3:return[new pr(Math.round(x.left+W),Math.round(x.top)),new pr(Math.round(x.left+W+he),Math.round(x.top)),new pr(Math.round(x.left+W+he),Math.round(x.height+x.top)),new pr(Math.round(x.left+W),Math.round(x.height+x.top))];case 1:return[new pr(Math.round(x.left+W),Math.round(x.top+ne)),new pr(Math.round(x.left+W+he),Math.round(x.top+ne)),new pr(Math.round(x.left+W+he),Math.round(x.top+ne+fe)),new pr(Math.round(x.left+W),Math.round(x.top+ne+fe))];default:return[new pr(Math.round(H.left),Math.round(H.top)),new pr(Math.round(H.left+H.width),Math.round(H.top)),new pr(Math.round(H.left+H.width),Math.round(H.height+H.top)),new pr(Math.round(H.left),Math.round(H.height+H.top))]}},$ne="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",fO="Hidden Text",Yne=(function(){function y(p){this._data={},this._document=p}return y.prototype.parseMetrics=function(p,C){var x=this._document.createElement("div"),H=this._document.createElement("img"),W=this._document.createElement("span"),ne=this._document.body;x.style.visibility="hidden",x.style.fontFamily=p,x.style.fontSize=C,x.style.margin="0",x.style.padding="0",x.style.whiteSpace="nowrap",ne.appendChild(x),H.src=$ne,H.width=1,H.height=1,H.style.margin="0",H.style.padding="0",H.style.verticalAlign="baseline",W.style.fontFamily=p,W.style.fontSize=C,W.style.margin="0",W.style.padding="0",W.appendChild(this._document.createTextNode(fO)),x.appendChild(W),x.appendChild(H);var he=H.offsetTop-W.offsetTop+2;x.removeChild(W),x.appendChild(this._document.createTextNode(fO)),x.style.lineHeight="normal",H.style.verticalAlign="super";var fe=H.offsetTop-x.offsetTop+2;return ne.removeChild(x),{baseline:he,middle:fe}},y.prototype.getMetrics=function(p,C){var x=p+" "+C;return typeof this._data[x]>"u"&&(this._data[x]=this.parseMetrics(p,C)),this._data[x]},y})(),hO=(function(){function y(p,C){this.context=p,this.options=C}return y})(),Xne=1e4,Jne=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this;return H._activeEffects=[],H.canvas=x.canvas?x.canvas:document.createElement("canvas"),H.ctx=H.canvas.getContext("2d"),x.canvas||(H.canvas.width=Math.floor(x.width*x.scale),H.canvas.height=Math.floor(x.height*x.scale),H.canvas.style.width=x.width+"px",H.canvas.style.height=x.height+"px"),H.fontMetrics=new Yne(document),H.ctx.scale(H.options.scale,H.options.scale),H.ctx.translate(-x.x,-x.y),H.ctx.textBaseline="bottom",H._activeEffects=[],H.context.logger.debug("Canvas renderer initialized ("+x.width+"x"+x.height+") with scale "+x.scale),H}return p.prototype.applyEffects=function(C){for(var x=this;this._activeEffects.length;)this.popEffect();C.forEach(function(H){return x.applyEffect(H)})},p.prototype.applyEffect=function(C){this.ctx.save(),One(C)&&(this.ctx.globalAlpha=C.opacity),Mne(C)&&(this.ctx.translate(C.offsetX,C.offsetY),this.ctx.transform(C.matrix[0],C.matrix[1],C.matrix[2],C.matrix[3],C.matrix[4],C.matrix[5]),this.ctx.translate(-C.offsetX,-C.offsetY)),sO(C)&&(this.path(C.path),this.ctx.clip()),this._activeEffects.push(C)},p.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},p.prototype.renderStack=function(C){return n(this,void 0,void 0,function(){var x;return a(this,function(H){switch(H.label){case 0:return x=C.element.container.styles,x.isVisible()?[4,this.renderStackContent(C)]:[3,2];case 1:H.sent(),H.label=2;case 2:return[2]}})})},p.prototype.renderNode=function(C){return n(this,void 0,void 0,function(){return a(this,function(x){switch(x.label){case 0:if(ze(C.container.flags,16))debugger;return C.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(C)]:[3,3];case 1:return x.sent(),[4,this.renderNodeContent(C)];case 2:x.sent(),x.label=3;case 3:return[2]}})})},p.prototype.renderTextWithLetterSpacing=function(C,x,H){var W=this;if(x===0)this.ctx.fillText(C.text,C.bounds.left,C.bounds.top+H);else{var ne=Xf(C.text);ne.reduce(function(he,fe){return W.ctx.fillText(fe,he,C.bounds.top+H),he+W.ctx.measureText(fe).width},C.bounds.left)}},p.prototype.createFontStyle=function(C){var x=C.fontVariant.filter(function(ne){return ne==="normal"||ne==="small-caps"}).join(""),H=nae(C.fontFamily).join(", "),W=Q(C.fontSize)?""+C.fontSize.number+C.fontSize.unit:C.fontSize.number+"px";return[[C.fontStyle,x,C.fontWeight,W,H].join(" "),H,W]},p.prototype.renderTextNode=function(C,x){return n(this,void 0,void 0,function(){var H,W,ne,he,fe,Fe,He,We,ht=this;return a(this,function(br){return H=this.createFontStyle(x),W=H[0],ne=H[1],he=H[2],this.ctx.font=W,this.ctx.direction=x.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",fe=this.fontMetrics.getMetrics(ne,he),Fe=fe.baseline,He=fe.middle,We=x.paintOrder,C.textBounds.forEach(function(Gt){We.forEach(function(ur){switch(ur){case 0:ht.ctx.fillStyle=Ri(x.color),ht.renderTextWithLetterSpacing(Gt,x.letterSpacing,Fe);var Un=x.textShadow;Un.length&&Gt.text.trim().length&&(Un.slice(0).reverse().forEach(function(Hr){ht.ctx.shadowColor=Ri(Hr.color),ht.ctx.shadowOffsetX=Hr.offsetX.number*ht.options.scale,ht.ctx.shadowOffsetY=Hr.offsetY.number*ht.options.scale,ht.ctx.shadowBlur=Hr.blur.number,ht.renderTextWithLetterSpacing(Gt,x.letterSpacing,Fe)}),ht.ctx.shadowColor="",ht.ctx.shadowOffsetX=0,ht.ctx.shadowOffsetY=0,ht.ctx.shadowBlur=0),x.textDecorationLine.length&&(ht.ctx.fillStyle=Ri(x.textDecorationColor||x.color),x.textDecorationLine.forEach(function(Hr){switch(Hr){case 1:ht.ctx.fillRect(Gt.bounds.left,Math.round(Gt.bounds.top+Fe),Gt.bounds.width,1);break;case 2:ht.ctx.fillRect(Gt.bounds.left,Math.round(Gt.bounds.top),Gt.bounds.width,1);break;case 3:ht.ctx.fillRect(Gt.bounds.left,Math.ceil(Gt.bounds.top+He),Gt.bounds.width,1);break}}));break;case 1:x.webkitTextStrokeWidth&&Gt.text.trim().length&&(ht.ctx.strokeStyle=Ri(x.webkitTextStrokeColor),ht.ctx.lineWidth=x.webkitTextStrokeWidth,ht.ctx.lineJoin=window.chrome?"miter":"round",ht.ctx.strokeText(Gt.text,Gt.bounds.left,Gt.bounds.top+Fe)),ht.ctx.strokeStyle="",ht.ctx.lineWidth=0,ht.ctx.lineJoin="miter";break}})}),[2]})})},p.prototype.renderReplacedElement=function(C,x,H){if(H&&C.intrinsicWidth>0&&C.intrinsicHeight>0){var W=aI(C),ne=tI(x);this.path(ne),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(H,0,0,C.intrinsicWidth,C.intrinsicHeight,W.left,W.top,W.width,W.height),this.ctx.restore()}},p.prototype.renderNodeContent=function(C){return n(this,void 0,void 0,function(){var x,H,W,ne,he,fe,Dr,Dr,Fe,He,We,ht,Hn,br,Gt,hn,ur,Un,Hr,Dr,Ba,Hn,hn;return a(this,function(mr){switch(mr.label){case 0:this.applyEffects(C.getEffects(4)),x=C.container,H=C.curves,W=x.styles,ne=0,he=x.textNodes,mr.label=1;case 1:return ne<he.length?(fe=he[ne],[4,this.renderTextNode(fe,W)]):[3,4];case 2:mr.sent(),mr.label=3;case 3:return ne++,[3,1];case 4:if(!(x instanceof KC))return[3,8];mr.label=5;case 5:return mr.trys.push([5,7,,8]),[4,this.context.cache.match(x.src)];case 6:return Dr=mr.sent(),this.renderReplacedElement(x,H,Dr),[3,8];case 7:return mr.sent(),this.context.logger.error("Error loading image "+x.src),[3,8];case 8:if(x instanceof Ny&&this.renderReplacedElement(x,H,x.canvas),!(x instanceof Sy))return[3,12];mr.label=9;case 9:return mr.trys.push([9,11,,12]),[4,this.context.cache.match(x.svg)];case 10:return Dr=mr.sent(),this.renderReplacedElement(x,H,Dr),[3,12];case 11:return mr.sent(),this.context.logger.error("Error loading svg "+x.svg.substring(0,255)),[3,12];case 12:return x instanceof OM&&x.tree?(Fe=new p(this.context,{scale:this.options.scale,backgroundColor:x.backgroundColor,x:0,y:0,width:x.width,height:x.height}),[4,Fe.render(x.tree)]):[3,14];case 13:He=mr.sent(),x.width&&x.height&&this.ctx.drawImage(He,0,0,x.width,x.height,x.bounds.left,x.bounds.top,x.bounds.width,x.bounds.height),mr.label=14;case 14:if(x instanceof l4&&(We=Math.min(x.bounds.width,x.bounds.height),x.type===GC?x.checked&&(this.ctx.save(),this.path([new pr(x.bounds.left+We*.39363,x.bounds.top+We*.79),new pr(x.bounds.left+We*.16,x.bounds.top+We*.5549),new pr(x.bounds.left+We*.27347,x.bounds.top+We*.44071),new pr(x.bounds.left+We*.39694,x.bounds.top+We*.5649),new pr(x.bounds.left+We*.72983,x.bounds.top+We*.23),new pr(x.bounds.left+We*.84,x.bounds.top+We*.34085),new pr(x.bounds.left+We*.39363,x.bounds.top+We*.79)]),this.ctx.fillStyle=Ri(UM),this.ctx.fill(),this.ctx.restore()):x.type===WC&&x.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(x.bounds.left+We/2,x.bounds.top+We/2,We/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ri(UM),this.ctx.fill(),this.ctx.restore())),Zne(x)&&x.value.length){switch(ht=this.createFontStyle(W),Hn=ht[0],br=ht[1],Gt=this.fontMetrics.getMetrics(Hn,br).baseline,this.ctx.font=Hn,this.ctx.fillStyle=Ri(W.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=tae(x.styles.textAlign),hn=aI(x),ur=0,x.styles.textAlign){case 1:ur+=hn.width/2;break;case 2:ur+=hn.width;break}Un=hn.add(ur,0,0,-hn.height/2+1),this.ctx.save(),this.path([new pr(hn.left,hn.top),new pr(hn.left+hn.width,hn.top),new pr(hn.left+hn.width,hn.top+hn.height),new pr(hn.left,hn.top+hn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ap(x.value,Un),W.letterSpacing,Gt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ze(x.styles.display,2048))return[3,20];if(x.styles.listStyleImage===null)return[3,19];if(Hr=x.styles.listStyleImage,Hr.type!==0)return[3,18];Dr=void 0,Ba=Hr.url,mr.label=15;case 15:return mr.trys.push([15,17,,18]),[4,this.context.cache.match(Ba)];case 16:return Dr=mr.sent(),this.ctx.drawImage(Dr,x.bounds.left-(Dr.width+10),x.bounds.top),[3,18];case 17:return mr.sent(),this.context.logger.error("Error loading list-style-image "+Ba),[3,18];case 18:return[3,20];case 19:C.listValue&&x.styles.listStyleType!==-1&&(Hn=this.createFontStyle(W)[0],this.ctx.font=Hn,this.ctx.fillStyle=Ri(W.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",hn=new s(x.bounds.left,x.bounds.top+wa(x.styles.paddingTop,x.bounds.width),x.bounds.width,SC(W.lineHeight,W.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ap(C.listValue,hn),W.letterSpacing,SC(W.lineHeight,W.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),mr.label=20;case 20:return[2]}})})},p.prototype.renderStackContent=function(C){return n(this,void 0,void 0,function(){var x,H,Hr,W,ne,Hr,he,fe,Hr,Fe,He,Hr,We,ht,Hr,br,Gt,Hr,ur,Un,Hr;return a(this,function(Dr){switch(Dr.label){case 0:if(ze(C.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:Dr.sent(),x=0,H=C.negativeZIndex,Dr.label=2;case 2:return x<H.length?(Hr=H[x],[4,this.renderStack(Hr)]):[3,5];case 3:Dr.sent(),Dr.label=4;case 4:return x++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:Dr.sent(),W=0,ne=C.nonInlineLevel,Dr.label=7;case 7:return W<ne.length?(Hr=ne[W],[4,this.renderNode(Hr)]):[3,10];case 8:Dr.sent(),Dr.label=9;case 9:return W++,[3,7];case 10:he=0,fe=C.nonPositionedFloats,Dr.label=11;case 11:return he<fe.length?(Hr=fe[he],[4,this.renderStack(Hr)]):[3,14];case 12:Dr.sent(),Dr.label=13;case 13:return he++,[3,11];case 14:Fe=0,He=C.nonPositionedInlineLevel,Dr.label=15;case 15:return Fe<He.length?(Hr=He[Fe],[4,this.renderStack(Hr)]):[3,18];case 16:Dr.sent(),Dr.label=17;case 17:return Fe++,[3,15];case 18:We=0,ht=C.inlineLevel,Dr.label=19;case 19:return We<ht.length?(Hr=ht[We],[4,this.renderNode(Hr)]):[3,22];case 20:Dr.sent(),Dr.label=21;case 21:return We++,[3,19];case 22:br=0,Gt=C.zeroOrAutoZIndexOrTransformedOrOpacity,Dr.label=23;case 23:return br<Gt.length?(Hr=Gt[br],[4,this.renderStack(Hr)]):[3,26];case 24:Dr.sent(),Dr.label=25;case 25:return br++,[3,23];case 26:ur=0,Un=C.positiveZIndex,Dr.label=27;case 27:return ur<Un.length?(Hr=Un[ur],[4,this.renderStack(Hr)]):[3,30];case 28:Dr.sent(),Dr.label=29;case 29:return ur++,[3,27];case 30:return[2]}})})},p.prototype.mask=function(C){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(C.slice(0).reverse()),this.ctx.closePath()},p.prototype.path=function(C){this.ctx.beginPath(),this.formatPath(C),this.ctx.closePath()},p.prototype.formatPath=function(C){var x=this;C.forEach(function(H,W){var ne=Qc(H)?H.start:H;W===0?x.ctx.moveTo(ne.x,ne.y):x.ctx.lineTo(ne.x,ne.y),Qc(H)&&x.ctx.bezierCurveTo(H.startControl.x,H.startControl.y,H.endControl.x,H.endControl.y,H.end.x,H.end.y)})},p.prototype.renderRepeat=function(C,x,H,W){this.path(C),this.ctx.fillStyle=x,this.ctx.translate(H,W),this.ctx.fill(),this.ctx.translate(-H,-W)},p.prototype.resizeImage=function(C,x,H){var W;if(C.width===x&&C.height===H)return C;var ne=(W=this.canvas.ownerDocument)!==null&&W!==void 0?W:document,he=ne.createElement("canvas");he.width=Math.max(1,x),he.height=Math.max(1,H);var fe=he.getContext("2d");return fe.drawImage(C,0,0,C.width,C.height,0,0,x,H),he},p.prototype.renderBackgroundImage=function(C){return n(this,void 0,void 0,function(){var x,H,W,ne,he,fe;return a(this,function(Fe){switch(Fe.label){case 0:x=C.styles.backgroundImage.length-1,H=function(He){var We,ht,br,Ms,Cu,Iu,Za,zo,ya,Gt,Ms,Cu,Iu,Za,zo,ur,Un,Hr,Dr,Ba,Hn,hn,mr,ga,ya,mn,Ms,xu,ic,Za,zo,op,Cu,Iu,Gm,qA,lp,Wm,$m,Zf,Ym,eh;return a(this,function(ky){switch(ky.label){case 0:if(He.type!==0)return[3,5];We=void 0,ht=He.url,ky.label=1;case 1:return ky.trys.push([1,3,,4]),[4,W.context.cache.match(ht)];case 2:return We=ky.sent(),[3,4];case 3:return ky.sent(),W.context.logger.error("Error loading background-image "+ht),[3,4];case 4:return We&&(br=v4(C,x,[We.width,We.height,We.width/We.height]),Ms=br[0],Cu=br[1],Iu=br[2],Za=br[3],zo=br[4],ya=W.ctx.createPattern(W.resizeImage(We,Za,zo),"repeat"),W.renderRepeat(Ms,ya,Cu,Iu)),[3,6];case 5:vC(He)?(Gt=v4(C,x,[null,null,null]),Ms=Gt[0],Cu=Gt[1],Iu=Gt[2],Za=Gt[3],zo=Gt[4],ur=tc(He.angle,Za,zo),Un=ur[0],Hr=ur[1],Dr=ur[2],Ba=ur[3],Hn=ur[4],hn=document.createElement("canvas"),hn.width=Za,hn.height=zo,mr=hn.getContext("2d"),ga=mr.createLinearGradient(Hr,Ba,Dr,Hn),Wh(He.stops,Un).forEach(function(Fb){return ga.addColorStop(Fb.stop,Ri(Fb.color))}),mr.fillStyle=ga,mr.fillRect(0,0,Za,zo),Za>0&&zo>0&&(ya=W.ctx.createPattern(hn,"repeat"),W.renderRepeat(Ms,ya,Cu,Iu))):bC(He)&&(mn=v4(C,x,[null,null,null]),Ms=mn[0],xu=mn[1],ic=mn[2],Za=mn[3],zo=mn[4],op=He.position.length===0?[Vl]:He.position,Cu=wa(op[0],Za),Iu=wa(op[op.length-1],zo),Gm=$h(He,Cu,Iu,Za,zo),qA=Gm[0],lp=Gm[1],qA>0&&lp>0&&(Wm=W.ctx.createRadialGradient(xu+Cu,ic+Iu,0,xu+Cu,ic+Iu,qA),Wh(He.stops,qA*2).forEach(function(Fb){return Wm.addColorStop(Fb.stop,Ri(Fb.color))}),W.path(Ms),W.ctx.fillStyle=Wm,qA!==lp?($m=C.bounds.left+.5*C.bounds.width,Zf=C.bounds.top+.5*C.bounds.height,Ym=lp/qA,eh=1/Ym,W.ctx.save(),W.ctx.translate($m,Zf),W.ctx.transform(1,0,0,Ym,0,0),W.ctx.translate(-$m,-Zf),W.ctx.fillRect(xu,eh*(ic-Zf)+Zf,Za,zo*eh),W.ctx.restore()):W.ctx.fill())),ky.label=6;case 6:return x--,[2]}})},W=this,ne=0,he=C.styles.backgroundImage.slice(0).reverse(),Fe.label=1;case 1:return ne<he.length?(fe=he[ne],[5,H(fe)]):[3,4];case 2:Fe.sent(),Fe.label=3;case 3:return ne++,[3,1];case 4:return[2]}})})},p.prototype.renderSolidBorder=function(C,x,H){return n(this,void 0,void 0,function(){return a(this,function(W){return this.path(dO(H,x)),this.ctx.fillStyle=Ri(C),this.ctx.fill(),[2]})})},p.prototype.renderDoubleBorder=function(C,x,H,W){return n(this,void 0,void 0,function(){var ne,he;return a(this,function(fe){switch(fe.label){case 0:return x<3?[4,this.renderSolidBorder(C,H,W)]:[3,2];case 1:return fe.sent(),[2];case 2:return ne=Vne(W,H),this.path(ne),this.ctx.fillStyle=Ri(C),this.ctx.fill(),he=qne(W,H),this.path(he),this.ctx.fill(),[2]}})})},p.prototype.renderNodeBackgroundAndBorders=function(C){return n(this,void 0,void 0,function(){var x,H,W,ne,he,fe,Fe,He,We=this;return a(this,function(ht){switch(ht.label){case 0:return this.applyEffects(C.getEffects(2)),x=C.container.styles,H=!Us(x.backgroundColor)||x.backgroundImage.length,W=[{style:x.borderTopStyle,color:x.borderTopColor,width:x.borderTopWidth},{style:x.borderRightStyle,color:x.borderRightColor,width:x.borderRightWidth},{style:x.borderBottomStyle,color:x.borderBottomColor,width:x.borderBottomWidth},{style:x.borderLeftStyle,color:x.borderLeftColor,width:x.borderLeftWidth}],ne=eae(Py(x.backgroundClip,0),C.curves),H||x.boxShadow.length?(this.ctx.save(),this.path(ne),this.ctx.clip(),Us(x.backgroundColor)||(this.ctx.fillStyle=Ri(x.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(C.container)]):[3,2];case 1:ht.sent(),this.ctx.restore(),x.boxShadow.slice(0).reverse().forEach(function(br){We.ctx.save();var Gt=eI(C.curves),ur=br.inset?0:Xne,Un=Qne(Gt,-ur+(br.inset?1:-1)*br.spread.number,(br.inset?1:-1)*br.spread.number,br.spread.number*(br.inset?-2:2),br.spread.number*(br.inset?-2:2));br.inset?(We.path(Gt),We.ctx.clip(),We.mask(Un)):(We.mask(Gt),We.ctx.clip(),We.path(Un)),We.ctx.shadowOffsetX=br.offsetX.number+ur,We.ctx.shadowOffsetY=br.offsetY.number,We.ctx.shadowColor=Ri(br.color),We.ctx.shadowBlur=br.blur.number,We.ctx.fillStyle=br.inset?Ri(br.color):"rgba(0,0,0,1)",We.ctx.fill(),We.ctx.restore()}),ht.label=2;case 2:he=0,fe=0,Fe=W,ht.label=3;case 3:return fe<Fe.length?(He=Fe[fe],He.style!==0&&!Us(He.color)&&He.width>0?He.style!==2?[3,5]:[4,this.renderDashedDottedBorder(He.color,He.width,he,C.curves,2)]:[3,11]):[3,13];case 4:return ht.sent(),[3,11];case 5:return He.style!==3?[3,7]:[4,this.renderDashedDottedBorder(He.color,He.width,he,C.curves,3)];case 6:return ht.sent(),[3,11];case 7:return He.style!==4?[3,9]:[4,this.renderDoubleBorder(He.color,He.width,he,C.curves)];case 8:return ht.sent(),[3,11];case 9:return[4,this.renderSolidBorder(He.color,he,C.curves)];case 10:ht.sent(),ht.label=11;case 11:he++,ht.label=12;case 12:return fe++,[3,3];case 13:return[2]}})})},p.prototype.renderDashedDottedBorder=function(C,x,H,W,ne){return n(this,void 0,void 0,function(){var he,fe,Fe,He,We,ht,br,Gt,ur,Un,Hr,Dr,Ba,Hn,hn,mr,hn,mr;return a(this,function(ga){return this.ctx.save(),he=zne(W,H),fe=dO(W,H),ne===2&&(this.path(fe),this.ctx.clip()),Qc(fe[0])?(Fe=fe[0].start.x,He=fe[0].start.y):(Fe=fe[0].x,He=fe[0].y),Qc(fe[1])?(We=fe[1].end.x,ht=fe[1].end.y):(We=fe[1].x,ht=fe[1].y),H===0||H===2?br=Math.abs(Fe-We):br=Math.abs(He-ht),this.ctx.beginPath(),ne===3?this.formatPath(he):this.formatPath(fe.slice(0,2)),Gt=x<3?x*3:x*2,ur=x<3?x*2:x,ne===3&&(Gt=x,ur=x),Un=!0,br<=Gt*2?Un=!1:br<=Gt*2+ur?(Hr=br/(2*Gt+ur),Gt*=Hr,ur*=Hr):(Dr=Math.floor((br+ur)/(Gt+ur)),Ba=(br-Dr*Gt)/(Dr-1),Hn=(br-(Dr+1)*Gt)/Dr,ur=Hn<=0||Math.abs(ur-Ba)<Math.abs(ur-Hn)?Ba:Hn),Un&&(ne===3?this.ctx.setLineDash([0,Gt+ur]):this.ctx.setLineDash([Gt,ur])),ne===3?(this.ctx.lineCap="round",this.ctx.lineWidth=x):this.ctx.lineWidth=x*2+1.1,this.ctx.strokeStyle=Ri(C),this.ctx.stroke(),this.ctx.setLineDash([]),ne===2&&(Qc(fe[0])&&(hn=fe[3],mr=fe[0],this.ctx.beginPath(),this.formatPath([new pr(hn.end.x,hn.end.y),new pr(mr.start.x,mr.start.y)]),this.ctx.stroke()),Qc(fe[1])&&(hn=fe[1],mr=fe[2],this.ctx.beginPath(),this.formatPath([new pr(hn.end.x,hn.end.y),new pr(mr.start.x,mr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},p.prototype.render=function(C){return n(this,void 0,void 0,function(){var x;return a(this,function(H){switch(H.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ri(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),x=Hne(C),[4,this.renderStack(x)];case 1:return H.sent(),this.applyEffects([]),[2,this.canvas]}})})},p})(hO),Zne=function(y){return y instanceof MM||y instanceof DM?!0:y instanceof l4&&y.type!==WC&&y.type!==GC},eae=function(y,p){switch(y){case 0:return eI(p);case 2:return Rne(p);case 1:default:return tI(p)}},tae=function(y){switch(y){case 1:return"center";case 2:return"right";case 0:default:return"left"}},rae=["-apple-system","system-ui"],nae=function(y){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?y.filter(function(p){return rae.indexOf(p)===-1}):y},aae=(function(y){e(p,y);function p(C,x){var H=y.call(this,C,x)||this;return H.canvas=x.canvas?x.canvas:document.createElement("canvas"),H.ctx=H.canvas.getContext("2d"),H.options=x,H.canvas.width=Math.floor(x.width*x.scale),H.canvas.height=Math.floor(x.height*x.scale),H.canvas.style.width=x.width+"px",H.canvas.style.height=x.height+"px",H.ctx.scale(H.options.scale,H.options.scale),H.ctx.translate(-x.x,-x.y),H.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+x.width+"x"+x.height+" at "+x.x+","+x.y+") with scale "+x.scale),H}return p.prototype.render=function(C){return n(this,void 0,void 0,function(){var x,H;return a(this,function(W){switch(W.label){case 0:return x=xy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,C),[4,iae(x)];case 1:return H=W.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ri(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(H,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},p})(hO),iae=function(y){return new Promise(function(p,C){var x=new Image;x.onload=function(){p(x)},x.onerror=C,x.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(y))})},sae=(function(){function y(p){var C=p.id,x=p.enabled;this.id=C,this.enabled=x,this.start=Date.now()}return y.prototype.debug=function(){for(var p=[],C=0;C<arguments.length;C++)p[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,i([this.id,this.getTime()+"ms"],p)):this.info.apply(this,p))},y.prototype.getTime=function(){return Date.now()-this.start},y.prototype.info=function(){for(var p=[],C=0;C<arguments.length;C++)p[C]=arguments[C];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,i([this.id,this.getTime()+"ms"],p))},y.prototype.warn=function(){for(var p=[],C=0;C<arguments.length;C++)p[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,i([this.id,this.getTime()+"ms"],p)):this.info.apply(this,p))},y.prototype.error=function(){for(var p=[],C=0;C<arguments.length;C++)p[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,i([this.id,this.getTime()+"ms"],p)):this.info.apply(this,p))},y.instances={},y})(),oae=(function(){function y(p,C){var x;this.windowBounds=C,this.instanceName="#"+y.instanceCount++,this.logger=new sae({id:this.instanceName,enabled:p.logging}),this.cache=(x=p.cache)!==null&&x!==void 0?x:new Bne(this,p)}return y.instanceCount=1,y})(),lae=function(y,p){return p===void 0&&(p={}),uae(y,p)};typeof window<"u"&&iO.setContext(window);var uae=function(y,p){return n(void 0,void 0,void 0,function(){var C,x,H,W,ne,he,fe,Fe,He,We,ht,br,Gt,ur,Un,Hr,Dr,Ba,Hn,hn,ga,mr,ga,ya,mn,Ms,xu,ic,Za,zo,op,Cu,Iu,Gm,qA,lp,Wm,$m,Zf,Ym;return a(this,function(eh){switch(eh.label){case 0:if(!y||typeof y!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(C=y.ownerDocument,!C)throw new Error("Element is not attached to a Document");if(x=C.defaultView,!x)throw new Error("Document is not attached to a Window");return H={allowTaint:(ya=p.allowTaint)!==null&&ya!==void 0?ya:!1,imageTimeout:(mn=p.imageTimeout)!==null&&mn!==void 0?mn:15e3,proxy:p.proxy,useCORS:(Ms=p.useCORS)!==null&&Ms!==void 0?Ms:!1},W=r({logging:(xu=p.logging)!==null&&xu!==void 0?xu:!0,cache:p.cache},H),ne={windowWidth:(ic=p.windowWidth)!==null&&ic!==void 0?ic:x.innerWidth,windowHeight:(Za=p.windowHeight)!==null&&Za!==void 0?Za:x.innerHeight,scrollX:(zo=p.scrollX)!==null&&zo!==void 0?zo:x.pageXOffset,scrollY:(op=p.scrollY)!==null&&op!==void 0?op:x.pageYOffset},he=new s(ne.scrollX,ne.scrollY,ne.windowWidth,ne.windowHeight),fe=new oae(W,he),Fe=(Cu=p.foreignObjectRendering)!==null&&Cu!==void 0?Cu:!1,He={allowTaint:(Iu=p.allowTaint)!==null&&Iu!==void 0?Iu:!1,onclone:p.onclone,ignoreElements:p.ignoreElements,inlineImages:Fe,copyStyles:Fe},fe.logger.debug("Starting document clone with size "+he.width+"x"+he.height+" scrolled to "+-he.left+","+-he.top),We=new nO(fe,y,He),ht=We.clonedReferenceElement,ht?[4,We.toIFrame(C,he)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return br=eh.sent(),Gt=c4(ht)||cne(ht)?l(ht.ownerDocument):o(fe,ht),ur=Gt.width,Un=Gt.height,Hr=Gt.left,Dr=Gt.top,Ba=cae(fe,ht,p.backgroundColor),Hn={canvas:p.canvas,backgroundColor:Ba,scale:(qA=(Gm=p.scale)!==null&&Gm!==void 0?Gm:x.devicePixelRatio)!==null&&qA!==void 0?qA:1,x:((lp=p.x)!==null&&lp!==void 0?lp:0)+Hr,y:((Wm=p.y)!==null&&Wm!==void 0?Wm:0)+Dr,width:($m=p.width)!==null&&$m!==void 0?$m:Math.ceil(ur),height:(Zf=p.height)!==null&&Zf!==void 0?Zf:Math.ceil(Un)},Fe?(fe.logger.debug("Document cloned, using foreign object rendering"),ga=new aae(fe,Hn),[4,ga.render(ht)]):[3,3];case 2:return hn=eh.sent(),[3,5];case 3:return fe.logger.debug("Document cloned, element located at "+Hr+","+Dr+" with size "+ur+"x"+Un+" using computed rendering"),fe.logger.debug("Starting DOM parsing"),mr=HM(fe,ht),Ba===mr.styles.backgroundColor&&(mr.styles.backgroundColor=uo.TRANSPARENT),fe.logger.debug("Starting renderer for element at "+Hn.x+","+Hn.y+" with size "+Hn.width+"x"+Hn.height),ga=new Jne(fe,Hn),[4,ga.render(mr)];case 4:hn=eh.sent(),eh.label=5;case 5:return(!((Ym=p.removeContainer)!==null&&Ym!==void 0)||Ym)&&(nO.destroy(br)||fe.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),fe.logger.debug("Finished rendering"),[2,hn]}})})},cae=function(y,p,C){var x=p.ownerDocument,H=x.documentElement?dl(y,getComputedStyle(x.documentElement).backgroundColor):uo.TRANSPARENT,W=x.body?dl(y,getComputedStyle(x.body).backgroundColor):uo.TRANSPARENT,ne=typeof C=="string"?dl(y,C):C===null?uo.TRANSPARENT:4294967295;return p===x.documentElement?Us(H)?Us(W)?ne:W:H:ne};return lae}))});var oG={};oI(oG,{default:()=>Xpe});function uu(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return OU(t,e,n)}}function Dpe(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return QU(t,r)}}function ea(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bB;$K&&$K(t,null);let n=e.length;for(;n--;){let a=e[n];if(typeof a=="string"){let i=r(a);i!==a&&(Tpe(e)||(e[n]=i),a=i)}t[a]=!0}return t}function Mpe(t){for(let e=0;e<t.length;e++)dA(t,e)||(t[e]=null);return t}function Rh(t){let e=MU(null);for(let[r,n]of nG(t))dA(t,r)&&(Array.isArray(n)?e[r]=Mpe(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Rh(n):e[r]=n);return e}function p2(t,e){for(;t!==null;){let n=Ppe(t,e);if(n){if(n.get)return uu(n.get);if(typeof n.value=="function")return uu(n.value)}t=Lpe(t)}function r(){return null}return r}function sG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$pe(),e=Cr=>sG(Cr);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==m2.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t,n=r,a=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:A}=t,v=l.prototype,I=p2(v,"cloneNode"),w=p2(v,"remove"),g=p2(v,"nextSibling"),b=p2(v,"childNodes"),S=p2(v,"parentNode");if(typeof s=="function"){let Cr=r.createElement("template");Cr.content&&Cr.content.ownerDocument&&(r=Cr.content.ownerDocument)}let F,O="",{implementation:R,createNodeIterator:T,createDocumentFragment:B,getElementsByTagName:k}=r,{importNode:U}=n,E=rG();e.isSupported=typeof nG=="function"&&typeof S=="function"&&R&&R.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:_,ERB_EXPR:L,TMPLIT_EXPR:D,DATA_ATTR:z,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:j}=tG,{IS_ALLOWED_URI:K}=tG,oe=null,q=ea({},[...XK,...FU,...RU,...UU,...JK]),X=null,te=ea({},[...ZK,...DU,...eG,...vB]),ue=Object.seal(MU(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,ge=null,Ne=Object.seal(MU(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),Le=!0,Ie=!0,de=!1,xe=!0,qe=!1,wt=!0,Re=!1,Ae=!1,Kt=!1,zt=!1,pt=!1,Oe=!1,me=!0,Ue=!1,it="user-content-",At=!0,ct=!1,Tt={},Ot=null,vr=ea({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),rr=null,Er=ea({},["audio","video","img","source","image","track"]),Nt=null,gn=ea({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",Wt="http://www.w3.org/2000/svg",Qe="http://www.w3.org/1999/xhtml",tt=Qe,rt=!1,Ct=null,Nr=ea({},[dt,Wt,Qe],PU),nr=ea({},["mi","mo","mn","ms","mtext"]),jr=ea({},["annotation-xml"]),Zt=ea({},["title","style","font","a","script"]),en=null,Yt=["application/xhtml+xml","text/html"],Sr="text/html",Qr=null,Yr=null,yn=r.createElement("form"),ra=function(Se){return Se instanceof RegExp||Se instanceof Function},fr=function(){let Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Yr&&Yr===Se)){if((!Se||typeof Se!="object")&&(Se={}),Se=Rh(Se),en=Yt.indexOf(Se.PARSER_MEDIA_TYPE)===-1?Sr:Se.PARSER_MEDIA_TYPE,Qr=en==="application/xhtml+xml"?PU:bB,oe=dA(Se,"ALLOWED_TAGS")?ea({},Se.ALLOWED_TAGS,Qr):q,X=dA(Se,"ALLOWED_ATTR")?ea({},Se.ALLOWED_ATTR,Qr):te,Ct=dA(Se,"ALLOWED_NAMESPACES")?ea({},Se.ALLOWED_NAMESPACES,PU):Nr,Nt=dA(Se,"ADD_URI_SAFE_ATTR")?ea(Rh(gn),Se.ADD_URI_SAFE_ATTR,Qr):gn,rr=dA(Se,"ADD_DATA_URI_TAGS")?ea(Rh(Er),Se.ADD_DATA_URI_TAGS,Qr):Er,Ot=dA(Se,"FORBID_CONTENTS")?ea({},Se.FORBID_CONTENTS,Qr):vr,be=dA(Se,"FORBID_TAGS")?ea({},Se.FORBID_TAGS,Qr):Rh({}),ge=dA(Se,"FORBID_ATTR")?ea({},Se.FORBID_ATTR,Qr):Rh({}),Tt=dA(Se,"USE_PROFILES")?Se.USE_PROFILES:!1,Le=Se.ALLOW_ARIA_ATTR!==!1,Ie=Se.ALLOW_DATA_ATTR!==!1,de=Se.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=Se.ALLOW_SELF_CLOSE_IN_ATTR!==!1,qe=Se.SAFE_FOR_TEMPLATES||!1,wt=Se.SAFE_FOR_XML!==!1,Re=Se.WHOLE_DOCUMENT||!1,zt=Se.RETURN_DOM||!1,pt=Se.RETURN_DOM_FRAGMENT||!1,Oe=Se.RETURN_TRUSTED_TYPE||!1,Kt=Se.FORCE_BODY||!1,me=Se.SANITIZE_DOM!==!1,Ue=Se.SANITIZE_NAMED_PROPS||!1,At=Se.KEEP_CONTENT!==!1,ct=Se.IN_PLACE||!1,K=Se.ALLOWED_URI_REGEXP||aG,tt=Se.NAMESPACE||Qe,nr=Se.MATHML_TEXT_INTEGRATION_POINTS||nr,jr=Se.HTML_INTEGRATION_POINTS||jr,ue=Se.CUSTOM_ELEMENT_HANDLING||{},Se.CUSTOM_ELEMENT_HANDLING&&ra(Se.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=Se.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Se.CUSTOM_ELEMENT_HANDLING&&ra(Se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=Se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Se.CUSTOM_ELEMENT_HANDLING&&typeof Se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=Se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),qe&&(Ie=!1),pt&&(zt=!0),Tt&&(oe=ea({},JK),X=[],Tt.html===!0&&(ea(oe,XK),ea(X,ZK)),Tt.svg===!0&&(ea(oe,FU),ea(X,DU),ea(X,vB)),Tt.svgFilters===!0&&(ea(oe,RU),ea(X,DU),ea(X,vB)),Tt.mathMl===!0&&(ea(oe,UU),ea(X,eG),ea(X,vB))),Se.ADD_TAGS&&(typeof Se.ADD_TAGS=="function"?Ne.tagCheck=Se.ADD_TAGS:(oe===q&&(oe=Rh(oe)),ea(oe,Se.ADD_TAGS,Qr))),Se.ADD_ATTR&&(typeof Se.ADD_ATTR=="function"?Ne.attributeCheck=Se.ADD_ATTR:(X===te&&(X=Rh(X)),ea(X,Se.ADD_ATTR,Qr))),Se.ADD_URI_SAFE_ATTR&&ea(Nt,Se.ADD_URI_SAFE_ATTR,Qr),Se.FORBID_CONTENTS&&(Ot===vr&&(Ot=Rh(Ot)),ea(Ot,Se.FORBID_CONTENTS,Qr)),At&&(oe["#text"]=!0),Re&&ea(oe,["html","head","body"]),oe.table&&(ea(oe,["tbody"]),delete be.tbody),Se.TRUSTED_TYPES_POLICY){if(typeof Se.TRUSTED_TYPES_POLICY.createHTML!="function")throw h2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Se.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw h2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');F=Se.TRUSTED_TYPES_POLICY,O=F.createHTML("")}else F===void 0&&(F=Ype(A,a)),F!==null&&typeof O=="string"&&(O=F.createHTML(""));lu&&lu(Se),Yr=Se}},Kr=ea({},[...FU,...RU,...Ope]),xr=ea({},[...UU,...Qpe]),fn=function(Se){let St=S(Se);(!St||!St.tagName)&&(St={namespaceURI:tt,tagName:"template"});let lr=bB(Se.tagName),vn=bB(St.tagName);return Ct[Se.namespaceURI]?Se.namespaceURI===Wt?St.namespaceURI===Qe?lr==="svg":St.namespaceURI===dt?lr==="svg"&&(vn==="annotation-xml"||nr[vn]):!!Kr[lr]:Se.namespaceURI===dt?St.namespaceURI===Qe?lr==="math":St.namespaceURI===Wt?lr==="math"&&jr[vn]:!!xr[lr]:Se.namespaceURI===Qe?St.namespaceURI===Wt&&!jr[vn]||St.namespaceURI===dt&&!nr[vn]?!1:!xr[lr]&&(Zt[lr]||!Kr[lr]):!!(en==="application/xhtml+xml"&&Ct[Se.namespaceURI]):!1},Jr=function(Se){A2(e.removed,{element:Se});try{S(Se).removeChild(Se)}catch{w(Se)}},ln=function(Se,St){try{A2(e.removed,{attribute:St.getAttributeNode(Se),from:St})}catch{A2(e.removed,{attribute:null,from:St})}if(St.removeAttribute(Se),Se==="is")if(zt||pt)try{Jr(St)}catch{}else try{St.setAttribute(Se,"")}catch{}},ma=function(Se){let St=null,lr=null;if(Kt)Se="<remove></remove>"+Se;else{let Yn=kU(Se,/^[\r\n\t ]+/);lr=Yn&&Yn[0]}en==="application/xhtml+xml"&&tt===Qe&&(Se='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Se+"</body></html>");let vn=F?F.createHTML(Se):Se;if(tt===Qe)try{St=new f().parseFromString(vn,en)}catch{}if(!St||!St.documentElement){St=R.createDocument(tt,"template",null);try{St.documentElement.innerHTML=rt?O:vn}catch{}}let La=St.body||St.documentElement;return Se&&lr&&La.insertBefore(r.createTextNode(lr),La.childNodes[0]||null),tt===Qe?k.call(St,Re?"html":"body")[0]:Re?St.documentElement:La},Ia=function(Se){return T.call(Se.ownerDocument||Se,Se,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ri=function(Se){return Se instanceof d&&(typeof Se.nodeName!="string"||typeof Se.textContent!="string"||typeof Se.removeChild!="function"||!(Se.attributes instanceof c)||typeof Se.removeAttribute!="function"||typeof Se.setAttribute!="function"||typeof Se.namespaceURI!="string"||typeof Se.insertBefore!="function"||typeof Se.hasChildNodes!="function")},Pi=function(Se){return typeof o=="function"&&Se instanceof o};function na(Cr,Se,St){yB(Cr,lr=>{lr.call(e,Se,St,Yr)})}let ki=function(Se){let St=null;if(na(E.beforeSanitizeElements,Se,null),ri(Se))return Jr(Se),!0;let lr=Qr(Se.nodeName);if(na(E.uponSanitizeElement,Se,{tagName:lr,allowedTags:oe}),wt&&Se.hasChildNodes()&&!Pi(Se.firstElementChild)&&ou(/<[/\w!]/g,Se.innerHTML)&&ou(/<[/\w!]/g,Se.textContent)||Se.nodeType===m2.progressingInstruction||wt&&Se.nodeType===m2.comment&&ou(/<[/\w]/g,Se.data))return Jr(Se),!0;if(!(Ne.tagCheck instanceof Function&&Ne.tagCheck(lr))&&(!oe[lr]||be[lr])){if(!be[lr]&&ni(lr)&&(ue.tagNameCheck instanceof RegExp&&ou(ue.tagNameCheck,lr)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(lr)))return!1;if(At&&!Ot[lr]){let vn=S(Se)||Se.parentNode,La=b(Se)||Se.childNodes;if(La&&vn){let Yn=La.length;for(let Na=Yn-1;Na>=0;--Na){let qi=I(La[Na],!0);qi.__removalCount=(Se.__removalCount||0)+1,vn.insertBefore(qi,g(Se))}}}return Jr(Se),!0}return Se instanceof l&&!fn(Se)||(lr==="noscript"||lr==="noembed"||lr==="noframes")&&ou(/<\/no(script|embed|frames)/i,Se.innerHTML)?(Jr(Se),!0):(qe&&Se.nodeType===m2.text&&(St=Se.textContent,yB([_,L,D],vn=>{St=f2(St,vn," ")}),Se.textContent!==St&&(A2(e.removed,{element:Se.cloneNode()}),Se.textContent=St)),na(E.afterSanitizeElements,Se,null),!1)},ps=function(Se,St,lr){if(me&&(St==="id"||St==="name")&&(lr in r||lr in yn))return!1;if(!(Ie&&!ge[St]&&ou(z,St))){if(!(Le&&ou(ee,St))){if(!(Ne.attributeCheck instanceof Function&&Ne.attributeCheck(St,Se))){if(!X[St]||ge[St]){if(!(ni(Se)&&(ue.tagNameCheck instanceof RegExp&&ou(ue.tagNameCheck,Se)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(Se))&&(ue.attributeNameCheck instanceof RegExp&&ou(ue.attributeNameCheck,St)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(St,Se))||St==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&ou(ue.tagNameCheck,lr)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(lr))))return!1}else if(!Nt[St]){if(!ou(K,f2(lr,$,""))){if(!((St==="src"||St==="xlink:href"||St==="href")&&Se!=="script"&&Rpe(lr,"data:")===0&&rr[Se])){if(!(de&&!ou(Y,f2(lr,$,"")))){if(lr)return!1}}}}}}}return!0},ni=function(Se){return Se!=="annotation-xml"&&kU(Se,j)},za=function(Se){na(E.beforeSanitizeAttributes,Se,null);let{attributes:St}=Se;if(!St||ri(Se))return;let lr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:X,forceKeepAttr:void 0},vn=St.length;for(;vn--;){let La=St[vn],{name:Yn,namespaceURI:Na,value:qi}=La,Fi=Qr(Yn),as=qi,Pa=Yn==="value"?as:Upe(as);if(lr.attrName=Fi,lr.attrValue=Pa,lr.keepAttr=!0,lr.forceKeepAttr=void 0,na(E.uponSanitizeAttribute,Se,lr),Pa=lr.attrValue,Ue&&(Fi==="id"||Fi==="name")&&(ln(Yn,Se),Pa=it+Pa),wt&&ou(/((--!?|])>)|<\/(style|title|textarea)/i,Pa)){ln(Yn,Se);continue}if(Fi==="attributename"&&kU(Pa,"href")){ln(Yn,Se);continue}if(lr.forceKeepAttr)continue;if(!lr.keepAttr){ln(Yn,Se);continue}if(!xe&&ou(/\/>/i,Pa)){ln(Yn,Se);continue}qe&&yB([_,L,D],Mo=>{Pa=f2(Pa,Mo," ")});let il=Qr(Se.nodeName);if(!ps(il,Fi,Pa)){ln(Yn,Se);continue}if(F&&typeof A=="object"&&typeof A.getAttributeType=="function"&&!Na)switch(A.getAttributeType(il,Fi)){case"TrustedHTML":{Pa=F.createHTML(Pa);break}case"TrustedScriptURL":{Pa=F.createScriptURL(Pa);break}}if(Pa!==as)try{Na?Se.setAttributeNS(Na,Yn,Pa):Se.setAttribute(Yn,Pa),ri(Se)?Jr(Se):YK(e.removed)}catch{ln(Yn,Se)}}na(E.afterSanitizeAttributes,Se,null)},Do=function Cr(Se){let St=null,lr=Ia(Se);for(na(E.beforeSanitizeShadowDOM,Se,null);St=lr.nextNode();)na(E.uponSanitizeShadowNode,St,null),ki(St),za(St),St.content instanceof i&&Cr(St.content);na(E.afterSanitizeShadowDOM,Se,null)};return e.sanitize=function(Cr){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},St=null,lr=null,vn=null,La=null;if(rt=!Cr,rt&&(Cr="<!-->"),typeof Cr!="string"&&!Pi(Cr))if(typeof Cr.toString=="function"){if(Cr=Cr.toString(),typeof Cr!="string")throw h2("dirty is not a string, aborting")}else throw h2("toString is not a function");if(!e.isSupported)return Cr;if(Ae||fr(Se),e.removed=[],typeof Cr=="string"&&(ct=!1),ct){if(Cr.nodeName){let qi=Qr(Cr.nodeName);if(!oe[qi]||be[qi])throw h2("root node is forbidden and cannot be sanitized in-place")}}else if(Cr instanceof o)St=ma("<!---->"),lr=St.ownerDocument.importNode(Cr,!0),lr.nodeType===m2.element&&lr.nodeName==="BODY"||lr.nodeName==="HTML"?St=lr:St.appendChild(lr);else{if(!zt&&!qe&&!Re&&Cr.indexOf("<")===-1)return F&&Oe?F.createHTML(Cr):Cr;if(St=ma(Cr),!St)return zt?null:Oe?O:""}St&&Kt&&Jr(St.firstChild);let Yn=Ia(ct?Cr:St);for(;vn=Yn.nextNode();)ki(vn),za(vn),vn.content instanceof i&&Do(vn.content);if(ct)return Cr;if(zt){if(pt)for(La=B.call(St.ownerDocument);St.firstChild;)La.appendChild(St.firstChild);else La=St;return(X.shadowroot||X.shadowrootmode)&&(La=U.call(n,La,!0)),La}let Na=Re?St.outerHTML:St.innerHTML;return Re&&oe["!doctype"]&&St.ownerDocument&&St.ownerDocument.doctype&&St.ownerDocument.doctype.name&&ou(iG,St.ownerDocument.doctype.name)&&(Na="<!DOCTYPE "+St.ownerDocument.doctype.name+`>
`+Na),qe&&yB([_,L,D],qi=>{Na=f2(Na,qi," ")}),F&&Oe?F.createHTML(Na):Na},e.setConfig=function(){let Cr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fr(Cr),Ae=!0},e.clearConfig=function(){Yr=null,Ae=!1},e.isValidAttribute=function(Cr,Se,St){Yr||fr({});let lr=Qr(Cr),vn=Qr(Se);return ps(lr,vn,St)},e.addHook=function(Cr,Se){typeof Se=="function"&&A2(E[Cr],Se)},e.removeHook=function(Cr,Se){if(Se!==void 0){let St=kpe(E[Cr],Se);return St===-1?void 0:Fpe(E[Cr],St,1)[0]}return YK(E[Cr])},e.removeHooks=function(Cr){E[Cr]=[]},e.removeAllHooks=function(){E=rG()},e}var nG,$K,Tpe,Lpe,Ppe,lu,od,MU,OU,QU,yB,kpe,YK,A2,Fpe,bB,PU,kU,f2,Rpe,Upe,dA,ou,h2,XK,FU,RU,Ope,UU,Qpe,JK,ZK,DU,eG,vB,Hpe,Vpe,qpe,zpe,jpe,aG,Kpe,Gpe,iG,Wpe,tG,m2,$pe,Ype,rG,Xpe,lG=Ed(()=>{({entries:nG,setPrototypeOf:$K,isFrozen:Tpe,getPrototypeOf:Lpe,getOwnPropertyDescriptor:Ppe}=Object),{freeze:lu,seal:od,create:MU}=Object,{apply:OU,construct:QU}=typeof Reflect<"u"&&Reflect;lu||(lu=function(e){return e});od||(od=function(e){return e});OU||(OU=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return e.apply(r,a)});QU||(QU=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return new e(...n)});yB=uu(Array.prototype.forEach),kpe=uu(Array.prototype.lastIndexOf),YK=uu(Array.prototype.pop),A2=uu(Array.prototype.push),Fpe=uu(Array.prototype.splice),bB=uu(String.prototype.toLowerCase),PU=uu(String.prototype.toString),kU=uu(String.prototype.match),f2=uu(String.prototype.replace),Rpe=uu(String.prototype.indexOf),Upe=uu(String.prototype.trim),dA=uu(Object.prototype.hasOwnProperty),ou=uu(RegExp.prototype.test),h2=Dpe(TypeError);XK=lu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),FU=lu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),RU=lu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ope=lu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),UU=lu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Qpe=lu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),JK=lu(["#text"]),ZK=lu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),DU=lu(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eG=lu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),vB=lu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Hpe=od(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Vpe=od(/<%[\w\W]*|[\w\W]*%>/gm),qpe=od(/\$\{[\w\W]*/gm),zpe=od(/^data-[\-\w.\u00B7-\uFFFF]+$/),jpe=od(/^aria-[\-\w]+$/),aG=od(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kpe=od(/^(?:\w+script|data):/i),Gpe=od(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iG=od(/^html$/i),Wpe=od(/^[a-z][.\w]*(-[.\w]+)+$/i),tG=Object.freeze({__proto__:null,ARIA_ATTR:jpe,ATTR_WHITESPACE:Gpe,CUSTOM_ELEMENT:Wpe,DATA_ATTR:zpe,DOCTYPE_NAME:iG,ERB_EXPR:Vpe,IS_ALLOWED_URI:aG,IS_SCRIPT_OR_DATA:Kpe,MUSTACHE_EXPR:Hpe,TMPLIT_EXPR:qpe}),m2={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},$pe=function(){return typeof window>"u"?null:window},Ype=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));let i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},rG=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};Xpe=sG()});var Ei=Ge((HU,uG)=>{"use strict";var g2=function(t){return t&&t.Math===Math&&t};uG.exports=g2(typeof globalThis=="object"&&globalThis)||g2(typeof window=="object"&&window)||g2(typeof self=="object"&&self)||g2(typeof global=="object"&&global)||g2(typeof HU=="object"&&HU)||(function(){return this})()||Function("return this")()});var Zi=Ge((JFe,cG)=>{"use strict";cG.exports=function(t){try{return!!t()}catch{return!0}}});var ld=Ge((ZFe,dG)=>{"use strict";var Jpe=Zi();dG.exports=!Jpe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var y2=Ge((eRe,AG)=>{"use strict";var Zpe=Zi();AG.exports=!Zpe(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var Uo=Ge((tRe,fG)=>{"use strict";var eme=y2(),wB=Function.prototype.call;fG.exports=eme?wB.bind(wB):function(){return wB.apply(wB,arguments)}});var gG=Ge(mG=>{"use strict";var hG={}.propertyIsEnumerable,pG=Object.getOwnPropertyDescriptor,tme=pG&&!hG.call({1:2},1);mG.f=tme?function(e){var r=pG(this,e);return!!r&&r.enumerable}:hG});var xB=Ge((nRe,yG)=>{"use strict";yG.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var es=Ge((aRe,wG)=>{"use strict";var vG=y2(),bG=Function.prototype,VU=bG.call,rme=vG&&bG.bind.bind(VU,VU);wG.exports=vG?rme:function(t){return function(){return VU.apply(t,arguments)}}});var mm=Ge((iRe,CG)=>{"use strict";var xG=es(),nme=xG({}.toString),ame=xG("".slice);CG.exports=function(t){return ame(nme(t),8,-1)}});var zU=Ge((sRe,IG)=>{"use strict";var ime=es(),sme=Zi(),ome=mm(),qU=Object,lme=ime("".split);IG.exports=sme(function(){return!qU("z").propertyIsEnumerable(0)})?function(t){return ome(t)==="String"?lme(t,""):qU(t)}:qU});var v2=Ge((oRe,NG)=>{"use strict";NG.exports=function(t){return t==null}});var ud=Ge((lRe,SG)=>{"use strict";var ume=v2(),cme=TypeError;SG.exports=function(t){if(ume(t))throw new cme("Can't call method on "+t);return t}});var B1=Ge((uRe,BG)=>{"use strict";var dme=zU(),Ame=ud();BG.exports=function(t){return dme(Ame(t))}});var ds=Ge((cRe,_G)=>{"use strict";var jU=typeof document=="object"&&document.all;_G.exports=typeof jU>"u"&&jU!==void 0?function(t){return typeof t=="function"||t===jU}:function(t){return typeof t=="function"}});var cu=Ge((dRe,EG)=>{"use strict";var fme=ds();EG.exports=function(t){return typeof t=="object"?t!==null:fme(t)}});var gm=Ge((ARe,TG)=>{"use strict";var KU=Ei(),hme=ds(),pme=function(t){return hme(t)?t:void 0};TG.exports=function(t,e){return arguments.length<2?pme(KU[t]):KU[t]&&KU[t][e]}});var b2=Ge((fRe,LG)=>{"use strict";var mme=es();LG.exports=mme({}.isPrototypeOf)});var _1=Ge((hRe,FG)=>{"use strict";var gme=Ei(),PG=gme.navigator,kG=PG&&PG.userAgent;FG.exports=kG?String(kG):""});var IB=Ge((pRe,QG)=>{"use strict";var OG=Ei(),GU=_1(),RG=OG.process,UG=OG.Deno,DG=RG&&RG.versions||UG&&UG.version,MG=DG&&DG.v8,AA,CB;MG&&(AA=MG.split("."),CB=AA[0]>0&&AA[0]<4?1:+(AA[0]+AA[1]));!CB&&GU&&(AA=GU.match(/Edge\/(\d+)/),(!AA||AA[1]>=74)&&(AA=GU.match(/Chrome\/(\d+)/),AA&&(CB=+AA[1])));QG.exports=CB});var WU=Ge((mRe,VG)=>{"use strict";var HG=IB(),yme=Zi(),vme=Ei(),bme=vme.String;VG.exports=!!Object.getOwnPropertySymbols&&!yme(function(){var t=Symbol("symbol detection");return!bme(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&HG&&HG<41})});var $U=Ge((gRe,qG)=>{"use strict";var wme=WU();qG.exports=wme&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var YU=Ge((yRe,zG)=>{"use strict";var xme=gm(),Cme=ds(),Ime=b2(),Nme=$U(),Sme=Object;zG.exports=Nme?function(t){return typeof t=="symbol"}:function(t){var e=xme("Symbol");return Cme(e)&&Ime(e.prototype,Sme(t))}});var w2=Ge((vRe,jG)=>{"use strict";var Bme=String;jG.exports=function(t){try{return Bme(t)}catch{return"Object"}}});var Sf=Ge((bRe,KG)=>{"use strict";var _me=ds(),Eme=w2(),Tme=TypeError;KG.exports=function(t){if(_me(t))return t;throw new Tme(Eme(t)+" is not a function")}});var C0=Ge((wRe,GG)=>{"use strict";var Lme=Sf(),Pme=v2();GG.exports=function(t,e){var r=t[e];return Pme(r)?void 0:Lme(r)}});var $G=Ge((xRe,WG)=>{"use strict";var XU=Uo(),JU=ds(),ZU=cu(),kme=TypeError;WG.exports=function(t,e){var r,n;if(e==="string"&&JU(r=t.toString)&&!ZU(n=XU(r,t))||JU(r=t.valueOf)&&!ZU(n=XU(r,t))||e!=="string"&&JU(r=t.toString)&&!ZU(n=XU(r,t)))return n;throw new kme("Can't convert object to primitive value")}});var fA=Ge((CRe,YG)=>{"use strict";YG.exports=!1});var NB=Ge((IRe,JG)=>{"use strict";var XG=Ei(),Fme=Object.defineProperty;JG.exports=function(t,e){try{Fme(XG,t,{value:e,configurable:!0,writable:!0})}catch{XG[t]=e}return e}});var SB=Ge((NRe,tW)=>{"use strict";var Rme=fA(),Ume=Ei(),Dme=NB(),ZG="__core-js_shared__",eW=tW.exports=Ume[ZG]||Dme(ZG,{});(eW.versions||(eW.versions=[])).push({version:"3.46.0",mode:Rme?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var BB=Ge((SRe,nW)=>{"use strict";var rW=SB();nW.exports=function(t,e){return rW[t]||(rW[t]=e||{})}});var x2=Ge((BRe,aW)=>{"use strict";var Mme=ud(),Ome=Object;aW.exports=function(t){return Ome(Mme(t))}});var cd=Ge((_Re,iW)=>{"use strict";var Qme=es(),Hme=x2(),Vme=Qme({}.hasOwnProperty);iW.exports=Object.hasOwn||function(e,r){return Vme(Hme(e),r)}});var e6=Ge((ERe,sW)=>{"use strict";var qme=es(),zme=0,jme=Math.random(),Kme=qme(1.1.toString);sW.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Kme(++zme+jme,36)}});var xo=Ge((TRe,lW)=>{"use strict";var Gme=Ei(),Wme=BB(),oW=cd(),$me=e6(),Yme=WU(),Xme=$U(),E1=Gme.Symbol,t6=Wme("wks"),Jme=Xme?E1.for||E1:E1&&E1.withoutSetter||$me;lW.exports=function(t){return oW(t6,t)||(t6[t]=Yme&&oW(E1,t)?E1[t]:Jme("Symbol."+t)),t6[t]}});var AW=Ge((LRe,dW)=>{"use strict";var Zme=Uo(),uW=cu(),cW=YU(),ege=C0(),tge=$G(),rge=xo(),nge=TypeError,age=rge("toPrimitive");dW.exports=function(t,e){if(!uW(t)||cW(t))return t;var r=ege(t,age),n;if(r){if(e===void 0&&(e="default"),n=Zme(r,t,e),!uW(n)||cW(n))return n;throw new nge("Can't convert object to primitive value")}return e===void 0&&(e="number"),tge(t,e)}});var r6=Ge((PRe,fW)=>{"use strict";var ige=AW(),sge=YU();fW.exports=function(t){var e=ige(t,"string");return sge(e)?e:e+""}});var C2=Ge((kRe,pW)=>{"use strict";var oge=Ei(),hW=cu(),n6=oge.document,lge=hW(n6)&&hW(n6.createElement);pW.exports=function(t){return lge?n6.createElement(t):{}}});var a6=Ge((FRe,mW)=>{"use strict";var uge=ld(),cge=Zi(),dge=C2();mW.exports=!uge&&!cge(function(){return Object.defineProperty(dge("div"),"a",{get:function(){return 7}}).a!==7})});var I2=Ge(yW=>{"use strict";var Age=ld(),fge=Uo(),hge=gG(),pge=xB(),mge=B1(),gge=r6(),yge=cd(),vge=a6(),gW=Object.getOwnPropertyDescriptor;yW.f=Age?gW:function(e,r){if(e=mge(e),r=gge(r),vge)try{return gW(e,r)}catch{}if(yge(e,r))return pge(!fge(hge.f,e,r),e[r])}});var i6=Ge((URe,vW)=>{"use strict";var bge=ld(),wge=Zi();vW.exports=bge&&wge(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var Nl=Ge((DRe,bW)=>{"use strict";var xge=cu(),Cge=String,Ige=TypeError;bW.exports=function(t){if(xge(t))return t;throw new Ige(Cge(t)+" is not an object")}});var Uh=Ge(xW=>{"use strict";var Nge=ld(),Sge=a6(),Bge=i6(),_B=Nl(),wW=r6(),_ge=TypeError,s6=Object.defineProperty,Ege=Object.getOwnPropertyDescriptor,o6="enumerable",l6="configurable",u6="writable";xW.f=Nge?Bge?function(e,r,n){if(_B(e),r=wW(r),_B(n),typeof e=="function"&&r==="prototype"&&"value"in n&&u6 in n&&!n[u6]){var a=Ege(e,r);a&&a[u6]&&(e[r]=n.value,n={configurable:l6 in n?n[l6]:a[l6],enumerable:o6 in n?n[o6]:a[o6],writable:!1})}return s6(e,r,n)}:s6:function(e,r,n){if(_B(e),r=wW(r),_B(n),Sge)try{return s6(e,r,n)}catch{}if("get"in n||"set"in n)throw new _ge("Accessors not supported");return"value"in n&&(e[r]=n.value),e}});var T1=Ge((ORe,CW)=>{"use strict";var Tge=ld(),Lge=Uh(),Pge=xB();CW.exports=Tge?function(t,e,r){return Lge.f(t,e,Pge(1,r))}:function(t,e,r){return t[e]=r,t}});var N2=Ge((QRe,NW)=>{"use strict";var c6=ld(),kge=cd(),IW=Function.prototype,Fge=c6&&Object.getOwnPropertyDescriptor,d6=kge(IW,"name"),Rge=d6&&(function(){}).name==="something",Uge=d6&&(!c6||c6&&Fge(IW,"name").configurable);NW.exports={EXISTS:d6,PROPER:Rge,CONFIGURABLE:Uge}});var EB=Ge((HRe,SW)=>{"use strict";var Dge=es(),Mge=ds(),A6=SB(),Oge=Dge(Function.toString);Mge(A6.inspectSource)||(A6.inspectSource=function(t){return Oge(t)});SW.exports=A6.inspectSource});var EW=Ge((VRe,_W)=>{"use strict";var Qge=Ei(),Hge=ds(),BW=Qge.WeakMap;_W.exports=Hge(BW)&&/native code/.test(String(BW))});var TB=Ge((qRe,LW)=>{"use strict";var Vge=BB(),qge=e6(),TW=Vge("keys");LW.exports=function(t){return TW[t]||(TW[t]=qge(t))}});var LB=Ge((zRe,PW)=>{"use strict";PW.exports={}});var B2=Ge((jRe,RW)=>{"use strict";var zge=EW(),FW=Ei(),jge=cu(),Kge=T1(),f6=cd(),h6=SB(),Gge=TB(),Wge=LB(),kW="Object already initialized",p6=FW.TypeError,$ge=FW.WeakMap,PB,S2,kB,Yge=function(t){return kB(t)?S2(t):PB(t,{})},Xge=function(t){return function(e){var r;if(!jge(e)||(r=S2(e)).type!==t)throw new p6("Incompatible receiver, "+t+" required");return r}};zge||h6.state?(hA=h6.state||(h6.state=new $ge),hA.get=hA.get,hA.has=hA.has,hA.set=hA.set,PB=function(t,e){if(hA.has(t))throw new p6(kW);return e.facade=t,hA.set(t,e),e},S2=function(t){return hA.get(t)||{}},kB=function(t){return hA.has(t)}):(I0=Gge("state"),Wge[I0]=!0,PB=function(t,e){if(f6(t,I0))throw new p6(kW);return e.facade=t,Kge(t,I0,e),e},S2=function(t){return f6(t,I0)?t[I0]:{}},kB=function(t){return f6(t,I0)});var hA,I0;RW.exports={set:PB,get:S2,has:kB,enforce:Yge,getterFor:Xge}});var y6=Ge((KRe,MW)=>{"use strict";var g6=es(),Jge=Zi(),Zge=ds(),FB=cd(),m6=ld(),e0e=N2().CONFIGURABLE,t0e=EB(),DW=B2(),r0e=DW.enforce,n0e=DW.get,UW=String,RB=Object.defineProperty,a0e=g6("".slice),i0e=g6("".replace),s0e=g6([].join),o0e=m6&&!Jge(function(){return RB(function(){},"length",{value:8}).length!==8}),l0e=String(String).split("String"),u0e=MW.exports=function(t,e,r){a0e(UW(e),0,7)==="Symbol("&&(e="["+i0e(UW(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!FB(t,"name")||e0e&&t.name!==e)&&(m6?RB(t,"name",{value:e,configurable:!0}):t.name=e),o0e&&r&&FB(r,"arity")&&t.length!==r.arity&&RB(t,"length",{value:r.arity});try{r&&FB(r,"constructor")&&r.constructor?m6&&RB(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=r0e(t);return FB(n,"source")||(n.source=s0e(l0e,typeof e=="string"?e:"")),t};Function.prototype.toString=u0e(function(){return Zge(this)&&n0e(this).source||t0e(this)},"toString")});var ym=Ge((GRe,OW)=>{"use strict";var c0e=ds(),d0e=Uh(),A0e=y6(),f0e=NB();OW.exports=function(t,e,r,n){n||(n={});var a=n.enumerable,i=n.name!==void 0?n.name:e;if(c0e(r)&&A0e(r,i,n),n.global)a?t[e]=r:f0e(e,r);else{try{n.unsafe?t[e]&&(a=!0):delete t[e]}catch{}a?t[e]=r:d0e.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}});var HW=Ge((WRe,QW)=>{"use strict";var h0e=Math.ceil,p0e=Math.floor;QW.exports=Math.trunc||function(e){var r=+e;return(r>0?p0e:h0e)(r)}});var _2=Ge(($Re,VW)=>{"use strict";var m0e=HW();VW.exports=function(t){var e=+t;return e!==e||e===0?0:m0e(e)}});var zW=Ge((YRe,qW)=>{"use strict";var g0e=_2(),y0e=Math.max,v0e=Math.min;qW.exports=function(t,e){var r=g0e(t);return r<0?y0e(r+e,0):v0e(r,e)}});var N0=Ge((XRe,jW)=>{"use strict";var b0e=_2(),w0e=Math.min;jW.exports=function(t){var e=b0e(t);return e>0?w0e(e,9007199254740991):0}});var UB=Ge((JRe,KW)=>{"use strict";var x0e=N0();KW.exports=function(t){return x0e(t.length)}});var v6=Ge((ZRe,WW)=>{"use strict";var C0e=B1(),I0e=zW(),N0e=UB(),GW=function(t){return function(e,r,n){var a=C0e(e),i=N0e(a);if(i===0)return!t&&-1;var s=I0e(n,i),o;if(t&&r!==r){for(;i>s;)if(o=a[s++],o!==o)return!0}else for(;i>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}};WW.exports={includes:GW(!0),indexOf:GW(!1)}});var w6=Ge((eUe,YW)=>{"use strict";var S0e=es(),b6=cd(),B0e=B1(),_0e=v6().indexOf,E0e=LB(),$W=S0e([].push);YW.exports=function(t,e){var r=B0e(t),n=0,a=[],i;for(i in r)!b6(E0e,i)&&b6(r,i)&&$W(a,i);for(;e.length>n;)b6(r,i=e[n++])&&(~_0e(a,i)||$W(a,i));return a}});var DB=Ge((tUe,XW)=>{"use strict";XW.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var ZW=Ge(JW=>{"use strict";var T0e=w6(),L0e=DB(),P0e=L0e.concat("length","prototype");JW.f=Object.getOwnPropertyNames||function(e){return T0e(e,P0e)}});var t$=Ge(e$=>{"use strict";e$.f=Object.getOwnPropertySymbols});var n$=Ge((aUe,r$)=>{"use strict";var k0e=gm(),F0e=es(),R0e=ZW(),U0e=t$(),D0e=Nl(),M0e=F0e([].concat);r$.exports=k0e("Reflect","ownKeys")||function(e){var r=R0e.f(D0e(e)),n=U0e.f;return n?M0e(r,n(e)):r}});var s$=Ge((iUe,i$)=>{"use strict";var a$=cd(),O0e=n$(),Q0e=I2(),H0e=Uh();i$.exports=function(t,e,r){for(var n=O0e(e),a=H0e.f,i=Q0e.f,s=0;s<n.length;s++){var o=n[s];!a$(t,o)&&!(r&&a$(r,o))&&a(t,o,i(e,o))}}});var x6=Ge((sUe,o$)=>{"use strict";var V0e=Zi(),q0e=ds(),z0e=/#|\.prototype\./,E2=function(t,e){var r=K0e[j0e(t)];return r===W0e?!0:r===G0e?!1:q0e(e)?V0e(e):!!e},j0e=E2.normalize=function(t){return String(t).replace(z0e,".").toLowerCase()},K0e=E2.data={},G0e=E2.NATIVE="N",W0e=E2.POLYFILL="P";o$.exports=E2});var Sl=Ge((oUe,l$)=>{"use strict";var MB=Ei(),$0e=I2().f,Y0e=T1(),X0e=ym(),J0e=NB(),Z0e=s$(),eye=x6();l$.exports=function(t,e){var r=t.target,n=t.global,a=t.stat,i,s,o,l,u,c;if(n?s=MB:a?s=MB[r]||J0e(r,{}):s=MB[r]&&MB[r].prototype,s)for(o in e){if(u=e[o],t.dontCallGetSet?(c=$0e(s,o),l=c&&c.value):l=s[o],i=eye(n?o:r+(a?".":"#")+o,t.forced),!i&&l!==void 0){if(typeof u==typeof l)continue;Z0e(u,l)}(t.sham||l&&l.sham)&&Y0e(u,"sham",!0),X0e(s,o,u,t)}}});var C6=Ge((lUe,u$)=>{"use strict";var T2=Ei(),tye=_1(),rye=mm(),OB=function(t){return tye.slice(0,t.length)===t};u$.exports=(function(){return OB("Bun/")?"BUN":OB("Cloudflare-Workers")?"CLOUDFLARE":OB("Deno/")?"DENO":OB("Node.js/")?"NODE":T2.Bun&&typeof Bun.version=="string"?"BUN":T2.Deno&&typeof Deno.version=="object"?"DENO":rye(T2.process)==="process"?"NODE":T2.window&&T2.document?"BROWSER":"REST"})()});var L2=Ge((uUe,c$)=>{"use strict";var nye=C6();c$.exports=nye==="NODE"});var A$=Ge((cUe,d$)=>{"use strict";var aye=Ei();d$.exports=aye});var h$=Ge((dUe,f$)=>{"use strict";var iye=es(),sye=Sf();f$.exports=function(t,e,r){try{return iye(sye(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}}});var m$=Ge((AUe,p$)=>{"use strict";var oye=cu();p$.exports=function(t){return oye(t)||t===null}});var y$=Ge((fUe,g$)=>{"use strict";var lye=m$(),uye=String,cye=TypeError;g$.exports=function(t){if(lye(t))return t;throw new cye("Can't set "+uye(t)+" as a prototype")}});var I6=Ge((hUe,v$)=>{"use strict";var dye=h$(),Aye=cu(),fye=ud(),hye=y$();v$.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var t=!1,e={},r;try{r=dye(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(a,i){return fye(a),hye(i),Aye(a)&&(t?r(a,i):a.__proto__=i),a}})():void 0)});var P2=Ge((pUe,w$)=>{"use strict";var pye=Uh().f,mye=cd(),gye=xo(),b$=gye("toStringTag");w$.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!mye(t,b$)&&pye(t,b$,{configurable:!0,value:e})}});var I$=Ge((mUe,C$)=>{"use strict";var x$=y6(),yye=Uh();C$.exports=function(t,e,r){return r.get&&x$(r.get,e,{getter:!0}),r.set&&x$(r.set,e,{setter:!0}),yye.f(t,e,r)}});var B$=Ge((gUe,S$)=>{"use strict";var vye=gm(),bye=I$(),wye=xo(),xye=ld(),N$=wye("species");S$.exports=function(t){var e=vye(t);xye&&e&&!e[N$]&&bye(e,N$,{configurable:!0,get:function(){return this}})}});var E$=Ge((yUe,_$)=>{"use strict";var Cye=b2(),Iye=TypeError;_$.exports=function(t,e){if(Cye(e,t))return t;throw new Iye("Incorrect invocation")}});var P$=Ge((vUe,L$)=>{"use strict";var Nye=xo(),Sye=Nye("toStringTag"),T$={};T$[Sye]="z";L$.exports=String(T$)==="[object z]"});var HB=Ge((bUe,k$)=>{"use strict";var Bye=P$(),_ye=ds(),QB=mm(),Eye=xo(),Tye=Eye("toStringTag"),Lye=Object,Pye=QB((function(){return arguments})())==="Arguments",kye=function(t,e){try{return t[e]}catch{}};k$.exports=Bye?QB:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=kye(e=Lye(t),Tye))=="string"?r:Pye?QB(e):(n=QB(e))==="Object"&&_ye(e.callee)?"Arguments":n}});var O$=Ge((wUe,M$)=>{"use strict";var Fye=es(),Rye=Zi(),F$=ds(),Uye=HB(),Dye=gm(),Mye=EB(),R$=function(){},U$=Dye("Reflect","construct"),N6=/^\s*(?:class|function)\b/,Oye=Fye(N6.exec),Qye=!N6.test(R$),k2=function(e){if(!F$(e))return!1;try{return U$(R$,[],e),!0}catch{return!1}},D$=function(e){if(!F$(e))return!1;switch(Uye(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Qye||!!Oye(N6,Mye(e))}catch{return!0}};D$.sham=!0;M$.exports=!U$||Rye(function(){var t;return k2(k2.call)||!k2(Object)||!k2(function(){t=!0})||t})?D$:k2});var H$=Ge((xUe,Q$)=>{"use strict";var Hye=O$(),Vye=w2(),qye=TypeError;Q$.exports=function(t){if(Hye(t))return t;throw new qye(Vye(t)+" is not a constructor")}});var S6=Ge((CUe,q$)=>{"use strict";var V$=Nl(),zye=H$(),jye=v2(),Kye=xo(),Gye=Kye("species");q$.exports=function(t,e){var r=V$(t).constructor,n;return r===void 0||jye(n=V$(r)[Gye])?e:zye(n)}});var B6=Ge((IUe,G$)=>{"use strict";var Wye=y2(),K$=Function.prototype,z$=K$.apply,j$=K$.call;G$.exports=typeof Reflect=="object"&&Reflect.apply||(Wye?j$.bind(z$):function(){return j$.apply(z$,arguments)})});var F2=Ge((NUe,W$)=>{"use strict";var $ye=mm(),Yye=es();W$.exports=function(t){if($ye(t)==="Function")return Yye(t)}});var VB=Ge((SUe,Y$)=>{"use strict";var $$=F2(),Xye=Sf(),Jye=y2(),Zye=$$($$.bind);Y$.exports=function(t,e){return Xye(t),e===void 0?t:Jye?Zye(t,e):function(){return t.apply(e,arguments)}}});var _6=Ge((BUe,X$)=>{"use strict";var eve=gm();X$.exports=eve("document","documentElement")});var Z$=Ge((_Ue,J$)=>{"use strict";var tve=es();J$.exports=tve([].slice)});var tY=Ge((EUe,eY)=>{"use strict";var rve=TypeError;eY.exports=function(t,e){if(t<e)throw new rve("Not enough arguments");return t}});var E6=Ge((TUe,rY)=>{"use strict";var nve=_1();rY.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(nve)});var M6=Ge((LUe,dY)=>{"use strict";var Nc=Ei(),ave=B6(),ive=VB(),nY=ds(),sve=cd(),cY=Zi(),aY=_6(),ove=Z$(),iY=C2(),lve=tY(),uve=E6(),cve=L2(),R6=Nc.setImmediate,U6=Nc.clearImmediate,dve=Nc.process,T6=Nc.Dispatch,Ave=Nc.Function,sY=Nc.MessageChannel,fve=Nc.String,L6=0,R2={},oY="onreadystatechange",U2,S0,P6,k6;cY(function(){U2=Nc.location});var D6=function(t){if(sve(R2,t)){var e=R2[t];delete R2[t],e()}},F6=function(t){return function(){D6(t)}},lY=function(t){D6(t.data)},uY=function(t){Nc.postMessage(fve(t),U2.protocol+"//"+U2.host)};(!R6||!U6)&&(R6=function(e){lve(arguments.length,1);var r=nY(e)?e:Ave(e),n=ove(arguments,1);return R2[++L6]=function(){ave(r,void 0,n)},S0(L6),L6},U6=function(e){delete R2[e]},cve?S0=function(t){dve.nextTick(F6(t))}:T6&&T6.now?S0=function(t){T6.now(F6(t))}:sY&&!uve?(P6=new sY,k6=P6.port2,P6.port1.onmessage=lY,S0=ive(k6.postMessage,k6)):Nc.addEventListener&&nY(Nc.postMessage)&&!Nc.importScripts&&U2&&U2.protocol!=="file:"&&!cY(uY)?(S0=uY,Nc.addEventListener("message",lY,!1)):oY in iY("script")?S0=function(t){aY.appendChild(iY("script"))[oY]=function(){aY.removeChild(this),D6(t)}}:S0=function(t){setTimeout(F6(t),0)});dY.exports={set:R6,clear:U6}});var hY=Ge((PUe,fY)=>{"use strict";var AY=Ei(),hve=ld(),pve=Object.getOwnPropertyDescriptor;fY.exports=function(t){if(!hve)return AY[t];var e=pve(AY,t);return e&&e.value}});var O6=Ge((kUe,mY)=>{"use strict";var pY=function(){this.head=null,this.tail=null};pY.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};mY.exports=pY});var yY=Ge((FUe,gY)=>{"use strict";var mve=_1();gY.exports=/ipad|iphone|ipod/i.test(mve)&&typeof Pebble<"u"});var bY=Ge((RUe,vY)=>{"use strict";var gve=_1();vY.exports=/web0s(?!.*chrome)/i.test(gve)});var BY=Ge((UUe,SY)=>{"use strict";var P1=Ei(),yve=hY(),wY=VB(),Q6=M6().set,vve=O6(),bve=E6(),wve=yY(),xve=bY(),H6=L2(),xY=P1.MutationObserver||P1.WebKitMutationObserver,CY=P1.document,IY=P1.process,qB=P1.Promise,z6=yve("queueMicrotask"),L1,V6,q6,zB,NY;z6||(D2=new vve,M2=function(){var t,e;for(H6&&(t=IY.domain)&&t.exit();e=D2.get();)try{e()}catch(r){throw D2.head&&L1(),r}t&&t.enter()},!bve&&!H6&&!xve&&xY&&CY?(V6=!0,q6=CY.createTextNode(""),new xY(M2).observe(q6,{characterData:!0}),L1=function(){q6.data=V6=!V6}):!wve&&qB&&qB.resolve?(zB=qB.resolve(void 0),zB.constructor=qB,NY=wY(zB.then,zB),L1=function(){NY(M2)}):H6?L1=function(){IY.nextTick(M2)}:(Q6=wY(Q6,P1),L1=function(){Q6(M2)}),z6=function(t){D2.head||L1(),D2.add(t)});var D2,M2;SY.exports=z6});var EY=Ge((DUe,_Y)=>{"use strict";_Y.exports=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}}});var jB=Ge((MUe,TY)=>{"use strict";TY.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var k1=Ge((OUe,LY)=>{"use strict";var Cve=Ei();LY.exports=Cve.Promise});var F1=Ge((QUe,RY)=>{"use strict";var Ive=Ei(),O2=k1(),Nve=ds(),Sve=x6(),Bve=EB(),_ve=xo(),PY=C6(),Eve=fA(),j6=IB(),kY=O2&&O2.prototype,Tve=_ve("species"),K6=!1,FY=Nve(Ive.PromiseRejectionEvent),Lve=Sve("Promise",function(){var t=Bve(O2),e=t!==String(O2);if(!e&&j6===66||Eve&&!(kY.catch&&kY.finally))return!0;if(!j6||j6<51||!/native code/.test(t)){var r=new O2(function(i){i(1)}),n=function(i){i(function(){},function(){})},a=r.constructor={};if(a[Tve]=n,K6=r.then(function(){})instanceof n,!K6)return!0}return!e&&(PY==="BROWSER"||PY==="DENO")&&!FY});RY.exports={CONSTRUCTOR:Lve,REJECTION_EVENT:FY,SUBCLASSING:K6}});var R1=Ge((HUe,DY)=>{"use strict";var UY=Sf(),Pve=TypeError,kve=function(t){var e,r;this.promise=new t(function(n,a){if(e!==void 0||r!==void 0)throw new Pve("Bad Promise constructor");e=n,r=a}),this.resolve=UY(e),this.reject=UY(r)};DY.exports.f=function(t){return new kve(t)}});var nX=Ge(()=>{"use strict";var Fve=Sl(),Rve=fA(),$B=L2(),vm=Ei(),Uve=A$(),O1=Uo(),MY=ym(),OY=I6(),Dve=P2(),Mve=B$(),Ove=Sf(),WB=ds(),Qve=cu(),Hve=E$(),Vve=S6(),zY=M6().set,X6=BY(),qve=EY(),zve=jB(),jve=O6(),jY=B2(),YB=k1(),J6=F1(),KY=R1(),XB="Promise",GY=J6.CONSTRUCTOR,Kve=J6.REJECTION_EVENT,Gve=J6.SUBCLASSING,G6=jY.getterFor(XB),Wve=jY.set,U1=YB&&YB.prototype,B0=YB,KB=U1,WY=vm.TypeError,W6=vm.document,Z6=vm.process,$6=KY.f,$ve=$6,Yve=!!(W6&&W6.createEvent&&vm.dispatchEvent),$Y="unhandledrejection",Xve="rejectionhandled",QY=0,YY=1,Jve=2,eD=1,XY=2,GB,HY,JY,VY,ZY=function(t){var e;return Qve(t)&&WB(e=t.then)?e:!1},eX=function(t,e){var r=e.value,n=e.state===YY,a=n?t.ok:t.fail,i=t.resolve,s=t.reject,o=t.domain,l,u,c;try{a?(n||(e.rejection===XY&&e1e(e),e.rejection=eD),a===!0?l=r:(o&&o.enter(),l=a(r),o&&(o.exit(),c=!0)),l===t.promise?s(new WY("Promise-chain cycle")):(u=ZY(l))?O1(u,l,i,s):i(l)):s(r)}catch(d){o&&!c&&o.exit(),s(d)}},tX=function(t,e){t.notified||(t.notified=!0,X6(function(){for(var r=t.reactions,n;n=r.get();)eX(n,t);t.notified=!1,e&&!t.rejection&&Zve(t)}))},rX=function(t,e,r){var n,a;Yve?(n=W6.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),vm.dispatchEvent(n)):n={promise:e,reason:r},!Kve&&(a=vm["on"+t])?a(n):t===$Y&&qve("Unhandled promise rejection",r)},Zve=function(t){O1(zY,vm,function(){var e=t.facade,r=t.value,n=qY(t),a;if(n&&(a=zve(function(){$B?Z6.emit("unhandledRejection",r,e):rX($Y,e,r)}),t.rejection=$B||qY(t)?XY:eD,a.error))throw a.value})},qY=function(t){return t.rejection!==eD&&!t.parent},e1e=function(t){O1(zY,vm,function(){var e=t.facade;$B?Z6.emit("rejectionHandled",e):rX(Xve,e,t.value)})},D1=function(t,e,r){return function(n){t(e,n,r)}},M1=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=Jve,tX(t,!0))},Y6=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new WY("Promise can't be resolved itself");var n=ZY(e);n?X6(function(){var a={done:!1};try{O1(n,e,D1(Y6,a,t),D1(M1,a,t))}catch(i){M1(a,i,t)}}):(t.value=e,t.state=YY,tX(t,!1))}catch(a){M1({done:!1},a,t)}}};if(GY&&(B0=function(e){Hve(this,KB),Ove(e),O1(GB,this);var r=G6(this);try{e(D1(Y6,r),D1(M1,r))}catch(n){M1(r,n)}},KB=B0.prototype,GB=function(e){Wve(this,{type:XB,done:!1,notified:!1,parent:!1,reactions:new jve,rejection:!1,state:QY,value:null})},GB.prototype=MY(KB,"then",function(e,r){var n=G6(this),a=$6(Vve(this,B0));return n.parent=!0,a.ok=WB(e)?e:!0,a.fail=WB(r)&&r,a.domain=$B?Z6.domain:void 0,n.state===QY?n.reactions.add(a):X6(function(){eX(a,n)}),a.promise}),HY=function(){var t=new GB,e=G6(t);this.promise=t,this.resolve=D1(Y6,e),this.reject=D1(M1,e)},KY.f=$6=function(t){return t===B0||t===JY?new HY(t):$ve(t)},!Rve&&WB(YB)&&U1!==Object.prototype)){VY=U1.then,Gve||MY(U1,"then",function(e,r){var n=this;return new B0(function(a,i){O1(VY,n,a,i)}).then(e,r)},{unsafe:!0});try{delete U1.constructor}catch{}OY&&OY(U1,KB)}Fve({global:!0,constructor:!0,wrap:!0,forced:GY},{Promise:B0});JY=Uve.Promise;Dve(B0,XB,!1,!0);Mve(XB)});var Q1=Ge((zUe,aX)=>{"use strict";aX.exports={}});var sX=Ge((jUe,iX)=>{"use strict";var t1e=xo(),r1e=Q1(),n1e=t1e("iterator"),a1e=Array.prototype;iX.exports=function(t){return t!==void 0&&(r1e.Array===t||a1e[n1e]===t)}});var tD=Ge((KUe,lX)=>{"use strict";var i1e=HB(),oX=C0(),s1e=v2(),o1e=Q1(),l1e=xo(),u1e=l1e("iterator");lX.exports=function(t){if(!s1e(t))return oX(t,u1e)||oX(t,"@@iterator")||o1e[i1e(t)]}});var cX=Ge((GUe,uX)=>{"use strict";var c1e=Uo(),d1e=Sf(),A1e=Nl(),f1e=w2(),h1e=tD(),p1e=TypeError;uX.exports=function(t,e){var r=arguments.length<2?h1e(t):e;if(d1e(r))return A1e(c1e(r,t));throw new p1e(f1e(t)+" is not iterable")}});var fX=Ge((WUe,AX)=>{"use strict";var m1e=Uo(),dX=Nl(),g1e=C0();AX.exports=function(t,e,r){var n,a;dX(t);try{if(n=g1e(t,"return"),!n){if(e==="throw")throw r;return r}n=m1e(n,t)}catch(i){a=!0,n=i}if(e==="throw")throw r;if(a)throw n;return dX(n),r}});var rD=Ge(($Ue,gX)=>{"use strict";var y1e=VB(),v1e=Uo(),b1e=Nl(),w1e=w2(),x1e=sX(),C1e=UB(),hX=b2(),I1e=cX(),N1e=tD(),pX=fX(),S1e=TypeError,JB=function(t,e){this.stopped=t,this.result=e},mX=JB.prototype;gX.exports=function(t,e,r){var n=r&&r.that,a=!!(r&&r.AS_ENTRIES),i=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),l=y1e(e,n),u,c,d,f,A,v,I,w=function(b){return u&&pX(u,"normal"),new JB(!0,b)},g=function(b){return a?(b1e(b),o?l(b[0],b[1],w):l(b[0],b[1])):o?l(b,w):l(b)};if(i)u=t.iterator;else if(s)u=t;else{if(c=N1e(t),!c)throw new S1e(w1e(t)+" is not iterable");if(x1e(c)){for(d=0,f=C1e(t);f>d;d++)if(A=g(t[d]),A&&hX(mX,A))return A;return new JB(!1)}u=I1e(t,c)}for(v=i?t.next:u.next;!(I=v1e(v,u)).done;){try{A=g(I.value)}catch(b){pX(u,"throw",b)}if(typeof A=="object"&&A&&hX(mX,A))return A}return new JB(!1)}});var xX=Ge((YUe,wX)=>{"use strict";var B1e=xo(),vX=B1e("iterator"),bX=!1;try{yX=0,nD={next:function(){return{done:!!yX++}},return:function(){bX=!0}},nD[vX]=function(){return this},Array.from(nD,function(){throw 2})}catch{}var yX,nD;wX.exports=function(t,e){try{if(!e&&!bX)return!1}catch{return!1}var r=!1;try{var n={};n[vX]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r}});var aD=Ge((XUe,CX)=>{"use strict";var _1e=k1(),E1e=xX(),T1e=F1().CONSTRUCTOR;CX.exports=T1e||!E1e(function(t){_1e.all(t).then(void 0,function(){})})});var IX=Ge(()=>{"use strict";var L1e=Sl(),P1e=Uo(),k1e=Sf(),F1e=R1(),R1e=jB(),U1e=rD(),D1e=aD();L1e({target:"Promise",stat:!0,forced:D1e},{all:function(e){var r=this,n=F1e.f(r),a=n.resolve,i=n.reject,s=R1e(function(){var o=k1e(r.resolve),l=[],u=0,c=1;U1e(e,function(d){var f=u++,A=!1;c++,P1e(o,r,d).then(function(v){A||(A=!0,l[f]=v,--c||a(l))},i)}),--c||a(l)});return s.error&&i(s.value),n.promise}})});var SX=Ge(()=>{"use strict";var M1e=Sl(),O1e=fA(),Q1e=F1().CONSTRUCTOR,sD=k1(),H1e=gm(),V1e=ds(),q1e=ym(),NX=sD&&sD.prototype;M1e({target:"Promise",proto:!0,forced:Q1e,real:!0},{catch:function(t){return this.then(void 0,t)}});!O1e&&V1e(sD)&&(iD=H1e("Promise").prototype.catch,NX.catch!==iD&&q1e(NX,"catch",iD,{unsafe:!0}));var iD});var BX=Ge(()=>{"use strict";var z1e=Sl(),j1e=Uo(),K1e=Sf(),G1e=R1(),W1e=jB(),$1e=rD(),Y1e=aD();z1e({target:"Promise",stat:!0,forced:Y1e},{race:function(e){var r=this,n=G1e.f(r),a=n.reject,i=W1e(function(){var s=K1e(r.resolve);$1e(e,function(o){j1e(s,r,o).then(n.resolve,a)})});return i.error&&a(i.value),n.promise}})});var _X=Ge(()=>{"use strict";var X1e=Sl(),J1e=R1(),Z1e=F1().CONSTRUCTOR;X1e({target:"Promise",stat:!0,forced:Z1e},{reject:function(e){var r=J1e.f(this),n=r.reject;return n(e),r.promise}})});var TX=Ge((s6e,EX)=>{"use strict";var ebe=Nl(),tbe=cu(),rbe=R1();EX.exports=function(t,e){if(ebe(t),tbe(e)&&e.constructor===t)return e;var r=rbe.f(t),n=r.resolve;return n(e),r.promise}});var kX=Ge(()=>{"use strict";var nbe=Sl(),abe=gm(),LX=fA(),ibe=k1(),PX=F1().CONSTRUCTOR,sbe=TX(),obe=abe("Promise"),lbe=LX&&!PX;nbe({target:"Promise",stat:!0,forced:LX||PX},{resolve:function(e){return sbe(lbe&&this===obe?ibe:this,e)}})});var FX=Ge(()=>{"use strict";nX();IX();SX();BX();_X();kX()});function RX(t,e,r,n,a,i,s){try{var o=t[i](s),l=o.value}catch(u){return void r(u)}o.done?e(l):Promise.resolve(l).then(n,a)}function Bf(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function s(l){RX(i,n,a,s,o,"next",l)}function o(l){RX(i,n,a,s,o,"throw",l)}s(void 0)})}}var UX=Ed(()=>{});var pA=Ge((A6e,DX)=>{"use strict";var ube=HB(),cbe=String;DX.exports=function(t){if(ube(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return cbe(t)}});var oD=Ge((f6e,MX)=>{"use strict";var dbe=Nl();MX.exports=function(){var t=dbe(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}});var dD=Ge((h6e,OX)=>{"use strict";var lD=Zi(),Abe=Ei(),uD=Abe.RegExp,cD=lD(function(){var t=uD("a","y");return t.lastIndex=2,t.exec("abcd")!==null}),fbe=cD||lD(function(){return!uD("a","y").sticky}),hbe=cD||lD(function(){var t=uD("^r","gy");return t.lastIndex=2,t.exec("str")!==null});OX.exports={BROKEN_CARET:hbe,MISSED_STICKY:fbe,UNSUPPORTED_Y:cD}});var HX=Ge((p6e,QX)=>{"use strict";var pbe=w6(),mbe=DB();QX.exports=Object.keys||function(e){return pbe(e,mbe)}});var qX=Ge(VX=>{"use strict";var gbe=ld(),ybe=i6(),vbe=Uh(),bbe=Nl(),wbe=B1(),xbe=HX();VX.f=gbe&&!ybe?Object.defineProperties:function(e,r){bbe(e);for(var n=wbe(r),a=xbe(r),i=a.length,s=0,o;i>s;)vbe.f(e,o=a[s++],n[o]);return e}});var Q2=Ge((g6e,YX)=>{"use strict";var Cbe=Nl(),Ibe=qX(),zX=DB(),Nbe=LB(),Sbe=_6(),Bbe=C2(),_be=TB(),jX=">",KX="<",fD="prototype",hD="script",WX=_be("IE_PROTO"),AD=function(){},$X=function(t){return KX+hD+jX+t+KX+"/"+hD+jX},GX=function(t){t.write($X("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ebe=function(){var t=Bbe("iframe"),e="java"+hD+":",r;return t.style.display="none",Sbe.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write($X("document.F=Object")),r.close(),r.F},ZB,e_=function(){try{ZB=new ActiveXObject("htmlfile")}catch{}e_=typeof document<"u"?document.domain&&ZB?GX(ZB):Ebe():GX(ZB);for(var t=zX.length;t--;)delete e_[fD][zX[t]];return e_()};Nbe[WX]=!0;YX.exports=Object.create||function(e,r){var n;return e!==null?(AD[fD]=Cbe(e),n=new AD,AD[fD]=null,n[WX]=e):n=e_(),r===void 0?n:Ibe.f(n,r)}});var JX=Ge((y6e,XX)=>{"use strict";var Tbe=Zi(),Lbe=Ei(),Pbe=Lbe.RegExp;XX.exports=Tbe(function(){var t=Pbe(".","s");return!(t.dotAll&&t.test(`
`)&&t.flags==="s")})});var eJ=Ge((v6e,ZX)=>{"use strict";var kbe=Zi(),Fbe=Ei(),Rbe=Fbe.RegExp;ZX.exports=kbe(function(){var t=Rbe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"})});var n_=Ge((b6e,rJ)=>{"use strict";var H1=Uo(),r_=es(),Ube=pA(),Dbe=oD(),Mbe=dD(),Obe=BB(),Qbe=Q2(),Hbe=B2().get,Vbe=JX(),qbe=eJ(),zbe=Obe("native-string-replace",String.prototype.replace),t_=RegExp.prototype.exec,mD=t_,jbe=r_("".charAt),Kbe=r_("".indexOf),Gbe=r_("".replace),pD=r_("".slice),gD=(function(){var t=/a/,e=/b*/g;return H1(t_,t,"a"),H1(t_,e,"a"),t.lastIndex!==0||e.lastIndex!==0})(),tJ=Mbe.BROKEN_CARET,yD=/()??/.exec("")[1]!==void 0,Wbe=gD||yD||tJ||Vbe||qbe;Wbe&&(mD=function(e){var r=this,n=Hbe(r),a=Ube(e),i=n.raw,s,o,l,u,c,d,f;if(i)return i.lastIndex=r.lastIndex,s=H1(mD,i,a),r.lastIndex=i.lastIndex,s;var A=n.groups,v=tJ&&r.sticky,I=H1(Dbe,r),w=r.source,g=0,b=a;if(v&&(I=Gbe(I,"y",""),Kbe(I,"g")===-1&&(I+="g"),b=pD(a,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&jbe(a,r.lastIndex-1)!==`
`)&&(w="(?: "+w+")",b=" "+b,g++),o=new RegExp("^(?:"+w+")",I)),yD&&(o=new RegExp("^"+w+"$(?!\\s)",I)),gD&&(l=r.lastIndex),u=H1(t_,v?o:r,b),v?u?(u.input=pD(u.input,g),u[0]=pD(u[0],g),u.index=r.lastIndex,r.lastIndex+=u[0].length):r.lastIndex=0:gD&&u&&(r.lastIndex=r.global?u.index+u[0].length:l),yD&&u&&u.length>1&&H1(zbe,u[0],o,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(u[c]=void 0)}),u&&A)for(u.groups=d=Qbe(null),c=0;c<A.length;c++)f=A[c],d[f[0]]=u[f[1]];return u});rJ.exports=mD});var aJ=Ge(()=>{"use strict";var $be=Sl(),nJ=n_();$be({target:"RegExp",proto:!0,forced:/./.exec!==nJ},{exec:nJ})});var a_=Ge((C6e,uJ)=>{"use strict";aJ();var iJ=Uo(),sJ=ym(),Ybe=n_(),oJ=Zi(),lJ=xo(),Xbe=T1(),Jbe=lJ("species"),vD=RegExp.prototype;uJ.exports=function(t,e,r,n){var a=lJ(t),i=!oJ(function(){var u={};return u[a]=function(){return 7},""[t](u)!==7}),s=i&&!oJ(function(){var u=!1,c=/a/;return t==="split"&&(c={},c.constructor={},c.constructor[Jbe]=function(){return c},c.flags="",c[a]=/./[a]),c.exec=function(){return u=!0,null},c[a](""),!u});if(!i||!s||r){var o=/./[a],l=e(a,""[t],function(u,c,d,f,A){var v=c.exec;return v===Ybe||v===vD.exec?i&&!A?{done:!0,value:iJ(o,c,d,f)}:{done:!0,value:iJ(u,d,c,f)}:{done:!1}});sJ(String.prototype,t,l[0]),sJ(vD,a,l[1])}n&&Xbe(vD[a],"sham",!0)}});var fJ=Ge((I6e,AJ)=>{"use strict";var bD=es(),Zbe=_2(),ewe=pA(),twe=ud(),rwe=bD("".charAt),cJ=bD("".charCodeAt),nwe=bD("".slice),dJ=function(t){return function(e,r){var n=ewe(twe(e)),a=Zbe(r),i=n.length,s,o;return a<0||a>=i?t?"":void 0:(s=cJ(n,a),s<55296||s>56319||a+1===i||(o=cJ(n,a+1))<56320||o>57343?t?rwe(n,a):s:t?nwe(n,a,a+2):(s-55296<<10)+(o-56320)+65536)}};AJ.exports={codeAt:dJ(!1),charAt:dJ(!0)}});var i_=Ge((N6e,hJ)=>{"use strict";var awe=fJ().charAt;hJ.exports=function(t,e,r){return e+(r?awe(t,e).length:1)}});var gJ=Ge((S6e,mJ)=>{"use strict";var iwe=Ei(),swe=Zi(),pJ=iwe.RegExp,owe=!swe(function(){var t=!0;try{pJ(".","d")}catch{t=!1}var e={},r="",n=t?"dgimsy":"gimsy",a=function(l,u){Object.defineProperty(e,l,{get:function(){return r+=u,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(i.hasIndices="d");for(var s in i)a(s,i[s]);var o=Object.getOwnPropertyDescriptor(pJ.prototype,"flags").get.call(e);return o!==n||r!==n});mJ.exports={correct:owe}});var s_=Ge((B6e,vJ)=>{"use strict";var lwe=Uo(),uwe=cd(),cwe=b2(),yJ=gJ(),dwe=oD(),Awe=RegExp.prototype;vJ.exports=yJ.correct?function(t){return t.flags}:function(t){return!yJ.correct&&cwe(Awe,t)&&!uwe(t,"flags")?lwe(dwe,t):t.flags}});var o_=Ge((_6e,wJ)=>{"use strict";var bJ=Uo(),fwe=Nl(),hwe=ds(),pwe=mm(),mwe=n_(),gwe=TypeError;wJ.exports=function(t,e){var r=t.exec;if(hwe(r)){var n=bJ(r,t,e);return n!==null&&fwe(n),n}if(pwe(t)==="RegExp")return bJ(mwe,t,e);throw new gwe("RegExp#exec called on incompatible receiver")}});var IJ=Ge(()=>{"use strict";var ywe=Uo(),vwe=es(),bwe=a_(),wwe=Nl(),xwe=cu(),Cwe=N0(),l_=pA(),Iwe=ud(),Nwe=C0(),Swe=i_(),Bwe=s_(),xJ=o_(),CJ=vwe("".indexOf);bwe("match",function(t,e,r){return[function(a){var i=Iwe(this),s=xwe(a)?Nwe(a,t):void 0;return s?ywe(s,a,i):new RegExp(a)[t](l_(i))},function(n){var a=wwe(this),i=l_(n),s=r(e,a,i);if(s.done)return s.value;var o=l_(Bwe(a));if(CJ(o,"g")===-1)return xJ(a,i);var l=CJ(o,"u")!==-1;a.lastIndex=0;for(var u=[],c=0,d;(d=xJ(a,i))!==null;){var f=l_(d[0]);u[c]=f,f===""&&(a.lastIndex=Swe(i,Cwe(a.lastIndex),l)),c++}return c===0?null:u}]})});var SJ=Ge((L6e,NJ)=>{"use strict";var CD=es(),_we=x2(),Ewe=Math.floor,wD=CD("".charAt),Twe=CD("".replace),xD=CD("".slice),Lwe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Pwe=/\$([$&'`]|\d{1,2})/g;NJ.exports=function(t,e,r,n,a,i){var s=r+t.length,o=n.length,l=Pwe;return a!==void 0&&(a=_we(a),l=Lwe),Twe(i,l,function(u,c){var d;switch(wD(c,0)){case"$":return"$";case"&":return t;case"`":return xD(e,0,r);case"'":return xD(e,s);case"<":d=a[xD(c,1,-1)];break;default:var f=+c;if(f===0)return u;if(f>o){var A=Ewe(f/10);return A===0?u:A<=o?n[A-1]===void 0?wD(c,1):n[A-1]+wD(c,1):u}d=n[f-1]}return d===void 0?"":d})}});var TJ=Ge(()=>{"use strict";var kwe=B6(),BJ=Uo(),c_=es(),Fwe=a_(),Rwe=Zi(),Uwe=Nl(),Dwe=ds(),Mwe=cu(),Owe=_2(),Qwe=N0(),_0=pA(),Hwe=ud(),Vwe=i_(),qwe=C0(),zwe=SJ(),jwe=s_(),Kwe=o_(),Gwe=xo(),ND=Gwe("replace"),Wwe=Math.max,$we=Math.min,Ywe=c_([].concat),ID=c_([].push),u_=c_("".indexOf),_J=c_("".slice),Xwe=function(t){return t===void 0?t:String(t)},Jwe=(function(){return"a".replace(/./,"$0")==="$0"})(),EJ=(function(){return/./[ND]?/./[ND]("a","$0")==="":!1})(),Zwe=!Rwe(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});Fwe("replace",function(t,e,r){var n=EJ?"$":"$0";return[function(i,s){var o=Hwe(this),l=Mwe(i)?qwe(i,ND):void 0;return l?BJ(l,i,o,s):BJ(e,_0(o),i,s)},function(a,i){var s=Uwe(this),o=_0(a);if(typeof i=="string"&&u_(i,n)===-1&&u_(i,"$<")===-1){var l=r(e,s,o,i);if(l.done)return l.value}var u=Dwe(i);u||(i=_0(i));var c=_0(jwe(s)),d=u_(c,"g")!==-1,f;d&&(f=u_(c,"u")!==-1,s.lastIndex=0);for(var A=[],v;v=Kwe(s,o),!(v===null||(ID(A,v),!d));){var I=_0(v[0]);I===""&&(s.lastIndex=Vwe(o,Qwe(s.lastIndex),f))}for(var w="",g=0,b=0;b<A.length;b++){v=A[b];for(var S=_0(v[0]),F=Wwe($we(Owe(v.index),o.length),0),O=[],R,T=1;T<v.length;T++)ID(O,Xwe(v[T]));var B=v.groups;if(u){var k=Ywe([S],O,F,o);B!==void 0&&ID(k,B),R=_0(kwe(i,void 0,k))}else R=zwe(S,o,F,O,B,i);F>=g&&(w+=_J(o,g,F)+R,g=F+S.length)}return w+_J(o,g)}]},!Zwe||!Jwe||EJ)});var PJ=Ge((F6e,LJ)=>{"use strict";var exe=cu(),txe=mm(),rxe=xo(),nxe=rxe("match");LJ.exports=function(t){var e;return exe(t)&&((e=t[nxe])!==void 0?!!e:txe(t)==="RegExp")}});var d_=Ge((R6e,kJ)=>{"use strict";var axe=PJ(),ixe=TypeError;kJ.exports=function(t){if(axe(t))throw new ixe("The method doesn't accept regular expressions");return t}});var A_=Ge((U6e,FJ)=>{"use strict";var sxe=xo(),oxe=sxe("match");FJ.exports=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[oxe]=!1,"/./"[t](e)}catch{}}return!1}});var DJ=Ge(()=>{"use strict";var lxe=Sl(),uxe=F2(),cxe=I2().f,dxe=N0(),RJ=pA(),Axe=d_(),fxe=ud(),hxe=A_(),pxe=fA(),mxe=uxe("".slice),gxe=Math.min,UJ=hxe("startsWith"),yxe=!pxe&&!UJ&&!!(function(){var t=cxe(String.prototype,"startsWith");return t&&!t.writable})();lxe({target:"String",proto:!0,forced:!yxe&&!UJ},{startsWith:function(e){var r=RJ(fxe(this));Axe(e);var n=dxe(gxe(arguments.length>1?arguments[1]:void 0,r.length)),a=RJ(e);return mxe(r,n,n+a.length)===a}})});var OJ=Ge((O6e,MJ)=>{"use strict";var vxe=xo(),bxe=Q2(),wxe=Uh().f,SD=vxe("unscopables"),BD=Array.prototype;BD[SD]===void 0&&wxe(BD,SD,{configurable:!0,value:bxe(null)});MJ.exports=function(t){BD[SD][t]=!0}});var HJ=Ge((Q6e,QJ)=>{"use strict";var xxe=Zi();QJ.exports=!xxe(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var ED=Ge((H6e,qJ)=>{"use strict";var Cxe=cd(),Ixe=ds(),Nxe=x2(),Sxe=TB(),Bxe=HJ(),VJ=Sxe("IE_PROTO"),_D=Object,_xe=_D.prototype;qJ.exports=Bxe?_D.getPrototypeOf:function(t){var e=Nxe(t);if(Cxe(e,VJ))return e[VJ];var r=e.constructor;return Ixe(r)&&e instanceof r?r.prototype:e instanceof _D?_xe:null}});var kD=Ge((V6e,KJ)=>{"use strict";var Exe=Zi(),Txe=ds(),Lxe=cu(),Pxe=Q2(),zJ=ED(),kxe=ym(),Fxe=xo(),Rxe=fA(),PD=Fxe("iterator"),jJ=!1,Dh,TD,LD;[].keys&&(LD=[].keys(),"next"in LD?(TD=zJ(zJ(LD)),TD!==Object.prototype&&(Dh=TD)):jJ=!0);var Uxe=!Lxe(Dh)||Exe(function(){var t={};return Dh[PD].call(t)!==t});Uxe?Dh={}:Rxe&&(Dh=Pxe(Dh));Txe(Dh[PD])||kxe(Dh,PD,function(){return this});KJ.exports={IteratorPrototype:Dh,BUGGY_SAFARI_ITERATORS:jJ}});var WJ=Ge((q6e,GJ)=>{"use strict";var Dxe=kD().IteratorPrototype,Mxe=Q2(),Oxe=xB(),Qxe=P2(),Hxe=Q1(),Vxe=function(){return this};GJ.exports=function(t,e,r,n){var a=e+" Iterator";return t.prototype=Mxe(Dxe,{next:Oxe(+!n,r)}),Qxe(t,a,!1,!0),Hxe[a]=Vxe,t}});var iZ=Ge((z6e,aZ)=>{"use strict";var qxe=Sl(),zxe=Uo(),f_=fA(),rZ=N2(),jxe=ds(),Kxe=WJ(),$J=ED(),YJ=I6(),Gxe=P2(),Wxe=T1(),FD=ym(),$xe=xo(),XJ=Q1(),nZ=kD(),Yxe=rZ.PROPER,Xxe=rZ.CONFIGURABLE,JJ=nZ.IteratorPrototype,h_=nZ.BUGGY_SAFARI_ITERATORS,H2=$xe("iterator"),ZJ="keys",V2="values",eZ="entries",tZ=function(){return this};aZ.exports=function(t,e,r,n,a,i,s){Kxe(r,e,n);var o=function(g){if(g===a&&f)return f;if(!h_&&g&&g in c)return c[g];switch(g){case ZJ:return function(){return new r(this,g)};case V2:return function(){return new r(this,g)};case eZ:return function(){return new r(this,g)}}return function(){return new r(this)}},l=e+" Iterator",u=!1,c=t.prototype,d=c[H2]||c["@@iterator"]||a&&c[a],f=!h_&&d||o(a),A=e==="Array"&&c.entries||d,v,I,w;if(A&&(v=$J(A.call(new t)),v!==Object.prototype&&v.next&&(!f_&&$J(v)!==JJ&&(YJ?YJ(v,JJ):jxe(v[H2])||FD(v,H2,tZ)),Gxe(v,l,!0,!0),f_&&(XJ[l]=tZ))),Yxe&&a===V2&&d&&d.name!==V2&&(!f_&&Xxe?Wxe(c,"name",V2):(u=!0,f=function(){return zxe(d,this)})),a)if(I={values:o(V2),keys:i?f:o(ZJ),entries:o(eZ)},s)for(w in I)(h_||u||!(w in c))&&FD(c,w,I[w]);else qxe({target:e,proto:!0,forced:h_||u},I);return(!f_||s)&&c[H2]!==f&&FD(c,H2,f,{name:a}),XJ[e]=f,I}});var oZ=Ge((j6e,sZ)=>{"use strict";sZ.exports=function(t,e){return{value:t,done:e}}});var UD=Ge((K6e,AZ)=>{"use strict";var Jxe=B1(),RD=OJ(),lZ=Q1(),cZ=B2(),Zxe=Uh().f,e2e=iZ(),p_=oZ(),t2e=fA(),r2e=ld(),dZ="Array Iterator",n2e=cZ.set,a2e=cZ.getterFor(dZ);AZ.exports=e2e(Array,"Array",function(t,e){n2e(this,{type:dZ,target:Jxe(t),index:0,kind:e})},function(){var t=a2e(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,p_(void 0,!0);switch(t.kind){case"keys":return p_(r,!1);case"values":return p_(e[r],!1)}return p_([r,e[r]],!1)},"values");var uZ=lZ.Arguments=lZ.Array;RD("keys");RD("values");RD("entries");if(!t2e&&r2e&&uZ.name!=="values")try{Zxe(uZ,"name",{value:"values"})}catch{}});var hZ=Ge((G6e,fZ)=>{"use strict";fZ.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var gZ=Ge((W6e,mZ)=>{"use strict";var i2e=C2(),DD=i2e("span").classList,pZ=DD&&DD.constructor&&DD.constructor.prototype;mZ.exports=pZ===Object.prototype?void 0:pZ});var xZ=Ge(()=>{"use strict";var yZ=Ei(),bZ=hZ(),s2e=gZ(),q2=UD(),vZ=T1(),o2e=P2(),l2e=xo(),MD=l2e("iterator"),OD=q2.values,wZ=function(t,e){if(t){if(t[MD]!==OD)try{vZ(t,MD,OD)}catch{t[MD]=OD}if(o2e(t,e,!0),bZ[e]){for(var r in q2)if(t[r]!==q2[r])try{vZ(t,r,q2[r])}catch{t[r]=q2[r]}}}};for(m_ in bZ)wZ(yZ[m_]&&yZ[m_].prototype,m_);var m_;wZ(s2e,"DOMTokenList")});function CZ(t,e){if(Aa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IZ=Ed(()=>{fB()});function NZ(t){var e=CZ(t,"string");return Aa(e)=="symbol"?e:e+""}var SZ=Ed(()=>{fB();IZ()});function g_(t,e,r){return(e=NZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var BZ=Ed(()=>{SZ()});var PZ=Ge((aDe,LZ)=>{"use strict";var u2e=Sf(),c2e=x2(),d2e=zU(),A2e=UB(),_Z=TypeError,EZ="Reduce of empty array with no initial value",TZ=function(t){return function(e,r,n,a){var i=c2e(e),s=d2e(i),o=A2e(i);if(u2e(r),o===0&&n<2)throw new _Z(EZ);var l=t?o-1:0,u=t?-1:1;if(n<2)for(;;){if(l in s){a=s[l],l+=u;break}if(l+=u,t?l<0:o<=l)throw new _Z(EZ)}for(;t?l>=0:o>l;l+=u)l in s&&(a=r(a,s[l],l,i));return a}};LZ.exports={left:TZ(!1),right:TZ(!0)}});var QD=Ge((iDe,kZ)=>{"use strict";var f2e=Zi();kZ.exports=function(t,e){var r=[][t];return!!r&&f2e(function(){r.call(null,e||function(){return 1},1)})}});var RZ=Ge(()=>{"use strict";var h2e=Sl(),p2e=PZ().left,m2e=QD(),FZ=IB(),g2e=L2(),y2e=!g2e&&FZ>79&&FZ<83,v2e=y2e||!m2e("reduce");h2e({target:"Array",proto:!0,forced:v2e},{reduce:function(e){var r=arguments.length;return p2e(this,e,r,r>1?arguments[1]:void 0)}})});var MZ=Ge(()=>{"use strict";var b2e=Sl(),w2e=F2(),x2e=I2().f,C2e=N0(),UZ=pA(),I2e=d_(),N2e=ud(),S2e=A_(),B2e=fA(),_2e=w2e("".slice),E2e=Math.min,DZ=S2e("endsWith"),T2e=!B2e&&!DZ&&!!(function(){var t=x2e(String.prototype,"endsWith");return t&&!t.writable})();b2e({target:"String",proto:!0,forced:!T2e&&!DZ},{endsWith:function(e){var r=UZ(N2e(this));I2e(e);var n=arguments.length>1?arguments[1]:void 0,a=r.length,i=n===void 0?a:E2e(C2e(n),a),s=UZ(e);return _2e(r,i-s.length,i)===s}})});var qZ=Ge(()=>{"use strict";var HD=Uo(),VZ=es(),L2e=a_(),P2e=Nl(),k2e=cu(),F2e=ud(),R2e=S6(),U2e=i_(),D2e=N0(),OZ=pA(),M2e=C0(),QZ=o_(),O2e=dD(),Q2e=Zi(),V1=O2e.UNSUPPORTED_Y,H2e=4294967295,V2e=Math.min,VD=VZ([].push),qD=VZ("".slice),q2e=!Q2e(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),HZ="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;L2e("split",function(t,e,r){var n="0".split(void 0,0).length?function(a,i){return a===void 0&&i===0?[]:HD(e,this,a,i)}:e;return[function(i,s){var o=F2e(this),l=k2e(i)?M2e(i,t):void 0;return l?HD(l,i,o,s):HD(n,OZ(o),i,s)},function(a,i){var s=P2e(this),o=OZ(a);if(!HZ){var l=r(n,s,o,i,n!==e);if(l.done)return l.value}var u=R2e(s,RegExp),c=s.unicode,d=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(V1?"g":"y"),f=new u(V1?"^(?:"+s.source+")":s,d),A=i===void 0?H2e:i>>>0;if(A===0)return[];if(o.length===0)return QZ(f,o)===null?[o]:[];for(var v=0,I=0,w=[];I<o.length;){f.lastIndex=V1?0:I;var g=QZ(f,V1?qD(o,I):o),b;if(g===null||(b=V2e(D2e(f.lastIndex+(V1?I:0)),o.length))===v)I=U2e(o,I,c);else{if(VD(w,qD(o,v,I)),w.length===A)return w;for(var S=1;S<=g.length-1;S++)if(VD(w,g[S]),w.length===A)return w;I=v=b}}return VD(w,qD(o,v)),w}]},HZ||!q2e,V1)});var jZ=Ge((zZ,z2)=>{(function(){var t,e,r,n,a,i;typeof performance<"u"&&performance!==null&&performance.now?z2.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(z2.exports=function(){return(t()-a)/1e6},e=process.hrtime,t=function(){var s;return s=e(),s[0]*1e9+s[1]},n=t(),i=process.uptime()*1e9,a=n-i):Date.now?(z2.exports=function(){return Date.now()-r},r=Date.now()):(z2.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(zZ)});var GZ=Ge((ADe,b_)=>{var z2e=jZ(),Mh=typeof window>"u"?global:window,y_=["moz","webkit"],z1="AnimationFrame",j1=Mh["request"+z1],j2=Mh["cancel"+z1]||Mh["cancelRequest"+z1];for(q1=0;!j1&&q1<y_.length;q1++)j1=Mh[y_[q1]+"Request"+z1],j2=Mh[y_[q1]+"Cancel"+z1]||Mh[y_[q1]+"CancelRequest"+z1];var q1;(!j1||!j2)&&(v_=0,zD=0,bm=[],KZ=1e3/60,j1=function(t){if(bm.length===0){var e=z2e(),r=Math.max(0,KZ-(e-v_));v_=r+e,setTimeout(function(){var n=bm.slice(0);bm.length=0;for(var a=0;a<n.length;a++)if(!n[a].cancelled)try{n[a].callback(v_)}catch(i){setTimeout(function(){throw i},0)}},Math.round(r))}return bm.push({handle:++zD,callback:t,cancelled:!1}),zD},j2=function(t){for(var e=0;e<bm.length;e++)bm[e].handle===t&&(bm[e].cancelled=!0)});var v_,zD,bm,KZ;b_.exports=function(t){return j1.call(Mh,t)};b_.exports.cancel=function(){j2.apply(Mh,arguments)};b_.exports.polyfill=function(t){t||(t=Mh),t.requestAnimationFrame=j1,t.cancelAnimationFrame=j2}});var jD=Ge((fDe,WZ)=>{"use strict";WZ.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var XZ=Ge((hDe,YZ)=>{"use strict";var j2e=es(),K2e=ud(),G2e=pA(),GD=jD(),$Z=j2e("".replace),W2e=RegExp("^["+GD+"]+"),$2e=RegExp("(^|[^"+GD+"])["+GD+"]+$"),KD=function(t){return function(e){var r=G2e(K2e(e));return t&1&&(r=$Z(r,W2e,"")),t&2&&(r=$Z(r,$2e,"$1")),r}};YZ.exports={start:KD(1),end:KD(2),trim:KD(3)}});var tee=Ge((pDe,eee)=>{"use strict";var Y2e=N2().PROPER,X2e=Zi(),JZ=jD(),ZZ="\u200B\x85\u180E";eee.exports=function(t){return X2e(function(){return!!JZ[t]()||ZZ[t]()!==ZZ||Y2e&&JZ[t].name!==t})}});var ree=Ge(()=>{"use strict";var J2e=Sl(),Z2e=XZ().trim,eCe=tee();J2e({target:"String",proto:!0,forced:eCe("trim")},{trim:function(){return Z2e(this)}})});var aee=Ge((yDe,nee)=>{nee.exports=function(t){this.ok=!1,this.alpha=1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var r=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3]),parseFloat(l[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);if(s){var o=i(s);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),"#"+l+u+c},this.getHelpXML=function(){for(var l=new Array,u=0;u<r.length;u++)for(var c=r[u].example,d=0;d<c.length;d++)l[l.length]=c[d];for(var f in e)l[l.length]=f;var A=document.createElement("ul");A.setAttribute("id","rgbcolor-examples");for(var u=0;u<l.length;u++)try{var v=document.createElement("li"),I=new RGBColor(l[u]),w=document.createElement("div");w.style.cssText="margin: 3px; border: 1px solid black; background:"+I.toHex()+"; color:"+I.toHex(),w.appendChild(document.createTextNode("test"));var g=document.createTextNode(" "+l[u]+" -> "+I.toRGB()+" -> "+I.toHex());v.appendChild(w),v.appendChild(g),A.appendChild(v)}catch{}return A}}});var see=Ge(()=>{"use strict";var tCe=Sl(),rCe=F2(),nCe=v6().indexOf,aCe=QD(),WD=rCe([].indexOf),iee=!!WD&&1/WD([1],1,-0)<0,iCe=iee||!aCe("indexOf");tCe({target:"Array",proto:!0,forced:iCe},{indexOf:function(e){var r=arguments.length>1?arguments[1]:void 0;return iee?WD(this,e,r)||0:nCe(this,e,r)}})});var lee=Ge(()=>{"use strict";var sCe=Sl(),oCe=es(),lCe=d_(),uCe=ud(),oee=pA(),cCe=A_(),dCe=oCe("".indexOf);sCe({target:"String",proto:!0,forced:!cCe("includes")},{includes:function(e){return!!~dCe(oee(uCe(this)),oee(lCe(e)),arguments.length>1?arguments[1]:void 0)}})});var cee=Ge((CDe,uee)=>{"use strict";var ACe=mm();uee.exports=Array.isArray||function(e){return ACe(e)==="Array"}});var Aee=Ge(()=>{"use strict";var fCe=Sl(),hCe=es(),pCe=cee(),mCe=hCe([].reverse),dee=[1,2];fCe({target:"Array",proto:!0,forced:String(dee)===String(dee.reverse())},{reverse:function(){return pCe(this)&&(this.length=this.length),mCe(this)}})});function bee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}vee(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function gCe(t){var e="";Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var n=t[r];if(n.type===Rt.CLOSE_PATH)e+="z";else if(n.type===Rt.HORIZ_LINE_TO)e+=(n.relative?"h":"H")+n.x;else if(n.type===Rt.VERT_LINE_TO)e+=(n.relative?"v":"V")+n.y;else if(n.type===Rt.MOVE_TO)e+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===Rt.LINE_TO)e+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===Rt.CURVE_TO)e+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===Rt.SMOOTH_CURVE_TO)e+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===Rt.QUAD_TO)e+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===Rt.SMOOTH_QUAD_TO)e+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==Rt.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+r+".");e+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return e}function YD(t,e){var r=t[0],n=t[1];return[r*Math.cos(e)-n*Math.sin(e),r*Math.sin(e)+n*Math.cos(e)]}function gA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++)if(typeof t[r]!="number")throw new Error("assertNumbers arguments["+r+"] is not a number. "+typeof t[r]+" == typeof "+t[r]);return!0}function $D(t,e,r){t.lArcFlag=t.lArcFlag===0?0:1,t.sweepFlag=t.sweepFlag===0?0:1;var n=t.rX,a=t.rY,i=t.x,s=t.y;n=Math.abs(t.rX),a=Math.abs(t.rY);var o=YD([(e-i)/2,(r-s)/2],-t.xRot/180*wm),l=o[0],u=o[1],c=Math.pow(l,2)/Math.pow(n,2)+Math.pow(u,2)/Math.pow(a,2);1<c&&(n*=Math.sqrt(c),a*=Math.sqrt(c)),t.rX=n,t.rY=a;var d=Math.pow(n,2)*Math.pow(u,2)+Math.pow(a,2)*Math.pow(l,2),f=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(a,2)-d)/d)),A=n*u/a*f,v=-a*l/n*f,I=YD([A,v],t.xRot/180*wm);t.cX=I[0]+(e+i)/2,t.cY=I[1]+(r+s)/2,t.phi1=Math.atan2((u-v)/a,(l-A)/n),t.phi2=Math.atan2((-u-v)/a,(-l-A)/n),t.sweepFlag===0&&t.phi2>t.phi1&&(t.phi2-=2*wm),t.sweepFlag===1&&t.phi2<t.phi1&&(t.phi2+=2*wm),t.phi1*=180/wm,t.phi2*=180/wm}function fee(t,e,r){gA(t,e,r);var n=t*t+e*e-r*r;if(0>n)return[];if(n===0)return[[t*r/(t*t+e*e),e*r/(t*t+e*e)]];var a=Math.sqrt(n);return[[(t*r+e*a)/(t*t+e*e),(e*r-t*a)/(t*t+e*e)],[(t*r-e*a)/(t*t+e*e),(e*r+t*a)/(t*t+e*e)]]}function hee(t,e,r){return(1-r)*t+r*e}function pee(t,e,r,n){return t+Math.cos(n/180*wm)*e+Math.sin(n/180*wm)*r}function mee(t,e,r,n){var a=1e-6,i=e-t,s=r-e,o=3*i+3*(n-r)-6*s,l=6*(s-i),u=3*i;return Math.abs(o)<a?[-u/l]:(function(c,d,f){f===void 0&&(f=1e-6);var A=c*c/4-d;if(A<-f)return[];if(A<=f)return[-c/2];var v=Math.sqrt(A);return[-c/2-v,-c/2+v]})(l/o,u/o,a)}function gee(t,e,r,n,a){var i=1-a;return t*(i*i*i)+e*(3*i*i*a)+r*(3*i*a*a)+n*(a*a*a)}var vee,wm,Js,Oh,mA,wee,yCe,yee,vCe,Rt,bCe,xee=Ed(()=>{vee=function(t,e){return(vee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])})(t,e)};wm=Math.PI;Oh=Math.PI/180;(function(t){function e(){return a((function(o,l,u){return o.relative&&(o.x1!==void 0&&(o.x1+=l),o.y1!==void 0&&(o.y1+=u),o.x2!==void 0&&(o.x2+=l),o.y2!==void 0&&(o.y2+=u),o.x!==void 0&&(o.x+=l),o.y!==void 0&&(o.y+=u),o.relative=!1),o}))}function r(){var o=NaN,l=NaN,u=NaN,c=NaN;return a((function(d,f,A){return d.type&Rt.SMOOTH_CURVE_TO&&(d.type=Rt.CURVE_TO,o=isNaN(o)?f:o,l=isNaN(l)?A:l,d.x1=d.relative?f-o:2*f-o,d.y1=d.relative?A-l:2*A-l),d.type&Rt.CURVE_TO?(o=d.relative?f+d.x2:d.x2,l=d.relative?A+d.y2:d.y2):(o=NaN,l=NaN),d.type&Rt.SMOOTH_QUAD_TO&&(d.type=Rt.QUAD_TO,u=isNaN(u)?f:u,c=isNaN(c)?A:c,d.x1=d.relative?f-u:2*f-u,d.y1=d.relative?A-c:2*A-c),d.type&Rt.QUAD_TO?(u=d.relative?f+d.x1:d.x1,c=d.relative?A+d.y1:d.y1):(u=NaN,c=NaN),d}))}function n(){var o=NaN,l=NaN;return a((function(u,c,d){if(u.type&Rt.SMOOTH_QUAD_TO&&(u.type=Rt.QUAD_TO,o=isNaN(o)?c:o,l=isNaN(l)?d:l,u.x1=u.relative?c-o:2*c-o,u.y1=u.relative?d-l:2*d-l),u.type&Rt.QUAD_TO){o=u.relative?c+u.x1:u.x1,l=u.relative?d+u.y1:u.y1;var f=u.x1,A=u.y1;u.type=Rt.CURVE_TO,u.x1=((u.relative?0:c)+2*f)/3,u.y1=((u.relative?0:d)+2*A)/3,u.x2=(u.x+2*f)/3,u.y2=(u.y+2*A)/3}else o=NaN,l=NaN;return u}))}function a(o){var l=0,u=0,c=NaN,d=NaN;return function(f){if(isNaN(c)&&!(f.type&Rt.MOVE_TO))throw new Error("path must start with moveto");var A=o(f,l,u,c,d);return f.type&Rt.CLOSE_PATH&&(l=c,u=d),f.x!==void 0&&(l=f.relative?l+f.x:f.x),f.y!==void 0&&(u=f.relative?u+f.y:f.y),f.type&Rt.MOVE_TO&&(c=l,d=u),A}}function i(o,l,u,c,d,f){return gA(o,l,u,c,d,f),a((function(A,v,I,w){var g=A.x1,b=A.x2,S=A.relative&&!isNaN(w),F=A.x!==void 0?A.x:S?0:v,O=A.y!==void 0?A.y:S?0:I;function R(q){return q*q}A.type&Rt.HORIZ_LINE_TO&&l!==0&&(A.type=Rt.LINE_TO,A.y=A.relative?0:I),A.type&Rt.VERT_LINE_TO&&u!==0&&(A.type=Rt.LINE_TO,A.x=A.relative?0:v),A.x!==void 0&&(A.x=A.x*o+O*u+(S?0:d)),A.y!==void 0&&(A.y=F*l+A.y*c+(S?0:f)),A.x1!==void 0&&(A.x1=A.x1*o+A.y1*u+(S?0:d)),A.y1!==void 0&&(A.y1=g*l+A.y1*c+(S?0:f)),A.x2!==void 0&&(A.x2=A.x2*o+A.y2*u+(S?0:d)),A.y2!==void 0&&(A.y2=b*l+A.y2*c+(S?0:f));var T=o*c-l*u;if(A.xRot!==void 0&&(o!==1||l!==0||u!==0||c!==1))if(T===0)delete A.rX,delete A.rY,delete A.xRot,delete A.lArcFlag,delete A.sweepFlag,A.type=Rt.LINE_TO;else{var B=A.xRot*Math.PI/180,k=Math.sin(B),U=Math.cos(B),E=1/R(A.rX),_=1/R(A.rY),L=R(U)*E+R(k)*_,D=2*k*U*(E-_),z=R(k)*E+R(U)*_,ee=L*c*c-D*l*c+z*l*l,Y=D*(o*c+l*u)-2*(L*u*c+z*o*l),$=L*u*u-D*o*u+z*o*o,j=(Math.atan2(Y,ee-$)+Math.PI)%Math.PI/2,K=Math.sin(j),oe=Math.cos(j);A.rX=Math.abs(T)/Math.sqrt(ee*R(oe)+Y*K*oe+$*R(K)),A.rY=Math.abs(T)/Math.sqrt(ee*R(K)-Y*K*oe+$*R(oe)),A.xRot=180*j/Math.PI}return A.sweepFlag!==void 0&&0>T&&(A.sweepFlag=+!A.sweepFlag),A}))}function s(){return function(o){var l={};for(var u in o)l[u]=o[u];return l}}t.ROUND=function(o){function l(u){return Math.round(u*o)/o}return o===void 0&&(o=1e13),gA(o),function(u){return u.x1!==void 0&&(u.x1=l(u.x1)),u.y1!==void 0&&(u.y1=l(u.y1)),u.x2!==void 0&&(u.x2=l(u.x2)),u.y2!==void 0&&(u.y2=l(u.y2)),u.x!==void 0&&(u.x=l(u.x)),u.y!==void 0&&(u.y=l(u.y)),u.rX!==void 0&&(u.rX=l(u.rX)),u.rY!==void 0&&(u.rY=l(u.rY)),u}},t.TO_ABS=e,t.TO_REL=function(){return a((function(o,l,u){return o.relative||(o.x1!==void 0&&(o.x1-=l),o.y1!==void 0&&(o.y1-=u),o.x2!==void 0&&(o.x2-=l),o.y2!==void 0&&(o.y2-=u),o.x!==void 0&&(o.x-=l),o.y!==void 0&&(o.y-=u),o.relative=!0),o}))},t.NORMALIZE_HVZ=function(o,l,u){return o===void 0&&(o=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),a((function(c,d,f,A,v){if(isNaN(A)&&!(c.type&Rt.MOVE_TO))throw new Error("path must start with moveto");return l&&c.type&Rt.HORIZ_LINE_TO&&(c.type=Rt.LINE_TO,c.y=c.relative?0:f),u&&c.type&Rt.VERT_LINE_TO&&(c.type=Rt.LINE_TO,c.x=c.relative?0:d),o&&c.type&Rt.CLOSE_PATH&&(c.type=Rt.LINE_TO,c.x=c.relative?A-d:A,c.y=c.relative?v-f:v),c.type&Rt.ARC&&(c.rX===0||c.rY===0)&&(c.type=Rt.LINE_TO,delete c.rX,delete c.rY,delete c.xRot,delete c.lArcFlag,delete c.sweepFlag),c}))},t.NORMALIZE_ST=r,t.QT_TO_C=n,t.INFO=a,t.SANITIZE=function(o){o===void 0&&(o=0),gA(o);var l=NaN,u=NaN,c=NaN,d=NaN;return a((function(f,A,v,I,w){var g=Math.abs,b=!1,S=0,F=0;if(f.type&Rt.SMOOTH_CURVE_TO&&(S=isNaN(l)?0:A-l,F=isNaN(u)?0:v-u),f.type&(Rt.CURVE_TO|Rt.SMOOTH_CURVE_TO)?(l=f.relative?A+f.x2:f.x2,u=f.relative?v+f.y2:f.y2):(l=NaN,u=NaN),f.type&Rt.SMOOTH_QUAD_TO?(c=isNaN(c)?A:2*A-c,d=isNaN(d)?v:2*v-d):f.type&Rt.QUAD_TO?(c=f.relative?A+f.x1:f.x1,d=f.relative?v+f.y1:f.y2):(c=NaN,d=NaN),f.type&Rt.LINE_COMMANDS||f.type&Rt.ARC&&(f.rX===0||f.rY===0||!f.lArcFlag)||f.type&Rt.CURVE_TO||f.type&Rt.SMOOTH_CURVE_TO||f.type&Rt.QUAD_TO||f.type&Rt.SMOOTH_QUAD_TO){var O=f.x===void 0?0:f.relative?f.x:f.x-A,R=f.y===void 0?0:f.relative?f.y:f.y-v;S=isNaN(c)?f.x1===void 0?S:f.relative?f.x:f.x1-A:c-A,F=isNaN(d)?f.y1===void 0?F:f.relative?f.y:f.y1-v:d-v;var T=f.x2===void 0?0:f.relative?f.x:f.x2-A,B=f.y2===void 0?0:f.relative?f.y:f.y2-v;g(O)<=o&&g(R)<=o&&g(S)<=o&&g(F)<=o&&g(T)<=o&&g(B)<=o&&(b=!0)}return f.type&Rt.CLOSE_PATH&&g(A-I)<=o&&g(v-w)<=o&&(b=!0),b?[]:f}))},t.MATRIX=i,t.ROTATE=function(o,l,u){l===void 0&&(l=0),u===void 0&&(u=0),gA(o,l,u);var c=Math.sin(o),d=Math.cos(o);return i(d,c,-c,d,l-l*d+u*c,u-l*c-u*d)},t.TRANSLATE=function(o,l){return l===void 0&&(l=0),gA(o,l),i(1,0,0,1,o,l)},t.SCALE=function(o,l){return l===void 0&&(l=o),gA(o,l),i(o,0,0,l,0,0)},t.SKEW_X=function(o){return gA(o),i(1,0,Math.atan(o),1,0,0)},t.SKEW_Y=function(o){return gA(o),i(1,Math.atan(o),0,1,0,0)},t.X_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),gA(o),i(-1,0,0,1,o,0)},t.Y_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),gA(o),i(1,0,0,-1,0,o)},t.A_TO_C=function(){return a((function(o,l,u){return Rt.ARC===o.type?(function(c,d,f){var A,v,I,w;c.cX||$D(c,d,f);for(var g=Math.min(c.phi1,c.phi2),b=Math.max(c.phi1,c.phi2)-g,S=Math.ceil(b/90),F=new Array(S),O=d,R=f,T=0;T<S;T++){var B=hee(c.phi1,c.phi2,T/S),k=hee(c.phi1,c.phi2,(T+1)/S),U=k-B,E=4/3*Math.tan(U*Oh/4),_=[Math.cos(B*Oh)-E*Math.sin(B*Oh),Math.sin(B*Oh)+E*Math.cos(B*Oh)],L=_[0],D=_[1],z=[Math.cos(k*Oh),Math.sin(k*Oh)],ee=z[0],Y=z[1],$=[ee+E*Math.sin(k*Oh),Y-E*Math.cos(k*Oh)],j=$[0],K=$[1];F[T]={relative:c.relative,type:Rt.CURVE_TO};var oe=function(q,X){var te=YD([q*c.rX,X*c.rY],c.xRot),ue=te[0],be=te[1];return[c.cX+ue,c.cY+be]};A=oe(L,D),F[T].x1=A[0],F[T].y1=A[1],v=oe(j,K),F[T].x2=v[0],F[T].y2=v[1],I=oe(ee,Y),F[T].x=I[0],F[T].y=I[1],c.relative&&(F[T].x1-=O,F[T].y1-=R,F[T].x2-=O,F[T].y2-=R,F[T].x-=O,F[T].y-=R),O=(w=[F[T].x,F[T].y])[0],R=w[1]}return F})(o,o.relative?0:l,o.relative?0:u):o}))},t.ANNOTATE_ARCS=function(){return a((function(o,l,u){return o.relative&&(l=0,u=0),Rt.ARC===o.type&&$D(o,l,u),o}))},t.CLONE=s,t.CALCULATE_BOUNDS=function(){var o=function(f){var A={};for(var v in f)A[v]=f[v];return A},l=e(),u=n(),c=r(),d=a((function(f,A,v){var I=c(u(l(o(f))));function w(K){K>d.maxX&&(d.maxX=K),K<d.minX&&(d.minX=K)}function g(K){K>d.maxY&&(d.maxY=K),K<d.minY&&(d.minY=K)}if(I.type&Rt.DRAWING_COMMANDS&&(w(A),g(v)),I.type&Rt.HORIZ_LINE_TO&&w(I.x),I.type&Rt.VERT_LINE_TO&&g(I.y),I.type&Rt.LINE_TO&&(w(I.x),g(I.y)),I.type&Rt.CURVE_TO){w(I.x),g(I.y);for(var b=0,S=mee(A,I.x1,I.x2,I.x);b<S.length;b++)0<(j=S[b])&&1>j&&w(gee(A,I.x1,I.x2,I.x,j));for(var F=0,O=mee(v,I.y1,I.y2,I.y);F<O.length;F++)0<(j=O[F])&&1>j&&g(gee(v,I.y1,I.y2,I.y,j))}if(I.type&Rt.ARC){w(I.x),g(I.y),$D(I,A,v);for(var R=I.xRot/180*Math.PI,T=Math.cos(R)*I.rX,B=Math.sin(R)*I.rX,k=-Math.sin(R)*I.rY,U=Math.cos(R)*I.rY,E=I.phi1<I.phi2?[I.phi1,I.phi2]:-180>I.phi2?[I.phi2+360,I.phi1+360]:[I.phi2,I.phi1],_=E[0],L=E[1],D=function(K){var oe=K[0],q=K[1],X=180*Math.atan2(q,oe)/Math.PI;return X<_?X+360:X},z=0,ee=fee(k,-T,0).map(D);z<ee.length;z++)(j=ee[z])>_&&j<L&&w(pee(I.cX,T,k,j));for(var Y=0,$=fee(U,-B,0).map(D);Y<$.length;Y++){var j;(j=$[Y])>_&&j<L&&g(pee(I.cY,B,U,j))}}return f}));return d.minX=1/0,d.maxX=-1/0,d.minY=1/0,d.maxY=-1/0,d}})(Js||(Js={}));wee=(function(){function t(){}return t.prototype.round=function(e){return this.transform(Js.ROUND(e))},t.prototype.toAbs=function(){return this.transform(Js.TO_ABS())},t.prototype.toRel=function(){return this.transform(Js.TO_REL())},t.prototype.normalizeHVZ=function(e,r,n){return this.transform(Js.NORMALIZE_HVZ(e,r,n))},t.prototype.normalizeST=function(){return this.transform(Js.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(Js.QT_TO_C())},t.prototype.aToC=function(){return this.transform(Js.A_TO_C())},t.prototype.sanitize=function(e){return this.transform(Js.SANITIZE(e))},t.prototype.translate=function(e,r){return this.transform(Js.TRANSLATE(e,r))},t.prototype.scale=function(e,r){return this.transform(Js.SCALE(e,r))},t.prototype.rotate=function(e,r,n){return this.transform(Js.ROTATE(e,r,n))},t.prototype.matrix=function(e,r,n,a,i,s){return this.transform(Js.MATRIX(e,r,n,a,i,s))},t.prototype.skewX=function(e){return this.transform(Js.SKEW_X(e))},t.prototype.skewY=function(e){return this.transform(Js.SKEW_Y(e))},t.prototype.xSymmetry=function(e){return this.transform(Js.X_AXIS_SYMMETRY(e))},t.prototype.ySymmetry=function(e){return this.transform(Js.Y_AXIS_SYMMETRY(e))},t.prototype.annotateArcs=function(){return this.transform(Js.ANNOTATE_ARCS())},t})(),yCe=function(t){return t===" "||t==="	"||t==="\r"||t===`
`},yee=function(t){return 48<=t.charCodeAt(0)&&t.charCodeAt(0)<=57},vCe=(function(t){function e(){var r=t.call(this)||this;return r.curNumber="",r.curCommandType=-1,r.curCommandRelative=!1,r.canParseCommandOrComma=!0,r.curNumberHasExp=!1,r.curNumberHasExpDigits=!1,r.curNumberHasDecimal=!1,r.curArgs=[],r}return bee(e,t),e.prototype.finish=function(r){if(r===void 0&&(r=[]),this.parse(" ",r),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return r},e.prototype.parse=function(r,n){var a=this;n===void 0&&(n=[]);for(var i=function(d){n.push(d),a.curArgs.length=0,a.canParseCommandOrComma=!0},s=0;s<r.length;s++){var o=r[s],l=!(this.curCommandType!==Rt.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),u=yee(o)&&(this.curNumber==="0"&&o==="0"||l);if(!yee(o)||u)if(o!=="e"&&o!=="E")if(o!=="-"&&o!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(o!=="."||this.curNumberHasExp||this.curNumberHasDecimal||l){if(this.curNumber&&this.curCommandType!==-1){var c=Number(this.curNumber);if(isNaN(c))throw new SyntaxError("Invalid number ending at "+s);if(this.curCommandType===Rt.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>c)throw new SyntaxError('Expected positive number, got "'+c+'" at index "'+s+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+s+'"')}this.curArgs.push(c),this.curArgs.length===bCe[this.curCommandType]&&(Rt.HORIZ_LINE_TO===this.curCommandType?i({type:Rt.HORIZ_LINE_TO,relative:this.curCommandRelative,x:c}):Rt.VERT_LINE_TO===this.curCommandType?i({type:Rt.VERT_LINE_TO,relative:this.curCommandRelative,y:c}):this.curCommandType===Rt.MOVE_TO||this.curCommandType===Rt.LINE_TO||this.curCommandType===Rt.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),Rt.MOVE_TO===this.curCommandType&&(this.curCommandType=Rt.LINE_TO)):this.curCommandType===Rt.CURVE_TO?i({type:Rt.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===Rt.SMOOTH_CURVE_TO?i({type:Rt.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===Rt.QUAD_TO?i({type:Rt.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===Rt.ARC&&i({type:Rt.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!yCe(o))if(o===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(o!=="+"&&o!=="-"&&o!==".")if(u)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+s+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+s+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,o!=="z"&&o!=="Z")if(o==="h"||o==="H")this.curCommandType=Rt.HORIZ_LINE_TO,this.curCommandRelative=o==="h";else if(o==="v"||o==="V")this.curCommandType=Rt.VERT_LINE_TO,this.curCommandRelative=o==="v";else if(o==="m"||o==="M")this.curCommandType=Rt.MOVE_TO,this.curCommandRelative=o==="m";else if(o==="l"||o==="L")this.curCommandType=Rt.LINE_TO,this.curCommandRelative=o==="l";else if(o==="c"||o==="C")this.curCommandType=Rt.CURVE_TO,this.curCommandRelative=o==="c";else if(o==="s"||o==="S")this.curCommandType=Rt.SMOOTH_CURVE_TO,this.curCommandRelative=o==="s";else if(o==="q"||o==="Q")this.curCommandType=Rt.QUAD_TO,this.curCommandRelative=o==="q";else if(o==="t"||o==="T")this.curCommandType=Rt.SMOOTH_QUAD_TO,this.curCommandRelative=o==="t";else{if(o!=="a"&&o!=="A")throw new SyntaxError('Unexpected character "'+o+'" at index '+s+".");this.curCommandType=Rt.ARC,this.curCommandRelative=o==="a"}else n.push({type:Rt.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal=o==="."}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return n},e.prototype.transform=function(r){return Object.create(this,{parse:{value:function(n,a){a===void 0&&(a=[]);for(var i=0,s=Object.getPrototypeOf(this).parse.call(this,n);i<s.length;i++){var o=s[i],l=r(o);Array.isArray(l)?a.push.apply(a,l):a.push(l)}return a}}})},e})(wee),Rt=(function(t){function e(r){var n=t.call(this)||this;return n.commands=typeof r=="string"?e.parse(r):r,n}return bee(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var r=Js.CALCULATE_BOUNDS();return this.transform(r),r},e.prototype.transform=function(r){for(var n=[],a=0,i=this.commands;a<i.length;a++){var s=r(i[a]);Array.isArray(s)?n.push.apply(n,s):n.push(s)}return this.commands=n,this},e.encode=function(r){return gCe(r)},e.parse=function(r){var n=new vCe,a=[];return n.parse(r,a),n.finish(a),a},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e})(wee),bCe=((mA={})[Rt.MOVE_TO]=2,mA[Rt.LINE_TO]=2,mA[Rt.HORIZ_LINE_TO]=1,mA[Rt.VERT_LINE_TO]=1,mA[Rt.CLOSE_PATH]=0,mA[Rt.QUAD_TO]=4,mA[Rt.SMOOTH_QUAD_TO]=2,mA[Rt.CURVE_TO]=6,mA[Rt.SMOOTH_CURVE_TO]=4,mA[Rt.ARC]=7,mA)});var See=Ge(()=>{"use strict";var wCe=N2().PROPER,xCe=ym(),CCe=Nl(),Cee=pA(),ICe=Zi(),NCe=s_(),XD="toString",Iee=RegExp.prototype,Nee=Iee[XD],SCe=ICe(function(){return Nee.call({source:"a",flags:"b"})!=="/a/b"}),BCe=wCe&&Nee.name!==XD;(SCe||BCe)&&xCe(Iee,XD,function(){var e=CCe(this),r=Cee(e.source),n=Cee(NCe(e));return"/"+r+"/"+n},{unsafe:!0})});function w_(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w_=function(e){return typeof e}:w_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w_(t)}function _Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LCe(t,e,r,n,a){if(typeof t=="string"&&(t=document.getElementById(t)),!t||w_(t)!=="object"||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var i=t.getContext("2d");try{return i.getImageData(e,r,n,a)}catch(s){throw new Error("unable to access image data: "+s)}}function _ee(t,e,r,n,a,i){if(!(isNaN(i)||i<1)){i|=0;var s=LCe(t,e,r,n,a);s=PCe(s,e,r,n,a,i),t.getContext("2d").putImageData(s,e,r)}}function PCe(t,e,r,n,a,i){for(var s=t.data,o=2*i+1,l=n-1,u=a-1,c=i+1,d=c*(c+1)/2,f=new Bee,A=f,v,I=1;I<o;I++)A=A.next=new Bee,I===c&&(v=A);A.next=f;for(var w=null,g=null,b=0,S=0,F=ECe[i],O=TCe[i],R=0;R<a;R++){A=f;for(var T=s[S],B=s[S+1],k=s[S+2],U=s[S+3],E=0;E<c;E++)A.r=T,A.g=B,A.b=k,A.a=U,A=A.next;for(var _=0,L=0,D=0,z=0,ee=c*T,Y=c*B,$=c*k,j=c*U,K=d*T,oe=d*B,q=d*k,X=d*U,te=1;te<c;te++){var ue=S+((l<te?l:te)<<2),be=s[ue],ge=s[ue+1],Ne=s[ue+2],Le=s[ue+3],Ie=c-te;K+=(A.r=be)*Ie,oe+=(A.g=ge)*Ie,q+=(A.b=Ne)*Ie,X+=(A.a=Le)*Ie,_+=be,L+=ge,D+=Ne,z+=Le,A=A.next}w=f,g=v;for(var de=0;de<n;de++){var xe=X*F>>>O;if(s[S+3]=xe,xe!==0){var qe=255/xe;s[S]=(K*F>>>O)*qe,s[S+1]=(oe*F>>>O)*qe,s[S+2]=(q*F>>>O)*qe}else s[S]=s[S+1]=s[S+2]=0;K-=ee,oe-=Y,q-=$,X-=j,ee-=w.r,Y-=w.g,$-=w.b,j-=w.a;var wt=de+i+1;wt=b+(wt<l?wt:l)<<2,_+=w.r=s[wt],L+=w.g=s[wt+1],D+=w.b=s[wt+2],z+=w.a=s[wt+3],K+=_,oe+=L,q+=D,X+=z,w=w.next;var Re=g,Ae=Re.r,Kt=Re.g,zt=Re.b,pt=Re.a;ee+=Ae,Y+=Kt,$+=zt,j+=pt,_-=Ae,L-=Kt,D-=zt,z-=pt,g=g.next,S+=4}b+=n}for(var Oe=0;Oe<n;Oe++){S=Oe<<2;var me=s[S],Ue=s[S+1],it=s[S+2],At=s[S+3],ct=c*me,Tt=c*Ue,Ot=c*it,vr=c*At,rr=d*me,Er=d*Ue,Nt=d*it,gn=d*At;A=f;for(var dt=0;dt<c;dt++)A.r=me,A.g=Ue,A.b=it,A.a=At,A=A.next;for(var Wt=n,Qe=0,tt=0,rt=0,Ct=0,Nr=1;Nr<=i;Nr++){S=Wt+Oe<<2;var nr=c-Nr;rr+=(A.r=me=s[S])*nr,Er+=(A.g=Ue=s[S+1])*nr,Nt+=(A.b=it=s[S+2])*nr,gn+=(A.a=At=s[S+3])*nr,Ct+=me,Qe+=Ue,tt+=it,rt+=At,A=A.next,Nr<u&&(Wt+=n)}S=Oe,w=f,g=v;for(var jr=0;jr<a;jr++){var Zt=S<<2;s[Zt+3]=At=gn*F>>>O,At>0?(At=255/At,s[Zt]=(rr*F>>>O)*At,s[Zt+1]=(Er*F>>>O)*At,s[Zt+2]=(Nt*F>>>O)*At):s[Zt]=s[Zt+1]=s[Zt+2]=0,rr-=ct,Er-=Tt,Nt-=Ot,gn-=vr,ct-=w.r,Tt-=w.g,Ot-=w.b,vr-=w.a,Zt=Oe+((Zt=jr+c)<u?Zt:u)*n<<2,rr+=Ct+=w.r=s[Zt],Er+=Qe+=w.g=s[Zt+1],Nt+=tt+=w.b=s[Zt+2],gn+=rt+=w.a=s[Zt+3],w=w.next,ct+=me=g.r,Tt+=Ue=g.g,Ot+=it=g.b,vr+=At=g.a,Ct-=me,Qe-=Ue,tt-=it,rt-=At,g=g.next,S+=n}}return t}var ECe,TCe,Bee,Eee=Ed(()=>{ECe=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],TCe=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Bee=function t(){_Ce(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}});var Hee={};oI(Hee,{AElement:()=>J_,AnimateColorElement:()=>K_,AnimateElement:()=>W1,AnimateTransformElement:()=>G_,BoundingBox:()=>Mu,CB1:()=>eM,CB2:()=>tM,CB3:()=>rM,CB4:()=>nM,Canvg:()=>uM,CircleElement:()=>U_,ClipPathElement:()=>aE,DefsElement:()=>V_,DescElement:()=>cE,Document:()=>F0,Element:()=>Ti,EllipseElement:()=>D_,FeColorMatrixElement:()=>eC,FeCompositeElement:()=>oE,FeDropShadowElement:()=>iE,FeGaussianBlurElement:()=>lE,FeMorphologyElement:()=>sE,FilterElement:()=>rC,Font:()=>dd,FontElement:()=>W_,FontFaceElement:()=>$_,GElement:()=>G1,GlyphElement:()=>W2,GradientElement:()=>J2,ImageElement:()=>eE,LineElement:()=>M_,LinearGradientElement:()=>q_,MarkerElement:()=>H_,MaskElement:()=>tC,Matrix:()=>K2,MissingGlyphElement:()=>Y_,Mouse:()=>E_,PSEUDO_ZERO:()=>L0,Parser:()=>K1,PathElement:()=>_s,PathParser:()=>xn,PatternElement:()=>Q_,Point:()=>eo,PolygonElement:()=>O_,PolylineElement:()=>X2,Property:()=>rn,QB1:()=>aM,QB2:()=>iM,QB3:()=>sM,RadialGradientElement:()=>z_,RectElement:()=>Y2,RenderedElement:()=>_f,Rotate:()=>L_,SVGElement:()=>Cm,SVGFontLoader:()=>rE,Scale:()=>P_,Screen:()=>P0,Skew:()=>G2,SkewX:()=>k_,SkewY:()=>F_,StopElement:()=>j_,StyleElement:()=>Z2,SymbolElement:()=>tE,TRefElement:()=>X_,TSpanElement:()=>$2,TextElement:()=>xm,TextPathElement:()=>Z_,TitleElement:()=>uE,Transform:()=>k0,Translate:()=>T_,UnknownElement:()=>R_,UseElement:()=>nE,ViewPort:()=>__,compressSpaces:()=>R0,default:()=>uM,getSelectorSpecificity:()=>Mee,normalizeAttributeName:()=>Uee,normalizeColor:()=>Dee,parseExternalUrl:()=>cM,presets:()=>RCe,toNumbers:()=>Du,trimLeft:()=>Fee,trimRight:()=>Ree,vectorMagnitude:()=>JD,vectorsAngle:()=>ZD,vectorsRatio:()=>B_});function kCe(){var{DOMParser:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas(r,n){return new OffscreenCanvas(r,n)},createImage(r){return Bf(function*(){var n=yield fetch(r),a=yield n.blob(),i=yield createImageBitmap(a);return i})()}};return(typeof DOMParser<"u"||typeof t>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function FCe(t){var{DOMParser:e,canvas:r,fetch:n}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:n,createCanvas:r.createCanvas,createImage:r.loadImage}}function R0(t){return t.replace(/(?!\u3000)\s+/gm," ")}function Fee(t){return t.replace(/^[\n \t]+/,"")}function Ree(t){return t.replace(/[\n \t]+$/,"")}function Du(t){var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}function Uee(t){return UCe.test(t)?t.toLowerCase():t}function cM(t){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t)||[];return e[2]||e[3]||e[4]}function Dee(t){if(!t.startsWith("rgb"))return t;var e=3,r=t.replace(/\d+(\.\d+)?/g,(n,a)=>e--&&a?String(Math.round(parseFloat(n))):n);return r}function E0(t,e){var r=e.exec(t);return r?[t.replace(e," "),r.length]:[t,0]}function Mee(t){var e=[0,0,0],r=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0;return[r,n]=E0(r,DCe),e[1]+=n,[r,n]=E0(r,MCe),e[0]+=n,[r,n]=E0(r,OCe),e[1]+=n,[r,n]=E0(r,QCe),e[2]+=n,[r,n]=E0(r,HCe),e[1]+=n,[r,n]=E0(r,VCe),e[1]+=n,r=r.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[r,n]=E0(r,qCe),e[2]+=n,e.join("")}function JD(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function B_(t,e){return(t[0]*e[0]+t[1]*e[1])/(JD(t)*JD(e))}function ZD(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(B_(t,e))}function eM(t){return t*t*t}function tM(t){return 3*t*t*(1-t)}function rM(t){return 3*t*(1-t)*(1-t)}function nM(t){return(1-t)*(1-t)*(1-t)}function aM(t){return t*t}function iM(t){return 2*t*(1-t)}function sM(t){return(1-t)*(1-t)}function KCe(t){return R0(t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function GCe(t){var[e,r]=t.split("(");return[e.trim(),r.trim().replace(")","")]}function WCe(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function $Ce(t){return typeof process>"u"?t:t.trim().split(",").map(WCe).join(",")}function YCe(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function XCe(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}function Tee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function x_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tee(Object(r),!0).forEach(function(n){g_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C_(t,e,r,n,a,i){return t[r*n*4+e*4+i]}function I_(t,e,r,n,a,i,s){t[r*n*4+e*4+i]=s}function Zs(t,e,r){var n=t[e];return n*r}function Qh(t,e,r,n){return e+Math.cos(t)*r+Math.sin(t)*n}function Pee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pee(Object(r),!0).forEach(function(n){g_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tIe(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r}function rIe(t){return lM.apply(this,arguments)}function lM(){return lM=Bf(function*(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=document.createElement("img");return e&&(r.crossOrigin="Anonymous"),new Promise((n,a)=>{r.onload=()=>{n(r)},r.onerror=(i,s,o,l,u)=>{a(u)},r.src=t})}),lM.apply(this,arguments)}function kee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function T0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kee(Object(r),!0).forEach(function(n){g_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TDe,PDe,kDe,FDe,RDe,UDe,MDe,ODe,QDe,N_,HDe,S_,VDe,qDe,zDe,KDe,RCe,UCe,DCe,MCe,OCe,QCe,HCe,VCe,qCe,L0,rn,__,eo,E_,Oee,Qee,P0,zCe,jCe,K1,T_,L_,P_,K2,G2,k_,F_,k0,Ti,R_,dd,Mu,xn,_f,_s,W2,xm,$2,oM,Cm,Y2,U_,D_,M_,X2,O_,Q_,H_,V_,G1,J2,q_,z_,j_,W1,K_,G_,W_,$_,Y_,X_,J_,Z_,JCe,eE,tE,rE,Z2,nE,eC,tC,Lee,aE,rC,iE,sE,oE,lE,uE,cE,ZCe,F0,uM,Vee=Ed(()=>{TDe=ce(FX(),1);UX();PDe=ce(IJ(),1),kDe=ce(TJ(),1),FDe=ce(DJ(),1),RDe=ce(UD(),1),UDe=ce(xZ(),1);BZ();MDe=ce(RZ(),1),ODe=ce(MZ(),1),QDe=ce(qZ(),1),N_=ce(GZ(),1),HDe=ce(ree(),1),S_=ce(aee(),1),VDe=ce(see(),1),qDe=ce(lee(),1),zDe=ce(Aee(),1);xee();KDe=ce(See(),1);Eee();RCe=Object.freeze({__proto__:null,offscreen:kCe,node:FCe});UCe=/^[A-Z-]+$/;DCe=/(\[[^\]]+\])/g,MCe=/(#[^\s+>~.[:]+)/g,OCe=/(\.[^\s+>~.[:]+)/g,QCe=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,HCe=/(:[\w-]+\([^)]*\))/gi,VCe=/(:[^\s+>~.[:]+)/g,qCe=/([^\s+>~.[:]+)/g;L0=1e-8;rn=class t{constructor(e,r,n){this.document=e,this.name=r,this.value=n,this.isNormalizedColor=!1}static empty(e){return new t(e,"EMPTY","")}split(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:r,name:n}=this;return R0(this.getString()).trim().split(e).map(a=>new t(r,n,a))}hasValue(e){var{value:r}=this;return r!==null&&r!==""&&(e||r!==0)&&typeof r<"u"}isString(e){var{value:r}=this,n=typeof r=="string";return!n||!e?n:e.test(r)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return typeof e>"u"||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var{value:r}=this,n=parseFloat(r);return this.isString(/%$/)&&(n/=100),n}getString(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}getColor(e){var r=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,r=Dee(r),this.value=r),r}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[n,a]=typeof e=="boolean"?[void 0,e]:[e],{viewPort:i}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(i.computeSize("x"),i.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(i.computeSize("x"),i.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*i.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*i.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&a):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*i.computeSize(n);default:{var s=this.getNumber();return r&&s<1?s*i.computeSize(n):s}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),r=/#([^)'"]+)/.exec(e);return r&&(r=r[1]),r||(r=e),this.document.definitions[r]}getFillStyleDefinition(e,r){var n=this.getDefinition();if(!n)return null;if(typeof n.createGradient=="function")return n.createGradient(this.document.ctx,e,r);if(typeof n.createPattern=="function"){if(n.getHrefAttribute().hasValue()){var a=n.getAttribute("patternTransform");n=n.getHrefAttribute().getDefinition(),a.hasValue()&&n.getAttribute("patternTransform",!0).setValue(a.value)}return n.createPattern(this.document.ctx,e,r)}return null}getTextBaseline(){return this.hasValue()?t.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var r=this.getColor(),n=r.length,a=0,i=0;i<n&&(r[i]===","&&a++,a!==3);i++);if(e.hasValue()&&this.isString()&&a!==3){var s=new S_.default(r);s.ok&&(s.alpha=e.getNumber(),r=s.toRGBA())}return new t(this.document,this.name,r)}};rn.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};__=class{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,r){this.viewPorts.push({width:e,height:r})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}},eo=class t{constructor(e,r){this.x=e,this.y=r}static parse(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[n=r,a=r]=Du(e);return new t(n,a)}static parseScale(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[n=r,a=n]=Du(e);return new t(n,a)}static parsePath(e){for(var r=Du(e),n=r.length,a=[],i=0;i<n;i+=2)a.push(new t(r[i],r[i+1]));return a}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:r,y:n}=this,a=r*e[0]+n*e[2]+e[4],i=r*e[1]+n*e[3]+e[5];this.x=a,this.y=i}},E_=class{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:r,onMouseMove:n}=this,a=e.ctx.canvas;a.onclick=r,a.onmousemove=n,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:r,eventElements:n}=this,{style:a}=e.ctx.canvas;a&&(a.cursor=""),r.forEach((i,s)=>{for(var{run:o}=i,l=n[s];l;)o(l),l=l.parent}),this.events=[],this.eventElements=[]}}checkPath(e,r){if(!(!this.working||!r)){var{events:n,eventElements:a}=this;n.forEach((i,s)=>{var{x:o,y:l}=i;!a[s]&&r.isPointInPath&&r.isPointInPath(o,l)&&(a[s]=e)})}}checkBoundingBox(e,r){if(!(!this.working||!r)){var{events:n,eventElements:a}=this;n.forEach((i,s)=>{var{x:o,y:l}=i;!a[s]&&r.isPointInBox(o,l)&&(a[s]=e)})}}mapXY(e,r){for(var{window:n,ctx:a}=this.screen,i=new eo(e,r),s=a.canvas;s;)i.x-=s.offsetLeft,i.y-=s.offsetTop,s=s.offsetParent;return n.scrollX&&(i.x+=n.scrollX),n.scrollY&&(i.y+=n.scrollY),i}onClick(e){var{x:r,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:r,y:n,run(a){a.onClick&&a.onClick()}})}onMouseMove(e){var{x:r,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:r,y:n,run(a){a.onMouseMove&&a.onMouseMove()}})}},Oee=typeof window<"u"?window:null,Qee=typeof fetch<"u"?fetch.bind(void 0):null,P0=class{constructor(e){var{fetch:r=Qee,window:n=Oee}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new __,this.mouse=new E_(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=n,this.fetch=r}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(r=>r());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:r,ctx:n,aspectRatio:a,width:i,desiredWidth:s,height:o,desiredHeight:l,minX:u=0,minY:c=0,refX:d,refY:f,clip:A=!1,clipX:v=0,clipY:I=0}=e,w=R0(a).replace(/^defer\s/,""),[g,b]=w.split(" "),S=g||"xMidYMid",F=b||"meet",O=i/s,R=o/l,T=Math.min(O,R),B=Math.max(O,R),k=s,U=l;F==="meet"&&(k*=T,U*=T),F==="slice"&&(k*=B,U*=B);var E=new rn(r,"refX",d),_=new rn(r,"refY",f),L=E.hasValue()&&_.hasValue();if(L&&n.translate(-T*E.getPixels("x"),-T*_.getPixels("y")),A){var D=T*v,z=T*I;n.beginPath(),n.moveTo(D,z),n.lineTo(i,z),n.lineTo(i,o),n.lineTo(D,o),n.closePath(),n.clip()}if(!L){var ee=F==="meet"&&T===R,Y=F==="slice"&&B===R,$=F==="meet"&&T===O,j=F==="slice"&&B===O;S.startsWith("xMid")&&(ee||Y)&&n.translate(i/2-k/2,0),S.endsWith("YMid")&&($||j)&&n.translate(0,o/2-U/2),S.startsWith("xMax")&&(ee||Y)&&n.translate(i-k,0),S.endsWith("YMax")&&($||j)&&n.translate(0,o-U)}switch(!0){case S==="none":n.scale(O,R);break;case F==="meet":n.scale(T,T);break;case F==="slice":n.scale(B,B);break}n.translate(-u,-c)}start(e){var{enableRedraw:r=!1,ignoreMouse:n=!1,ignoreAnimation:a=!1,ignoreDimensions:i=!1,ignoreClear:s=!1,forceRedraw:o,scaleWidth:l,scaleHeight:u,offsetX:c,offsetY:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:f,mouse:A}=this,v=1e3/f;if(this.frameDuration=v,this.readyPromise=new Promise(S=>{this.resolveReady=S}),this.isReady()&&this.render(e,i,s,l,u,c,d),!!r){var I=Date.now(),w=I,g=0,b=()=>{I=Date.now(),g=I-w,g>=v&&(w=I-g%v,this.shouldUpdate(a,o)&&(this.render(e,i,s,l,u,c,d),A.runEvents())),this.intervalId=(0,N_.default)(b)};n||A.start(),this.intervalId=(0,N_.default)(b)}}stop(){this.intervalId&&(N_.default.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,r){if(!e){var{frameDuration:n}=this,a=this.animations.reduce((i,s)=>s.update(n)||i,!1);if(a)return!0}return!!(typeof r=="function"&&r()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(e,r,n,a,i,s,o){var{CLIENT_WIDTH:l,CLIENT_HEIGHT:u,viewPort:c,ctx:d,isFirstRender:f}=this,A=d.canvas;c.clear(),A.width&&A.height?c.setCurrent(A.width,A.height):c.setCurrent(l,u);var v=e.getStyle("width"),I=e.getStyle("height");!r&&(f||typeof a!="number"&&typeof i!="number")&&(v.hasValue()&&(A.width=v.getPixels("x"),A.style&&(A.style.width="".concat(A.width,"px"))),I.hasValue()&&(A.height=I.getPixels("y"),A.style&&(A.style.height="".concat(A.height,"px"))));var w=A.clientWidth||A.width,g=A.clientHeight||A.height;if(r&&v.hasValue()&&I.hasValue()&&(w=v.getPixels("x"),g=I.getPixels("y")),c.setCurrent(w,g),typeof s=="number"&&e.getAttribute("x",!0).setValue(s),typeof o=="number"&&e.getAttribute("y",!0).setValue(o),typeof a=="number"||typeof i=="number"){var b=Du(e.getAttribute("viewBox").getString()),S=0,F=0;if(typeof a=="number"){var O=e.getStyle("width");O.hasValue()?S=O.getPixels("x")/a:isNaN(b[2])||(S=b[2]/a)}if(typeof i=="number"){var R=e.getStyle("height");R.hasValue()?F=R.getPixels("y")/i:isNaN(b[3])||(F=b[3]/i)}S||(S=F),F||(F=S),e.getAttribute("width",!0).setValue(a),e.getAttribute("height",!0).setValue(i);var T=e.getStyle("transform",!0,!0);T.setValue("".concat(T.getString()," scale(").concat(1/S,", ").concat(1/F,")"))}n||d.clearRect(0,0,w,g),e.render(d),f&&(this.isFirstRender=!1)}};P0.defaultWindow=Oee;P0.defaultFetch=Qee;({defaultFetch:zCe}=P0),jCe=typeof DOMParser<"u"?DOMParser:null,K1=class{constructor(){var{fetch:e=zCe,DOMParser:r=jCe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=e,this.DOMParser=r}parse(e){var r=this;return Bf(function*(){return e.startsWith("<")?r.parseFromString(e):r.load(e)})()}parseFromString(e){var r=new this.DOMParser;try{return this.checkDocument(r.parseFromString(e,"image/svg+xml"))}catch{return this.checkDocument(r.parseFromString(e,"text/xml"))}}checkDocument(e){var r=e.getElementsByTagName("parsererror")[0];if(r)throw new Error(r.textContent);return e}load(e){var r=this;return Bf(function*(){var n=yield r.fetch(e),a=yield n.text();return r.parseFromString(a)})()}},T_=class{constructor(e,r){this.type="translate",this.point=null,this.point=eo.parse(r)}apply(e){var{x:r,y:n}=this.point;e.translate(r||0,n||0)}unapply(e){var{x:r,y:n}=this.point;e.translate(-1*r||0,-1*n||0)}applyToPoint(e){var{x:r,y:n}=this.point;e.applyTransform([1,0,0,1,r||0,n||0])}},L_=class{constructor(e,r,n){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var a=Du(r);this.angle=new rn(e,"angle",a[0]),this.originX=n[0],this.originY=n[1],this.cx=a[1]||0,this.cy=a[2]||0}apply(e){var{cx:r,cy:n,originX:a,originY:i,angle:s}=this,o=r+a.getPixels("x"),l=n+i.getPixels("y");e.translate(o,l),e.rotate(s.getRadians()),e.translate(-o,-l)}unapply(e){var{cx:r,cy:n,originX:a,originY:i,angle:s}=this,o=r+a.getPixels("x"),l=n+i.getPixels("y");e.translate(o,l),e.rotate(-1*s.getRadians()),e.translate(-o,-l)}applyToPoint(e){var{cx:r,cy:n,angle:a}=this,i=a.getRadians();e.applyTransform([1,0,0,1,r||0,n||0]),e.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),e.applyTransform([1,0,0,1,-r||0,-n||0])}},P_=class{constructor(e,r,n){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var a=eo.parseScale(r);(a.x===0||a.y===0)&&(a.x=L0,a.y=L0),this.scale=a,this.originX=n[0],this.originY=n[1]}apply(e){var{scale:{x:r,y:n},originX:a,originY:i}=this,s=a.getPixels("x"),o=i.getPixels("y");e.translate(s,o),e.scale(r,n||r),e.translate(-s,-o)}unapply(e){var{scale:{x:r,y:n},originX:a,originY:i}=this,s=a.getPixels("x"),o=i.getPixels("y");e.translate(s,o),e.scale(1/r,1/n||r),e.translate(-s,-o)}applyToPoint(e){var{x:r,y:n}=this.scale;e.applyTransform([r||0,0,0,n||0,0,0])}},K2=class{constructor(e,r,n){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Du(r),this.originX=n[0],this.originY=n[1]}apply(e){var{originX:r,originY:n,matrix:a}=this,i=r.getPixels("x"),s=n.getPixels("y");e.translate(i,s),e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),e.translate(-i,-s)}unapply(e){var{originX:r,originY:n,matrix:a}=this,i=a[0],s=a[2],o=a[4],l=a[1],u=a[3],c=a[5],d=0,f=0,A=1,v=1/(i*(u*A-c*f)-s*(l*A-c*d)+o*(l*f-u*d)),I=r.getPixels("x"),w=n.getPixels("y");e.translate(I,w),e.transform(v*(u*A-c*f),v*(c*d-l*A),v*(o*f-s*A),v*(i*A-o*d),v*(s*c-o*u),v*(o*l-i*c)),e.translate(-I,-w)}applyToPoint(e){e.applyTransform(this.matrix)}},G2=class extends K2{constructor(e,r,n){super(e,r,n),this.type="skew",this.angle=null,this.angle=new rn(e,"angle",r)}},k_=class extends G2{constructor(e,r,n){super(e,r,n),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}},F_=class extends G2{constructor(e,r,n){super(e,r,n),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}};k0=class t{constructor(e,r,n){this.document=e,this.transforms=[];var a=KCe(r);a.forEach(i=>{if(i!=="none"){var[s,o]=GCe(i),l=t.transformTypes[s];typeof l<"u"&&this.transforms.push(new l(this.document,o,n))}})}static fromElement(e,r){var n=r.getStyle("transform",!1,!0),[a,i=a]=r.getStyle("transform-origin",!1,!0).split(),s=[a,i];return n.hasValue()?new t(e,n.getString(),s):null}apply(e){for(var{transforms:r}=this,n=r.length,a=0;a<n;a++)r[a].apply(e)}unapply(e){for(var{transforms:r}=this,n=r.length,a=n-1;a>=0;a--)r[a].unapply(e)}applyToPoint(e){for(var{transforms:r}=this,n=r.length,a=0;a<n;a++)r[a].applyToPoint(e)}};k0.transformTypes={translate:T_,rotate:L_,scale:P_,matrix:K2,skewX:k_,skewY:F_};Ti=class t{constructor(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=e,this.node=r,this.captureTextNodes=n,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!r||r.nodeType!==1)){if(Array.from(r.attributes).forEach(o=>{var l=Uee(o.nodeName);this.attributes[l]=new rn(e,l,o.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var a=this.getAttribute("style").getString().split(";").map(o=>o.trim());a.forEach(o=>{if(o){var[l,u]=o.split(":").map(c=>c.trim());this.styles[l]=new rn(e,l,u)}})}var{definitions:i}=e,s=this.getAttribute("id");s.hasValue()&&(i[s.getString()]||(i[s.getString()]=this)),Array.from(r.childNodes).forEach(o=>{if(o.nodeType===1)this.addChild(o);else if(n&&(o.nodeType===3||o.nodeType===4)){var l=e.createTextNode(o);l.getText().length>0&&this.addChild(l)}})}}getAttribute(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.attributes[e];if(!n&&r){var a=new rn(this.document,e,"");return this.attributes[e]=a,a}return n||rn.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if(e==="href"||e.endsWith(":href"))return this.attributes[e];return rn.empty(this.document)}getStyle(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.styles[e];if(a)return a;var i=this.getAttribute(e);if(i!=null&&i.hasValue())return this.styles[e]=i,i;if(!n){var{parent:s}=this;if(s){var o=s.getStyle(e);if(o!=null&&o.hasValue())return o}}if(r){var l=new rn(this.document,e,"");return this.styles[e]=l,l}return a||rn.empty(this.document)}render(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var r=this.getStyle("mask").getDefinition();r&&(this.applyEffects(e),r.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var n=this.getStyle("filter").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var r=k0.fromElement(this.document,this);r&&r.apply(e);var n=this.getStyle("clip-path",!1,!0);if(n.hasValue()){var a=n.getDefinition();a&&a.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(r=>{r.render(e)})}addChild(e){var r=e instanceof t?e:this.document.createElement(e);r.parent=this,t.ignoreChildTypes.includes(r.type)||this.children.push(r)}matchesSelector(e){var r,{node:n}=this;if(typeof n.matches=="function")return n.matches(e);var a=(r=n.getAttribute)===null||r===void 0?void 0:r.call(n,"class");return!a||a===""?!1:a.split(" ").some(i=>".".concat(i)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:r}=this.document;for(var n in e)if(!n.startsWith("@")&&this.matchesSelector(n)){var a=e[n],i=r[n];if(a)for(var s in a){var o=this.stylesSpecificity[s];typeof o>"u"&&(o="000"),i>=o&&(this.styles[s]=a[s],this.stylesSpecificity[s]=i)}}}removeStyles(e,r){var n=r.reduce((a,i)=>{var s=e.getStyle(i);if(!s.hasValue())return a;var o=s.getString();return s.setValue(""),[...a,[i,o]]},[]);return n}restoreStyles(e,r){r.forEach(n=>{var[a,i]=n;e.getStyle(a,!0).setValue(i)})}isFirstChild(){var e;return((e=this.parent)===null||e===void 0?void 0:e.children.indexOf(this))===0}};Ti.ignoreChildTypes=["title"];R_=class extends Ti{constructor(e,r,n){super(e,r,n)}};dd=class t{constructor(e,r,n,a,i,s){var o=s?typeof s=="string"?t.parse(s):s:{};this.fontFamily=i||o.fontFamily,this.fontSize=a||o.fontSize,this.fontStyle=e||o.fontStyle,this.fontWeight=n||o.fontWeight,this.fontVariant=r||o.fontVariant}static parse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n="",a="",i="",s="",o="",l=R0(e).trim().split(" "),u={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return l.forEach(c=>{switch(!0){case(!u.fontStyle&&t.styles.includes(c)):c!=="inherit"&&(n=c),u.fontStyle=!0;break;case(!u.fontVariant&&t.variants.includes(c)):c!=="inherit"&&(a=c),u.fontStyle=!0,u.fontVariant=!0;break;case(!u.fontWeight&&t.weights.includes(c)):c!=="inherit"&&(i=c),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0;break;case!u.fontSize:c!=="inherit"&&([s]=c.split("/")),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0,u.fontSize=!0;break;default:c!=="inherit"&&(o+=c)}}),new t(n,a,i,s,o,r)}toString(){return[YCe(this.fontStyle),this.fontVariant,XCe(this.fontWeight),this.fontSize,$Ce(this.fontFamily)].join(" ").trim()}};dd.styles="normal|italic|oblique|inherit";dd.variants="normal|small-caps|inherit";dd.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";Mu=class{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=e,this.y1=r,this.x2=n,this.y2=a,this.addPoint(e,r),this.addPoint(n,a)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,r){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof r<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=r,this.y2=r),r<this.y1&&(this.y1=r),r>this.y2&&(this.y2=r))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:r,y1:n,x2:a,y2:i}=e;this.addPoint(r,n),this.addPoint(a,i)}}sumCubic(e,r,n,a,i){return Math.pow(1-e,3)*r+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*a+Math.pow(e,3)*i}bezierCurveAdd(e,r,n,a,i){var s=6*r-12*n+6*a,o=-3*r+9*n-9*a+3*i,l=3*n-3*r;if(o===0){if(s===0)return;var u=-l/s;0<u&&u<1&&(e?this.addX(this.sumCubic(u,r,n,a,i)):this.addY(this.sumCubic(u,r,n,a,i)));return}var c=Math.pow(s,2)-4*l*o;if(!(c<0)){var d=(-s+Math.sqrt(c))/(2*o);0<d&&d<1&&(e?this.addX(this.sumCubic(d,r,n,a,i)):this.addY(this.sumCubic(d,r,n,a,i)));var f=(-s-Math.sqrt(c))/(2*o);0<f&&f<1&&(e?this.addX(this.sumCubic(f,r,n,a,i)):this.addY(this.sumCubic(f,r,n,a,i)))}}addBezierCurve(e,r,n,a,i,s,o,l){this.addPoint(e,r),this.addPoint(o,l),this.bezierCurveAdd(!0,e,n,i,o),this.bezierCurveAdd(!1,r,a,s,l)}addQuadraticCurve(e,r,n,a,i,s){var o=e+.6666666666666666*(n-e),l=r+2/3*(a-r),u=o+1/3*(i-e),c=l+1/3*(s-r);this.addBezierCurve(e,r,o,u,l,c,i,s)}isPointInBox(e,r){var{x1:n,y1:a,x2:i,y2:s}=this;return n<=e&&e<=i&&a<=r&&r<=s}},xn=class extends Rt{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new eo(0,0),this.control=new eo(0,0),this.current=new eo(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:r}=this;return e>=r.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",n=new eo(this.command[e],this.command[r]);return this.makeAbsolute(n)}getAsControlPoint(e,r){var n=this.getPoint(e,r);return this.control=n,n}getAsCurrentPoint(e,r){var n=this.getPoint(e,r);return this.current=n,n}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==Rt.CURVE_TO&&e!==Rt.SMOOTH_CURVE_TO&&e!==Rt.QUAD_TO&&e!==Rt.SMOOTH_QUAD_TO)return this.current;var{current:{x:r,y:n},control:{x:a,y:i}}=this,s=new eo(2*r-a,2*n-i);return s}makeAbsolute(e){if(this.command.relative){var{x:r,y:n}=this.current;e.x+=r,e.y+=n}return e}addMarker(e,r,n){var{points:a,angles:i}=this;n&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=a[a.length-1].angleTo(n)),this.addMarkerAngle(e,r?r.angleTo(e):null)}addMarkerAngle(e,r){this.points.push(e),this.angles.push(r)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,r=e.length,n=0;n<r;n++)if(!e[n]){for(var a=n+1;a<r;a++)if(e[a]){e[n]=e[a];break}}return e}},_f=class extends Ti{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,r=this;r;){var n=r.getStyle("opacity",!1,!0);n.hasValue(!0)&&(e*=n.getNumber()),r=r.parent}return e}setContext(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r){var n=this.getStyle("fill"),a=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),s=this.getStyle("stroke-opacity");if(n.isUrlDefinition()){var o=n.getFillStyleDefinition(this,a);o&&(e.fillStyle=o)}else if(n.hasValue()){n.getString()==="currentColor"&&n.setValue(this.getStyle("color").getColor());var l=n.getColor();l!=="inherit"&&(e.fillStyle=l==="none"?"rgba(0,0,0,0)":l)}if(a.hasValue()){var u=new rn(this.document,"fill",e.fillStyle).addOpacity(a).getColor();e.fillStyle=u}if(i.isUrlDefinition()){var c=i.getFillStyleDefinition(this,s);c&&(e.strokeStyle=c)}else if(i.hasValue()){i.getString()==="currentColor"&&i.setValue(this.getStyle("color").getColor());var d=i.getString();d!=="inherit"&&(e.strokeStyle=d==="none"?"rgba(0,0,0,0)":d)}if(s.hasValue()){var f=new rn(this.document,"stroke",e.strokeStyle).addOpacity(s).getString();e.strokeStyle=f}var A=this.getStyle("stroke-width");if(A.hasValue()){var v=A.getPixels();e.lineWidth=v||L0}var I=this.getStyle("stroke-linecap"),w=this.getStyle("stroke-linejoin"),g=this.getStyle("stroke-miterlimit"),b=this.getStyle("stroke-dasharray"),S=this.getStyle("stroke-dashoffset");if(I.hasValue()&&(e.lineCap=I.getString()),w.hasValue()&&(e.lineJoin=w.getString()),g.hasValue()&&(e.miterLimit=g.getNumber()),b.hasValue()&&b.getString()!=="none"){var F=Du(b.getString());typeof e.setLineDash<"u"?e.setLineDash(F):typeof e.webkitLineDash<"u"?e.webkitLineDash=F:typeof e.mozDash<"u"&&!(F.length===1&&F[0]===0)&&(e.mozDash=F);var O=S.getPixels();typeof e.lineDashOffset<"u"?e.lineDashOffset=O:typeof e.webkitLineDashOffset<"u"?e.webkitLineDashOffset=O:typeof e.mozDashOffset<"u"&&(e.mozDashOffset=O)}}if(this.modifiedEmSizeStack=!1,typeof e.font<"u"){var R=this.getStyle("font"),T=this.getStyle("font-style"),B=this.getStyle("font-variant"),k=this.getStyle("font-weight"),U=this.getStyle("font-size"),E=this.getStyle("font-family"),_=new dd(T.getString(),B.getString(),k.getString(),U.hasValue()?"".concat(U.getPixels(!0),"px"):"",E.getString(),dd.parse(R.getString(),e.font));T.setValue(_.fontStyle),B.setValue(_.fontVariant),k.setValue(_.fontWeight),U.setValue(_.fontSize),E.setValue(_.fontFamily),e.font=_.toString(),U.isPixels()&&(this.document.emSize=U.getPixels(),this.modifiedEmSizeStack=!0)}r||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}},_s=class t extends _f{constructor(e,r,n){super(e,r,n),this.type="path",this.pathParser=null,this.pathParser=new xn(this.getAttribute("d").getString())}path(e){var{pathParser:r}=this,n=new Mu;for(r.reset(),e&&e.beginPath();!r.isEnd();)switch(r.next().type){case xn.MOVE_TO:this.pathM(e,n);break;case xn.LINE_TO:this.pathL(e,n);break;case xn.HORIZ_LINE_TO:this.pathH(e,n);break;case xn.VERT_LINE_TO:this.pathV(e,n);break;case xn.CURVE_TO:this.pathC(e,n);break;case xn.SMOOTH_CURVE_TO:this.pathS(e,n);break;case xn.QUAD_TO:this.pathQ(e,n);break;case xn.SMOOTH_QUAD_TO:this.pathT(e,n);break;case xn.ARC:this.pathA(e,n);break;case xn.CLOSE_PATH:this.pathZ(e,n);break}return n}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,r=e.getMarkerPoints(),n=e.getMarkerAngles(),a=r.map((i,s)=>[i,n[s]]);return a}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var r=this.getStyle("fill-rule");e.fillStyle!==""&&(r.getString("inherit")!=="inherit"?e.fill(r.getString()):e.fill()),e.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var n=this.getMarkers();if(n){var a=n.length-1,i=this.getStyle("marker-start"),s=this.getStyle("marker-mid"),o=this.getStyle("marker-end");if(i.isUrlDefinition()){var l=i.getDefinition(),[u,c]=n[0];l.render(e,u,c)}if(s.isUrlDefinition())for(var d=s.getDefinition(),f=1;f<a;f++){var[A,v]=n[f];d.render(e,A,v)}if(o.isUrlDefinition()){var I=o.getDefinition(),[w,g]=n[a];I.render(e,w,g)}}}static pathM(e){var r=e.getAsCurrentPoint();return e.start=e.current,{point:r}}pathM(e,r){var{pathParser:n}=this,{point:a}=t.pathM(n),{x:i,y:s}=a;n.addMarker(a),r.addPoint(i,s),e&&e.moveTo(i,s)}static pathL(e){var{current:r}=e,n=e.getAsCurrentPoint();return{current:r,point:n}}pathL(e,r){var{pathParser:n}=this,{current:a,point:i}=t.pathL(n),{x:s,y:o}=i;n.addMarker(i,a),r.addPoint(s,o),e&&e.lineTo(s,o)}static pathH(e){var{current:r,command:n}=e,a=new eo((n.relative?r.x:0)+n.x,r.y);return e.current=a,{current:r,point:a}}pathH(e,r){var{pathParser:n}=this,{current:a,point:i}=t.pathH(n),{x:s,y:o}=i;n.addMarker(i,a),r.addPoint(s,o),e&&e.lineTo(s,o)}static pathV(e){var{current:r,command:n}=e,a=new eo(r.x,(n.relative?r.y:0)+n.y);return e.current=a,{current:r,point:a}}pathV(e,r){var{pathParser:n}=this,{current:a,point:i}=t.pathV(n),{x:s,y:o}=i;n.addMarker(i,a),r.addPoint(s,o),e&&e.lineTo(s,o)}static pathC(e){var{current:r}=e,n=e.getPoint("x1","y1"),a=e.getAsControlPoint("x2","y2"),i=e.getAsCurrentPoint();return{current:r,point:n,controlPoint:a,currentPoint:i}}pathC(e,r){var{pathParser:n}=this,{current:a,point:i,controlPoint:s,currentPoint:o}=t.pathC(n);n.addMarker(o,s,i),r.addBezierCurve(a.x,a.y,i.x,i.y,s.x,s.y,o.x,o.y),e&&e.bezierCurveTo(i.x,i.y,s.x,s.y,o.x,o.y)}static pathS(e){var{current:r}=e,n=e.getReflectedControlPoint(),a=e.getAsControlPoint("x2","y2"),i=e.getAsCurrentPoint();return{current:r,point:n,controlPoint:a,currentPoint:i}}pathS(e,r){var{pathParser:n}=this,{current:a,point:i,controlPoint:s,currentPoint:o}=t.pathS(n);n.addMarker(o,s,i),r.addBezierCurve(a.x,a.y,i.x,i.y,s.x,s.y,o.x,o.y),e&&e.bezierCurveTo(i.x,i.y,s.x,s.y,o.x,o.y)}static pathQ(e){var{current:r}=e,n=e.getAsControlPoint("x1","y1"),a=e.getAsCurrentPoint();return{current:r,controlPoint:n,currentPoint:a}}pathQ(e,r){var{pathParser:n}=this,{current:a,controlPoint:i,currentPoint:s}=t.pathQ(n);n.addMarker(s,i,i),r.addQuadraticCurve(a.x,a.y,i.x,i.y,s.x,s.y),e&&e.quadraticCurveTo(i.x,i.y,s.x,s.y)}static pathT(e){var{current:r}=e,n=e.getReflectedControlPoint();e.control=n;var a=e.getAsCurrentPoint();return{current:r,controlPoint:n,currentPoint:a}}pathT(e,r){var{pathParser:n}=this,{current:a,controlPoint:i,currentPoint:s}=t.pathT(n);n.addMarker(s,i,i),r.addQuadraticCurve(a.x,a.y,i.x,i.y,s.x,s.y),e&&e.quadraticCurveTo(i.x,i.y,s.x,s.y)}static pathA(e){var{current:r,command:n}=e,{rX:a,rY:i,xRot:s,lArcFlag:o,sweepFlag:l}=n,u=s*(Math.PI/180),c=e.getAsCurrentPoint(),d=new eo(Math.cos(u)*(r.x-c.x)/2+Math.sin(u)*(r.y-c.y)/2,-Math.sin(u)*(r.x-c.x)/2+Math.cos(u)*(r.y-c.y)/2),f=Math.pow(d.x,2)/Math.pow(a,2)+Math.pow(d.y,2)/Math.pow(i,2);f>1&&(a*=Math.sqrt(f),i*=Math.sqrt(f));var A=(o===l?-1:1)*Math.sqrt((Math.pow(a,2)*Math.pow(i,2)-Math.pow(a,2)*Math.pow(d.y,2)-Math.pow(i,2)*Math.pow(d.x,2))/(Math.pow(a,2)*Math.pow(d.y,2)+Math.pow(i,2)*Math.pow(d.x,2)));isNaN(A)&&(A=0);var v=new eo(A*a*d.y/i,A*-i*d.x/a),I=new eo((r.x+c.x)/2+Math.cos(u)*v.x-Math.sin(u)*v.y,(r.y+c.y)/2+Math.sin(u)*v.x+Math.cos(u)*v.y),w=ZD([1,0],[(d.x-v.x)/a,(d.y-v.y)/i]),g=[(d.x-v.x)/a,(d.y-v.y)/i],b=[(-d.x-v.x)/a,(-d.y-v.y)/i],S=ZD(g,b);return B_(g,b)<=-1&&(S=Math.PI),B_(g,b)>=1&&(S=0),{currentPoint:c,rX:a,rY:i,sweepFlag:l,xAxisRotation:u,centp:I,a1:w,ad:S}}pathA(e,r){var{pathParser:n}=this,{currentPoint:a,rX:i,rY:s,sweepFlag:o,xAxisRotation:l,centp:u,a1:c,ad:d}=t.pathA(n),f=1-o?1:-1,A=c+f*(d/2),v=new eo(u.x+i*Math.cos(A),u.y+s*Math.sin(A));if(n.addMarkerAngle(v,A-f*Math.PI/2),n.addMarkerAngle(a,A-f*Math.PI),r.addPoint(a.x,a.y),e&&!isNaN(c)&&!isNaN(d)){var I=i>s?i:s,w=i>s?1:i/s,g=i>s?s/i:1;e.translate(u.x,u.y),e.rotate(l),e.scale(w,g),e.arc(0,0,I,c,c+d,!!(1-o)),e.scale(1/w,1/g),e.rotate(-l),e.translate(-u.x,-u.y)}}static pathZ(e){e.current=e.start}pathZ(e,r){t.pathZ(this.pathParser),e&&r.x1!==r.x2&&r.y1!==r.y2&&e.closePath()}},W2=class extends _s{constructor(e,r,n){super(e,r,n),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}},xm=class t extends _f{constructor(e,r,n){super(e,r,new.target===t?!0:n),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(e,r);var n=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();n&&(e.textBaseline=n)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if(this.type!=="text")return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var r=null;return this.children.forEach((n,a)=>{var i=this.getChildBoundingBox(e,this,this,a);r?r.addBoundingBox(i):r=i}),r}getFontSize(){var{document:e,parent:r}=this,n=dd.parse(e.ctx.font).fontSize,a=r.getStyle("font-size").getNumber(n);return a}getTElementBoundingBox(e){var r=this.getFontSize();return new Mu(this.x,this.y-r,this.x+this.measureText(e),this.y)}getGlyph(e,r,n){var a=r[n],i=null;if(e.isArabic){var s=r.length,o=r[n-1],l=r[n+1],u="isolated";if((n===0||o===" ")&&n<s-1&&l!==" "&&(u="terminal"),n>0&&o!==" "&&n<s-1&&l!==" "&&(u="medial"),n>0&&o!==" "&&(n===s-1||l===" ")&&(u="initial"),typeof e.glyphs[a]<"u"){var c=e.glyphs[a];i=c instanceof W2?c:c[u]}}else i=e.glyphs[a];return i||(i=e.missingGlyph),i}getText(){return""}getTextFromNode(e){var r=e||this.node,n=Array.from(r.parentNode.childNodes),a=n.indexOf(r),i=n.length-1,s=R0(r.textContent||"");return a===0&&(s=Fee(s)),a===i&&(s=Ree(s)),s}renderChildren(e){if(this.type!=="text"){this.renderTElementChildren(e);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((n,a)=>{this.renderChild(e,this,this,a)});var{mouse:r}=this.document.screen;r.isWorking()&&r.checkBoundingBox(this,this.getBoundingBox(e))}renderTElementChildren(e){var{document:r,parent:n}=this,a=this.getText(),i=n.getStyle("font-family").getDefinition();if(i){for(var{unitsPerEm:s}=i.fontFace,o=dd.parse(r.ctx.font),l=n.getStyle("font-size").getNumber(o.fontSize),u=n.getStyle("font-style").getString(o.fontStyle),c=l/s,d=i.isRTL?a.split("").reverse().join(""):a,f=Du(n.getAttribute("dx").getString()),A=d.length,v=0;v<A;v++){var I=this.getGlyph(i,d,v);e.translate(this.x,this.y),e.scale(c,-c);var w=e.lineWidth;e.lineWidth=e.lineWidth*s/l,u==="italic"&&e.transform(1,0,.4,1,0,0),I.render(e),u==="italic"&&e.transform(1,0,-.4,1,0,0),e.lineWidth=w,e.scale(1/c,-1/c),e.translate(-this.x,-this.y),this.x+=l*(I.horizAdvX||i.horizAdvX)/s,typeof f[v]<"u"&&!isNaN(f[v])&&(this.x+=f[v])}return}var{x:g,y:b}=this;e.fillStyle&&e.fillText(a,g,b),e.strokeStyle&&e.strokeText(a,g,b)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],r=e.getStyle("text-anchor").getString("start"),n=!1,a=0;r==="start"&&!n||r==="end"&&n?a=e.x-this.minX:r==="end"&&!n||r==="start"&&n?a=e.x-this.maxX:a=e.x-(this.minX+this.maxX)/2;for(var i=this.textChunkStart;i<this.leafTexts.length;i++)this.leafTexts[i].x+=a;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((r,n)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,n)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,r,n,a){var i=n.children[a];i.children.length>0?i.children.forEach((s,o)=>{r.adjustChildCoordinatesRecursiveCore(e,r,i,o)}):this.adjustChildCoordinates(e,r,n,a)}adjustChildCoordinates(e,r,n,a){var i=n.children[a];if(typeof i.measureText!="function")return i;e.save(),i.setContext(e,!0);var s=i.getAttribute("x"),o=i.getAttribute("y"),l=i.getAttribute("dx"),u=i.getAttribute("dy"),c=i.getStyle("font-family").getDefinition(),d=!!c&&c.isRTL;a===0&&(s.hasValue()||s.setValue(i.getInheritedAttribute("x")),o.hasValue()||o.setValue(i.getInheritedAttribute("y")),l.hasValue()||l.setValue(i.getInheritedAttribute("dx")),u.hasValue()||u.setValue(i.getInheritedAttribute("dy")));var f=i.measureText(e);return d&&(r.x-=f),s.hasValue()?(r.applyAnchoring(),i.x=s.getPixels("x"),l.hasValue()&&(i.x+=l.getPixels("x"))):(l.hasValue()&&(r.x+=l.getPixels("x")),i.x=r.x),r.x=i.x,d||(r.x+=f),o.hasValue()?(i.y=o.getPixels("y"),u.hasValue()&&(i.y+=u.getPixels("y"))):(u.hasValue()&&(r.y+=u.getPixels("y")),i.y=r.y),r.y=i.y,r.leafTexts.push(i),r.minX=Math.min(r.minX,i.x,i.x+f),r.maxX=Math.max(r.maxX,i.x,i.x+f),i.clearContext(e),e.restore(),i}getChildBoundingBox(e,r,n,a){var i=n.children[a];if(typeof i.getBoundingBox!="function")return null;var s=i.getBoundingBox(e);return s?(i.children.forEach((o,l)=>{var u=r.getChildBoundingBox(e,r,i,l);s.addBoundingBox(u)}),s):null}renderChild(e,r,n,a){var i=n.children[a];i.render(e),i.children.forEach((s,o)=>{r.renderChild(e,r,i,o)})}measureText(e){var{measureCache:r}=this;if(~r)return r;var n=this.getText(),a=this.measureTargetText(e,n);return this.measureCache=a,a}measureTargetText(e,r){if(!r.length)return 0;var{parent:n}=this,a=n.getStyle("font-family").getDefinition();if(a){for(var i=this.getFontSize(),s=a.isRTL?r.split("").reverse().join(""):r,o=Du(n.getAttribute("dx").getString()),l=s.length,u=0,c=0;c<l;c++){var d=this.getGlyph(a,s,c);u+=(d.horizAdvX||a.horizAdvX)*i/a.fontFace.unitsPerEm,typeof o[c]<"u"&&!isNaN(o[c])&&(u+=o[c])}return u}if(!e.measureText)return r.length*10;e.save(),this.setContext(e,!0);var{width:f}=e.measureText(r);return this.clearContext(e),e.restore(),f}getInheritedAttribute(e){for(var r=this;r instanceof t&&r.isFirstChild();){var n=r.parent.getAttribute(e);if(n.hasValue(!0))return n.getValue("0");r=r.parent}return null}},$2=class t extends xm{constructor(e,r,n){super(e,r,new.target===t?!0:n),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}},oM=class extends $2{constructor(){super(...arguments),this.type="textNode"}},Cm=class extends _f{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var r,{document:n}=this,{screen:a,window:i}=n,s=e.canvas;if(a.setDefaults(e),s.style&&typeof e.font<"u"&&i&&typeof i.getComputedStyle<"u"){e.font=i.getComputedStyle(s).getPropertyValue("font");var o=new rn(n,"fontSize",dd.parse(e.font).fontSize);o.hasValue()&&(n.rootEmSize=o.getPixels("y"),n.emSize=n.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:l,height:u}=a.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var c=this.getAttribute("refX"),d=this.getAttribute("refY"),f=this.getAttribute("viewBox"),A=f.hasValue()?Du(f.getString()):null,v=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",I=0,w=0,g=0,b=0;A&&(I=A[0],w=A[1]),this.root||(l=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),this.type==="marker"&&(g=I,b=w,I=0,w=0)),a.viewPort.setCurrent(l,u),this.node&&(!this.parent||((r=this.node.parentNode)===null||r===void 0?void 0:r.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),A&&(l=A[2],u=A[3]),n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:a.viewPort.width,desiredWidth:l,height:a.viewPort.height,desiredHeight:u,minX:I,minY:w,refX:c.getValue(),refY:d.getValue(),clip:v,clipX:g,clipY:b}),A&&(a.viewPort.removeCurrent(),a.viewPort.setCurrent(l,u))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.getAttribute("width",!0),i=this.getAttribute("height",!0),s=this.getAttribute("viewBox"),o=this.getAttribute("style"),l=a.getNumber(0),u=i.getNumber(0);if(n)if(typeof n=="string")this.getAttribute("preserveAspectRatio",!0).setValue(n);else{var c=this.getAttribute("preserveAspectRatio");c.hasValue()&&c.setValue(c.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(a.setValue(e),i.setValue(r),s.hasValue()||s.setValue("0 0 ".concat(l||e," ").concat(u||r)),o.hasValue()){var d=this.getStyle("width"),f=this.getStyle("height");d.hasValue()&&d.setValue("".concat(e,"px")),f.hasValue()&&f.setValue("".concat(r,"px"))}}},Y2=class extends _s{constructor(){super(...arguments),this.type="rect"}path(e){var r=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),a=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),s=this.getAttribute("rx"),o=this.getAttribute("ry"),l=s.getPixels("x"),u=o.getPixels("y");if(s.hasValue()&&!o.hasValue()&&(u=l),o.hasValue()&&!s.hasValue()&&(l=u),l=Math.min(l,a/2),u=Math.min(u,i/2),e){var c=4*((Math.sqrt(2)-1)/3);e.beginPath(),i>0&&a>0&&(e.moveTo(r+l,n),e.lineTo(r+a-l,n),e.bezierCurveTo(r+a-l+c*l,n,r+a,n+u-c*u,r+a,n+u),e.lineTo(r+a,n+i-u),e.bezierCurveTo(r+a,n+i-u+c*u,r+a-l+c*l,n+i,r+a-l,n+i),e.lineTo(r+l,n+i),e.bezierCurveTo(r+l-c*l,n+i,r,n+i-u+c*u,r,n+i-u),e.lineTo(r,n+u),e.bezierCurveTo(r,n+u-c*u,r+l-c*l,n,r+l,n),e.closePath())}return new Mu(r,n,r+a,n+i)}getMarkers(){return null}},U_=class extends _s{constructor(){super(...arguments),this.type="circle"}path(e){var r=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),a=this.getAttribute("r").getPixels();return e&&a>0&&(e.beginPath(),e.arc(r,n,a,0,Math.PI*2,!1),e.closePath()),new Mu(r-a,n-a,r+a,n+a)}getMarkers(){return null}},D_=class extends _s{constructor(){super(...arguments),this.type="ellipse"}path(e){var r=4*((Math.sqrt(2)-1)/3),n=this.getAttribute("rx").getPixels("x"),a=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),s=this.getAttribute("cy").getPixels("y");return e&&n>0&&a>0&&(e.beginPath(),e.moveTo(i+n,s),e.bezierCurveTo(i+n,s+r*a,i+r*n,s+a,i,s+a),e.bezierCurveTo(i-r*n,s+a,i-n,s+r*a,i-n,s),e.bezierCurveTo(i-n,s-r*a,i-r*n,s-a,i,s-a),e.bezierCurveTo(i+r*n,s-a,i+n,s-r*a,i+n,s),e.closePath()),new Mu(i-n,s-a,i+n,s+a)}getMarkers(){return null}},M_=class extends _s{constructor(){super(...arguments),this.type="line"}getPoints(){return[new eo(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new eo(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:r,y:n},{x:a,y:i}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(r,n),e.lineTo(a,i)),new Mu(r,n,a,i)}getMarkers(){var[e,r]=this.getPoints(),n=e.angleTo(r);return[[e,n],[r,n]]}},X2=class extends _s{constructor(e,r,n){super(e,r,n),this.type="polyline",this.points=[],this.points=eo.parsePath(this.getAttribute("points").getString())}path(e){var{points:r}=this,[{x:n,y:a}]=r,i=new Mu(n,a);return e&&(e.beginPath(),e.moveTo(n,a)),r.forEach(s=>{var{x:o,y:l}=s;i.addPoint(o,l),e&&e.lineTo(o,l)}),i}getMarkers(){var{points:e}=this,r=e.length-1,n=[];return e.forEach((a,i)=>{i!==r&&n.push([a,a.angleTo(e[i+1])])}),n.length>0&&n.push([e[e.length-1],n[n.length-1][1]]),n}},O_=class extends X2{constructor(){super(...arguments),this.type="polygon"}path(e){var r=super.path(e),[{x:n,y:a}]=this.points;return e&&(e.lineTo(n,a),e.closePath()),r}},Q_=class extends Ti{constructor(){super(...arguments),this.type="pattern"}createPattern(e,r,n){var a=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),s=new Cm(this.document,null);s.attributes.viewBox=new rn(this.document,"viewBox",this.getAttribute("viewBox").getValue()),s.attributes.width=new rn(this.document,"width","".concat(a,"px")),s.attributes.height=new rn(this.document,"height","".concat(i,"px")),s.attributes.transform=new rn(this.document,"transform",this.getAttribute("patternTransform").getValue()),s.children=this.children;var o=this.document.createCanvas(a,i),l=o.getContext("2d"),u=this.getAttribute("x"),c=this.getAttribute("y");u.hasValue()&&c.hasValue()&&l.translate(u.getPixels("x",!0),c.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var d=-1;d<=1;d++)for(var f=-1;f<=1;f++)l.save(),s.attributes.x=new rn(this.document,"x",d*o.width),s.attributes.y=new rn(this.document,"y",f*o.height),s.render(l),l.restore();var A=e.createPattern(o,"repeat");return A}},H_=class extends Ti{constructor(){super(...arguments),this.type="marker"}render(e,r,n){if(r){var{x:a,y:i}=r,s=this.getAttribute("orient").getString("auto"),o=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(a,i),s==="auto"&&e.rotate(n),o==="strokeWidth"&&e.scale(e.lineWidth,e.lineWidth),e.save();var l=new Cm(this.document,null);l.type=this.type,l.attributes.viewBox=new rn(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.refX=new rn(this.document,"refX",this.getAttribute("refX").getValue()),l.attributes.refY=new rn(this.document,"refY",this.getAttribute("refY").getValue()),l.attributes.width=new rn(this.document,"width",this.getAttribute("markerWidth").getValue()),l.attributes.height=new rn(this.document,"height",this.getAttribute("markerHeight").getValue()),l.attributes.overflow=new rn(this.document,"overflow",this.getAttribute("overflow").getValue()),l.attributes.fill=new rn(this.document,"fill",this.getAttribute("fill").getColor("black")),l.attributes.stroke=new rn(this.document,"stroke",this.getAttribute("stroke").getValue("none")),l.children=this.children,l.render(e),e.restore(),o==="strokeWidth"&&e.scale(1/e.lineWidth,1/e.lineWidth),s==="auto"&&e.rotate(-n),e.translate(-a,-i)}}},V_=class extends Ti{constructor(){super(...arguments),this.type="defs"}render(){}},G1=class extends _f{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var r=new Mu;return this.children.forEach(n=>{r.addBoundingBox(n.getBoundingBox(e))}),r}},J2=class extends Ti{constructor(e,r,n){super(e,r,n),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:a,children:i}=this;i.forEach(s=>{s.type==="stop"&&a.push(s)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,r,n){var a=this;this.getHrefAttribute().hasValue()&&(a=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(a));var{stops:i}=a,s=this.getGradient(e,r);if(!s)return this.addParentOpacity(n,i[i.length-1].color);if(i.forEach(w=>{s.addColorStop(w.offset,this.addParentOpacity(n,w.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:o}=this,{MAX_VIRTUAL_PIXELS:l,viewPort:u}=o.screen,[c]=u.viewPorts,d=new Y2(o,null);d.attributes.x=new rn(o,"x",-l/3),d.attributes.y=new rn(o,"y",-l/3),d.attributes.width=new rn(o,"width",l),d.attributes.height=new rn(o,"height",l);var f=new G1(o,null);f.attributes.transform=new rn(o,"transform",this.getAttribute("gradientTransform").getValue()),f.children=[d];var A=new Cm(o,null);A.attributes.x=new rn(o,"x",0),A.attributes.y=new rn(o,"y",0),A.attributes.width=new rn(o,"width",c.width),A.attributes.height=new rn(o,"height",c.height),A.children=[f];var v=o.createCanvas(c.width,c.height),I=v.getContext("2d");return I.fillStyle=s,A.render(I),I.createPattern(v,"no-repeat")}return s}inheritStopContainer(e){this.attributesToInherit.forEach(r=>{!this.getAttribute(r).hasValue()&&e.getAttribute(r).hasValue()&&this.getAttribute(r,!0).setValue(e.getAttribute(r).getValue())})}addParentOpacity(e,r){if(e.hasValue()){var n=new rn(this.document,"color",r);return n.addOpacity(e).getColor()}return r}},q_=class extends J2{constructor(e,r,n){super(e,r,n),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,r){var n=this.getGradientUnits()==="objectBoundingBox",a=n?r.getBoundingBox(e):null;if(n&&!a)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=n?a.x+a.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),s=n?a.y+a.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),o=n?a.x+a.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),l=n?a.y+a.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===o&&s===l?null:e.createLinearGradient(i,s,o,l)}},z_=class extends J2{constructor(e,r,n){super(e,r,n),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,r){var n=this.getGradientUnits()==="objectBoundingBox",a=r.getBoundingBox(e);if(n&&!a)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=n?a.x+a.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),s=n?a.y+a.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),o=i,l=s;this.getAttribute("fx").hasValue()&&(o=n?a.x+a.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(l=n?a.y+a.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=n?(a.width+a.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),c=this.getAttribute("fr").getPixels();return e.createRadialGradient(o,l,c,i,s,u)}},j_=class extends Ti{constructor(e,r,n){super(e,r,n),this.type="stop";var a=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),i=this.getStyle("stop-opacity"),s=this.getStyle("stop-color",!0);s.getString()===""&&s.setValue("#000"),i.hasValue()&&(s=s.addOpacity(i)),this.offset=a,this.color=s.getColor()}},W1=class extends Ti{constructor(e,r,n){super(e,r,n),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new rn(e,"values",null);var a=this.getAttribute("values");a.hasValue()&&this.values.setValue(a.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),r=this.getAttribute("attributeName").getString();return e==="CSS"?this.parent.getStyle(r,!0):this.parent.getAttribute(r,!0)}calcValue(){var{initialUnits:e}=this,{progress:r,from:n,to:a}=this.getProgress(),i=n.getNumber()+(a.getNumber()-n.getNumber())*r;return e==="%"&&(i*=100),"".concat(i).concat(e)}update(e){var{parent:r}=this,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var a=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(a==="freeze"&&!this.frozen)this.frozen=!0,r.animationFrozen=!0,r.animationFrozenValue=n.getString();else if(a==="remove"&&!this.removed)return this.removed=!0,n.setValue(r.animationFrozen?r.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=e;var i=!1;if(this.begin<this.duration){var s=this.calcValue(),o=this.getAttribute("type");if(o.hasValue()){var l=o.getString();s="".concat(l,"(").concat(s,")")}n.setValue(s),i=!0}return i}getProgress(){var{document:e,values:r}=this,n={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(r.hasValue()){var a=n.progress*(r.getValue().length-1),i=Math.floor(a),s=Math.ceil(a);n.from=new rn(e,"from",parseFloat(r.getValue()[i])),n.to=new rn(e,"to",parseFloat(r.getValue()[s])),n.progress=(a-i)/(s-i)}else n.from=this.from,n.to=this.to;return n}},K_=class extends W1{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:r,to:n}=this.getProgress(),a=new S_.default(r.getColor()),i=new S_.default(n.getColor());if(a.ok&&i.ok){var s=a.r+(i.r-a.r)*e,o=a.g+(i.g-a.g)*e,l=a.b+(i.b-a.b)*e;return"rgb(".concat(Math.floor(s),", ").concat(Math.floor(o),", ").concat(Math.floor(l),")")}return this.getAttribute("from").getColor()}},G_=class extends W1{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:r,to:n}=this.getProgress(),a=Du(r.getString()),i=Du(n.getString()),s=a.map((o,l)=>{var u=i[l];return o+(u-o)*e}).join(" ");return s}},W_=class extends Ti{constructor(e,r,n){super(e,r,n),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:a}=e,{children:i}=this;for(var s of i)switch(s.type){case"font-face":{this.fontFace=s;var o=s.getStyle("font-family");o.hasValue()&&(a[o.getString()]=this);break}case"missing-glyph":this.missingGlyph=s;break;case"glyph":{var l=s;l.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[l.unicode]>"u"&&(this.glyphs[l.unicode]=Object.create(null)),this.glyphs[l.unicode][l.arabicForm]=l):this.glyphs[l.unicode]=l;break}}}render(){}},$_=class extends Ti{constructor(e,r,n){super(e,r,n),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}},Y_=class extends _s{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}},X_=class extends xm{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var r=e.children[0];if(r)return r.getText()}return""}},J_=class extends xm{constructor(e,r,n){super(e,r,n),this.type="a";var{childNodes:a}=r,i=a[0],s=a.length>0&&Array.from(a).every(o=>o.nodeType===3);this.hasText=s,this.text=s?this.getTextFromNode(i):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:r,x:n,y:a}=this,{mouse:i}=r.screen,s=new rn(r,"fontSize",dd.parse(r.ctx.font).fontSize);i.isWorking()&&i.checkBoundingBox(this,new Mu(n,a-s.getPixels("y"),n+this.measureText(e),a))}else if(this.children.length>0){var o=new G1(this.document,null);o.children=this.children,o.parent=this,o.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}};Z_=class extends xm{constructor(e,r,n){super(e,r,n),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var a=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(a)}getText(){return this.text}path(e){var{dataArray:r}=this;e&&e.beginPath(),r.forEach(n=>{var{type:a,points:i}=n;switch(a){case xn.LINE_TO:e&&e.lineTo(i[0],i[1]);break;case xn.MOVE_TO:e&&e.moveTo(i[0],i[1]);break;case xn.CURVE_TO:e&&e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case xn.QUAD_TO:e&&e.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case xn.ARC:{var[s,o,l,u,c,d,f,A]=i,v=l>u?l:u,I=l>u?1:l/u,w=l>u?u/l:1;e&&(e.translate(s,o),e.rotate(f),e.scale(I,w),e.arc(0,0,v,c,c+d,!!(1-A)),e.scale(1/I,1/w),e.rotate(-f),e.translate(-s,-o));break}case xn.CLOSE_PATH:e&&e.closePath();break}})}renderChildren(e){this.setTextData(e),e.save();var r=this.parent.getStyle("text-decoration").getString(),n=this.getFontSize(),{glyphInfo:a}=this,i=e.fillStyle;r==="underline"&&e.beginPath(),a.forEach((s,o)=>{var{p0:l,p1:u,rotation:c,text:d}=s;e.save(),e.translate(l.x,l.y),e.rotate(c),e.fillStyle&&e.fillText(d,0,0),e.strokeStyle&&e.strokeText(d,0,0),e.restore(),r==="underline"&&(o===0&&e.moveTo(l.x,l.y+n/8),e.lineTo(u.x,u.y+n/5))}),r==="underline"&&(e.lineWidth=n/20,e.strokeStyle=i,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,r,n,a,i,s,o,l,u){var c=s,d=this.measureText(e,l);l===" "&&r==="justify"&&n<a&&(d+=(a-n)/i),u>-1&&(c+=this.getLetterSpacingAt(u));var f=this.textHeight/20,A=this.getEquidistantPointOnPath(c,f,0),v=this.getEquidistantPointOnPath(c+d,f,0),I={p0:A,p1:v},w=A&&v?Math.atan2(v.y-A.y,v.x-A.x):0;if(o){var g=Math.cos(Math.PI/2+w)*o,b=Math.cos(-w)*o;I.p0=x_(x_({},A),{},{x:A.x+g,y:A.y+b}),I.p1=x_(x_({},v),{},{x:v.x+g,y:v.y+b})}return c+=d,{offset:c,segment:I,rotation:w}}measureText(e,r){var{measuresCache:n}=this,a=r||this.getText();if(n.has(a))return n.get(a);var i=this.measureTargetText(e,a);return n.set(a,i),i}setTextData(e){if(!this.glyphInfo){var r=this.getText(),n=r.split(""),a=r.split(" ").length-1,i=this.parent.getAttribute("dx").split().map(F=>F.getPixels("x")),s=this.parent.getAttribute("dy").getPixels("y"),o=this.parent.getStyle("text-anchor").getString("start"),l=this.getStyle("letter-spacing"),u=this.parent.getStyle("letter-spacing"),c=0;!l.hasValue()||l.getValue()==="inherit"?c=u.getPixels():l.hasValue()&&l.getValue()!=="initial"&&l.getValue()!=="unset"&&(c=l.getPixels());var d=[],f=r.length;this.letterSpacingCache=d;for(var A=0;A<f;A++)d.push(typeof i[A]<"u"?i[A]:c);var v=d.reduce((F,O,R)=>R===0?0:F+O||0,0),I=this.measureText(e),w=Math.max(I+v,0);this.textWidth=I,this.textHeight=this.getFontSize(),this.glyphInfo=[];var g=this.getPathLength(),b=this.getStyle("startOffset").getNumber(0)*g,S=0;(o==="middle"||o==="center")&&(S=-w/2),(o==="end"||o==="right")&&(S=-w),S+=b,n.forEach((F,O)=>{var{offset:R,segment:T,rotation:B}=this.findSegmentToFitChar(e,o,w,g,a,S,s,F,O);S=R,!(!T.p0||!T.p1)&&this.glyphInfo.push({text:n[O],p0:T.p0,p1:T.p1,rotation:B})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var r=[],{pathParser:n}=e;for(n.reset();!n.isEnd();){var{current:a}=n,i=a?a.x:0,s=a?a.y:0,o=n.next(),l=o.type,u=[];switch(o.type){case xn.MOVE_TO:this.pathM(n,u);break;case xn.LINE_TO:l=this.pathL(n,u);break;case xn.HORIZ_LINE_TO:l=this.pathH(n,u);break;case xn.VERT_LINE_TO:l=this.pathV(n,u);break;case xn.CURVE_TO:this.pathC(n,u);break;case xn.SMOOTH_CURVE_TO:l=this.pathS(n,u);break;case xn.QUAD_TO:this.pathQ(n,u);break;case xn.SMOOTH_QUAD_TO:l=this.pathT(n,u);break;case xn.ARC:u=this.pathA(n);break;case xn.CLOSE_PATH:_s.pathZ(n);break}o.type!==xn.CLOSE_PATH?r.push({type:l,points:u,start:{x:i,y:s},pathLength:this.calcLength(i,s,l,u)}):r.push({type:xn.CLOSE_PATH,points:[],pathLength:0})}return r}pathM(e,r){var{x:n,y:a}=_s.pathM(e).point;r.push(n,a)}pathL(e,r){var{x:n,y:a}=_s.pathL(e).point;return r.push(n,a),xn.LINE_TO}pathH(e,r){var{x:n,y:a}=_s.pathH(e).point;return r.push(n,a),xn.LINE_TO}pathV(e,r){var{x:n,y:a}=_s.pathV(e).point;return r.push(n,a),xn.LINE_TO}pathC(e,r){var{point:n,controlPoint:a,currentPoint:i}=_s.pathC(e);r.push(n.x,n.y,a.x,a.y,i.x,i.y)}pathS(e,r){var{point:n,controlPoint:a,currentPoint:i}=_s.pathS(e);return r.push(n.x,n.y,a.x,a.y,i.x,i.y),xn.CURVE_TO}pathQ(e,r){var{controlPoint:n,currentPoint:a}=_s.pathQ(e);r.push(n.x,n.y,a.x,a.y)}pathT(e,r){var{controlPoint:n,currentPoint:a}=_s.pathT(e);return r.push(n.x,n.y,a.x,a.y),xn.QUAD_TO}pathA(e){var{rX:r,rY:n,sweepFlag:a,xAxisRotation:i,centp:s,a1:o,ad:l}=_s.pathA(e);return a===0&&l>0&&(l-=2*Math.PI),a===1&&l<0&&(l+=2*Math.PI),[s.x,s.y,r,n,o,l,i,a]}calcLength(e,r,n,a){var i=0,s=null,o=null,l=0;switch(n){case xn.LINE_TO:return this.getLineLength(e,r,a[0],a[1]);case xn.CURVE_TO:for(i=0,s=this.getPointOnCubicBezier(0,e,r,a[0],a[1],a[2],a[3],a[4],a[5]),l=.01;l<=1;l+=.01)o=this.getPointOnCubicBezier(l,e,r,a[0],a[1],a[2],a[3],a[4],a[5]),i+=this.getLineLength(s.x,s.y,o.x,o.y),s=o;return i;case xn.QUAD_TO:for(i=0,s=this.getPointOnQuadraticBezier(0,e,r,a[0],a[1],a[2],a[3]),l=.01;l<=1;l+=.01)o=this.getPointOnQuadraticBezier(l,e,r,a[0],a[1],a[2],a[3]),i+=this.getLineLength(s.x,s.y,o.x,o.y),s=o;return i;case xn.ARC:{i=0;var u=a[4],c=a[5],d=a[4]+c,f=Math.PI/180;if(Math.abs(u-d)<f&&(f=Math.abs(u-d)),s=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],u,0),c<0)for(l=u-f;l>d;l-=f)o=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),i+=this.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=u+f;l<d;l+=f)o=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),i+=this.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],d,0),i+=this.getLineLength(s.x,s.y,o.x,o.y),i}}return 0}getPointOnLine(e,r,n,a,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:r,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:n,l=(i-n)/(a-r+L0),u=Math.sqrt(e*e/(1+l*l));a<r&&(u*=-1);var c=l*u,d=null;if(a===r)d={x:s,y:o+c};else if((o-n)/(s-r+L0)===l)d={x:s+u,y:o+c};else{var f=0,A=0,v=this.getLineLength(r,n,a,i);if(v<L0)return null;var I=(s-r)*(a-r)+(o-n)*(i-n);I/=v*v,f=r+I*(a-r),A=n+I*(i-n);var w=this.getLineLength(s,o,f,A),g=Math.sqrt(e*e-w*w);u=Math.sqrt(g*g/(1+l*l)),a<r&&(u*=-1),c=l*u,d={x:f+u,y:A+c}}return d}getPointOnPath(e){var r=this.getPathLength(),n=0,a=null;if(e<-5e-5||e-5e-5>r)return null;var{dataArray:i}=this;for(var s of i){if(s&&(s.pathLength<5e-5||n+s.pathLength+5e-5<e)){n+=s.pathLength;continue}var o=e-n,l=0;switch(s.type){case xn.LINE_TO:a=this.getPointOnLine(o,s.start.x,s.start.y,s.points[0],s.points[1],s.start.x,s.start.y);break;case xn.ARC:{var u=s.points[4],c=s.points[5],d=s.points[4]+c;if(l=u+o/s.pathLength*c,c<0&&l<d||c>=0&&l>d)break;a=this.getPointOnEllipticalArc(s.points[0],s.points[1],s.points[2],s.points[3],l,s.points[6]);break}case xn.CURVE_TO:l=o/s.pathLength,l>1&&(l=1),a=this.getPointOnCubicBezier(l,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3],s.points[4],s.points[5]);break;case xn.QUAD_TO:l=o/s.pathLength,l>1&&(l=1),a=this.getPointOnQuadraticBezier(l,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3]);break}if(a)return a;break}return null}getLineLength(e,r,n,a){return Math.sqrt((n-e)*(n-e)+(a-r)*(a-r))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((e,r)=>r.pathLength>0?e+r.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,r,n,a,i,s,o,l,u){var c=l*eM(e)+s*tM(e)+a*rM(e)+r*nM(e),d=u*eM(e)+o*tM(e)+i*rM(e)+n*nM(e);return{x:c,y:d}}getPointOnQuadraticBezier(e,r,n,a,i,s,o){var l=s*aM(e)+a*iM(e)+r*sM(e),u=o*aM(e)+i*iM(e)+n*sM(e);return{x:l,y:u}}getPointOnEllipticalArc(e,r,n,a,i,s){var o=Math.cos(s),l=Math.sin(s),u={x:n*Math.cos(i),y:a*Math.sin(i)};return{x:e+(u.x*o-u.y*l),y:r+(u.x*l+u.y*o)}}buildEquidistantCache(e,r){var n=this.getPathLength(),a=r||.25,i=e||n/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==a){this.equidistantCache={step:i,precision:a,points:[]};for(var s=0,o=0;o<=n;o+=a){var l=this.getPointOnPath(o),u=this.getPointOnPath(o+a);!l||!u||(s+=this.getLineLength(l.x,l.y,u.x,u.y),s>=i&&(this.equidistantCache.points.push({x:l.x,y:l.y,distance:o}),s-=i))}}}getEquidistantPointOnPath(e,r,n){if(this.buildEquidistantCache(r,n),e<0||e-this.getPathLength()>5e-5)return null;var a=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[a]||null}},JCe=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i,eE=class extends _f{constructor(e,r,n){super(e,r,n),this.type="image",this.loaded=!1;var a=this.getHrefAttribute().getString();if(a){var i=a.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(a);e.images.push(this),i?this.loadSvg(a):this.loadImage(a),this.isSvg=i}}loadImage(e){var r=this;return Bf(function*(){try{var n=yield r.document.createImage(e);r.image=n}catch(a){console.error('Error while loading image "'.concat(e,'":'),a)}r.loaded=!0})()}loadSvg(e){var r=this;return Bf(function*(){var n=JCe.exec(e);if(n){var a=n[5];n[4]==="base64"?r.image=atob(a):r.image=decodeURIComponent(a)}else try{var i=yield r.document.fetch(e),s=yield i.text();r.image=s}catch(o){console.error('Error while loading image "'.concat(e,'":'),o)}r.loaded=!0})()}renderChildren(e){var{document:r,image:n,loaded:a}=this,i=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y");if(!(!a||!n||!o||!l)){if(e.save(),e.translate(i,s),this.isSvg){var u=r.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:o,scaleHeight:l});u.document.documentElement.parent=this,u.render()}else{var c=this.image;r.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:o,desiredWidth:c.width,height:l,desiredHeight:c.height}),this.loaded&&(typeof c.complete>"u"||c.complete)&&e.drawImage(c,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");return new Mu(e,r,e+n,r+a)}},tE=class extends _f{constructor(){super(...arguments),this.type="symbol"}render(e){}},rE=class{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,r){var n=this;return Bf(function*(){try{var{document:a}=n,i=yield a.canvg.parser.load(r),s=i.getElementsByTagName("font");Array.from(s).forEach(o=>{var l=a.createElement(o);a.definitions[e]=l})}catch(o){console.error('Error while loading font "'.concat(r,'":'),o)}n.loaded=!0})()}},Z2=class extends Ti{constructor(e,r,n){super(e,r,n),this.type="style";var a=R0(Array.from(r.childNodes).map(s=>s.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),i=a.split("}");i.forEach(s=>{var o=s.trim();if(o){var l=o.split("{"),u=l[0].split(","),c=l[1].split(";");u.forEach(d=>{var f=d.trim();if(f){var A=e.styles[f]||{};if(c.forEach(w=>{var g=w.indexOf(":"),b=w.substr(0,g).trim(),S=w.substr(g+1,w.length-g).trim();b&&S&&(A[b]=new rn(e,b,S))}),e.styles[f]=A,e.stylesSpecificity[f]=Mee(f),f==="@font-face"){var v=A["font-family"].getString().replace(/"|'/g,""),I=A.src.getString().split(",");I.forEach(w=>{if(w.indexOf('format("svg")')>0){var g=cM(w);g&&new rE(e).load(v,g)}})}}})}})}};Z2.parseExternalUrl=cM;nE=class extends _f{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var r=this.getAttribute("x"),n=this.getAttribute("y");r.hasValue()&&e.translate(r.getPixels("x"),0),n.hasValue()&&e.translate(0,n.getPixels("y"))}path(e){var{element:r}=this;r&&r.path(e)}renderChildren(e){var{document:r,element:n}=this;if(n){var a=n;if(n.type==="symbol"&&(a=new Cm(r,null),a.attributes.viewBox=new rn(r,"viewBox",n.getAttribute("viewBox").getString()),a.attributes.preserveAspectRatio=new rn(r,"preserveAspectRatio",n.getAttribute("preserveAspectRatio").getString()),a.attributes.overflow=new rn(r,"overflow",n.getAttribute("overflow").getString()),a.children=n.children,n.styles.opacity=new rn(r,"opacity",this.calculateOpacity())),a.type==="svg"){var i=this.getStyle("width",!1,!0),s=this.getStyle("height",!1,!0);i.hasValue()&&(a.attributes.width=new rn(r,"width",i.getString())),s.hasValue()&&(a.attributes.height=new rn(r,"height",s.getString()))}var o=a.parent;a.parent=this,a.render(e),a.parent=o}}getBoundingBox(e){var{element:r}=this;return r?r.getBoundingBox(e):null}elementTransform(){var{document:e,element:r}=this;return k0.fromElement(e,r)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}};eC=class extends Ti{constructor(e,r,n){super(e,r,n),this.type="feColorMatrix";var a=Du(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var i=a[0];a=[.213+.787*i,.715-.715*i,.072-.072*i,0,0,.213-.213*i,.715+.285*i,.072-.072*i,0,0,.213-.213*i,.715-.715*i,.072+.928*i,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var s=a[0]*Math.PI/180;a=[Qh(s,.213,.787,-.213),Qh(s,.715,-.715,-.715),Qh(s,.072,-.072,.928),0,0,Qh(s,.213,-.213,.143),Qh(s,.715,.285,.14),Qh(s,.072,-.072,-.283),0,0,Qh(s,.213,-.213,-.787),Qh(s,.715,-.715,.715),Qh(s,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=a,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,r,n,a,i){for(var{includeOpacity:s,matrix:o}=this,l=e.getImageData(0,0,a,i),u=0;u<i;u++)for(var c=0;c<a;c++){var d=C_(l.data,c,u,a,i,0),f=C_(l.data,c,u,a,i,1),A=C_(l.data,c,u,a,i,2),v=C_(l.data,c,u,a,i,3),I=Zs(o,0,d)+Zs(o,1,f)+Zs(o,2,A)+Zs(o,3,v)+Zs(o,4,1),w=Zs(o,5,d)+Zs(o,6,f)+Zs(o,7,A)+Zs(o,8,v)+Zs(o,9,1),g=Zs(o,10,d)+Zs(o,11,f)+Zs(o,12,A)+Zs(o,13,v)+Zs(o,14,1),b=Zs(o,15,d)+Zs(o,16,f)+Zs(o,17,A)+Zs(o,18,v)+Zs(o,19,1);s&&(I=0,w=0,g=0,b*=v/255),I_(l.data,c,u,a,i,0,I),I_(l.data,c,u,a,i,1,w),I_(l.data,c,u,a,i,2,g),I_(l.data,c,u,a,i,3,b)}e.clearRect(0,0,a,i),e.putImageData(l,0,0)}},tC=class t extends Ti{constructor(){super(...arguments),this.type="mask"}apply(e,r){var{document:n}=this,a=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(!s&&!o){var l=new Mu;this.children.forEach(v=>{l.addBoundingBox(v.getBoundingBox(e))}),a=Math.floor(l.x1),i=Math.floor(l.y1),s=Math.floor(l.width),o=Math.floor(l.height)}var u=this.removeStyles(r,t.ignoreStyles),c=n.createCanvas(a+s,i+o),d=c.getContext("2d");n.screen.setDefaults(d),this.renderChildren(d),new eC(n,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(d,0,0,a+s,i+o);var f=n.createCanvas(a+s,i+o),A=f.getContext("2d");n.screen.setDefaults(A),r.render(A),A.globalCompositeOperation="destination-in",A.fillStyle=d.createPattern(c,"no-repeat"),A.fillRect(0,0,a+s,i+o),e.fillStyle=A.createPattern(f,"no-repeat"),e.fillRect(0,0,a+s,i+o),this.restoreStyles(r,u)}render(e){}};tC.ignoreStyles=["mask","transform","clip-path"];Lee=()=>{},aE=class extends Ti{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:r}=this,n=Reflect.getPrototypeOf(e),{beginPath:a,closePath:i}=e;n&&(n.beginPath=Lee,n.closePath=Lee),Reflect.apply(a,e,[]),this.children.forEach(s=>{if(!(typeof s.path>"u")){var o=typeof s.elementTransform<"u"?s.elementTransform():null;o||(o=k0.fromElement(r,s)),o&&o.apply(e),s.path(e),n&&(n.closePath=i),o&&o.unapply(e)}}),Reflect.apply(i,e,[]),e.clip(),n&&(n.beginPath=a,n.closePath=i)}render(e){}},rC=class t extends Ti{constructor(){super(...arguments),this.type="filter"}apply(e,r){var{document:n,children:a}=this,i=r.getBoundingBox(e);if(i){var s=0,o=0;a.forEach(g=>{var b=g.extraFilterDistance||0;s=Math.max(s,b),o=Math.max(o,b)});var l=Math.floor(i.width),u=Math.floor(i.height),c=l+2*s,d=u+2*o;if(!(c<1||d<1)){var f=Math.floor(i.x),A=Math.floor(i.y),v=this.removeStyles(r,t.ignoreStyles),I=n.createCanvas(c,d),w=I.getContext("2d");n.screen.setDefaults(w),w.translate(-f+s,-A+o),r.render(w),a.forEach(g=>{typeof g.apply=="function"&&g.apply(w,0,0,c,d)}),e.drawImage(I,0,0,c,d,f-s,A-o,c,d),this.restoreStyles(r,v)}}}render(e){}};rC.ignoreStyles=["filter","transform","clip-path"];iE=class extends Ti{constructor(e,r,n){super(e,r,n),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,r,n,a,i){}},sE=class extends Ti{constructor(){super(...arguments),this.type="feMorphology"}apply(e,r,n,a,i){}},oE=class extends Ti{constructor(){super(...arguments),this.type="feComposite"}apply(e,r,n,a,i){}},lE=class extends Ti{constructor(e,r,n){super(e,r,n),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,r,n,a,i){var{document:s,blurRadius:o}=this,l=s.window?s.window.document.body:null,u=e.canvas;u.id=s.getUniqueId(),l&&(u.style.display="none",l.appendChild(u)),_ee(u,r,n,a,i,o),l&&l.removeChild(u)}},uE=class extends Ti{constructor(){super(...arguments),this.type="title"}},cE=class extends Ti{constructor(){super(...arguments),this.type="desc"}},ZCe={svg:Cm,rect:Y2,circle:U_,ellipse:D_,line:M_,polyline:X2,polygon:O_,path:_s,pattern:Q_,marker:H_,defs:V_,linearGradient:q_,radialGradient:z_,stop:j_,animate:W1,animateColor:K_,animateTransform:G_,font:W_,"font-face":$_,"missing-glyph":Y_,glyph:W2,text:xm,tspan:$2,tref:X_,a:J_,textPath:Z_,image:eE,g:G1,symbol:tE,style:Z2,use:nE,mask:tC,clipPath:aE,filter:rC,feDropShadow:iE,feMorphology:sE,feComposite:oE,feColorMatrix:eC,feGaussianBlur:lE,title:uE,desc:cE};F0=class t{constructor(e){var{rootEmSize:r=12,emSize:n=12,createCanvas:a=t.createCanvas,createImage:i=t.createImage,anonymousCrossOrigin:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=e,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=r,this.emSize=n,this.createCanvas=a,this.createImage=this.bindCreateImage(i,s),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,r){return typeof r=="boolean"?(n,a)=>e(n,typeof a=="boolean"?a:r):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:r}=this;r.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var r=this.createElement(e.documentElement);return r.root=!0,r.addStylesFromStyleDefinition(),this.documentElement=r,r}createElement(e){var r=e.nodeName.replace(/^[^:]+:/,""),n=t.elementTypes[r];return typeof n<"u"?new n(this,e):new R_(this,e)}createTextNode(e){return new oM(this,e)}setViewBox(e){this.screen.setViewBox(eIe({document:this},e))}};F0.createCanvas=tIe;F0.createImage=rIe;F0.elementTypes=ZCe;uM=class t{constructor(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new K1(n),this.screen=new P0(e,n),this.options=n;var a=new F0(this,n),i=a.createDocumentElement(r);this.document=a,this.documentElement=i}static from(e,r){var n=arguments;return Bf(function*(){var a=n.length>2&&n[2]!==void 0?n[2]:{},i=new K1(a),s=yield i.parse(r);return new t(e,s,a)})()}static fromString(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=new K1(n),i=a.parseFromString(r);return new t(e,i,n)}fork(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.from(e,r,T0(T0({},this.options),n))}forkString(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.fromString(e,r,T0(T0({},this.options),n))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,r=this;return Bf(function*(){var n=e.length>0&&e[0]!==void 0?e[0]:{};r.start(T0({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},n)),yield r.ready(),r.stop()})()}start(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:r,screen:n,options:a}=this;n.start(r,T0(T0({enableRedraw:!0},a),e))}stop(){this.screen.stop()}resize(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,r,n)}}});var NM={};oI(NM,{AcroForm:()=>gIe,AcroFormAppearance:()=>Fr,AcroFormButton:()=>Co,AcroFormCheckBox:()=>sC,AcroFormChoiceField:()=>M0,AcroFormComboBox:()=>Q0,AcroFormEditBox:()=>aC,AcroFormListBox:()=>O0,AcroFormPasswordField:()=>oC,AcroFormPushButton:()=>iC,AcroFormRadioButton:()=>H0,AcroFormTextField:()=>Bm,GState:()=>lC,ShadingPattern:()=>Nm,TilingPattern:()=>D0,default:()=>IM,jsPDF:()=>on});function dM(){cn.console&&typeof cn.console.log=="function"&&cn.console.log.apply(cn.console,arguments)}function AM(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){U0(n.response,e,r)},n.onerror=function(){ui.error("could not download file")},n.send()}function qee(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function dE(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}function ste(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}function fM(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Bl(r,n,a,i,e[0],7,-680876936),i=Bl(i,r,n,a,e[1],12,-389564586),a=Bl(a,i,r,n,e[2],17,606105819),n=Bl(n,a,i,r,e[3],22,-1044525330),r=Bl(r,n,a,i,e[4],7,-176418897),i=Bl(i,r,n,a,e[5],12,1200080426),a=Bl(a,i,r,n,e[6],17,-1473231341),n=Bl(n,a,i,r,e[7],22,-45705983),r=Bl(r,n,a,i,e[8],7,1770035416),i=Bl(i,r,n,a,e[9],12,-1958414417),a=Bl(a,i,r,n,e[10],17,-42063),n=Bl(n,a,i,r,e[11],22,-1990404162),r=Bl(r,n,a,i,e[12],7,1804603682),i=Bl(i,r,n,a,e[13],12,-40341101),a=Bl(a,i,r,n,e[14],17,-1502002290),r=_l(r,n=Bl(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=_l(i,r,n,a,e[6],9,-1069501632),a=_l(a,i,r,n,e[11],14,643717713),n=_l(n,a,i,r,e[0],20,-373897302),r=_l(r,n,a,i,e[5],5,-701558691),i=_l(i,r,n,a,e[10],9,38016083),a=_l(a,i,r,n,e[15],14,-660478335),n=_l(n,a,i,r,e[4],20,-405537848),r=_l(r,n,a,i,e[9],5,568446438),i=_l(i,r,n,a,e[14],9,-1019803690),a=_l(a,i,r,n,e[3],14,-187363961),n=_l(n,a,i,r,e[8],20,1163531501),r=_l(r,n,a,i,e[13],5,-1444681467),i=_l(i,r,n,a,e[2],9,-51403784),a=_l(a,i,r,n,e[7],14,1735328473),r=El(r,n=_l(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=El(i,r,n,a,e[8],11,-2022574463),a=El(a,i,r,n,e[11],16,1839030562),n=El(n,a,i,r,e[14],23,-35309556),r=El(r,n,a,i,e[1],4,-1530992060),i=El(i,r,n,a,e[4],11,1272893353),a=El(a,i,r,n,e[7],16,-155497632),n=El(n,a,i,r,e[10],23,-1094730640),r=El(r,n,a,i,e[13],4,681279174),i=El(i,r,n,a,e[0],11,-358537222),a=El(a,i,r,n,e[3],16,-722521979),n=El(n,a,i,r,e[6],23,76029189),r=El(r,n,a,i,e[9],4,-640364487),i=El(i,r,n,a,e[12],11,-421815835),a=El(a,i,r,n,e[15],16,530742520),r=Tl(r,n=El(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Tl(i,r,n,a,e[7],10,1126891415),a=Tl(a,i,r,n,e[14],15,-1416354905),n=Tl(n,a,i,r,e[5],21,-57434055),r=Tl(r,n,a,i,e[12],6,1700485571),i=Tl(i,r,n,a,e[3],10,-1894986606),a=Tl(a,i,r,n,e[10],15,-1051523),n=Tl(n,a,i,r,e[1],21,-2054922799),r=Tl(r,n,a,i,e[8],6,1873313359),i=Tl(i,r,n,a,e[15],10,-30611744),a=Tl(a,i,r,n,e[6],15,-1560198380),n=Tl(n,a,i,r,e[13],21,1309151649),r=Tl(r,n,a,i,e[4],6,-145523070),i=Tl(i,r,n,a,e[11],10,-1120210379),a=Tl(a,i,r,n,e[2],15,718787259),n=Tl(n,a,i,r,e[9],21,-343485551),t[0]=Sm(r,t[0]),t[1]=Sm(n,t[1]),t[2]=Sm(a,t[2]),t[3]=Sm(i,t[3])}function mE(t,e,r,n,a,i){return e=Sm(Sm(e,t),Sm(n,i)),Sm(e<<a|e>>>32-a,r)}function Bl(t,e,r,n,a,i,s){return mE(e&r|~e&n,t,e,a,i,s)}function _l(t,e,r,n,a,i,s){return mE(e&n|r&~n,t,e,a,i,s)}function El(t,e,r,n,a,i,s){return mE(e^r^n,t,e,a,i,s)}function Tl(t,e,r,n,a,i,s){return mE(r^(e|~n),t,e,a,i,s)}function ote(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)fM(n,nIe(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(fM(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,fM(n,a),n}function nIe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function aIe(t){for(var e="",r=0;r<4;r++)e+=zee[t>>8*r+4&15]+zee[t>>8*r&15];return e}function iIe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function yM(t){return ote(t).map(iIe).join("")}function Sm(t,e){if(sIe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function vM(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+s.charCodeAt(l))%256,o[l]=o[u],o[u]=c}r=t,n=o}else o=n;var d=e.length,f=0,A=0,v="";for(l=0;l<d;l++)A=(A+(c=o[f=(f+1)%256]))%256,o[f]=o[A],o[A]=c,s=o[(o[f]+o[A])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}function X1(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach((function(o){if(jee.perm!==void 0)throw new Error("Invalid permission: "+o);a+=jee[o]})),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=yM(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=vM(this.encryptionKey,this.padding)}function J1(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function Kee(t){if(Aa(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(o){cn.console&&ui.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function lC(t){if(!(this instanceof lC))return new lC(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function lte(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Nm(t,e,r,n,a){if(!(this instanceof Nm))return new Nm(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,lte.call(this,n,a)}function D0(t,e,r,n,a){if(!(this instanceof D0))return new D0(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,lte.call(this,n,a)}function on(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,u="S",c=null;Aa(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},A={internal:{},__private__:{}};A.__private__.PubSub=Kee;var v="1.3",I=A.__private__.getPdfVersion=function(){return v};A.__private__.setPdfVersion=function(P){v=P};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return w};var g=A.__private__.getPageFormat=function(P){return w[P]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function F(){this.saveGraphicsState(),Ae(new fr(Nt,0,0,-Nt,0,ul()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),u="n",S=b.ADVANCED}function O(){this.restoreGraphicsState(),u="S",S=b.COMPAT}var R=A.__private__.combineFontStyleAndFontWeight=function(P,Z){if(P=="bold"&&Z=="normal"||P=="bold"&&Z==400||P=="normal"&&Z=="italic"||P=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(P=Z==400||Z==="normal"?P==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||P!=="normal"?(Z==700?"bold":Z)+""+P:"bold"),P};A.advancedAPI=function(P){var Z=S===b.COMPAT;return Z&&F.call(this),typeof P!="function"||(P(this),Z&&O.call(this)),this},A.compatAPI=function(P){var Z=S===b.ADVANCED;return Z&&O.call(this),typeof P!="function"||(P(this),Z&&F.call(this)),this},A.isAdvancedAPI=function(){return S===b.ADVANCED};var T,B=function(P){if(S!==b.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=A.roundToPrecision=A.__private__.roundToPrecision=function(P,Z){var ve=e||Z;if(isNaN(P)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ve).replace(/0+$/,"")};T=A.hpf=A.__private__.hpf=typeof l=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return k(P,l)}:l==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return k(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return k(P,16)};var U=A.f2=A.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return k(P,2)},E=A.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return k(P,3)},_=A.scale=A.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?P*Nt:S===b.ADVANCED?P:void 0},L=function(P){return S===b.COMPAT?ul()-P:S===b.ADVANCED?P:void 0},D=function(P){return _(L(P))};A.__private__.setPrecision=A.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var z,ee="00000000000000000000000000000000",Y=A.__private__.getFileId=function(){return ee},$=A.__private__.setFileId=function(P){return ee=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():ee.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),c!==null&&(fi=new X1(c.userPermissions,c.userPassword,c.ownerPassword,ee)),ee};A.setFileId=function(P){return $(P),this},A.getFileId=function(){return Y()};var j=A.__private__.convertDateToPDFDate=function(P){var Z=P.getTimezoneOffset(),ve=Z<0?"+":"-",Be=Math.floor(Math.abs(Z/60)),Ke=Math.abs(Z%60),at=[ve,te(Be),"'",te(Ke),"'"].join("");return["D:",P.getFullYear(),te(P.getMonth()+1),te(P.getDate()),te(P.getHours()),te(P.getMinutes()),te(P.getSeconds()),at].join("")},K=A.__private__.convertPDFDateToDate=function(P){var Z=parseInt(P.substr(2,4),10),ve=parseInt(P.substr(6,2),10)-1,Be=parseInt(P.substr(8,2),10),Ke=parseInt(P.substr(10,2),10),at=parseInt(P.substr(12,2),10),Ut=parseInt(P.substr(14,2),10);return new Date(Z,ve,Be,Ke,at,Ut,0)},oe=A.__private__.setCreationDate=function(P){var Z;if(P===void 0&&(P=new Date),P instanceof Date)Z=j(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=P}return z=Z},q=A.__private__.getCreationDate=function(P){var Z=z;return P==="jsDate"&&(Z=K(z)),Z};A.setCreationDate=function(P){return oe(P),this},A.getCreationDate=function(P){return q(P)};var X,te=A.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},ue=A.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},be=0,ge=[],Ne=[],Le=0,Ie=[],de=[],xe=!1,qe=Ne,wt=function(){be=0,Le=0,Ne=[],ge=[],Ie=[],ri=ln(),Pi=ln()};A.__private__.setCustomOutputDestination=function(P){xe=!0,qe=P};var Re=function(P){xe||(qe=P)};A.__private__.resetCustomOutputDestination=function(){xe=!1,qe=Ne};var Ae=A.__private__.out=function(P){return P=P.toString(),Le+=P.length+1,qe.push(P),qe},Kt=A.__private__.write=function(P){return Ae(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},zt=A.__private__.getArrayBuffer=function(P){for(var Z=P.length,ve=new ArrayBuffer(Z),Be=new Uint8Array(ve);Z--;)Be[Z]=P.charCodeAt(Z);return ve},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return pt};var Oe=t.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(P){return Oe=S===b.ADVANCED?P/Nt:P,this};var me,Ue=A.__private__.getFontSize=A.getFontSize=function(){return S===b.COMPAT?Oe:Oe*Nt},it=t.R2L||!1;A.__private__.setR2L=A.setR2L=function(P){return it=P,this},A.__private__.getR2L=A.getR2L=function(){return it};var At,ct=A.__private__.setZoomMode=function(P){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))me=P;else if(isNaN(P)){if(Z.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');me=P}else me=parseInt(P,10)};A.__private__.getZoomMode=function(){return me};var Tt,Ot=A.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');At=P};A.__private__.getPageMode=function(){return At};var vr=A.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Tt=P};A.__private__.getLayoutMode=function(){return Tt},A.__private__.setDisplayMode=A.setDisplayMode=function(P,Z,ve){return ct(P),vr(Z),Ot(ve),this};var rr={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(P){if(Object.keys(rr).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rr[P]},A.__private__.getDocumentProperties=function(){return rr},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(P){for(var Z in rr)rr.hasOwnProperty(Z)&&P[Z]&&(rr[Z]=P[Z]);return this},A.__private__.setDocumentProperty=function(P,Z){if(Object.keys(rr).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rr[P]=Z};var Er,Nt,gn,dt,Wt,Qe={},tt={},rt=[],Ct={},Nr={},nr={},jr={},Zt=null,en=0,Yt=[],Sr=new Kee(A),Qr=t.hotfixes||[],Yr={},yn={},ra=[],fr=function P(Z,ve,Be,Ke,at,Ut){if(!(this instanceof P))return new P(Z,ve,Be,Ke,at,Ut);isNaN(Z)&&(Z=1),isNaN(ve)&&(ve=0),isNaN(Be)&&(Be=0),isNaN(Ke)&&(Ke=1),isNaN(at)&&(at=0),isNaN(Ut)&&(Ut=0),this._matrix=[Z,ve,Be,Ke,at,Ut]};Object.defineProperty(fr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(fr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(fr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(fr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(fr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(fr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(fr.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(fr.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(fr.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(fr.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(fr.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(fr.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(fr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(fr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(fr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(fr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),fr.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(P)},fr.prototype.multiply=function(P){var Z=P.sx*this.sx+P.shy*this.shx,ve=P.sx*this.shy+P.shy*this.sy,Be=P.shx*this.sx+P.sy*this.shx,Ke=P.shx*this.shy+P.sy*this.sy,at=P.tx*this.sx+P.ty*this.shx+this.tx,Ut=P.tx*this.shy+P.ty*this.sy+this.ty;return new fr(Z,ve,Be,Ke,at,Ut)},fr.prototype.decompose=function(){var P=this.sx,Z=this.shy,ve=this.shx,Be=this.sy,Ke=this.tx,at=this.ty,Ut=Math.sqrt(P*P+Z*Z),ar=(P/=Ut)*ve+(Z/=Ut)*Be;ve-=P*ar,Be-=Z*ar;var Ur=Math.sqrt(ve*ve+Be*Be);return ar/=Ur,P*(Be/=Ur)<Z*(ve/=Ur)&&(P=-P,Z=-Z,ar=-ar,Ut=-Ut),{scale:new fr(Ut,0,0,Ur,0,0),translate:new fr(1,0,0,1,Ke,at),rotate:new fr(P,Z,-Z,P,0,0),skew:new fr(1,0,ar,1,0,0)}},fr.prototype.toString=function(P){return this.join(" ")},fr.prototype.inversed=function(){var P=this.sx,Z=this.shy,ve=this.shx,Be=this.sy,Ke=this.tx,at=this.ty,Ut=1/(P*Be-Z*ve),ar=Be*Ut,Ur=-Z*Ut,m=-ve*Ut,Q=P*Ut;return new fr(ar,Ur,m,Q,-ar*Ke-m*at,-Ur*Ke-Q*at)},fr.prototype.applyToPoint=function(P){var Z=P.x*this.sx+P.y*this.shx+this.tx,ve=P.x*this.shy+P.y*this.sy+this.ty;return new pu(Z,ve)},fr.prototype.applyToRectangle=function(P){var Z=this.applyToPoint(P),ve=this.applyToPoint(new pu(P.x+P.w,P.y+P.h));return new TA(Z.x,Z.y,ve.x-Z.x,ve.y-Z.y)},fr.prototype.clone=function(){var P=this.sx,Z=this.shy,ve=this.shx,Be=this.sy,Ke=this.tx,at=this.ty;return new fr(P,Z,ve,Be,Ke,at)},A.Matrix=fr;var Kr=A.matrixMult=function(P,Z){return Z.multiply(P)},xr=new fr(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=xr;var fn=function(P,Z){if(!Nr[P]){var ve=(Z instanceof Nm?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);Z.id=ve,Nr[P]=ve,Ct[ve]=Z,Sr.publish("addPattern",Z)}};A.ShadingPattern=Nm,A.TilingPattern=D0,A.addShadingPattern=function(P,Z){return B("addShadingPattern()"),fn(P,Z),this},A.beginTilingPattern=function(P){B("beginTilingPattern()"),PA(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},A.endTilingPattern=function(P,Z){B("endTilingPattern()"),Z.stream=de[X].join(`
`),fn(P,Z),Sr.publish("endTilingPattern",Z),ra.pop().restore()};var Jr=A.__private__.newObject=function(){var P=ln();return ma(P,!0),P},ln=A.__private__.newObjectDeferred=function(){return be++,ge[be]=function(){return Le},be},ma=function(P,Z){return Z=typeof Z=="boolean"&&Z,ge[P]=Le,Z&&Ae(P+" 0 obj"),P},Ia=A.__private__.newAdditionalObject=function(){var P={objId:ln(),content:""};return Ie.push(P),P},ri=ln(),Pi=ln(),na=A.__private__.decodeColorString=function(P){var Z=P.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var ve=parseFloat(Z[0]);Z=[ve,ve,ve,"r"]}for(var Be="#",Ke=0;Ke<3;Ke++)Be+=("0"+Math.floor(255*parseFloat(Z[Ke])).toString(16)).slice(-2);return Be},ki=A.__private__.encodeColorString=function(P){var Z;typeof P=="string"&&(P={ch1:P});var ve=P.ch1,Be=P.ch2,Ke=P.ch3,at=P.ch4,Ut=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var ar=new ste(ve);if(ar.ok)ve=ar.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var Ur=parseInt(ve.substr(1),16);ve=Ur>>16&255,Be=Ur>>8&255,Ke=255&Ur}if(Be===void 0||at===void 0&&ve===Be&&Be===Ke)if(typeof ve=="string")Z=ve+" "+Ut[0];else switch(P.precision){case 2:Z=U(ve/255)+" "+Ut[0];break;case 3:default:Z=E(ve/255)+" "+Ut[0]}else if(at===void 0||Aa(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return Z=["1.","1.","1.",Ut[1]].join(" ");if(typeof ve=="string")Z=[ve,Be,Ke,Ut[1]].join(" ");else switch(P.precision){case 2:Z=[U(ve/255),U(Be/255),U(Ke/255),Ut[1]].join(" ");break;default:case 3:Z=[E(ve/255),E(Be/255),E(Ke/255),Ut[1]].join(" ")}}else if(typeof ve=="string")Z=[ve,Be,Ke,at,Ut[2]].join(" ");else switch(P.precision){case 2:Z=[U(ve),U(Be),U(Ke),U(at),Ut[2]].join(" ");break;case 3:default:Z=[E(ve),E(Be),E(Ke),E(at),Ut[2]].join(" ")}return Z},ps=A.__private__.getFilters=function(){return s},ni=A.__private__.putStream=function(P){var Z=(P=P||{}).data||"",ve=P.filters||ps(),Be=P.alreadyAppliedFilters||[],Ke=P.addLength1||!1,at=Z.length,Ut=P.objectId,ar=function(Dt){return Dt};if(c!==null&&Ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ar=fi.encryptor(Ut,0));var Ur={};ve===!0&&(ve=["FlateEncode"]);var m=P.additionalKeyValues||[],Q=(Ur=on.API.processDataByFilters!==void 0?on.API.processDataByFilters(Z,ve):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(Ur.data.length!==0&&(m.push({key:"Length",value:Ur.data.length}),Ke===!0&&m.push({key:"Length1",value:at})),Q.length!=0)if(Q.split("/").length-1==1)m.push({key:"Filter",value:Q});else{m.push({key:"Filter",value:"["+Q+"]"});for(var G=0;G<m.length;G+=1)if(m[G].key==="DecodeParms"){for(var ae=[],De=0;De<Ur.reverseChain.split("/").length-1;De+=1)ae.push("null");ae.push(m[G].value),m[G].value="["+ae.join(" ")+"]"}}Ae("<<");for(var $e=0;$e<m.length;$e++)Ae("/"+m[$e].key+" "+m[$e].value);Ae(">>"),Ur.data.length!==0&&(Ae("stream"),Ae(ar(Ur.data)),Ae("endstream"))},za=A.__private__.putPage=function(P){var Z=P.number,ve=P.data,Be=P.objId,Ke=P.contentsObjId;ma(Be,!0),Ae("<</Type /Page"),Ae("/Parent "+P.rootDictionaryObjId+" 0 R"),Ae("/Resources "+P.resourceDictionaryObjId+" 0 R"),Ae("/MediaBox ["+parseFloat(T(P.mediaBox.bottomLeftX))+" "+parseFloat(T(P.mediaBox.bottomLeftY))+" "+T(P.mediaBox.topRightX)+" "+T(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&Ae("/CropBox ["+T(P.cropBox.bottomLeftX)+" "+T(P.cropBox.bottomLeftY)+" "+T(P.cropBox.topRightX)+" "+T(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&Ae("/BleedBox ["+T(P.bleedBox.bottomLeftX)+" "+T(P.bleedBox.bottomLeftY)+" "+T(P.bleedBox.topRightX)+" "+T(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&Ae("/TrimBox ["+T(P.trimBox.bottomLeftX)+" "+T(P.trimBox.bottomLeftY)+" "+T(P.trimBox.topRightX)+" "+T(P.trimBox.topRightY)+"]"),P.artBox!==null&&Ae("/ArtBox ["+T(P.artBox.bottomLeftX)+" "+T(P.artBox.bottomLeftY)+" "+T(P.artBox.topRightX)+" "+T(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&Ae("/UserUnit "+P.userUnit),Sr.publish("putPage",{objId:Be,pageContext:Yt[Z],pageNumber:Z,page:ve}),Ae("/Contents "+Ke+" 0 R"),Ae(">>"),Ae("endobj");var at=ve.join(`
`);return S===b.ADVANCED&&(at+=`
Q`),ma(Ke,!0),ni({data:at,filters:ps(),objectId:Ke}),Ae("endobj"),Be},Do=A.__private__.putPages=function(){var P,Z,ve=[];for(P=1;P<=en;P++)Yt[P].objId=ln(),Yt[P].contentsObjId=ln();for(P=1;P<=en;P++)ve.push(za({number:P,data:de[P],objId:Yt[P].objId,contentsObjId:Yt[P].contentsObjId,mediaBox:Yt[P].mediaBox,cropBox:Yt[P].cropBox,bleedBox:Yt[P].bleedBox,trimBox:Yt[P].trimBox,artBox:Yt[P].artBox,userUnit:Yt[P].userUnit,rootDictionaryObjId:ri,resourceDictionaryObjId:Pi}));ma(ri,!0),Ae("<</Type /Pages");var Be="/Kids [";for(Z=0;Z<en;Z++)Be+=ve[Z]+" 0 R ";Ae(Be+"]"),Ae("/Count "+en),Ae(">>"),Ae("endobj"),Sr.publish("postPutPages")},Cr=function(P){Sr.publish("putFont",{font:P,out:Ae,newObject:Jr,putStream:ni}),P.isAlreadyPutted!==!0&&(P.objectNumber=Jr(),Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+J1(P.postScriptName)),Ae("/Subtype /Type1"),typeof P.encoding=="string"&&Ae("/Encoding /"+P.encoding),Ae("/FirstChar 32"),Ae("/LastChar 255"),Ae(">>"),Ae("endobj"))},Se=function(){for(var P in Qe)Qe.hasOwnProperty(P)&&(d===!1||d===!0&&f.hasOwnProperty(P))&&Cr(Qe[P])},St=function(P){P.objectNumber=Jr();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[T(P.x),T(P.y),T(P.x+P.width),T(P.y+P.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ve=P.pages[1].join(`
`);ni({data:ve,additionalKeyValues:Z,objectId:P.objectNumber}),Ae("endobj")},lr=function(){for(var P in Yr)Yr.hasOwnProperty(P)&&St(Yr[P])},vn=function(P,Z){var ve,Be=[],Ke=1/(Z-1);for(ve=0;ve<1;ve+=Ke)Be.push(ve);if(Be.push(1),P[0].offset!=0){var at={offset:0,color:P[0].color};P.unshift(at)}if(P[P.length-1].offset!=1){var Ut={offset:1,color:P[P.length-1].color};P.push(Ut)}for(var ar="",Ur=0,m=0;m<Be.length;m++){for(ve=Be[m];ve>P[Ur+1].offset;)Ur++;var Q=P[Ur].offset,G=(ve-Q)/(P[Ur+1].offset-Q),ae=P[Ur].color,De=P[Ur+1].color;ar+=ue(Math.round((1-G)*ae[0]+G*De[0]).toString(16))+ue(Math.round((1-G)*ae[1]+G*De[1]).toString(16))+ue(Math.round((1-G)*ae[2]+G*De[2]).toString(16))}return ar.trim()},La=function(P,Z){Z||(Z=21);var ve=Jr(),Be=vn(P.colors,Z),Ke=[];Ke.push({key:"FunctionType",value:"0"}),Ke.push({key:"Domain",value:"[0.0 1.0]"}),Ke.push({key:"Size",value:"["+Z+"]"}),Ke.push({key:"BitsPerSample",value:"8"}),Ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ni({data:Be,additionalKeyValues:Ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),Ae("endobj"),P.objectNumber=Jr(),Ae("<< /ShadingType "+P.type),Ae("/ColorSpace /DeviceRGB");var at="/Coords ["+T(parseFloat(P.coords[0]))+" "+T(parseFloat(P.coords[1]))+" ";P.type===2?at+=T(parseFloat(P.coords[2]))+" "+T(parseFloat(P.coords[3])):at+=T(parseFloat(P.coords[2]))+" "+T(parseFloat(P.coords[3]))+" "+T(parseFloat(P.coords[4]))+" "+T(parseFloat(P.coords[5])),Ae(at+="]"),P.matrix&&Ae("/Matrix ["+P.matrix.toString()+"]"),Ae("/Function "+ve+" 0 R"),Ae("/Extend [true true]"),Ae(">>"),Ae("endobj")},Yn=function(P,Z){var ve=ln(),Be=Jr();Z.push({resourcesOid:ve,objectOid:Be}),P.objectNumber=Be;var Ke=[];Ke.push({key:"Type",value:"/Pattern"}),Ke.push({key:"PatternType",value:"1"}),Ke.push({key:"PaintType",value:"1"}),Ke.push({key:"TilingType",value:"1"}),Ke.push({key:"BBox",value:"["+P.boundingBox.map(T).join(" ")+"]"}),Ke.push({key:"XStep",value:T(P.xStep)}),Ke.push({key:"YStep",value:T(P.yStep)}),Ke.push({key:"Resources",value:ve+" 0 R"}),P.matrix&&Ke.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),ni({data:P.stream,additionalKeyValues:Ke,objectId:P.objectNumber}),Ae("endobj")},Na=function(P){var Z;for(Z in Ct)Ct.hasOwnProperty(Z)&&(Ct[Z]instanceof Nm?La(Ct[Z]):Ct[Z]instanceof D0&&Yn(Ct[Z],P))},qi=function(P){for(var Z in P.objectNumber=Jr(),Ae("<<"),P)switch(Z){case"opacity":Ae("/ca "+U(P[Z]));break;case"stroke-opacity":Ae("/CA "+U(P[Z]))}Ae(">>"),Ae("endobj")},Fi=function(){var P;for(P in nr)nr.hasOwnProperty(P)&&qi(nr[P])},as=function(){for(var P in Ae("/XObject <<"),Yr)Yr.hasOwnProperty(P)&&Yr[P].objectNumber>=0&&Ae("/"+P+" "+Yr[P].objectNumber+" 0 R");Sr.publish("putXobjectDict"),Ae(">>")},Pa=function(){fi.oid=Jr(),Ae("<<"),Ae("/Filter /Standard"),Ae("/V "+fi.v),Ae("/R "+fi.r),Ae("/U <"+fi.toHexString(fi.U)+">"),Ae("/O <"+fi.toHexString(fi.O)+">"),Ae("/P "+fi.P),Ae(">>"),Ae("endobj")},il=function(){for(var P in Ae("/Font <<"),Qe)Qe.hasOwnProperty(P)&&(d===!1||d===!0&&f.hasOwnProperty(P))&&Ae("/"+P+" "+Qe[P].objectNumber+" 0 R");Ae(">>")},Mo=function(){if(Object.keys(Ct).length>0){for(var P in Ae("/Shading <<"),Ct)Ct.hasOwnProperty(P)&&Ct[P]instanceof Nm&&Ct[P].objectNumber>=0&&Ae("/"+P+" "+Ct[P].objectNumber+" 0 R");Sr.publish("putShadingPatternDict"),Ae(">>")}},$u=function(P){if(Object.keys(Ct).length>0){for(var Z in Ae("/Pattern <<"),Ct)Ct.hasOwnProperty(Z)&&Ct[Z]instanceof A.TilingPattern&&Ct[Z].objectNumber>=0&&Ct[Z].objectNumber<P&&Ae("/"+Z+" "+Ct[Z].objectNumber+" 0 R");Sr.publish("putTilingPatternDict"),Ae(">>")}},md=function(){if(Object.keys(nr).length>0){var P;for(P in Ae("/ExtGState <<"),nr)nr.hasOwnProperty(P)&&nr[P].objectNumber>=0&&Ae("/"+P+" "+nr[P].objectNumber+" 0 R");Sr.publish("putGStateDict"),Ae(">>")}},Ma=function(P){ma(P.resourcesOid,!0),Ae("<<"),Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),il(),Mo(),$u(P.objectOid),md(),as(),Ae(">>"),Ae("endobj")},Ul=function(){var P=[];Se(),Fi(),lr(),Na(P),Sr.publish("putResources"),P.forEach(Ma),Ma({resourcesOid:Pi,objectOid:Number.MAX_SAFE_INTEGER}),Sr.publish("postPutResources")},fu=function(){Sr.publish("putAdditionalObjects");for(var P=0;P<Ie.length;P++){var Z=Ie[P];ma(Z.objId,!0),Ae(Z.content),Ae("endobj")}Sr.publish("postPutAdditionalObjects")},Dl=function(P){tt[P.fontName]=tt[P.fontName]||{},tt[P.fontName][P.fontStyle]=P.id},Ec=function(P,Z,ve,Be,Ke){var at={id:"F"+(Object.keys(Qe).length+1).toString(10),postScriptName:P,fontName:Z,fontStyle:ve,encoding:Be,isStandardFont:Ke||!1,metadata:{}};return Sr.publish("addFont",{font:at,instance:this}),Qe[at.id]=at,Dl(at),at.id},zi=function(P){for(var Z=0,ve=pt.length;Z<ve;Z++){var Be=Ec.call(this,P[Z][0],P[Z][1],P[Z][2],pt[Z][3],!0);d===!1&&(f[Be]=!0);var Ke=P[Z][0].split("-");Dl({id:Be,fontName:Ke[0],fontStyle:Ke[1]||""})}Sr.publish("addFonts",{fonts:Qe,dictionary:tt})},Io=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(Be){var Z=Be.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var ve="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+Be.message;if(!cn.console)throw new Error(ve);cn.console.error(ve,Be),cn.alert&&alert(ve)}},P.foo.bar=P,P.foo},Yu=function(P,Z){var ve,Be,Ke,at,Ut,ar,Ur,m,Q;if(Ke=(Z=Z||{}).sourceEncoding||"Unicode",Ut=Z.outputEncoding,(Z.autoencode||Ut)&&Qe[Er].metadata&&Qe[Er].metadata[Ke]&&Qe[Er].metadata[Ke].encoding&&(at=Qe[Er].metadata[Ke].encoding,!Ut&&Qe[Er].encoding&&(Ut=Qe[Er].encoding),!Ut&&at.codePages&&(Ut=at.codePages[0]),typeof Ut=="string"&&(Ut=at[Ut]),Ut)){for(Ur=!1,ar=[],ve=0,Be=P.length;ve<Be;ve++)(m=Ut[P.charCodeAt(ve)])?ar.push(String.fromCharCode(m)):ar.push(P[ve]),ar[ve].charCodeAt(0)>>8&&(Ur=!0);P=ar.join("")}for(ve=P.length;Ur===void 0&&ve!==0;)P.charCodeAt(ve-1)>>8&&(Ur=!0),ve--;if(!Ur)return P;for(ar=Z.noBOM?[]:[254,255],ve=0,Be=P.length;ve<Be;ve++){if((Q=(m=P.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ar.push(Q),ar.push(m-(Q<<8))}return String.fromCharCode.apply(void 0,ar)},Ps=A.__private__.pdfEscape=A.pdfEscape=function(P,Z){return Yu(P,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oo=A.__private__.beginPage=function(P){de[++en]=[],Yt[en]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},jt(en),Re(de[X])},Jn=function(P,Z){var ve,Be,Ke;switch(r=Z||r,typeof P=="string"&&(ve=g(P.toLowerCase()),Array.isArray(ve)&&(Be=ve[0],Ke=ve[1])),Array.isArray(P)&&(Be=P[0]*Nt,Ke=P[1]*Nt),isNaN(Be)&&(Be=a[0],Ke=a[1]),(Be>14400||Ke>14400)&&(ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Ke=Math.min(14400,Ke)),a=[Be,Ke],r.substr(0,1)){case"l":Ke>Be&&(a=[Ke,Be]);break;case"p":Be>Ke&&(a=[Ke,Be])}Oo(a),EA(Sa),Ae(ll),Uc!==0&&Ae(Uc+" J"),Of!==0&&Ae(Of+" j"),Sr.publish("addPage",{pageNumber:en})},kt=function(P){P>0&&P<=en&&(de.splice(P,1),Yt.splice(P,1),en--,X>en&&(X=en),this.setPage(X))},jt=function(P){P>0&&P<=en&&(X=P)},Xr=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return de.length-1},Wr=function(P,Z,ve){var Be,Ke=void 0;return ve=ve||{},P=P!==void 0?P:Qe[Er].fontName,Z=Z!==void 0?Z:Qe[Er].fontStyle,Be=P.toLowerCase(),tt[Be]!==void 0&&tt[Be][Z]!==void 0?Ke=tt[Be][Z]:tt[P]!==void 0&&tt[P][Z]!==void 0?Ke=tt[P][Z]:ve.disableWarning===!1&&ui.warn("Unable to look up font label for font '"+P+"', '"+Z+"'. Refer to getFontList() for available fonts."),Ke||ve.noFallback||(Ke=tt.times[Z])==null&&(Ke=tt.times.normal),Ke},ka=A.__private__.putInfo=function(){var P=Jr(),Z=function(Be){return Be};for(var ve in c!==null&&(Z=fi.encryptor(P,0)),Ae("<<"),Ae("/Producer ("+Ps(Z("jsPDF "+on.version))+")"),rr)rr.hasOwnProperty(ve)&&rr[ve]&&Ae("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Ps(Z(rr[ve]))+")");Ae("/CreationDate ("+Ps(Z(z))+")"),Ae(">>"),Ae("endobj")},di=A.__private__.putCatalog=function(P){var Z=(P=P||{}).rootDictionaryObjId||ri;switch(Jr(),Ae("<<"),Ae("/Type /Catalog"),Ae("/Pages "+Z+" 0 R"),me||(me="fullwidth"),me){case"fullwidth":Ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ae("/OpenAction [3 0 R /Fit]");break;case"original":Ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+me;ve.substr(ve.length-1)==="%"&&(me=parseInt(me)/100),typeof me=="number"&&Ae("/OpenAction [3 0 R /XYZ null null "+U(me)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":Ae("/PageLayout /OneColumn");break;case"single":Ae("/PageLayout /SinglePage");break;case"two":case"twoleft":Ae("/PageLayout /TwoColumnLeft");break;case"tworight":Ae("/PageLayout /TwoColumnRight")}At&&Ae("/PageMode /"+At),Sr.publish("putCatalog"),Ae(">>"),Ae("endobj")},Ai=A.__private__.putTrailer=function(){Ae("trailer"),Ae("<<"),Ae("/Size "+(be+1)),Ae("/Root "+be+" 0 R"),Ae("/Info "+(be-1)+" 0 R"),c!==null&&Ae("/Encrypt "+fi.oid+" 0 R"),Ae("/ID [ <"+ee+"> <"+ee+"> ]"),Ae(">>")},ao=A.__private__.putHeader=function(){Ae("%PDF-"+v),Ae("%\xBA\xDF\xAC\xE0")},io=A.__private__.putXRef=function(){var P="0000000000";Ae("xref"),Ae("0 "+(be+1)),Ae("0000000000 65535 f ");for(var Z=1;Z<=be;Z++)typeof ge[Z]=="function"?Ae((P+ge[Z]()).slice(-10)+" 00000 n "):ge[Z]!==void 0?Ae((P+ge[Z]).slice(-10)+" 00000 n "):Ae("0000000000 00000 n ")},Qo=A.__private__.buildDocument=function(){wt(),Re(Ne),Sr.publish("buildDocument"),ao(),Do(),fu(),Ul(),c!==null&&Pa(),ka(),di();var P=Le;return io(),Ai(),Ae("startxref"),Ae(""+P),Ae("%%EOF"),Re(de[X]),Ne.join(`
`)},No=A.__private__.getBlob=function(P){return new Blob([zt(P)],{type:"application/pdf"})},Tc=A.output=A.__private__.output=Io((function(P,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",P){case void 0:return Qo();case"save":A.save(Z.filename);break;case"arraybuffer":return zt(Qo());case"blob":return No(Qo());case"bloburi":case"bloburl":if(cn.URL!==void 0&&typeof cn.URL.createObjectURL=="function")return cn.URL&&cn.URL.createObjectURL(No(Qo()))||void 0;ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Be=Qo();try{ve=gM(Be)}catch{ve=gM(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+Z.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Ke=Z.pdfObjectUrl,at="");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ke+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",ar=cn.open();return ar!==null&&ar.document.write(Ut),ar}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',m=cn.open();if(m!==null){m.document.write(Ur);var Q=this;m.document.documentElement.querySelector("#pdfViewer").onload=function(){m.document.title=Z.filename,m.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Q.output("bloburl"))}}return m}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var G='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',ae=cn.open();if(ae!==null&&(ae.document.write(G),ae.document.title=Z.filename),ae||typeof safari>"u")return ae;break;case"datauri":case"dataurl":return cn.document.location.href=this.output("datauristring",Z);default:return null}})),NA=function(P){return Array.isArray(Qr)===!0&&Qr.indexOf(P)>-1};switch(n){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=NA("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Nt=n}var fi=null;oe(),$();var ks=function(P){return c!==null?fi.encryptor(P,0):function(Z){return Z}},gd=A.__private__.getPageInfo=A.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[P].objId,pageNumber:P,pageContext:Yt[P]}},an=A.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Yt)if(Yt[Z].objId===P)break;return gd(Z)},SA=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:Yt[X].objId,pageNumber:X,pageContext:Yt[X]}};A.addPage=function(){return Jn.apply(this,arguments),this},A.setPage=function(){return jt.apply(this,arguments),Re.call(this,de[X]),this},A.insertPage=function(P){return this.addPage(),this.movePage(X,P),this},A.movePage=function(P,Z){var ve,Be;if(P>Z){ve=de[P],Be=Yt[P];for(var Ke=P;Ke>Z;Ke--)de[Ke]=de[Ke-1],Yt[Ke]=Yt[Ke-1];de[Z]=ve,Yt[Z]=Be,this.setPage(Z)}else if(P<Z){ve=de[P],Be=Yt[P];for(var at=P;at<Z;at++)de[at]=de[at+1],Yt[at]=Yt[at+1];de[Z]=ve,Yt[Z]=Be,this.setPage(Z)}return this},A.deletePage=function(){return kt.apply(this,arguments),this},A.__private__.text=A.text=function(P,Z,ve,Be,Ke){var at,Ut,ar,Ur,m,Q,G,ae,De,$e=(Be=Be||{}).scope||this;if(typeof P=="number"&&typeof Z=="number"&&(typeof ve=="string"||Array.isArray(ve))){var Dt=ve;ve=Z,Z=P,P=Dt}if(arguments[3]instanceof fr?(B("The transform parameter of text() with a Matrix value"),De=Ke):(ar=arguments[4],Ur=arguments[5],Aa(G=arguments[3])==="object"&&G!==null||(typeof ar=="string"&&(Ur=ar,ar=null),typeof G=="string"&&(Ur=G,G=null),typeof G=="number"&&(ar=G,G=null),Be={flags:G,angle:ar,align:Ur})),isNaN(Z)||isNaN(ve)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return $e;var tn="",On=!1,An=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:Bo,ia=$e.internal.scaleFactor;function kn(ja){return ja=ja.split("	").join(Array(Be.TabLen||9).join(" ")),Ps(ja,G)}function Hl(ja){for(var Ka,Ui=ja.concat(),is=[],Oc=Ui.length;Oc--;)typeof(Ka=Ui.shift())=="string"?is.push(Ka):Array.isArray(ja)&&(Ka.length===1||Ka[1]===void 0&&Ka[2]===void 0)?is.push(Ka[0]):is.push([Ka[0],Ka[1],Ka[2]]);return is}function sa(ja,Ka){var Ui;if(typeof ja=="string")Ui=Ka(ja)[0];else if(Array.isArray(ja)){for(var is,Oc,xd=ja.concat(),Yh=[],Kf=xd.length;Kf--;)typeof(is=xd.shift())=="string"?Yh.push(Ka(is)[0]):Array.isArray(is)&&typeof is[0]=="string"&&(Oc=Ka(is[0],is[1],is[2]),Yh.push([Oc[0],Oc[1],Oc[2]]));Ui=Yh}return Ui}var Vl=!1,Eo=!0;if(typeof P=="string")Vl=!0;else if(Array.isArray(P)){var vd=P.concat();Ut=[];for(var wa,Ho=vd.length;Ho--;)(typeof(wa=vd.shift())!="string"||Array.isArray(wa)&&typeof wa[0]!="string")&&(Eo=!1);Vl=Eo}if(Vl===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var Vf=Oe/$e.internal.scaleFactor,qf=Vf*(An-1);switch(Be.baseline){case"bottom":ve-=qf;break;case"top":ve+=Vf-qf;break;case"hanging":ve+=Vf-2*qf;break;case"middle":ve+=Vf/2-qf}if((Q=Be.maxWidth||0)>0&&(typeof P=="string"?P=$e.splitTextToSize(P,Q):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce((function(ja,Ka){return ja.concat($e.splitTextToSize(Ka,Q))}),[]))),at={text:P,x:Z,y:ve,options:Be,mutex:{pdfEscape:Ps,activeFontKey:Er,fonts:Qe,activeFontSize:Oe}},Sr.publish("preProcessText",at),P=at.text,ar=(Be=at.options).angle,!(De instanceof fr)&&ar&&typeof ar=="number"){ar*=Math.PI/180,Be.rotationDirection===0&&(ar=-ar),S===b.ADVANCED&&(ar=-ar);var zf=Math.cos(ar),FA=Math.sin(ar);De=new fr(zf,FA,-FA,zf,0,0)}else ar&&ar instanceof fr&&(De=ar);S!==b.ADVANCED||De||(De=xr),(m=Be.charSpace||Ol)!==void 0&&(tn+=T(_(m))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ae=Be.horizontalScale)!==void 0&&(tn+=T(100*ae)+` Tz
`),Be.lang;var Vo=-1,ny=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,To=$e.internal.getCurrentPageInfo().pageContext;switch(ny){case 0:case!1:case"fill":Vo=0;break;case 1:case!0:case"stroke":Vo=1;break;case 2:case"fillThenStroke":Vo=2;break;case 3:case"invisible":Vo=3;break;case 4:case"fillAndAddForClipping":Vo=4;break;case 5:case"strokeAndAddPathForClipping":Vo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vo=6;break;case 7:case"addToPathForClipping":Vo=7}var Zu=To.usedRenderingMode!==void 0?To.usedRenderingMode:-1;Vo!==-1?tn+=Vo+` Tr
`:Zu!==-1&&(tn+=`0 Tr
`),Vo!==-1&&(To.usedRenderingMode=Vo),Ur=Be.align||"left";var Us,Ri=Oe*An,Dc=$e.internal.pageSize.getWidth(),ay=Qe[Er];m=Be.charSpace||Ol,Q=Be.maxWidth||0,G=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var bd=[];if(Object.prototype.toString.call(P)==="[object Array]"){var cl;Ut=Hl(P),Ur!=="left"&&(Us=Ut.map((function(ja){return $e.getStringUnitWidth(ja,{font:ay,charSpace:m,fontSize:Oe,doKerning:!1})*Oe/ia})));var gu,RA=0;if(Ur==="right"){Z-=Us[0],P=[],Ho=Ut.length;for(var dl=0;dl<Ho;dl++)dl===0?(gu=Rs(Z),cl=Ml(ve)):(gu=_(RA-Us[dl]),cl=-Ri),P.push([Ut[dl],gu,cl]),RA=Us[dl]}else if(Ur==="center"){Z-=Us[0]/2,P=[],Ho=Ut.length;for(var uo=0;uo<Ho;uo++)uo===0?(gu=Rs(Z),cl=Ml(ve)):(gu=_((RA-Us[uo])/2),cl=-Ri),P.push([Ut[uo],gu,cl]),RA=Us[uo]}else if(Ur==="left"){P=[],Ho=Ut.length;for(var Gh=0;Gh<Ho;Gh++)P.push(Ut[Gh])}else{if(Ur!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');P=[],Ho=Ut.length,Q=Q!==0?Q:Dc;for(var ec=0;ec<Ho;ec++)cl=ec===0?Ml(ve):-Ri,gu=ec===0?Rs(Z):0,ec<Ho-1?bd.push(T(_((Q-Us[ec])/(Ut[ec].split(" ").length-1)))):bd.push(0),P.push([Ut[ec],gu,cl])}}var wd=typeof Be.R2L=="boolean"?Be.R2L:it;wd===!0&&(P=sa(P,(function(ja,Ka,Ui){return[ja.split("").reverse().join(""),Ka,Ui]}))),at={text:P,x:Z,y:ve,options:Be,mutex:{pdfEscape:Ps,activeFontKey:Er,fonts:Qe,activeFontSize:Oe}},Sr.publish("postProcessText",at),P=at.text,On=at.mutex.isHex||!1;var Wh=Qe[Er].encoding;Wh!=="WinAnsiEncoding"&&Wh!=="StandardEncoding"||(P=sa(P,(function(ja,Ka,Ui){return[kn(ja),Ka,Ui]}))),Ut=Hl(P),P=[];for(var UA,tc,gs,DA=0,$h=1,jf=Array.isArray(Ut[0])?$h:DA,rc="",Om=function(ja,Ka,Ui){var is="";return Ui instanceof fr?(Ui=typeof Be.angle=="number"?Kr(Ui,new fr(1,0,0,1,ja,Ka)):Kr(new fr(1,0,0,1,ja,Ka),Ui),S===b.ADVANCED&&(Ui=Kr(new fr(1,0,0,-1,0,0),Ui)),is=Ui.join(" ")+` Tm
`):is=T(ja)+" "+T(Ka)+` Td
`,is},ql=0;ql<Ut.length;ql++){switch(rc="",jf){case $h:gs=(On?"<":"(")+Ut[ql][0]+(On?">":")"),UA=parseFloat(Ut[ql][1]),tc=parseFloat(Ut[ql][2]);break;case DA:gs=(On?"<":"(")+Ut[ql]+(On?">":")"),UA=Rs(Z),tc=Ml(ve)}bd!==void 0&&bd[ql]!==void 0&&(rc=bd[ql]+` Tw
`),ql===0?P.push(rc+Om(UA,tc,De)+gs):jf===DA?P.push(rc+gs):jf===$h&&P.push(rc+Om(UA,tc,De)+gs)}P=jf===DA?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Mc=`BT
/`;return Mc+=Er+" "+Oe+` Tf
`,Mc+=T(Oe*An)+` TL
`,Mc+=lo+`
`,Mc+=tn,Mc+=P,Ae(Mc+="ET"),f[Er]=!0,$e};var hu=A.__private__.clip=A.clip=function(P){return Ae(P==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return hu("evenodd")},A.__private__.discardPath=A.discardPath=function(){return Ae("n"),this};var sl=A.__private__.isValidStyle=function(P){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(Z=!0),Z};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(P){return sl(P)&&(u=P),this};var BA=A.__private__.getStyle=A.getStyle=function(P){var Z=u;switch(P){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=P}return Z},so=A.close=function(){return Ae("h"),this};A.stroke=function(){return Ae("S"),this},A.fill=function(P){return Fs("f",P),this},A.fillEvenOdd=function(P){return Fs("f*",P),this},A.fillStroke=function(P){return Fs("B",P),this},A.fillStrokeEvenOdd=function(P){return Fs("B*",P),this};var Fs=function(P,Z){Aa(Z)==="object"?Xu(Z,P):Ae(P)},Lc=function(P){P===null||S===b.ADVANCED&&P===void 0||(P=BA(P),Ae(P))};function _A(P,Z,ve,Be,Ke){var at=new D0(Z||this.boundingBox,ve||this.xStep,Be||this.yStep,this.gState,Ke||this.matrix);at.stream=this.stream;var Ut=P+"$$"+this.cloneIndex+++"$$";return fn(Ut,at),at}var Xu=function(P,Z){var ve=Nr[P.key],Be=Ct[ve];if(Be instanceof Nm)Ae("q"),Ae(Pc(Z)),Be.gState&&A.setGState(Be.gState),Ae(P.matrix.toString()+" cm"),Ae("/"+ve+" sh"),Ae("Q");else if(Be instanceof D0){var Ke=new fr(1,0,0,-1,0,ul());P.matrix&&(Ke=Ke.multiply(P.matrix||xr),ve=_A.call(Be,P.key,P.boundingBox,P.xStep,P.yStep,Ke).id),Ae("q"),Ae("/Pattern cs"),Ae("/"+ve+" scn"),Be.gState&&A.setGState(Be.gState),Ae(Z),Ae("Q")}},Pc=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},kc=A.moveTo=function(P,Z){return Ae(T(_(P))+" "+T(D(Z))+" m"),this},So=A.lineTo=function(P,Z){return Ae(T(_(P))+" "+T(D(Z))+" l"),this},oo=A.curveTo=function(P,Z,ve,Be,Ke,at){return Ae([T(_(P)),T(D(Z)),T(_(ve)),T(D(Be)),T(_(Ke)),T(D(at)),"c"].join(" ")),this};A.__private__.line=A.line=function(P,Z,ve,Be,Ke){if(isNaN(P)||isNaN(Z)||isNaN(ve)||isNaN(Be)||!sl(Ke))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[ve-P,Be-Z]],P,Z,[1,1],Ke||"S"):this.lines([[ve-P,Be-Z]],P,Z,[1,1]).stroke()},A.__private__.lines=A.lines=function(P,Z,ve,Be,Ke,at){var Ut,ar,Ur,m,Q,G,ae,De,$e,Dt,tn,On;if(typeof P=="number"&&(On=ve,ve=Z,Z=P,P=On),Be=Be||[1,1],at=at||!1,isNaN(Z)||isNaN(ve)||!Array.isArray(P)||!Array.isArray(Be)||!sl(Ke)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kc(Z,ve),Ut=Be[0],ar=Be[1],m=P.length,Dt=Z,tn=ve,Ur=0;Ur<m;Ur++)(Q=P[Ur]).length===2?(Dt=Q[0]*Ut+Dt,tn=Q[1]*ar+tn,So(Dt,tn)):(G=Q[0]*Ut+Dt,ae=Q[1]*ar+tn,De=Q[2]*Ut+Dt,$e=Q[3]*ar+tn,Dt=Q[4]*Ut+Dt,tn=Q[5]*ar+tn,oo(G,ae,De,$e,Dt,tn));return at&&so(),Lc(Ke),this},A.path=function(P){for(var Z=0;Z<P.length;Z++){var ve=P[Z],Be=ve.c;switch(ve.op){case"m":kc(Be[0],Be[1]);break;case"l":So(Be[0],Be[1]);break;case"c":oo.apply(this,Be);break;case"h":so()}}return this},A.__private__.rect=A.rect=function(P,Z,ve,Be,Ke){if(isNaN(P)||isNaN(Z)||isNaN(ve)||isNaN(Be)||!sl(Ke))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&(Be=-Be),Ae([T(_(P)),T(D(Z)),T(_(ve)),T(_(Be)),"re"].join(" ")),Lc(Ke),this},A.__private__.triangle=A.triangle=function(P,Z,ve,Be,Ke,at,Ut){if(isNaN(P)||isNaN(Z)||isNaN(ve)||isNaN(Be)||isNaN(Ke)||isNaN(at)||!sl(Ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-P,Be-Z],[Ke-ve,at-Be],[P-Ke,Z-at]],P,Z,[1,1],Ut,!0),this},A.__private__.roundedRect=A.roundedRect=function(P,Z,ve,Be,Ke,at,Ut){if(isNaN(P)||isNaN(Z)||isNaN(ve)||isNaN(Be)||isNaN(Ke)||isNaN(at)||!sl(Ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ar=4/3*(Math.SQRT2-1);return Ke=Math.min(Ke,.5*ve),at=Math.min(at,.5*Be),this.lines([[ve-2*Ke,0],[Ke*ar,0,Ke,at-at*ar,Ke,at],[0,Be-2*at],[0,at*ar,-Ke*ar,at,-Ke,at],[2*Ke-ve,0],[-Ke*ar,0,-Ke,-at*ar,-Ke,-at],[0,2*at-Be],[0,-at*ar,Ke*ar,-at,Ke,-at]],P+Ke,Z,[1,1],Ut,!0),this},A.__private__.ellipse=A.ellipse=function(P,Z,ve,Be,Ke){if(isNaN(P)||isNaN(Z)||isNaN(ve)||isNaN(Be)||!sl(Ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*ve,Ut=4/3*(Math.SQRT2-1)*Be;return kc(P+ve,Z),oo(P+ve,Z-Ut,P+at,Z-Be,P,Z-Be),oo(P-at,Z-Be,P-ve,Z-Ut,P-ve,Z),oo(P-ve,Z+Ut,P-at,Z+Be,P,Z+Be),oo(P+at,Z+Be,P+ve,Z+Ut,P+ve,Z),Lc(Ke),this},A.__private__.circle=A.circle=function(P,Z,ve,Be){if(isNaN(P)||isNaN(Z)||isNaN(ve)||!sl(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,Z,ve,ve,Be)},A.setFont=function(P,Z,ve){return ve&&(Z=R(Z,ve)),Er=Wr(P,Z,{disableWarning:!1}),this};var Fc=A.__private__.getFont=A.getFont=function(){return Qe[Wr.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var P,Z,ve={};for(P in tt)if(tt.hasOwnProperty(P))for(Z in ve[P]=[],tt[P])tt[P].hasOwnProperty(Z)&&ve[P].push(Z);return ve},A.addFont=function(P,Z,ve,Be,Ke){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Ke=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(ve=R(ve,Be)),Ke=Ke||"Identity-H",Ec.call(this,P,Z,ve,Ke)};var Bo,Sa=t.lineWidth||.200025,ai=A.__private__.getLineWidth=A.getLineWidth=function(){return Sa},EA=A.__private__.setLineWidth=A.setLineWidth=function(P){return Sa=P,Ae(T(_(P))+" w"),this};A.__private__.setLineDash=on.API.setLineDash=on.API.setLineDashPattern=function(P,Z){if(P=P||[],Z=Z||0,isNaN(Z)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map((function(ve){return T(_(ve))})).join(" "),Z=T(_(Z)),Ae("["+P+"] "+Z+" d"),this};var Fa=A.__private__.getLineHeight=A.getLineHeight=function(){return Oe*Bo};A.__private__.getLineHeight=A.getLineHeight=function(){return Oe*Bo};var Oa=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Bo=P),this},ms=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return Bo};Oa(t.lineHeight);var Rs=A.__private__.getHorizontalCoordinate=function(P){return _(P)},Ml=A.__private__.getVerticalCoordinate=function(P){return S===b.ADVANCED?P:Yt[X].mediaBox.topRightY-Yt[X].mediaBox.bottomLeftY-_(P)},_o=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(P){return T(Rs(P))},ol=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(P){return T(Ml(P))},ll=t.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return na(ll)},A.__private__.setStrokeColor=A.setDrawColor=function(P,Z,ve,Be){return ll=ki({ch1:P,ch2:Z,ch3:ve,ch4:Be,pdfColorType:"draw",precision:2}),Ae(ll),this};var Ju=t.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return na(Ju)},A.__private__.setFillColor=A.setFillColor=function(P,Z,ve,Be){return Ju=ki({ch1:P,ch2:Z,ch3:ve,ch4:Be,pdfColorType:"fill",precision:2}),Ae(Ju),this};var lo=t.textColor||"0 g",Rc=A.__private__.getTextColor=A.getTextColor=function(){return na(lo)};A.__private__.setTextColor=A.setTextColor=function(P,Z,ve,Be){return lo=ki({ch1:P,ch2:Z,ch3:ve,ch4:Be,pdfColorType:"text",precision:3}),this};var Ol=t.charSpace,Kh=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(Ol||0)};A.__private__.setCharSpace=A.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ol=P,this};var Uc=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(P){var Z=A.CapJoinStyles[P];if(Z===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=Z,Ae(Z+" J"),this};var Of=0;A.__private__.setLineJoin=A.setLineJoin=function(P){var Z=A.CapJoinStyles[P];if(Z===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Of=Z,Ae(Z+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ae(T(_(P))+" M"),this},A.GState=lC,A.setGState=function(P){(P=typeof P=="string"?nr[jr[P]]:Qf(null,P)).equals(Zt)||(Ae("/"+P.id+" gs"),Zt=P)};var Qf=function(P,Z){if(!P||!jr[P]){var ve=!1;for(var Be in nr)if(nr.hasOwnProperty(Be)&&nr[Be].equals(Z)){ve=!0;break}if(ve)Z=nr[Be];else{var Ke="GS"+(Object.keys(nr).length+1).toString(10);nr[Ke]=Z,Z.id=Ke}return P&&(jr[P]=Z.id),Sr.publish("addGState",Z),Z}};A.addGState=function(P,Z){return Qf(P,Z),this},A.saveGraphicsState=function(){return Ae("q"),rt.push({key:Er,size:Oe,color:lo}),this},A.restoreGraphicsState=function(){Ae("Q");var P=rt.pop();return Er=P.key,Oe=P.size,lo=P.color,Zt=null,this},A.setCurrentTransformationMatrix=function(P){return Ae(P.toString()+" cm"),this},A.comment=function(P){return Ae("#"+P),this};var pu=function(P,Z){var ve=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(at){isNaN(at)||(ve=parseFloat(at))}});var Be=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(at){isNaN(at)||(Be=parseFloat(at))}});var Ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ke},set:function(at){Ke=at.toString()}}),this},TA=function(P,Z,ve,Be){pu.call(this,P,Z),this.type="rect";var Ke=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ke},set:function(Ut){isNaN(Ut)||(Ke=parseFloat(Ut))}});var at=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(Ut){isNaN(Ut)||(at=parseFloat(Ut))}}),this},LA=function(){this.page=en,this.currentPage=X,this.pages=de.slice(0),this.pagesContext=Yt.slice(0),this.x=gn,this.y=dt,this.matrix=Wt,this.width=mu(X),this.height=ul(X),this.outputDestination=qe,this.id="",this.objectNumber=-1};LA.prototype.restore=function(){en=this.page,X=this.currentPage,Yt=this.pagesContext,de=this.pages,gn=this.x,dt=this.y,Wt=this.matrix,kA(X,this.width),Ql(X,this.height),qe=this.outputDestination};var PA=function(P,Z,ve,Be,Ke){ra.push(new LA),en=X=0,de=[],gn=P,dt=Z,Wt=Ke,Oo([ve,Be])},Hf=function(P){if(yn[P])ra.pop().restore();else{var Z=new LA,ve="Xo"+(Object.keys(Yr).length+1).toString(10);Z.id=ve,yn[P]=ve,Yr[ve]=Z,Sr.publish("addFormObject",Z),ra.pop().restore()}};for(var yd in A.beginFormObject=function(P,Z,ve,Be,Ke){return PA(P,Z,ve,Be,Ke),this},A.endFormObject=function(P){return Hf(P),this},A.doFormObject=function(P,Z){var ve=Yr[yn[P]];return Ae("q"),Ae(Z.toString()+" cm"),Ae("/"+ve.id+" Do"),Ae("Q"),this},A.getFormObject=function(P){var Z=Yr[yn[P]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},A.save=function(P,Z){return P=P||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(U0(No(Qo()),P),typeof U0.unload=="function"&&cn.setTimeout&&setTimeout(U0.unload,911),this):new Promise((function(ve,Be){try{var Ke=U0(No(Qo()),P);typeof U0.unload=="function"&&cn.setTimeout&&setTimeout(U0.unload,911),ve(Ke)}catch(at){Be(at.message)}}))},on.API)on.API.hasOwnProperty(yd)&&(yd==="events"&&on.API.events.length?(function(P,Z){var ve,Be,Ke;for(Ke=Z.length-1;Ke!==-1;Ke--)ve=Z[Ke][0],Be=Z[Ke][1],P.subscribe.apply(P,[ve].concat(typeof Be=="function"?[Be]:Be))})(Sr,on.API.events):A[yd]=on.API[yd]);var mu=A.getPageWidth=function(P){return(Yt[P=P||X].mediaBox.topRightX-Yt[P].mediaBox.bottomLeftX)/Nt},kA=A.setPageWidth=function(P,Z){Yt[P].mediaBox.topRightX=Z*Nt+Yt[P].mediaBox.bottomLeftX},ul=A.getPageHeight=function(P){return(Yt[P=P||X].mediaBox.topRightY-Yt[P].mediaBox.bottomLeftY)/Nt},Ql=A.setPageHeight=function(P,Z){Yt[P].mediaBox.topRightY=Z*Nt+Yt[P].mediaBox.bottomLeftY};return A.internal={pdfEscape:Ps,getStyle:BA,getFont:Fc,getFontSize:Ue,getCharSpace:Kh,getTextColor:Rc,getLineHeight:Fa,getLineHeightFactor:ms,getLineWidth:ai,write:Kt,getHorizontalCoordinate:Rs,getVerticalCoordinate:Ml,getCoordinateString:_o,getVerticalCoordinateString:ol,collections:{},newObject:Jr,newAdditionalObject:Ia,newObjectDeferred:ln,newObjectDeferredBegin:ma,getFilters:ps,putStream:ni,events:Sr,scaleFactor:Nt,pageSize:{getWidth:function(){return mu(X)},setWidth:function(P){kA(X,P)},getHeight:function(){return ul(X)},setHeight:function(P){Ql(X,P)}},encryptionOptions:c,encryption:fi,getEncryptor:ks,output:Tc,getNumberOfPages:Xr,pages:de,out:Ae,f2:U,f3:E,getPageInfo:gd,getPageInfoByObjId:an,getCurrentPageInfo:SA,getPDFVersion:I,Point:pu,Rectangle:TA,Matrix:fr,hasHotfix:NA},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return mu(X)},set:function(P){kA(X,P)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return ul(X)},set:function(P){Ql(X,P)},enumerable:!0,configurable:!0}),zi.call(A,pt),Er="F1",Jn(a,r),Sr.publish("initialized"),A}function Ate(t){return t.reduce((function(e,r,n){return e[r]=n,e}),{})}function xM(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return fte[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(t.weight),a=(function(i){return typeof wM[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function Wee(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}function Yee(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function bIe(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},vIe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<e.length;++o)if(a[(i=xM(e[o])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+Yee(i)+"' and default family '"+n+"'.");if(s=(function(l,u){if(u[l])return u[l];var c=wM[l],d=c<=wM.normal?-1:1,f=Wee(u,hte,c,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f})(i.stretch,s),s=(function(l,u){if(u[l])return u[l];for(var c=fte[l],d=0;d<c.length;++d)if(u[c[d]])return u[c[d]];throw new Error("Could not find a matching font-style for "+l)})(i.style,s),!(s=(function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=yIe[l],d=Wee(u,pte,c,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d})(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Yee(i)+"'.");return s}function Xee(t){return t.trimLeft()}function wIe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function xIe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}function IIe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<(7&a)+1;t[e++],t[e++];var o=null,l=null;i&&(o=e,l=s,e+=3*s);var u=!0,c=[],d=0,f=null,A=0,v=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],(1&I)==0&&(f=null),A=I>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,F=t[e++],O=F>>6&1,R=1<<(7&F)+1,T=o,B=l,k=!1;F>>7&&(k=!0,T=e,B=R,e+=3*R);var U=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}c.push({x:w,y:g,width:b,height:S,has_local_palette:k,palette_offset:T,palette_size:B,data_offset:U,data_length:e-U,transparent_index:f,interlaced:!!O,delay:d,disposal:A});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(_){if(_<0||_>=c.length)throw new Error("Frame index out of range.");return c[_]},this.decodeAndBlitFrameBGRA=function(_,L){var D=this.frameInfo(_),z=D.width*D.height,ee=new Uint8Array(z);nte(t,D.data_offset,ee,z);var Y=D.palette_offset,$=D.transparent_index;$===null&&($=256);var j=D.width,K=r-j,oe=j,q=4*(D.y*r+D.x),X=4*((D.y+D.height)*r+D.x),te=q,ue=4*K;D.interlaced===!0&&(ue+=4*r*7);for(var be=8,ge=0,Ne=ee.length;ge<Ne;++ge){var Le=ee[ge];if(oe===0&&(oe=j,(te+=ue)>=X&&(ue=4*K+4*r*(be-1),te=q+(j+K)*(be<<1),be>>=1)),Le===$)te+=4;else{var Ie=t[Y+3*Le],de=t[Y+3*Le+1],xe=t[Y+3*Le+2];L[te++]=xe,L[te++]=de,L[te++]=Ie,L[te++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(_,L){var D=this.frameInfo(_),z=D.width*D.height,ee=new Uint8Array(z);nte(t,D.data_offset,ee,z);var Y=D.palette_offset,$=D.transparent_index;$===null&&($=256);var j=D.width,K=r-j,oe=j,q=4*(D.y*r+D.x),X=4*((D.y+D.height)*r+D.x),te=q,ue=4*K;D.interlaced===!0&&(ue+=4*r*7);for(var be=8,ge=0,Ne=ee.length;ge<Ne;++ge){var Le=ee[ge];if(oe===0&&(oe=j,(te+=ue)>=X&&(ue=4*K+4*r*(be-1),te=q+(j+K)*(be<<1),be>>=1)),Le===$)te+=4;else{var Ie=t[Y+3*Le],de=t[Y+3*Le+1],xe=t[Y+3*Le+2];L[te++]=Ie,L[te++]=de,L[te++]=xe,L[te++]=255}--oe}}}function nte(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,o=s+1,l=a+1,u=(1<<l)-1,c=0,d=0,f=0,A=t[e++],v=new Int32Array(4096),I=null;;){for(;c<16&&A!==0;)d|=t[e++]<<c,c+=8,A===1?A=t[e++]:--A;if(c<l)break;var w=d&u;if(d>>=l,c-=l,w!==i){if(w===s)break;for(var g=w<o?w:I,b=0,S=g;S>i;)S=v[S]>>8,++b;var F=S;if(f+b+(g!==w?1:0)>n)return void ui.log("Warning, gif stream longer than expected.");r[f++]=F;var O=f+=b;for(g!==w&&(r[f++]=F),S=g;b--;)S=v[S],r[--O]=255&S,S>>=8;I!==null&&o<4096&&(v[o++]=I<<8|F,o>=u+1&&l<12&&(++l,u=u<<1|1)),I=w}else o=s+1,u=(1<<(l=a+1))-1,I=null}return f!==n&&ui.log("Warning, gif stream shorter than expected."),r}function mM(t){var e,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),f=new Array(65535),A=new Array(64),v=new Array(64),I=[],w=0,g=7,b=new Array(64),S=new Array(64),F=new Array(64),O=new Array(256),R=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(q,X){for(var te=0,ue=0,be=new Array,ge=1;ge<=16;ge++){for(var Ne=1;Ne<=q[ge];Ne++)be[X[ue]]=[],be[X[ue]][0]=te,be[X[ue]][1]=ge,ue++,te++;te*=2}return be}function Y(q){for(var X=q[0],te=q[1]-1;te>=0;)X&1<<te&&(w|=1<<g),te--,--g<0&&(w==255?($(255),$(0)):$(w),g=7,w=0)}function $(q){I.push(q)}function j(q){$(q>>8&255),$(255&q)}function K(q,X,te,ue,be){for(var ge,Ne=be[0],Le=be[240],Ie=(function(pt,Oe){var me,Ue,it,At,ct,Tt,Ot,vr,rr,Er,Nt=0;for(rr=0;rr<8;++rr){me=pt[Nt],Ue=pt[Nt+1],it=pt[Nt+2],At=pt[Nt+3],ct=pt[Nt+4],Tt=pt[Nt+5],Ot=pt[Nt+6];var gn=me+(vr=pt[Nt+7]),dt=me-vr,Wt=Ue+Ot,Qe=Ue-Ot,tt=it+Tt,rt=it-Tt,Ct=At+ct,Nr=At-ct,nr=gn+Ct,jr=gn-Ct,Zt=Wt+tt,en=Wt-tt;pt[Nt]=nr+Zt,pt[Nt+4]=nr-Zt;var Yt=.707106781*(en+jr);pt[Nt+2]=jr+Yt,pt[Nt+6]=jr-Yt;var Sr=.382683433*((nr=Nr+rt)-(en=Qe+dt)),Qr=.5411961*nr+Sr,Yr=1.306562965*en+Sr,yn=.707106781*(Zt=rt+Qe),ra=dt+yn,fr=dt-yn;pt[Nt+5]=fr+Qr,pt[Nt+3]=fr-Qr,pt[Nt+1]=ra+Yr,pt[Nt+7]=ra-Yr,Nt+=8}for(Nt=0,rr=0;rr<8;++rr){me=pt[Nt],Ue=pt[Nt+8],it=pt[Nt+16],At=pt[Nt+24],ct=pt[Nt+32],Tt=pt[Nt+40],Ot=pt[Nt+48];var Kr=me+(vr=pt[Nt+56]),xr=me-vr,fn=Ue+Ot,Jr=Ue-Ot,ln=it+Tt,ma=it-Tt,Ia=At+ct,ri=At-ct,Pi=Kr+Ia,na=Kr-Ia,ki=fn+ln,ps=fn-ln;pt[Nt]=Pi+ki,pt[Nt+32]=Pi-ki;var ni=.707106781*(ps+na);pt[Nt+16]=na+ni,pt[Nt+48]=na-ni;var za=.382683433*((Pi=ri+ma)-(ps=Jr+xr)),Do=.5411961*Pi+za,Cr=1.306562965*ps+za,Se=.707106781*(ki=ma+Jr),St=xr+Se,lr=xr-Se;pt[Nt+40]=lr+Do,pt[Nt+24]=lr-Do,pt[Nt+8]=St+Cr,pt[Nt+56]=St-Cr,Nt++}for(rr=0;rr<64;++rr)Er=pt[rr]*Oe[rr],A[rr]=Er>0?Er+.5|0:Er-.5|0;return A})(q,X),de=0;de<64;++de)v[T[de]]=Ie[de];var xe=v[0]-te;te=v[0],xe==0?Y(ue[0]):(Y(ue[f[ge=32767+xe]]),Y(d[ge]));for(var qe=63;qe>0&&v[qe]==0;)qe--;if(qe==0)return Y(Ne),te;for(var wt,Re=1;Re<=qe;){for(var Ae=Re;v[Re]==0&&Re<=qe;)++Re;var Kt=Re-Ae;if(Kt>=16){wt=Kt>>4;for(var zt=1;zt<=wt;++zt)Y(Le);Kt&=15}ge=32767+v[Re],Y(be[(Kt<<4)+f[ge]]),Y(d[ge]),Re++}return qe!=63&&Y(Ne),te}function oe(q){q=Math.min(Math.max(q,1),100),i!=q&&((function(X){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var be=s((te[ue]*X+50)/100);be=Math.min(Math.max(be,1),255),o[T[ue]]=be}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var Le=s((ge[Ne]*X+50)/100);Le=Math.min(Math.max(Le,1),255),l[T[Ne]]=Le}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],de=0,xe=0;xe<8;xe++)for(var qe=0;qe<8;qe++)u[de]=1/(o[T[de]]*Ie[xe]*Ie[qe]*8),c[de]=1/(l[T[de]]*Ie[xe]*Ie[qe]*8),de++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),i=q)}this.encode=function(q,X){X&&oe(X),I=new Array,w=0,g=7,j(65496),j(65504),j(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),j(1),j(1),$(0),$(0),(function(){j(65499),j(132),$(0);for(var Ue=0;Ue<64;Ue++)$(o[Ue]);$(1);for(var it=0;it<64;it++)$(l[it])})(),(function(Ue,it){j(65472),j(17),$(8),j(it),j(Ue),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(q.width,q.height),(function(){j(65476),j(418),$(0);for(var Ue=0;Ue<16;Ue++)$(B[Ue+1]);for(var it=0;it<=11;it++)$(k[it]);$(16);for(var At=0;At<16;At++)$(U[At+1]);for(var ct=0;ct<=161;ct++)$(E[ct]);$(1);for(var Tt=0;Tt<16;Tt++)$(_[Tt+1]);for(var Ot=0;Ot<=11;Ot++)$(L[Ot]);$(17);for(var vr=0;vr<16;vr++)$(D[vr+1]);for(var rr=0;rr<=161;rr++)$(z[rr])})(),j(65498),j(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var te=0,ue=0,be=0;w=0,g=7,this.encode.displayName="_encode_";for(var ge,Ne,Le,Ie,de,xe,qe,wt,Re,Ae=q.data,Kt=q.width,zt=q.height,pt=4*Kt,Oe=0;Oe<zt;){for(ge=0;ge<pt;){for(de=pt*Oe+ge,qe=-1,wt=0,Re=0;Re<64;Re++)xe=de+(wt=Re>>3)*pt+(qe=4*(7&Re)),Oe+wt>=zt&&(xe-=pt*(Oe+1+wt-zt)),ge+qe>=pt&&(xe-=ge+qe-pt+4),Ne=Ae[xe++],Le=Ae[xe++],Ie=Ae[xe++],b[Re]=(R[Ne]+R[Le+256>>0]+R[Ie+512>>0]>>16)-128,S[Re]=(R[Ne+768>>0]+R[Le+1024>>0]+R[Ie+1280>>0]>>16)-128,F[Re]=(R[Ne+1280>>0]+R[Le+1536>>0]+R[Ie+1792>>0]>>16)-128;te=K(b,u,te,e,n),ue=K(S,c,ue,r,a),be=K(F,c,be,r,a),ge+=32}Oe+=8}if(g>=0){var me=[];me[1]=g+1,me[0]=(1<<g+1)-1,Y(me)}return j(65497),new Uint8Array(I)},t=t||50,(function(){for(var q=String.fromCharCode,X=0;X<256;X++)O[X]=q(X)})(),e=ee(B,k),r=ee(_,L),n=ee(U,E),a=ee(D,z),(function(){for(var q=1,X=2,te=1;te<=15;te++){for(var ue=q;ue<X;ue++)f[32767+ue]=te,d[32767+ue]=[],d[32767+ue][1]=te,d[32767+ue][0]=ue;for(var be=-(X-1);be<=-q;be++)f[32767+be]=te,d[32767+be]=[],d[32767+be][1]=te,d[32767+be][0]=X-1+be;q<<=1,X<<=1}})(),(function(){for(var q=0;q<256;q++)R[q]=19595*q,R[q+256>>0]=38470*q,R[q+512>>0]=7471*q+32768,R[q+768>>0]=-11059*q,R[q+1024>>0]=-21709*q,R[q+1280>>0]=32768*q+8421375,R[q+1536>>0]=-27439*q,R[q+1792>>0]=-5329*q})(),oe(t)}function yA(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ate(t){function e(B){if(!B)throw Error("assert :P")}function r(B,k,U){for(var E=0;4>E;E++)if(B[k+E]!=U.charCodeAt(E))return!0;return!1}function n(B,k,U,E,_){for(var L=0;L<_;L++)B[k+L]=U[E+L]}function a(B,k,U,E){for(var _=0;_<E;_++)B[k+_]=U}function i(B){return new Int32Array(B)}function s(B,k){for(var U=[],E=0;E<B;E++)U.push(new k);return U}function o(B,k){var U=[];return(function E(_,L,D){for(var z=D[L],ee=0;ee<z&&(_.push(D.length>L+1?[]:new k),!(D.length<L+1));ee++)E(_[ee],L+1,D)})(U,0,B),U}var l=function(){var B=this;function k(h,N){for(var M=1<<N-1>>>0;h&M;)M>>>=1;return M?(h&M-1)+M:h}function U(h,N,M,V,J){e(!(V%M));do h[N+(V-=M)]=J;while(0<V)}function E(h,N,M,V,J){if(e(2328>=J),512>=J)var re=i(512);else if((re=i(J))==null)return 0;return(function(ie,se,le,pe,Pe,ze){var Xe,Ve,bt=se,ut=1<<le,ke=i(16),Me=i(16);for(e(Pe!=0),e(pe!=null),e(ie!=null),e(0<le),Ve=0;Ve<Pe;++Ve){if(15<pe[Ve])return 0;++ke[pe[Ve]]}if(ke[0]==Pe)return 0;for(Me[1]=0,Xe=1;15>Xe;++Xe){if(ke[Xe]>1<<Xe)return 0;Me[Xe+1]=Me[Xe]+ke[Xe]}for(Ve=0;Ve<Pe;++Ve)Xe=pe[Ve],0<pe[Ve]&&(ze[Me[Xe]++]=Ve);if(Me[15]==1)return(pe=new _).g=0,pe.value=ze[0],U(ie,bt,1,ut,pe),ut;var yt,Bt=-1,vt=ut-1,hr=0,Xt=1,Zr=1,er=1<<le;for(Ve=0,Xe=1,Pe=2;Xe<=le;++Xe,Pe<<=1){if(Xt+=Zr<<=1,0>(Zr-=ke[Xe]))return 0;for(;0<ke[Xe];--ke[Xe])(pe=new _).g=Xe,pe.value=ze[Ve++],U(ie,bt+hr,Pe,er,pe),hr=k(hr,Xe)}for(Xe=le+1,Pe=2;15>=Xe;++Xe,Pe<<=1){if(Xt+=Zr<<=1,0>(Zr-=ke[Xe]))return 0;for(;0<ke[Xe];--ke[Xe]){if(pe=new _,(hr&vt)!=Bt){for(bt+=er,yt=1<<(Bt=Xe)-le;15>Bt&&!(0>=(yt-=ke[Bt]));)++Bt,yt<<=1;ut+=er=1<<(yt=Bt-le),ie[se+(Bt=hr&vt)].g=yt+le,ie[se+Bt].value=bt-se-Bt}pe.g=Xe-le,pe.value=ze[Ve++],U(ie,bt+(hr>>le),Pe,er,pe),hr=k(hr,Xe)}}return Xt!=2*Me[15]-1?0:ut})(h,N,M,V,J,re)}function _(){this.value=this.g=0}function L(){this.value=this.g=0}function D(){this.G=s(5,_),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ho,L)}function z(h,N,M,V){e(h!=null),e(N!=null),e(2147483648>V),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=N,h.pa=M,h.Jd=N,h.Yc=M+V,h.Zc=4<=V?M+V-4+1:M,ge(h)}function ee(h,N){for(var M=0;0<N--;)M|=Le(h,128)<<N;return M}function Y(h,N){var M=ee(h,N);return Ne(h)?-M:M}function $(h,N,M,V){var J,re=0;for(e(h!=null),e(N!=null),e(4294967288>V),h.Sb=V,h.Ra=0,h.u=0,h.h=0,4<V&&(V=4),J=0;J<V;++J)re+=N[M+J]<<8*J;h.Ra=re,h.bb=V,h.oa=N,h.pa=M}function j(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<zf-8>>>0,++h.bb,h.u-=8;te(h)&&(h.h=1,h.u=0)}function K(h,N){if(e(0<=N),!h.h&&N<=qf){var M=X(h)&Vf[N];return h.u+=N,j(h),M}return h.h=1,h.u=0}function oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(h){return h.Ra>>>(h.u&zf-1)>>>0}function te(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>zf}function ue(h,N){h.u=N,h.h=te(h)}function be(h){h.u>=FA&&(e(h.u>=FA),j(h))}function ge(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ne(h){return ee(h,1)}function Le(h,N){var M=h.Ca;0>h.b&&ge(h);var V=h.b,J=M*N>>>8,re=(h.I>>>V>J)+0;for(re?(M-=J,h.I-=J+1<<V>>>0):M=J+1,V=M,J=0;256<=V;)J+=8,V>>=8;return V=7^J+Vo[V],h.b-=V,h.Ca=(M<<V)-1,re}function Ie(h,N,M){h[N+0]=M>>24&255,h[N+1]=M>>16&255,h[N+2]=M>>8&255,h[N+3]=M>>0&255}function de(h,N){return h[N+0]<<0|h[N+1]<<8}function xe(h,N){return de(h,N)|h[N+2]<<16}function qe(h,N){return de(h,N)|de(h,N+2)<<16}function wt(h,N){var M=1<<N;return e(h!=null),e(0<N),h.X=i(M),h.X==null?0:(h.Mb=32-N,h.Xa=N,1)}function Re(h,N){e(h!=null),e(N!=null),e(h.Xa==N.Xa),n(N.X,0,h.X,0,1<<N.Xa)}function Ae(){this.X=[],this.Xa=this.Mb=0}function Kt(h,N,M,V){e(M!=null),e(V!=null);var J=M[0],re=V[0];return J==0&&(J=(h*re+N/2)/N),re==0&&(re=(N*J+h/2)/h),0>=J||0>=re?0:(M[0]=J,V[0]=re,1)}function zt(h,N){return h+(1<<N)-1>>>N}function pt(h,N){return((4278255360&h)+(4278255360&N)>>>0&4278255360)+((16711935&h)+(16711935&N)>>>0&16711935)>>>0}function Oe(h,N){B[N]=function(M,V,J,re,ie,se,le){var pe;for(pe=0;pe<ie;++pe){var Pe=B[h](se[le+pe-1],J,re+pe);se[le+pe]=pt(M[V+pe],Pe)}}}function me(){this.ud=this.hd=this.jd=0}function Ue(h,N){return((4278124286&(h^N))>>>1)+(h&N)>>>0}function it(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function At(h,N){return it(h+(h-N+.5>>1))}function ct(h,N,M){return Math.abs(N-M)-Math.abs(h-M)}function Tt(h,N,M,V,J,re,ie){for(V=re[ie-1],M=0;M<J;++M)re[ie+M]=V=pt(h[N+M],V)}function Ot(h,N,M,V,J){var re;for(re=0;re<M;++re){var ie=h[N+re],se=ie>>8&255,le=16711935&(le=(le=16711935&ie)+((se<<16)+se));V[J+re]=(4278255360&ie)+le>>>0}}function vr(h,N){N.jd=h>>0&255,N.hd=h>>8&255,N.ud=h>>16&255}function rr(h,N,M,V,J,re){var ie;for(ie=0;ie<V;++ie){var se=N[M+ie],le=se>>>8,pe=se,Pe=255&(Pe=(Pe=se>>>16)+((h.jd<<24>>24)*(le<<24>>24)>>>5));pe=255&(pe=(pe=pe+((h.hd<<24>>24)*(le<<24>>24)>>>5))+((h.ud<<24>>24)*(Pe<<24>>24)>>>5)),J[re+ie]=(4278255360&se)+(Pe<<16)+pe}}function Er(h,N,M,V,J){B[N]=function(re,ie,se,le,pe,Pe,ze,Xe,Ve){for(le=ze;le<Xe;++le)for(ze=0;ze<Ve;++ze)pe[Pe++]=J(se[V(re[ie++])])},B[h]=function(re,ie,se,le,pe,Pe,ze){var Xe=8>>re.b,Ve=re.Ea,bt=re.K[0],ut=re.w;if(8>Xe)for(re=(1<<re.b)-1,ut=(1<<Xe)-1;ie<se;++ie){var ke,Me=0;for(ke=0;ke<Ve;++ke)ke&re||(Me=V(le[pe++])),Pe[ze++]=J(bt[Me&ut]),Me>>=Xe}else B["VP8LMapColor"+M](le,pe,bt,ut,Pe,ze,ie,se,Ve)}}function Nt(h,N,M,V,J){for(M=N+M;N<M;){var re=h[N++];V[J++]=re>>16&255,V[J++]=re>>8&255,V[J++]=re>>0&255}}function gn(h,N,M,V,J){for(M=N+M;N<M;){var re=h[N++];V[J++]=re>>16&255,V[J++]=re>>8&255,V[J++]=re>>0&255,V[J++]=re>>24&255}}function dt(h,N,M,V,J){for(M=N+M;N<M;){var re=(ie=h[N++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;V[J++]=re,V[J++]=ie}}function Wt(h,N,M,V,J){for(M=N+M;N<M;){var re=(ie=h[N++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;V[J++]=re,V[J++]=ie}}function Qe(h,N,M,V,J){for(M=N+M;N<M;){var re=h[N++];V[J++]=re>>0&255,V[J++]=re>>8&255,V[J++]=re>>16&255}}function tt(h,N,M,V,J,re){if(re==0)for(M=N+M;N<M;)Ie(V,((re=h[N++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),J+=32;else n(V,J,h,N,M)}function rt(h,N){B[N][0]=B[h+"0"],B[N][1]=B[h+"1"],B[N][2]=B[h+"2"],B[N][3]=B[h+"3"],B[N][4]=B[h+"4"],B[N][5]=B[h+"5"],B[N][6]=B[h+"6"],B[N][7]=B[h+"7"],B[N][8]=B[h+"8"],B[N][9]=B[h+"9"],B[N][10]=B[h+"10"],B[N][11]=B[h+"11"],B[N][12]=B[h+"12"],B[N][13]=B[h+"13"],B[N][14]=B[h+"0"],B[N][15]=B[h+"0"]}function Ct(h){return h==pb||h==Xh||h==uy||h==mb}function Nr(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nr,this.f.kb=new nr,this.sd=null}function Zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function en(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Sr(h,N){var M=h.T,V=N.ba.f.RGBA,J=V.eb,re=V.fb+h.ka*V.A,ie=Al[N.ba.S],se=h.y,le=h.O,pe=h.f,Pe=h.N,ze=h.ea,Xe=h.W,Ve=N.cc,bt=N.dc,ut=N.Mc,ke=N.Nc,Me=h.ka,yt=h.ka+h.T,Bt=h.U,vt=Bt+1>>1;for(Me==0?ie(se,le,null,null,pe,Pe,ze,Xe,pe,Pe,ze,Xe,J,re,null,null,Bt):(ie(N.ec,N.fc,se,le,Ve,bt,ut,ke,pe,Pe,ze,Xe,J,re-V.A,J,re,Bt),++M);Me+2<yt;Me+=2)Ve=pe,bt=Pe,ut=ze,ke=Xe,Pe+=h.Rc,Xe+=h.Rc,re+=2*V.A,ie(se,(le+=2*h.fa)-h.fa,se,le,Ve,bt,ut,ke,pe,Pe,ze,Xe,J,re-V.A,J,re,Bt);return le+=h.fa,h.j+yt<h.o?(n(N.ec,N.fc,se,le,Bt),n(N.cc,N.dc,pe,Pe,vt),n(N.Mc,N.Nc,ze,Xe,vt),M--):1&yt||ie(se,le,null,null,pe,Pe,ze,Xe,pe,Pe,ze,Xe,J,re+V.A,null,null,Bt),M}function Qr(h,N,M){var V=h.F,J=[h.J];if(V!=null){var re=h.U,ie=N.ba.S,se=ie==ly||ie==uy;N=N.ba.f.RGBA;var le=[0],pe=h.ka;le[0]=h.T,h.Kb&&(pe==0?--le[0]:(--pe,J[0]-=h.width),h.j+h.ka+h.T==h.o&&(le[0]=h.o-h.j-pe));var Pe=N.eb;pe=N.fb+pe*N.A,h=Kf(V,J[0],h.width,re,le,Pe,pe+(se?0:3),N.A),e(M==le),h&&Ct(ie)&&xd(Pe,pe,se,re,le,N.A)}return 0}function Yr(h){var N=h.ma,M=N.ba.S,V=11>M,J=M==oy||M==Gf||M==ly||M==hb||M==12||Ct(M);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Eo(N.Oa,h,J?11:12))return 0;if(J&&Ct(M)&&Ut(),h.da)alert("todo:use_scaling");else{if(V){if(N.Ib=Yt,h.Kb){if(M=h.U+1>>1,N.memory=i(h.U+2*M),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+h.U,N.Mc=N.cc,N.Nc=N.dc+M,N.Ib=Sr,Ut()}}else alert("todo:EmitYUV");J&&(N.Jb=Qr,V&&Ke())}if(V&&!kC){for(h=0;256>h;++h)YE[h]=89858*(h-128)+Ay>>Wf,ZE[h]=-22014*(h-128)+Ay,JE[h]=-45773*(h-128),XE[h]=113618*(h-128)+Ay>>Wf;for(h=Vm;h<vb;++h)N=76283*(h-16)+Ay>>Wf,e4[h-Vm]=An(N,255),t4[h-Vm]=An(N+8>>4,15);kC=1}return 1}function yn(h){var N=h.ma,M=h.U,V=h.T;return e(!(1&h.ka)),0>=M||0>=V?0:(M=N.Ib(h,N),N.Jb!=null&&N.Jb(h,N,M),N.Dc+=M,1)}function ra(h){h.ma.memory=null}function fr(h,N,M,V){return K(h,8)!=47?0:(N[0]=K(h,14)+1,M[0]=K(h,14)+1,V[0]=K(h,1),K(h,3)!=0?0:!h.h)}function Kr(h,N){if(4>h)return h+1;var M=h-2>>1;return(2+(1&h)<<M)+K(N,M)+1}function xr(h,N){return 120<N?N-120:1<=(M=((M=OE[N-1])>>4)*h+(8-(15&M)))?M:1;var M}function fn(h,N,M){var V=X(M),J=h[N+=255&V].g-8;return 0<J&&(ue(M,M.u+8),V=X(M),N+=h[N].value,N+=V&(1<<J)-1),ue(M,M.u+h[N].g),h[N].value}function Jr(h,N,M){return M.g+=h.g,M.value+=h.value<<N>>>0,e(8>=M.g),h.g}function ln(h,N,M){var V=h.xc;return e((N=V==0?0:h.vc[h.md*(M>>V)+(N>>V)])<h.Wb),h.Ya[N]}function ma(h,N,M,V){var J=h.ab,re=h.c*N,ie=h.C;N=ie+N;var se=M,le=V;for(V=h.Ta,M=h.Ua;0<J--;){var pe=h.gc[J],Pe=ie,ze=N,Xe=se,Ve=le,bt=(le=V,se=M,pe.Ea);switch(e(Pe<ze),e(ze<=pe.nc),pe.hc){case 2:Zu(Xe,Ve,(ze-Pe)*bt,le,se);break;case 0:var ut=Pe,ke=ze,Me=le,yt=se,Bt=(er=pe).Ea;ut==0&&(ny(Xe,Ve,null,null,1,Me,yt),Tt(Xe,Ve+1,0,0,Bt-1,Me,yt+1),Ve+=Bt,yt+=Bt,++ut);for(var vt=1<<er.b,hr=vt-1,Xt=zt(Bt,er.b),Zr=er.K,er=er.w+(ut>>er.b)*Xt;ut<ke;){var Mt=Zr,Ra=er,oa=1;for(To(Xe,Ve,Me,yt-Bt,1,Me,yt);oa<Bt;){var Qn=(oa&~hr)+vt;Qn>Bt&&(Qn=Bt),(0,bd[Mt[Ra++]>>8&15])(Xe,Ve+ +oa,Me,yt+oa-Bt,Qn-oa,Me,yt+oa),oa=Qn}Ve+=Bt,yt+=Bt,++ut&hr||(er+=Xt)}ze!=pe.nc&&n(le,se-bt,le,se+(ze-Pe-1)*bt,bt);break;case 1:for(bt=Xe,ke=Ve,Bt=(Xe=pe.Ea)-(yt=Xe&~(Me=(Ve=1<<pe.b)-1)),ut=zt(Xe,pe.b),vt=pe.K,pe=pe.w+(Pe>>pe.b)*ut;Pe<ze;){for(hr=vt,Xt=pe,Zr=new me,er=ke+yt,Mt=ke+Xe;ke<er;)vr(hr[Xt++],Zr),cl(Zr,bt,ke,Ve,le,se),ke+=Ve,se+=Ve;ke<Mt&&(vr(hr[Xt++],Zr),cl(Zr,bt,ke,Bt,le,se),ke+=Bt,se+=Bt),++Pe&Me||(pe+=ut)}break;case 3:if(Xe==le&&Ve==se&&0<pe.b){for(ke=le,Xe=bt=se+(ze-Pe)*bt-(yt=(ze-Pe)*zt(pe.Ea,pe.b)),Ve=le,Me=se,ut=[],yt=(Bt=yt)-1;0<=yt;--yt)ut[yt]=Ve[Me+yt];for(yt=Bt-1;0<=yt;--yt)ke[Xe+yt]=ut[yt];Us(pe,Pe,ze,le,bt,le,se)}else Us(pe,Pe,ze,Xe,Ve,le,se)}se=V,le=M}le!=M&&n(V,M,se,le,re)}function Ia(h,N){var M=h.V,V=h.Ba+h.c*h.C,J=N-h.C;if(e(N<=h.l.o),e(16>=J),0<J){var re=h.l,ie=h.Ta,se=h.Ua,le=re.width;if(ma(h,J,M,V),J=se=[se],e((M=h.C)<(V=N)),e(re.v<re.va),V>re.o&&(V=re.o),M<re.j){var pe=re.j-M;M=re.j,J[0]+=pe*le}if(M>=V?M=0:(J[0]+=4*re.v,re.ka=M-re.j,re.U=re.va-re.v,re.T=V-M,M=1),M){if(se=se[0],11>(M=h.ca).S){var Pe=M.f.RGBA,ze=(V=M.S,J=re.U,re=re.T,pe=Pe.eb,Pe.A),Xe=re;for(Pe=Pe.fb+h.Ma*Pe.A;0<Xe--;){var Ve=ie,bt=se,ut=J,ke=pe,Me=Pe;switch(V){case Cd:gu(Ve,bt,ut,ke,Me);break;case oy:RA(Ve,bt,ut,ke,Me);break;case pb:RA(Ve,bt,ut,ke,Me),xd(ke,Me,0,ut,1,0);break;case CC:Gh(Ve,bt,ut,ke,Me);break;case Gf:tt(Ve,bt,ut,ke,Me,1);break;case Xh:tt(Ve,bt,ut,ke,Me,1),xd(ke,Me,0,ut,1,0);break;case ly:tt(Ve,bt,ut,ke,Me,0);break;case uy:tt(Ve,bt,ut,ke,Me,0),xd(ke,Me,1,ut,1,0);break;case hb:dl(Ve,bt,ut,ke,Me);break;case mb:dl(Ve,bt,ut,ke,Me),Yh(ke,Me,ut,1,0);break;case IC:uo(Ve,bt,ut,ke,Me);break;default:e(0)}se+=le,Pe+=ze}h.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=M.height)}}h.C=N,e(h.C<=h.i)}function ri(h){var N;if(0<h.ua)return 0;for(N=0;N<h.Wb;++N){var M=h.Ya[N].G,V=h.Ya[N].H;if(0<M[1][V[1]+0].g||0<M[2][V[2]+0].g||0<M[3][V[3]+0].g)return 0}return 1}function Pi(h,N,M,V,J,re){if(h.Z!=0){var ie=h.qd,se=h.rd;for(e(MA[h.Z]!=null);N<M;++N)MA[h.Z](ie,se,V,J,V,J,re),ie=V,se=J,J+=re;h.qd=ie,h.rd=se}}function na(h,N){var M=h.l.ma,V=M.Z==0||M.Z==1?h.l.j:h.C;if(V=h.C<V?V:h.C,e(N<=h.l.o),N>V){var J=h.l.width,re=M.ca,ie=M.tb+J*V,se=h.V,le=h.Ba+h.c*V,pe=h.gc;e(h.ab==1),e(pe[0].hc==3),Dc(pe[0],V,N,se,le,re,ie),Pi(M,V,N,re,ie,J)}h.C=h.Ma=N}function ki(h,N,M,V,J,re,ie){var se=h.$/V,le=h.$%V,pe=h.m,Pe=h.s,ze=M+h.$,Xe=ze;J=M+V*J;var Ve=M+V*re,bt=280+Pe.ua,ut=h.Pb?se:16777216,ke=0<Pe.ua?Pe.Wa:null,Me=Pe.wc,yt=ze<Ve?ln(Pe,le,se):null;e(h.C<re),e(Ve<=J);var Bt=!1;e:for(;;){for(;Bt||ze<Ve;){var vt=0;if(se>=ut){var hr=ze-M;e((ut=h).Pb),ut.wd=ut.m,ut.xd=hr,0<ut.s.ua&&Re(ut.s.Wa,ut.s.vb),ut=se+cy}if(le&Me||(yt=ln(Pe,le,se)),e(yt!=null),yt.Qb&&(N[ze]=yt.qb,Bt=!0),!Bt)if(be(pe),yt.jc){vt=pe,hr=N;var Xt=ze,Zr=yt.pd[X(vt)&Ho-1];e(yt.jc),256>Zr.g?(ue(vt,vt.u+Zr.g),hr[Xt]=Zr.value,vt=0):(ue(vt,vt.u+Zr.g-256),e(256<=Zr.value),vt=Zr.value),vt==0&&(Bt=!0)}else vt=fn(yt.G[0],yt.H[0],pe);if(pe.h)break;if(Bt||256>vt){if(!Bt)if(yt.nd)N[ze]=(yt.qb|vt<<8)>>>0;else{if(be(pe),Bt=fn(yt.G[1],yt.H[1],pe),be(pe),hr=fn(yt.G[2],yt.H[2],pe),Xt=fn(yt.G[3],yt.H[3],pe),pe.h)break;N[ze]=(Xt<<24|Bt<<16|vt<<8|hr)>>>0}if(Bt=!1,++ze,++le>=V&&(le=0,++se,ie!=null&&se<=re&&!(se%16)&&ie(h,se),ke!=null))for(;Xe<ze;)vt=N[Xe++],ke.X[(506832829*vt&4294967295)>>>ke.Mb]=vt}else if(280>vt){if(vt=Kr(vt-256,pe),hr=fn(yt.G[4],yt.H[4],pe),be(pe),hr=xr(V,hr=Kr(hr,pe)),pe.h)break;if(ze-M<hr||J-ze<vt)break e;for(Xt=0;Xt<vt;++Xt)N[ze+Xt]=N[ze+Xt-hr];for(ze+=vt,le+=vt;le>=V;)le-=V,++se,ie!=null&&se<=re&&!(se%16)&&ie(h,se);if(e(ze<=J),le&Me&&(yt=ln(Pe,le,se)),ke!=null)for(;Xe<ze;)vt=N[Xe++],ke.X[(506832829*vt&4294967295)>>>ke.Mb]=vt}else{if(!(vt<bt))break e;for(Bt=vt-280,e(ke!=null);Xe<ze;)vt=N[Xe++],ke.X[(506832829*vt&4294967295)>>>ke.Mb]=vt;vt=ze,e(!(Bt>>>(hr=ke).Xa)),N[vt]=hr.X[Bt],Bt=!0}Bt||e(pe.h==te(pe))}if(h.Pb&&pe.h&&ze<J)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Re(h.s.vb,h.s.Wa);else{if(pe.h)break e;ie?.(h,se>re?re:se),h.a=0,h.$=ze-M}return 1}return h.a=3,0}function ps(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var N=h.Wa;N!=null&&(N.X=null),h.vb=null,e(h!=null)}function ni(){var h=new Hf;return h==null?null:(h.a=0,h.xb=BC,rt("Predictor","VP8LPredictors"),rt("Predictor","VP8LPredictors_C"),rt("PredictorAdd","VP8LPredictorsAdd"),rt("PredictorAdd","VP8LPredictorsAdd_C"),Zu=Ot,cl=rr,gu=Nt,RA=gn,dl=dt,uo=Wt,Gh=Qe,B.VP8LMapColor32b=Ri,B.VP8LMapColor8b=ay,h)}function za(h,N,M,V,J){var re=1,ie=[h],se=[N],le=V.m,pe=V.s,Pe=null,ze=0;e:for(;;){if(M)for(;re&&K(le,1);){var Xe=ie,Ve=se,bt=V,ut=1,ke=bt.m,Me=bt.gc[bt.ab],yt=K(ke,2);if(bt.Oc&1<<yt)re=0;else{switch(bt.Oc|=1<<yt,Me.hc=yt,Me.Ea=Xe[0],Me.nc=Ve[0],Me.K=[null],++bt.ab,e(4>=bt.ab),yt){case 0:case 1:Me.b=K(ke,3)+2,ut=za(zt(Me.Ea,Me.b),zt(Me.nc,Me.b),0,bt,Me.K),Me.K=Me.K[0];break;case 3:var Bt,vt=K(ke,8)+1,hr=16<vt?0:4<vt?1:2<vt?2:3;if(Xe[0]=zt(Me.Ea,hr),Me.b=hr,Bt=ut=za(vt,1,0,bt,Me.K)){var Xt,Zr=vt,er=Me,Mt=1<<(8>>er.b),Ra=i(Mt);if(Ra==null)Bt=0;else{var oa=er.K[0],Qn=er.w;for(Ra[0]=er.K[0][0],Xt=1;Xt<1*Zr;++Xt)Ra[Xt]=pt(oa[Qn+Xt],Ra[Xt-1]);for(;Xt<4*Mt;++Xt)Ra[Xt]=0;er.K[0]=null,er.K[0]=Ra,Bt=1}}ut=Bt;break;case 2:break;default:e(0)}re=ut}}if(ie=ie[0],se=se[0],re&&K(le,1)&&!(re=1<=(ze=K(le,4))&&11>=ze)){V.a=3;break e}var Xn;if(Xn=re)t:{var Qa,bn,hi,co=V,ss=ie,fl=se,Ua=ze,ys=M,qo=co.m,os=co.s,Ao=[null],Lo=1,vu=0,bu=QE[Ua];r:for(;;){if(ys&&K(qo,1)){var Ds=K(qo,3)+2,Nd=zt(ss,Ds),$f=zt(fl,Ds),Zh=Nd*$f;if(!za(Nd,$f,0,co,Ao))break r;for(Ao=Ao[0],os.xc=Ds,Qa=0;Qa<Zh;++Qa){var OA=Ao[Qa]>>8&65535;Ao[Qa]=OA,OA>=Lo&&(Lo=OA+1)}}if(qo.h)break r;for(bn=0;5>bn;++bn){var Di=Qm[bn];!bn&&0<Ua&&(Di+=1<<Ua),vu<Di&&(vu=Di)}var wb=s(Lo*bu,_),FC=Lo,xb=s(FC,D);if(xb==null)var hy=null;else e(65536>=FC),hy=xb;var qm=i(vu);if(hy==null||qm==null||wb==null){co.a=1;break r}var py=wb;for(Qa=hi=0;Qa<Lo;++Qa){var wu=hy[Qa],ep=wu.G,Sd=wu.H,RC=0,tp=1,my=0;for(bn=0;5>bn;++bn){Di=Qm[bn],ep[bn]=py,Sd[bn]=hi,!bn&&0<Ua&&(Di+=1<<Ua);a:{var zm,gy=Di,yy=co,rp=qm,Cb=py,Ib=hi,vy=0,Bd=yy.m,UC=K(Bd,1);if(a(rp,0,0,gy),UC){var DC=K(Bd,1)+1,Nb=K(Bd,1),MC=K(Bd,Nb==0?1:8);rp[MC]=1,DC==2&&(rp[MC=K(Bd,8)]=1);var by=1}else{var OC=i(19),jl=K(Bd,4)+4;if(19<jl){yy.a=3;var np=0;break a}for(zm=0;zm<jl;++zm)OC[ME[zm]]=K(Bd,3);var Sb=void 0,jm=void 0,QC=yy,a4=OC,wy=gy,HC=rp,Bb=0,QA=QC.m,VC=8,_b=s(128,_);n:for(;E(_b,0,7,a4,19);){if(K(QA,1)){var i4=2+2*K(QA,3);if((Sb=2+K(QA,i4))>wy)break n}else Sb=wy;for(jm=0;jm<wy&&Sb--;){be(QA);var xy=_b[0+(127&X(QA))];ue(QA,QA.u+xy.g);var Yf=xy.value;if(16>Yf)HC[jm++]=Yf,Yf!=0&&(VC=Yf);else{var fo=Yf==16,ap=Yf-16,s4=UE[ap],qC=K(QA,RE[ap])+s4;if(jm+qC>wy)break n;for(var zC=fo?VC:0;0<qC--;)HC[jm++]=zC}}Bb=1;break n}Bb||(QC.a=3),by=Bb}(by=by&&!Bd.h)&&(vy=E(Cb,Ib,8,rp,gy)),by&&vy!=0?np=vy:(yy.a=3,np=0)}if(np==0)break r;if(tp&&DE[bn]==1&&(tp=py[hi].g==0),RC+=py[hi].g,hi+=np,3>=bn){var Xf,Eb=qm[0];for(Xf=1;Xf<Di;++Xf)qm[Xf]>Eb&&(Eb=qm[Xf]);my+=Eb}}if(wu.nd=tp,wu.Qb=0,tp&&(wu.qb=(ep[3][Sd[3]+0].value<<24|ep[1][Sd[1]+0].value<<16|ep[2][Sd[2]+0].value)>>>0,RC==0&&256>ep[0][Sd[0]+0].value&&(wu.Qb=1,wu.qb+=ep[0][Sd[0]+0].value<<8)),wu.jc=!wu.Qb&&6>my,wu.jc){var Cy,_d=wu;for(Cy=0;Cy<Ho;++Cy){var HA=Cy,VA=_d.pd[HA],Iy=_d.G[0][_d.H[0]+HA];256<=Iy.value?(VA.g=Iy.g+256,VA.value=Iy.value):(VA.g=0,VA.value=0,HA>>=Jr(Iy,8,VA),HA>>=Jr(_d.G[1][_d.H[1]+HA],16,VA),HA>>=Jr(_d.G[2][_d.H[2]+HA],0,VA),Jr(_d.G[3][_d.H[3]+HA],24,VA))}}}os.vc=Ao,os.Wb=Lo,os.Ya=hy,os.yc=wb,Xn=1;break t}Xn=0}if(!(re=Xn)){V.a=3;break e}if(0<ze){if(pe.ua=1<<ze,!wt(pe.Wa,ze)){V.a=1,re=0;break e}}else pe.ua=0;var Tb=V,jC=ie,KC=se,Ny=Tb.s,Sy=Ny.xc;if(Tb.c=jC,Tb.i=KC,Ny.md=zt(jC,Sy),Ny.wc=Sy==0?-1:(1<<Sy)-1,M){V.xb=SC;break e}if((Pe=i(ie*se))==null){V.a=1,re=0;break e}re=(re=ki(V,Pe,0,ie,se,se,null))&&!le.h;break e}return re?(J!=null?J[0]=Pe:(e(Pe==null),e(M)),V.$=0,M||ps(pe)):ps(pe),re}function Do(h,N){var M=h.c*h.i,V=M+N+16*N;return e(h.c<=N),h.V=i(V),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+M+N,1)}function Cr(h,N){var M=h.C,V=N-M,J=h.V,re=h.Ba+h.c*M;for(e(N<=h.l.o);0<V;){var ie=16<V?16:V,se=h.l.ma,le=h.l.width,pe=le*ie,Pe=se.ca,ze=se.tb+le*M,Xe=h.Ta,Ve=h.Ua;ma(h,ie,J,re),vC(Xe,Ve,Pe,ze,pe),Pi(se,M,M+ie,Pe,ze,le),V-=ie,J+=ie*h.c,M+=ie}e(M==N),h.C=h.Ma=N}function Se(){this.ub=this.yd=this.td=this.Rb=0}function St(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vn(){this.Yb=(function(){var h=[];return(function N(M,V,J){for(var re=J[V],ie=0;ie<re&&(M.push(J.length>V+1?[]:0),!(J.length<V+1));ie++)N(M[ie],V+1,J)})(h,0,[3,11]),h})()}function La(){this.jb=i(3),this.Wc=o([4,8],vn),this.Xc=o([4,17],vn)}function Yn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Na(){this.ld=this.La=this.dd=this.tc=0}function qi(){this.Na=this.la=0}function Fi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function as(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pa(){this.uc=this.M=this.Nb=0,this.wa=Array(new Na),this.Y=0,this.ya=Array(new as),this.aa=0,this.l=new $u}function il(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Mo(){this.cb=this.a=0,this.sc="",this.m=new oe,this.Od=new Se,this.Kc=new St,this.ed=new Yn,this.Qa=new lr,this.Ic=this.$c=this.Aa=0,this.D=new Pa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,oe),this.ia=0,this.pb=s(4,Fi),this.Pa=new La,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new il),this.Hd=0,this.rb=Array(new qi),this.sb=0,this.wa=Array(new Na),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new as),this.L=this.aa=0,this.gd=o([4,2],Na),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $u(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function md(){var h=new Mo;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Hm||(Hm=Dl)),h}function Ma(h,N,M){return h.a==0&&(h.a=N,h.sc=M,h.cb=0),0}function Ul(h,N,M){return 3<=M&&h[N+0]==157&&h[N+1]==1&&h[N+2]==42}function fu(h,N){if(h==null)return 0;if(h.a=0,h.sc="OK",N==null)return Ma(h,2,"null VP8Io passed to VP8GetHeaders()");var M=N.data,V=N.w,J=N.ha;if(4>J)return Ma(h,7,"Truncated header.");var re=M[V+0]|M[V+1]<<8|M[V+2]<<16,ie=h.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return Ma(h,3,"Incorrect keyframe parameters.");if(!ie.yd)return Ma(h,4,"Frame not displayable.");V+=3,J-=3;var se=h.Kc;if(ie.Rb){if(7>J)return Ma(h,7,"cannot parse picture header");if(!Ul(M,V,J))return Ma(h,3,"Bad code word");se.c=16383&(M[V+4]<<8|M[V+3]),se.Td=M[V+4]>>6,se.i=16383&(M[V+6]<<8|M[V+5]),se.Ud=M[V+6]>>6,V+=7,J-=7,h.za=se.c+15>>4,h.Ub=se.i+15>>4,N.width=se.c,N.height=se.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((re=h.Pa).jb,0,255,re.jb.length),e((re=h.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,a(re.Zb,0,0,re.Zb.length),a(re.Lb,0,0,re.Lb)}if(ie.ub>J)return Ma(h,7,"bad partition length");z(re=h.m,M,V,ie.ub),V+=ie.ub,J-=ie.ub,ie.Rb&&(se.Ld=Ne(re),se.Kd=Ne(re)),se=h.Qa;var le,pe=h.Pa;if(e(re!=null),e(se!=null),se.Cb=Ne(re),se.Cb){if(se.Bb=Ne(re),Ne(re)){for(se.Fb=Ne(re),le=0;4>le;++le)se.Zb[le]=Ne(re)?Y(re,7):0;for(le=0;4>le;++le)se.Lb[le]=Ne(re)?Y(re,6):0}if(se.Bb)for(le=0;3>le;++le)pe.jb[le]=Ne(re)?ee(re,8):255}else se.Bb=0;if(re.Ka)return Ma(h,3,"cannot parse segment header");if((se=h.ed).zd=Ne(re),se.Tb=ee(re,6),se.wb=ee(re,3),se.Pc=Ne(re),se.Pc&&Ne(re)){for(pe=0;4>pe;++pe)Ne(re)&&(se.vd[pe]=Y(re,6));for(pe=0;4>pe;++pe)Ne(re)&&(se.od[pe]=Y(re,6))}if(h.L=se.Tb==0?0:se.zd?1:2,re.Ka)return Ma(h,3,"cannot parse filter header");var Pe=J;if(J=le=V,V=le+Pe,se=Pe,h.Xb=(1<<ee(h.m,2))-1,Pe<3*(pe=h.Xb))M=7;else{for(le+=3*pe,se-=3*pe,Pe=0;Pe<pe;++Pe){var ze=M[J+0]|M[J+1]<<8|M[J+2]<<16;ze>se&&(ze=se),z(h.Jc[+Pe],M,le,ze),le+=ze,se-=ze,J+=3}z(h.Jc[+pe],M,le,se),M=le<V?0:5}if(M!=0)return Ma(h,M,"cannot parse partitions");for(M=ee(le=h.m,7),J=Ne(le)?Y(le,4):0,V=Ne(le)?Y(le,4):0,se=Ne(le)?Y(le,4):0,pe=Ne(le)?Y(le,4):0,le=Ne(le)?Y(le,4):0,Pe=h.Qa,ze=0;4>ze;++ze){if(Pe.Cb){var Xe=Pe.Zb[ze];Pe.Fb||(Xe+=M)}else{if(0<ze){h.pb[ze]=h.pb[0];continue}Xe=M}var Ve=h.pb[ze];Ve.Sc[0]=gb[An(Xe+J,127)],Ve.Sc[1]=yb[An(Xe+0,127)],Ve.Eb[0]=2*gb[An(Xe+V,127)],Ve.Eb[1]=101581*yb[An(Xe+se,127)]>>16,8>Ve.Eb[1]&&(Ve.Eb[1]=8),Ve.Qc[0]=gb[An(Xe+pe,117)],Ve.Qc[1]=yb[An(Xe+le,127)],Ve.lc=Xe+le}if(!ie.Rb)return Ma(h,4,"Not a key frame.");for(Ne(re),ie=h.Pa,M=0;4>M;++M){for(J=0;8>J;++J)for(V=0;3>V;++V)for(se=0;11>se;++se)pe=Le(re,jE[M][J][V][se])?ee(re,8):qE[M][J][V][se],ie.Wc[M][J].Yb[V][se]=pe;for(J=0;17>J;++J)ie.Xc[M][J]=ie.Wc[M][KE[J]]}return h.kc=Ne(re),h.kc&&(h.Bd=ee(re,8)),h.cb=1}function Dl(h,N,M,V,J,re,ie){var se=N[J].Yb[M];for(M=0;16>J;++J){if(!Le(h,se[M+0]))return J;for(;!Le(h,se[M+1]);)if(se=N[++J].Yb[0],M=0,J==16)return 16;var le=N[J+1].Yb;if(Le(h,se[M+2])){var pe=h,Pe=0;if(Le(pe,(Xe=se)[(ze=M)+3]))if(Le(pe,Xe[ze+6])){for(se=0,ze=2*(Pe=Le(pe,Xe[ze+8]))+(Xe=Le(pe,Xe[ze+9+Pe])),Pe=0,Xe=HE[ze];Xe[se];++se)Pe+=Pe+Le(pe,Xe[se]);Pe+=3+(8<<ze)}else Le(pe,Xe[ze+7])?(Pe=7+2*Le(pe,165),Pe+=Le(pe,145)):Pe=5+Le(pe,159);else Pe=Le(pe,Xe[ze+4])?3+Le(pe,Xe[ze+5]):2;se=le[2]}else Pe=1,se=le[1];le=ie+VE[J],0>(pe=h).b&&ge(pe);var ze,Xe=pe.b,Ve=(ze=pe.Ca>>1)-(pe.I>>Xe)>>31;--pe.b,pe.Ca+=Ve,pe.Ca|=1,pe.I-=(ze+1&Ve)<<Xe,re[le]=((Pe^Ve)-Ve)*V[(0<J)+0]}return 16}function Ec(h){var N=h.rb[h.sb-1];N.la=0,N.Na=0,a(h.zc,0,0,h.zc.length),h.ja=0}function zi(h,N){if(h==null)return 0;if(N==null)return Ma(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!fu(h,N))return 0;if(e(h.cb),N.ac==null||N.ac(N)){N.ob&&(h.L=0);var M=fy[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=N.v-M>>4,h.zb=N.j-M>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=N.o+15+M>>4,h.Hb=N.va+15+M>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var V=h.ed;for(M=0;4>M;++M){var J;if(h.Qa.Cb){var re=h.Qa.Lb[M];h.Qa.Fb||(re+=V.Tb)}else re=V.Tb;for(J=0;1>=J;++J){var ie=h.gd[M][J],se=re;if(V.Pc&&(se+=V.vd[0],J&&(se+=V.od[0])),0<(se=0>se?0:63<se?63:se)){var le=se;0<V.wb&&(le=4<V.wb?le>>2:le>>1)>9-V.wb&&(le=9-V.wb),1>le&&(le=1),ie.dd=le,ie.tc=2*se+le,ie.ld=40<=se?2:15<=se?1:0}else ie.tc=0;ie.La=J}}}M=0}else Ma(h,6,"Frame setup failed"),M=h.a;if(M=M==0){if(M){h.$c=0,0<h.Aa||(h.Ic=n4);e:{M=h.Ic,V=4*(le=h.za);var pe=32*le,Pe=le+1,ze=0<h.L?le*(0<h.Aa?2:1):0,Xe=(h.Aa==2?2:1)*le;if((ie=V+832+(J=3*(16*M+fy[h.L])/2*pe)+(re=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=ie)M=0;else{if(ie>h.Vb){if(h.Vb=0,h.Ec=i(ie),h.Fc=0,h.Ec==null){M=Ma(h,1,"no memory during frame initialization.");break e}h.Vb=ie}ie=h.Ec,se=h.Fc,h.Ac=ie,h.Bc=se,se+=V,h.Gd=s(pe,il),h.Hd=0,h.rb=s(Pe+1,qi),h.sb=1,h.wa=ze?s(ze,Na):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=le),e(!0),h.oc=ie,h.pc=se,se+=832,h.ya=s(Xe,as),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=le),h.R=16*le,h.B=8*le,le=(pe=fy[h.L])*h.R,pe=pe/2*h.B,h.sa=ie,h.ta=se+le,h.qa=h.sa,h.ra=h.ta+16*M*h.R+pe,h.Ha=h.qa,h.Ia=h.ra+8*M*h.B+pe,h.$c=0,se+=J,h.mb=re?ie:null,h.nb=re?se:null,e(se+re<=h.Fc+h.Vb),Ec(h),a(h.Ac,h.Bc,0,V),M=1}}if(M){if(N.ka=0,N.y=h.sa,N.O=h.ta,N.f=h.qa,N.N=h.ra,N.ea=h.Ha,N.Vd=h.Ia,N.fa=h.R,N.Rc=h.B,N.F=null,N.J=0,!xC){for(M=-255;255>=M;++M)bC[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)iy[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)wC[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Ab[255+M]=0>M?0:255<M?255:M;xC=1}ec=ka,wd=kt,UA=jt,tc=Xr,gs=Wr,Wh=Jn,DA=Ju,$h=lo,jf=Kh,rc=Uc,Om=Rc,ql=Ol,Mc=Of,ja=Qf,Ka=ms,Ui=Rs,is=Ml,Oc=_o,ac[0]=sl,ac[1]=Ai,ac[2]=SA,ac[3]=hu,ac[4]=BA,ac[5]=Fs,ac[6]=so,ac[7]=Lc,ac[8]=Xu,ac[9]=_A,nc[0]=NA,nc[1]=io,nc[2]=Qo,nc[3]=No,nc[4]=fi,nc[5]=ks,nc[6]=gd,Id[0]=oo,Id[1]=ao,Id[2]=Pc,Id[3]=kc,Id[4]=Bo,Id[5]=Fc,Id[6]=Sa,M=1}else M=0}M&&(M=(function(Ve,bt){for(Ve.M=0;Ve.M<Ve.Va;++Ve.M){var ut,ke=Ve.Jc[Ve.M&Ve.Xb],Me=Ve.m,yt=Ve;for(ut=0;ut<yt.za;++ut){var Bt=Me,vt=yt,hr=vt.Ac,Xt=vt.Bc+4*ut,Zr=vt.zc,er=vt.ya[vt.aa+ut];if(vt.Qa.Bb?er.$b=Le(Bt,vt.Pa.jb[0])?2+Le(Bt,vt.Pa.jb[2]):Le(Bt,vt.Pa.jb[1]):er.$b=0,vt.kc&&(er.Ad=Le(Bt,vt.Bd)),er.Za=!Le(Bt,145)+0,er.Za){var Mt=er.Ob,Ra=0;for(vt=0;4>vt;++vt){var oa,Qn=Zr[0+vt];for(oa=0;4>oa;++oa){Qn=zE[hr[Xt+oa]][Qn];for(var Xn=NC[Le(Bt,Qn[0])];0<Xn;)Xn=NC[2*Xn+Le(Bt,Qn[Xn])];Qn=-Xn,hr[Xt+oa]=Qn}n(Mt,Ra,hr,Xt,4),Ra+=4,Zr[0+vt]=Qn}}else Qn=Le(Bt,156)?Le(Bt,128)?1:3:Le(Bt,163)?2:0,er.Ob[0]=Qn,a(hr,Xt,Qn,4),a(Zr,0,Qn,4);er.Dd=Le(Bt,142)?Le(Bt,114)?Le(Bt,183)?1:3:2:0}if(yt.m.Ka)return Ma(Ve,7,"Premature end-of-partition0 encountered.");for(;Ve.ja<Ve.za;++Ve.ja){if(yt=ke,Bt=(Me=Ve).rb[Me.sb-1],hr=Me.rb[Me.sb+Me.ja],ut=Me.ya[Me.aa+Me.ja],Xt=Me.kc?ut.Ad:0)Bt.la=hr.la=0,ut.Za||(Bt.Na=hr.Na=0),ut.Hc=0,ut.Gc=0,ut.ia=0;else{var Qa,bn;if(Bt=hr,hr=yt,Xt=Me.Pa.Xc,Zr=Me.ya[Me.aa+Me.ja],er=Me.pb[Zr.$b],vt=Zr.ad,Mt=0,Ra=Me.rb[Me.sb-1],Qn=oa=0,a(vt,Mt,0,384),Zr.Za)var hi=0,co=Xt[3];else{Xn=i(16);var ss=Bt.Na+Ra.Na;if(ss=Hm(hr,Xt[1],ss,er.Eb,0,Xn,0),Bt.Na=Ra.Na=(0<ss)+0,1<ss)ec(Xn,0,vt,Mt);else{var fl=Xn[0]+3>>3;for(Xn=0;256>Xn;Xn+=16)vt[Mt+Xn]=fl}hi=1,co=Xt[0]}var Ua=15&Bt.la,ys=15&Ra.la;for(Xn=0;4>Xn;++Xn){var qo=1&ys;for(fl=bn=0;4>fl;++fl)Ua=Ua>>1|(qo=(ss=Hm(hr,co,ss=qo+(1&Ua),er.Sc,hi,vt,Mt))>hi)<<7,bn=bn<<2|(3<ss?3:1<ss?2:vt[Mt+0]!=0),Mt+=16;Ua>>=4,ys=ys>>1|qo<<7,oa=(oa<<8|bn)>>>0}for(co=Ua,hi=ys>>4,Qa=0;4>Qa;Qa+=2){for(bn=0,Ua=Bt.la>>4+Qa,ys=Ra.la>>4+Qa,Xn=0;2>Xn;++Xn){for(qo=1&ys,fl=0;2>fl;++fl)ss=qo+(1&Ua),Ua=Ua>>1|(qo=0<(ss=Hm(hr,Xt[2],ss,er.Qc,0,vt,Mt)))<<3,bn=bn<<2|(3<ss?3:1<ss?2:vt[Mt+0]!=0),Mt+=16;Ua>>=2,ys=ys>>1|qo<<5}Qn|=bn<<4*Qa,co|=Ua<<4<<Qa,hi|=(240&ys)<<Qa}Bt.la=co,Ra.la=hi,Zr.Hc=oa,Zr.Gc=Qn,Zr.ia=43690&Qn?0:er.ia,Xt=!(oa|Qn)}if(0<Me.L&&(Me.wa[Me.Y+Me.ja]=Me.gd[ut.$b][ut.Za],Me.wa[Me.Y+Me.ja].La|=!Xt),yt.Ka)return Ma(Ve,7,"Premature end-of-file encountered.")}if(Ec(Ve),Me=bt,yt=1,ut=(ke=Ve).D,Bt=0<ke.L&&ke.M>=ke.zb&&ke.M<=ke.Va,ke.Aa==0)e:{if(ut.M=ke.M,ut.uc=Bt,sa(ke,ut),yt=1,ut=(bn=ke.D).Nb,Bt=(Qn=fy[ke.L])*ke.R,hr=Qn/2*ke.B,Xn=16*ut*ke.R,fl=8*ut*ke.B,Xt=ke.sa,Zr=ke.ta-Bt+Xn,er=ke.qa,vt=ke.ra-hr+fl,Mt=ke.Ha,Ra=ke.Ia-hr+fl,ys=(Ua=bn.M)==0,oa=Ua>=ke.Va-1,ke.Aa==2&&sa(ke,bn),bn.uc)for(qo=(ss=ke).D.M,e(ss.D.uc),bn=ss.yb;bn<ss.Hb;++bn){hi=bn,co=qo;var os=(Ao=(Di=ss).D).Nb;Qa=Di.R;var Ao=Ao.wa[Ao.Y+hi],Lo=Di.sa,vu=Di.ta+16*os*Qa+16*hi,bu=Ao.dd,Ds=Ao.tc;if(Ds!=0)if(e(3<=Ds),Di.L==1)0<hi&&Ui(Lo,vu,Qa,Ds+4),Ao.La&&Oc(Lo,vu,Qa,Ds),0<co&&Ka(Lo,vu,Qa,Ds+4),Ao.La&&is(Lo,vu,Qa,Ds);else{var Nd=Di.B,$f=Di.qa,Zh=Di.ra+8*os*Nd+8*hi,OA=Di.Ha,Di=Di.Ia+8*os*Nd+8*hi;os=Ao.ld,0<hi&&($h(Lo,vu,Qa,Ds+4,bu,os),rc($f,Zh,OA,Di,Nd,Ds+4,bu,os)),Ao.La&&(ql(Lo,vu,Qa,Ds,bu,os),ja($f,Zh,OA,Di,Nd,Ds,bu,os)),0<co&&(DA(Lo,vu,Qa,Ds+4,bu,os),jf($f,Zh,OA,Di,Nd,Ds+4,bu,os)),Ao.La&&(Om(Lo,vu,Qa,Ds,bu,os),Mc($f,Zh,OA,Di,Nd,Ds,bu,os))}}if(ke.ia&&alert("todo:DitherRow"),Me.put!=null){if(bn=16*Ua,Ua=16*(Ua+1),ys?(Me.y=ke.sa,Me.O=ke.ta+Xn,Me.f=ke.qa,Me.N=ke.ra+fl,Me.ea=ke.Ha,Me.W=ke.Ia+fl):(bn-=Qn,Me.y=Xt,Me.O=Zr,Me.f=er,Me.N=vt,Me.ea=Mt,Me.W=Ra),oa||(Ua-=Qn),Ua>Me.o&&(Ua=Me.o),Me.F=null,Me.J=null,ke.Fa!=null&&0<ke.Fa.length&&bn<Ua&&(Me.J=Ql(ke,Me,bn,Ua-bn),Me.F=ke.mb,Me.F==null&&Me.F.length==0)){yt=Ma(ke,3,"Could not decode alpha data.");break e}bn<Me.j&&(Qn=Me.j-bn,bn=Me.j,e(!(1&Qn)),Me.O+=ke.R*Qn,Me.N+=ke.B*(Qn>>1),Me.W+=ke.B*(Qn>>1),Me.F!=null&&(Me.J+=Me.width*Qn)),bn<Ua&&(Me.O+=Me.v,Me.N+=Me.v>>1,Me.W+=Me.v>>1,Me.F!=null&&(Me.J+=Me.v),Me.ka=bn-Me.j,Me.U=Me.va-Me.v,Me.T=Ua-bn,yt=Me.put(Me))}ut+1!=ke.Ic||oa||(n(ke.sa,ke.ta-Bt,Xt,Zr+16*ke.R,Bt),n(ke.qa,ke.ra-hr,er,vt+8*ke.B,hr),n(ke.Ha,ke.Ia-hr,Mt,Ra+8*ke.B,hr))}if(!yt)return Ma(Ve,6,"Output aborted.")}return 1})(h,N)),N.bc!=null&&N.bc(N),M&=1}return M?(h.cb=0,M):0}function Io(h,N,M,V,J){J=h[N+M+32*V]+(J>>3),h[N+M+32*V]=-256&J?0>J?0:255:J}function Yu(h,N,M,V,J,re){Io(h,N,0,M,V+J),Io(h,N,1,M,V+re),Io(h,N,2,M,V-re),Io(h,N,3,M,V-J)}function Ps(h){return(20091*h>>16)+h}function Oo(h,N,M,V){var J,re=0,ie=i(16);for(J=0;4>J;++J){var se=h[N+0]+h[N+8],le=h[N+0]-h[N+8],pe=(35468*h[N+4]>>16)-Ps(h[N+12]),Pe=Ps(h[N+4])+(35468*h[N+12]>>16);ie[re+0]=se+Pe,ie[re+1]=le+pe,ie[re+2]=le-pe,ie[re+3]=se-Pe,re+=4,N++}for(J=re=0;4>J;++J)se=(h=ie[re+0]+4)+ie[re+8],le=h-ie[re+8],pe=(35468*ie[re+4]>>16)-Ps(ie[re+12]),Io(M,V,0,0,se+(Pe=Ps(ie[re+4])+(35468*ie[re+12]>>16))),Io(M,V,1,0,le+pe),Io(M,V,2,0,le-pe),Io(M,V,3,0,se-Pe),re++,V+=32}function Jn(h,N,M,V){var J=h[N+0]+4,re=35468*h[N+4]>>16,ie=Ps(h[N+4]),se=35468*h[N+1]>>16;Yu(M,V,0,J+ie,h=Ps(h[N+1]),se),Yu(M,V,1,J+re,h,se),Yu(M,V,2,J-re,h,se),Yu(M,V,3,J-ie,h,se)}function kt(h,N,M,V,J){Oo(h,N,M,V),J&&Oo(h,N+16,M,V+4)}function jt(h,N,M,V){wd(h,N+0,M,V,1),wd(h,N+32,M,V+128,1)}function Xr(h,N,M,V){var J;for(h=h[N+0]+4,J=0;4>J;++J)for(N=0;4>N;++N)Io(M,V,N,J,h)}function Wr(h,N,M,V){h[N+0]&&tc(h,N+0,M,V),h[N+16]&&tc(h,N+16,M,V+4),h[N+32]&&tc(h,N+32,M,V+128),h[N+48]&&tc(h,N+48,M,V+128+4)}function ka(h,N,M,V){var J,re=i(16);for(J=0;4>J;++J){var ie=h[N+0+J]+h[N+12+J],se=h[N+4+J]+h[N+8+J],le=h[N+4+J]-h[N+8+J],pe=h[N+0+J]-h[N+12+J];re[0+J]=ie+se,re[8+J]=ie-se,re[4+J]=pe+le,re[12+J]=pe-le}for(J=0;4>J;++J)ie=(h=re[0+4*J]+3)+re[3+4*J],se=re[1+4*J]+re[2+4*J],le=re[1+4*J]-re[2+4*J],pe=h-re[3+4*J],M[V+0]=ie+se>>3,M[V+16]=pe+le>>3,M[V+32]=ie-se>>3,M[V+48]=pe-le>>3,V+=64}function di(h,N,M){var V,J=N-32,re=zl,ie=255-h[J-1];for(V=0;V<M;++V){var se,le=re,pe=ie+h[N-1];for(se=0;se<M;++se)h[N+se]=le[pe+h[J+se]];N+=32}}function Ai(h,N){di(h,N,4)}function ao(h,N){di(h,N,8)}function io(h,N){di(h,N,16)}function Qo(h,N){var M;for(M=0;16>M;++M)n(h,N+32*M,h,N-32,16)}function No(h,N){var M;for(M=16;0<M;--M)a(h,N,h[N-1],16),N+=32}function Tc(h,N,M){var V;for(V=0;16>V;++V)a(N,M+32*V,h,16)}function NA(h,N){var M,V=16;for(M=0;16>M;++M)V+=h[N-1+32*M]+h[N+M-32];Tc(V>>5,h,N)}function fi(h,N){var M,V=8;for(M=0;16>M;++M)V+=h[N-1+32*M];Tc(V>>4,h,N)}function ks(h,N){var M,V=8;for(M=0;16>M;++M)V+=h[N+M-32];Tc(V>>4,h,N)}function gd(h,N){Tc(128,h,N)}function an(h,N,M){return h+2*N+M+2>>2}function SA(h,N){var M,V=N-32;for(V=new Uint8Array([an(h[V-1],h[V+0],h[V+1]),an(h[V+0],h[V+1],h[V+2]),an(h[V+1],h[V+2],h[V+3]),an(h[V+2],h[V+3],h[V+4])]),M=0;4>M;++M)n(h,N+32*M,V,0,V.length)}function hu(h,N){var M=h[N-1],V=h[N-1+32],J=h[N-1+64],re=h[N-1+96];Ie(h,N+0,16843009*an(h[N-1-32],M,V)),Ie(h,N+32,16843009*an(M,V,J)),Ie(h,N+64,16843009*an(V,J,re)),Ie(h,N+96,16843009*an(J,re,re))}function sl(h,N){var M,V=4;for(M=0;4>M;++M)V+=h[N+M-32]+h[N-1+32*M];for(V>>=3,M=0;4>M;++M)a(h,N+32*M,V,4)}function BA(h,N){var M=h[N-1+0],V=h[N-1+32],J=h[N-1+64],re=h[N-1-32],ie=h[N+0-32],se=h[N+1-32],le=h[N+2-32],pe=h[N+3-32];h[N+0+96]=an(V,J,h[N-1+96]),h[N+1+96]=h[N+0+64]=an(M,V,J),h[N+2+96]=h[N+1+64]=h[N+0+32]=an(re,M,V),h[N+3+96]=h[N+2+64]=h[N+1+32]=h[N+0+0]=an(ie,re,M),h[N+3+64]=h[N+2+32]=h[N+1+0]=an(se,ie,re),h[N+3+32]=h[N+2+0]=an(le,se,ie),h[N+3+0]=an(pe,le,se)}function so(h,N){var M=h[N+1-32],V=h[N+2-32],J=h[N+3-32],re=h[N+4-32],ie=h[N+5-32],se=h[N+6-32],le=h[N+7-32];h[N+0+0]=an(h[N+0-32],M,V),h[N+1+0]=h[N+0+32]=an(M,V,J),h[N+2+0]=h[N+1+32]=h[N+0+64]=an(V,J,re),h[N+3+0]=h[N+2+32]=h[N+1+64]=h[N+0+96]=an(J,re,ie),h[N+3+32]=h[N+2+64]=h[N+1+96]=an(re,ie,se),h[N+3+64]=h[N+2+96]=an(ie,se,le),h[N+3+96]=an(se,le,le)}function Fs(h,N){var M=h[N-1+0],V=h[N-1+32],J=h[N-1+64],re=h[N-1-32],ie=h[N+0-32],se=h[N+1-32],le=h[N+2-32],pe=h[N+3-32];h[N+0+0]=h[N+1+64]=re+ie+1>>1,h[N+1+0]=h[N+2+64]=ie+se+1>>1,h[N+2+0]=h[N+3+64]=se+le+1>>1,h[N+3+0]=le+pe+1>>1,h[N+0+96]=an(J,V,M),h[N+0+64]=an(V,M,re),h[N+0+32]=h[N+1+96]=an(M,re,ie),h[N+1+32]=h[N+2+96]=an(re,ie,se),h[N+2+32]=h[N+3+96]=an(ie,se,le),h[N+3+32]=an(se,le,pe)}function Lc(h,N){var M=h[N+0-32],V=h[N+1-32],J=h[N+2-32],re=h[N+3-32],ie=h[N+4-32],se=h[N+5-32],le=h[N+6-32],pe=h[N+7-32];h[N+0+0]=M+V+1>>1,h[N+1+0]=h[N+0+64]=V+J+1>>1,h[N+2+0]=h[N+1+64]=J+re+1>>1,h[N+3+0]=h[N+2+64]=re+ie+1>>1,h[N+0+32]=an(M,V,J),h[N+1+32]=h[N+0+96]=an(V,J,re),h[N+2+32]=h[N+1+96]=an(J,re,ie),h[N+3+32]=h[N+2+96]=an(re,ie,se),h[N+3+64]=an(ie,se,le),h[N+3+96]=an(se,le,pe)}function _A(h,N){var M=h[N-1+0],V=h[N-1+32],J=h[N-1+64],re=h[N-1+96];h[N+0+0]=M+V+1>>1,h[N+2+0]=h[N+0+32]=V+J+1>>1,h[N+2+32]=h[N+0+64]=J+re+1>>1,h[N+1+0]=an(M,V,J),h[N+3+0]=h[N+1+32]=an(V,J,re),h[N+3+32]=h[N+1+64]=an(J,re,re),h[N+3+64]=h[N+2+64]=h[N+0+96]=h[N+1+96]=h[N+2+96]=h[N+3+96]=re}function Xu(h,N){var M=h[N-1+0],V=h[N-1+32],J=h[N-1+64],re=h[N-1+96],ie=h[N-1-32],se=h[N+0-32],le=h[N+1-32],pe=h[N+2-32];h[N+0+0]=h[N+2+32]=M+ie+1>>1,h[N+0+32]=h[N+2+64]=V+M+1>>1,h[N+0+64]=h[N+2+96]=J+V+1>>1,h[N+0+96]=re+J+1>>1,h[N+3+0]=an(se,le,pe),h[N+2+0]=an(ie,se,le),h[N+1+0]=h[N+3+32]=an(M,ie,se),h[N+1+32]=h[N+3+64]=an(V,M,ie),h[N+1+64]=h[N+3+96]=an(J,V,M),h[N+1+96]=an(re,J,V)}function Pc(h,N){var M;for(M=0;8>M;++M)n(h,N+32*M,h,N-32,8)}function kc(h,N){var M;for(M=0;8>M;++M)a(h,N,h[N-1],8),N+=32}function So(h,N,M){var V;for(V=0;8>V;++V)a(N,M+32*V,h,8)}function oo(h,N){var M,V=8;for(M=0;8>M;++M)V+=h[N+M-32]+h[N-1+32*M];So(V>>4,h,N)}function Fc(h,N){var M,V=4;for(M=0;8>M;++M)V+=h[N+M-32];So(V>>3,h,N)}function Bo(h,N){var M,V=4;for(M=0;8>M;++M)V+=h[N-1+32*M];So(V>>3,h,N)}function Sa(h,N){So(128,h,N)}function ai(h,N,M){var V=h[N-M],J=h[N+0],re=3*(J-V)+fb[1020+h[N-2*M]-h[N+M]],ie=sy[112+(re+4>>3)];h[N-M]=zl[255+V+sy[112+(re+3>>3)]],h[N+0]=zl[255+J-ie]}function EA(h,N,M,V){var J=h[N+0],re=h[N+M];return yu[255+h[N-2*M]-h[N-M]]>V||yu[255+re-J]>V}function Fa(h,N,M,V){return 4*yu[255+h[N-M]-h[N+0]]+yu[255+h[N-2*M]-h[N+M]]<=V}function Oa(h,N,M,V,J){var re=h[N-3*M],ie=h[N-2*M],se=h[N-M],le=h[N+0],pe=h[N+M],Pe=h[N+2*M],ze=h[N+3*M];return 4*yu[255+se-le]+yu[255+ie-pe]>V?0:yu[255+h[N-4*M]-re]<=J&&yu[255+re-ie]<=J&&yu[255+ie-se]<=J&&yu[255+ze-Pe]<=J&&yu[255+Pe-pe]<=J&&yu[255+pe-le]<=J}function ms(h,N,M,V){var J=2*V+1;for(V=0;16>V;++V)Fa(h,N+V,M,J)&&ai(h,N+V,M)}function Rs(h,N,M,V){var J=2*V+1;for(V=0;16>V;++V)Fa(h,N+V*M,1,J)&&ai(h,N+V*M,1)}function Ml(h,N,M,V){var J;for(J=3;0<J;--J)ms(h,N+=4*M,M,V)}function _o(h,N,M,V){var J;for(J=3;0<J;--J)Rs(h,N+=4,M,V)}function ol(h,N,M,V,J,re,ie,se){for(re=2*re+1;0<J--;){if(Oa(h,N,M,re,ie))if(EA(h,N,M,se))ai(h,N,M);else{var le=h,pe=N,Pe=M,ze=le[pe-2*Pe],Xe=le[pe-Pe],Ve=le[pe+0],bt=le[pe+Pe],ut=le[pe+2*Pe],ke=27*(yt=fb[1020+3*(Ve-Xe)+fb[1020+ze-bt]])+63>>7,Me=18*yt+63>>7,yt=9*yt+63>>7;le[pe-3*Pe]=zl[255+le[pe-3*Pe]+yt],le[pe-2*Pe]=zl[255+ze+Me],le[pe-Pe]=zl[255+Xe+ke],le[pe+0]=zl[255+Ve-ke],le[pe+Pe]=zl[255+bt-Me],le[pe+2*Pe]=zl[255+ut-yt]}N+=V}}function ll(h,N,M,V,J,re,ie,se){for(re=2*re+1;0<J--;){if(Oa(h,N,M,re,ie))if(EA(h,N,M,se))ai(h,N,M);else{var le=h,pe=N,Pe=M,ze=le[pe-Pe],Xe=le[pe+0],Ve=le[pe+Pe],bt=sy[112+((ut=3*(Xe-ze))+4>>3)],ut=sy[112+(ut+3>>3)],ke=bt+1>>1;le[pe-2*Pe]=zl[255+le[pe-2*Pe]+ke],le[pe-Pe]=zl[255+ze+ut],le[pe+0]=zl[255+Xe-bt],le[pe+Pe]=zl[255+Ve-ke]}N+=V}}function Ju(h,N,M,V,J,re){ol(h,N,M,1,16,V,J,re)}function lo(h,N,M,V,J,re){ol(h,N,1,M,16,V,J,re)}function Rc(h,N,M,V,J,re){var ie;for(ie=3;0<ie;--ie)ll(h,N+=4*M,M,1,16,V,J,re)}function Ol(h,N,M,V,J,re){var ie;for(ie=3;0<ie;--ie)ll(h,N+=4,1,M,16,V,J,re)}function Kh(h,N,M,V,J,re,ie,se){ol(h,N,J,1,8,re,ie,se),ol(M,V,J,1,8,re,ie,se)}function Uc(h,N,M,V,J,re,ie,se){ol(h,N,1,J,8,re,ie,se),ol(M,V,1,J,8,re,ie,se)}function Of(h,N,M,V,J,re,ie,se){ll(h,N+4*J,J,1,8,re,ie,se),ll(M,V+4*J,J,1,8,re,ie,se)}function Qf(h,N,M,V,J,re,ie,se){ll(h,N+4,1,J,8,re,ie,se),ll(M,V+4,1,J,8,re,ie,se)}function pu(){this.ba=new jr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new en,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function TA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function LA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function PA(){this.ua=0,this.Wa=new Ae,this.vb=new Ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new _}function Hf(){this.xb=this.a=0,this.l=new $u,this.ca=new jr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new PA,this.ab=0,this.gc=s(4,LA),this.Oc=0}function yd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $u,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mu(h,N,M,V,J,re,ie){for(h=h==null?0:h[N+0],N=0;N<ie;++N)J[re+N]=h+M[V+N]&255,h=J[re+N]}function kA(h,N,M,V,J,re,ie){var se;if(h==null)mu(null,null,M,V,J,re,ie);else for(se=0;se<ie;++se)J[re+se]=h[N+se]+M[V+se]&255}function ul(h,N,M,V,J,re,ie){if(h==null)mu(null,null,M,V,J,re,ie);else{var se,le=h[N+0],pe=le,Pe=le;for(se=0;se<ie;++se)pe=Pe+(le=h[N+se])-pe,Pe=M[V+se]+(-256&pe?0>pe?0:255:pe)&255,pe=le,J[re+se]=Pe}}function Ql(h,N,M,V){var J=N.width,re=N.o;if(e(h!=null&&N!=null),0>M||0>=V||M+V>re)return null;if(!h.Cc){if(h.ga==null){var ie;if(h.ga=new yd,(ie=h.ga==null)||(ie=N.width*N.o,e(h.Gb.length==0),h.Gb=i(ie),h.Uc=0,h.Gb==null?ie=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,ie=1),ie=!ie),!ie){ie=h.ga;var se=h.Fa,le=h.P,pe=h.qc,Pe=h.mb,ze=h.nb,Xe=le+1,Ve=pe-1,bt=ie.l;if(e(se!=null&&Pe!=null&&N!=null),MA[0]=null,MA[1]=mu,MA[2]=kA,MA[3]=ul,ie.ca=Pe,ie.tb=ze,ie.c=N.width,ie.i=N.height,e(0<ie.c&&0<ie.i),1>=pe)N=0;else if(ie.$a=se[le+0]>>0&3,ie.Z=se[le+0]>>2&3,ie.Lc=se[le+0]>>4&3,le=se[le+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||le)N=0;else if(bt.put=yn,bt.ac=Yr,bt.bc=ra,bt.ma=ie,bt.width=N.width,bt.height=N.height,bt.Da=N.Da,bt.v=N.v,bt.va=N.va,bt.j=N.j,bt.o=N.o,ie.$a)e:{e(ie.$a==1),N=ni();t:for(;;){if(N==null){N=0;break e}if(e(ie!=null),ie.mc=N,N.c=ie.c,N.i=ie.i,N.l=ie.l,N.l.ma=ie,N.l.width=ie.c,N.l.height=ie.i,N.a=0,$(N.m,se,Xe,Ve),!za(ie.c,ie.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&ri(N.s)?(ie.ic=1,se=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(se),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(ie.ic=0,N=Do(N,ie.c)),!N))break t;N=1;break e}ie.mc=null,N=0}else N=Ve>=ie.c*ie.i;ie=!N}if(ie)return null;h.ga.Lc!=1?h.Ga=0:V=re-M}e(h.ga!=null),e(M+V<=re);e:{if(N=(se=h.ga).c,re=se.l.o,se.$a==0){if(Xe=h.rc,Ve=h.Vc,bt=h.Fa,le=h.P+1+M*N,pe=h.mb,Pe=h.nb+M*N,e(le<=h.P+h.qc),se.Z!=0)for(e(MA[se.Z]!=null),ie=0;ie<V;++ie)MA[se.Z](Xe,Ve,bt,le,pe,Pe,N),Xe=pe,Ve=Pe,Pe+=N,le+=N;else for(ie=0;ie<V;++ie)n(pe,Pe,bt,le,N),Xe=pe,Ve=Pe,Pe+=N,le+=N;h.rc=Xe,h.Vc=Ve}else{if(e(se.mc!=null),N=M+V,e((ie=se.mc)!=null),e(N<=ie.i),ie.C>=N)N=1;else if(se.ic||Ke(),se.ic){se=ie.V,Xe=ie.Ba,Ve=ie.c;var ut=ie.i,ke=(bt=1,le=ie.$/Ve,pe=ie.$%Ve,Pe=ie.m,ze=ie.s,ie.$),Me=Ve*ut,yt=Ve*N,Bt=ze.wc,vt=ke<yt?ln(ze,pe,le):null;e(ke<=Me),e(N<=ut),e(ri(ze));t:for(;;){for(;!Pe.h&&ke<yt;){if(pe&Bt||(vt=ln(ze,pe,le)),e(vt!=null),be(Pe),256>(ut=fn(vt.G[0],vt.H[0],Pe)))se[Xe+ke]=ut,++ke,++pe>=Ve&&(pe=0,++le<=N&&!(le%16)&&na(ie,le));else{if(!(280>ut)){bt=0;break t}ut=Kr(ut-256,Pe);var hr,Xt=fn(vt.G[4],vt.H[4],Pe);if(be(Pe),!(ke>=(Xt=xr(Ve,Xt=Kr(Xt,Pe)))&&Me-ke>=ut)){bt=0;break t}for(hr=0;hr<ut;++hr)se[Xe+ke+hr]=se[Xe+ke+hr-Xt];for(ke+=ut,pe+=ut;pe>=Ve;)pe-=Ve,++le<=N&&!(le%16)&&na(ie,le);ke<yt&&pe&Bt&&(vt=ln(ze,pe,le))}e(Pe.h==te(Pe))}na(ie,le>N?N:le);break t}!bt||Pe.h&&ke<Me?(bt=0,ie.a=Pe.h?5:3):ie.$=ke,N=bt}else N=ki(ie,ie.V,ie.Ba,ie.c,ie.i,N,Cr);if(!N){V=0;break e}}M+V>=re&&(h.Cc=1),V=1}if(!V)return null;if(h.Cc&&((V=h.ga)!=null&&(V.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+M*J}function P(h,N,M,V,J,re){for(;0<J--;){var ie,se=h,le=N+(M?1:0),pe=h,Pe=N+(M?0:3);for(ie=0;ie<V;++ie){var ze=pe[Pe+4*ie];ze!=255&&(ze*=32897,se[le+4*ie+0]=se[le+4*ie+0]*ze>>23,se[le+4*ie+1]=se[le+4*ie+1]*ze>>23,se[le+4*ie+2]=se[le+4*ie+2]*ze>>23)}N+=re}}function Z(h,N,M,V,J){for(;0<V--;){var re;for(re=0;re<M;++re){var ie=h[N+2*re+0],se=15&(pe=h[N+2*re+1]),le=4369*se,pe=(240&pe|pe>>4)*le>>16;h[N+2*re+0]=(240&ie|ie>>4)*le>>16&240|(15&ie|ie<<4)*le>>16>>4&15,h[N+2*re+1]=240&pe|se}N+=J}}function ve(h,N,M,V,J,re,ie,se){var le,pe,Pe=255;for(pe=0;pe<J;++pe){for(le=0;le<V;++le){var ze=h[N+le];re[ie+4*le]=ze,Pe&=ze}N+=M,ie+=se}return Pe!=255}function Be(h,N,M,V,J){var re;for(re=0;re<J;++re)M[V+re]=h[N+re]>>8}function Ke(){xd=P,Yh=Z,Kf=ve,vC=Be}function at(h,N,M){B[h]=function(V,J,re,ie,se,le,pe,Pe,ze,Xe,Ve,bt,ut,ke,Me,yt,Bt){var vt,hr=Bt-1>>1,Xt=se[le+0]|pe[Pe+0]<<16,Zr=ze[Xe+0]|Ve[bt+0]<<16;e(V!=null);var er=3*Xt+Zr+131074>>2;for(N(V[J+0],255&er,er>>16,ut,ke),re!=null&&(er=3*Zr+Xt+131074>>2,N(re[ie+0],255&er,er>>16,Me,yt)),vt=1;vt<=hr;++vt){var Mt=se[le+vt]|pe[Pe+vt]<<16,Ra=ze[Xe+vt]|Ve[bt+vt]<<16,oa=Xt+Mt+Zr+Ra+524296,Qn=oa+2*(Mt+Zr)>>3;er=Qn+Xt>>1,Xt=(oa=oa+2*(Xt+Ra)>>3)+Mt>>1,N(V[J+2*vt-1],255&er,er>>16,ut,ke+(2*vt-1)*M),N(V[J+2*vt-0],255&Xt,Xt>>16,ut,ke+(2*vt-0)*M),re!=null&&(er=oa+Zr>>1,Xt=Qn+Ra>>1,N(re[ie+2*vt-1],255&er,er>>16,Me,yt+(2*vt-1)*M),N(re[ie+2*vt+0],255&Xt,Xt>>16,Me,yt+(2*vt+0)*M)),Xt=Mt,Zr=Ra}1&Bt||(er=3*Xt+Zr+131074>>2,N(V[J+Bt-1],255&er,er>>16,ut,ke+(Bt-1)*M),re!=null&&(er=3*Zr+Xt+131074>>2,N(re[ie+Bt-1],255&er,er>>16,Me,yt+(Bt-1)*M)))}}function Ut(){Al[Cd]=dy,Al[oy]=_C,Al[CC]=GE,Al[Gf]=EC,Al[ly]=TC,Al[hb]=LC,Al[IC]=WE,Al[pb]=_C,Al[Xh]=EC,Al[uy]=TC,Al[mb]=LC}function ar(h){return h&~$E?0>h?0:255:h>>PC}function Ur(h,N){return ar((19077*h>>8)+(26149*N>>8)-14234)}function m(h,N,M){return ar((19077*h>>8)-(6419*N>>8)-(13320*M>>8)+8708)}function Q(h,N){return ar((19077*h>>8)+(33050*N>>8)-17685)}function G(h,N,M,V,J){V[J+0]=Ur(h,M),V[J+1]=m(h,N,M),V[J+2]=Q(h,N)}function ae(h,N,M,V,J){V[J+0]=Q(h,N),V[J+1]=m(h,N,M),V[J+2]=Ur(h,M)}function De(h,N,M,V,J){var re=m(h,N,M);N=re<<3&224|Q(h,N)>>3,V[J+0]=248&Ur(h,M)|re>>5,V[J+1]=N}function $e(h,N,M,V,J){var re=240&Q(h,N)|15;V[J+0]=240&Ur(h,M)|m(h,N,M)>>4,V[J+1]=re}function Dt(h,N,M,V,J){V[J+0]=255,G(h,N,M,V,J+1)}function tn(h,N,M,V,J){ae(h,N,M,V,J),V[J+3]=255}function On(h,N,M,V,J){G(h,N,M,V,J),V[J+3]=255}function An(h,N){return 0>h?0:h>N?N:h}function ia(h,N,M){B[h]=function(V,J,re,ie,se,le,pe,Pe,ze){for(var Xe=Pe+(-2&ze)*M;Pe!=Xe;)N(V[J+0],re[ie+0],se[le+0],pe,Pe),N(V[J+1],re[ie+0],se[le+0],pe,Pe+M),J+=2,++ie,++le,Pe+=2*M;1&ze&&N(V[J+0],re[ie+0],se[le+0],pe,Pe)}}function kn(h,N,M){return M==0?h==0?N==0?6:5:N==0?4:0:M}function Hl(h,N,M,V,J){switch(h>>>30){case 3:wd(N,M,V,J,0);break;case 2:Wh(N,M,V,J);break;case 1:tc(N,M,V,J)}}function sa(h,N){var M,V,J=N.M,re=N.Nb,ie=h.oc,se=h.pc+40,le=h.oc,pe=h.pc+584,Pe=h.oc,ze=h.pc+600;for(M=0;16>M;++M)ie[se+32*M-1]=129;for(M=0;8>M;++M)le[pe+32*M-1]=129,Pe[ze+32*M-1]=129;for(0<J?ie[se-1-32]=le[pe-1-32]=Pe[ze-1-32]=129:(a(ie,se-32-1,127,21),a(le,pe-32-1,127,9),a(Pe,ze-32-1,127,9)),V=0;V<h.za;++V){var Xe=N.ya[N.aa+V];if(0<V){for(M=-1;16>M;++M)n(ie,se+32*M-4,ie,se+32*M+12,4);for(M=-1;8>M;++M)n(le,pe+32*M-4,le,pe+32*M+4,4),n(Pe,ze+32*M-4,Pe,ze+32*M+4,4)}var Ve=h.Gd,bt=h.Hd+V,ut=Xe.ad,ke=Xe.Hc;if(0<J&&(n(ie,se-32,Ve[bt].y,0,16),n(le,pe-32,Ve[bt].f,0,8),n(Pe,ze-32,Ve[bt].ea,0,8)),Xe.Za){var Me=ie,yt=se-32+16;for(0<J&&(V>=h.za-1?a(Me,yt,Ve[bt].y[15],4):n(Me,yt,Ve[bt+1].y,0,4)),M=0;4>M;M++)Me[yt+128+M]=Me[yt+256+M]=Me[yt+384+M]=Me[yt+0+M];for(M=0;16>M;++M,ke<<=2)Me=ie,yt=se+bb[M],ac[Xe.Ob[M]](Me,yt),Hl(ke,ut,16*+M,Me,yt)}else if(Me=kn(V,J,Xe.Ob[0]),nc[Me](ie,se),ke!=0)for(M=0;16>M;++M,ke<<=2)Hl(ke,ut,16*+M,ie,se+bb[M]);for(M=Xe.Gc,Me=kn(V,J,Xe.Dd),Id[Me](le,pe),Id[Me](Pe,ze),ke=ut,Me=le,yt=pe,255&(Xe=M>>0)&&(170&Xe?UA(ke,256,Me,yt):gs(ke,256,Me,yt)),Xe=Pe,ke=ze,255&(M>>=8)&&(170&M?UA(ut,320,Xe,ke):gs(ut,320,Xe,ke)),J<h.Ub-1&&(n(Ve[bt].y,0,ie,se+480,16),n(Ve[bt].f,0,le,pe+224,8),n(Ve[bt].ea,0,Pe,ze+224,8)),M=8*re*h.B,Ve=h.sa,bt=h.ta+16*V+16*re*h.R,ut=h.qa,Xe=h.ra+8*V+M,ke=h.Ha,Me=h.Ia+8*V+M,M=0;16>M;++M)n(Ve,bt+M*h.R,ie,se+32*M,16);for(M=0;8>M;++M)n(ut,Xe+M*h.B,le,pe+32*M,8),n(ke,Me+M*h.B,Pe,ze+32*M,8)}}function Vl(h,N,M,V,J,re,ie,se,le){var pe=[0],Pe=[0],ze=0,Xe=le!=null?le.kd:0,Ve=le??new TA;if(h==null||12>M)return 7;Ve.data=h,Ve.w=N,Ve.ha=M,N=[N],M=[M],Ve.gb=[Ve.gb];e:{var bt=N,ut=M,ke=Ve.gb;if(e(h!=null),e(ut!=null),e(ke!=null),ke[0]=0,12<=ut[0]&&!r(h,bt[0],"RIFF")){if(r(h,bt[0]+8,"WEBP")){ke=3;break e}var Me=qe(h,bt[0]+4);if(12>Me||4294967286<Me){ke=3;break e}if(Xe&&Me>ut[0]-8){ke=7;break e}ke[0]=Me,bt[0]+=12,ut[0]-=12}ke=0}if(ke!=0)return ke;for(Me=0<Ve.gb[0],M=M[0];;){e:{var yt=h;ut=N,ke=M;var Bt=pe,vt=Pe,hr=bt=[0];if((er=ze=[ze])[0]=0,8>ke[0])ke=7;else{if(!r(yt,ut[0],"VP8X")){if(qe(yt,ut[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var Xt=qe(yt,ut[0]+8),Zr=1+xe(yt,ut[0]+12);if(2147483648<=Zr*(yt=1+xe(yt,ut[0]+15))){ke=3;break e}hr!=null&&(hr[0]=Xt),Bt!=null&&(Bt[0]=Zr),vt!=null&&(vt[0]=yt),ut[0]+=18,ke[0]-=18,er[0]=1}ke=0}}if(ze=ze[0],bt=bt[0],ke!=0)return ke;if(ut=!!(2&bt),!Me&&ze)return 3;if(re!=null&&(re[0]=!!(16&bt)),ie!=null&&(ie[0]=ut),se!=null&&(se[0]=0),ie=pe[0],bt=Pe[0],ze&&ut&&le==null){ke=0;break}if(4>M){ke=7;break}if(Me&&ze||!Me&&!ze&&!r(h,N[0],"ALPH")){M=[M],Ve.na=[Ve.na],Ve.P=[Ve.P],Ve.Sa=[Ve.Sa];e:{Xt=h,ke=N,Me=M;var er=Ve.gb;Bt=Ve.na,vt=Ve.P,hr=Ve.Sa,Zr=22,e(Xt!=null),e(Me!=null),yt=ke[0];var Mt=Me[0];for(e(Bt!=null),e(hr!=null),Bt[0]=null,vt[0]=null,hr[0]=0;;){if(ke[0]=yt,Me[0]=Mt,8>Mt){ke=7;break e}var Ra=qe(Xt,yt+4);if(4294967286<Ra){ke=3;break e}var oa=8+Ra+1&-2;if(Zr+=oa,0<er&&Zr>er){ke=3;break e}if(!r(Xt,yt,"VP8 ")||!r(Xt,yt,"VP8L")){ke=0;break e}if(Mt[0]<oa){ke=7;break e}r(Xt,yt,"ALPH")||(Bt[0]=Xt,vt[0]=yt+8,hr[0]=Ra),yt+=oa,Mt-=oa}}if(M=M[0],Ve.na=Ve.na[0],Ve.P=Ve.P[0],Ve.Sa=Ve.Sa[0],ke!=0)break}M=[M],Ve.Ja=[Ve.Ja],Ve.xa=[Ve.xa];e:if(er=h,ke=N,Me=M,Bt=Ve.gb[0],vt=Ve.Ja,hr=Ve.xa,Xt=ke[0],yt=!r(er,Xt,"VP8 "),Zr=!r(er,Xt,"VP8L"),e(er!=null),e(Me!=null),e(vt!=null),e(hr!=null),8>Me[0])ke=7;else{if(yt||Zr){if(er=qe(er,Xt+4),12<=Bt&&er>Bt-12){ke=3;break e}if(Xe&&er>Me[0]-8){ke=7;break e}vt[0]=er,ke[0]+=8,Me[0]-=8,hr[0]=Zr}else hr[0]=5<=Me[0]&&er[Xt+0]==47&&!(er[Xt+4]>>5),vt[0]=Me[0];ke=0}if(M=M[0],Ve.Ja=Ve.Ja[0],Ve.xa=Ve.xa[0],N=N[0],ke!=0)break;if(4294967286<Ve.Ja)return 3;if(se==null||ut||(se[0]=Ve.xa?2:1),ie=[ie],bt=[bt],Ve.xa){if(5>M){ke=7;break}se=ie,Xe=bt,ut=re,h==null||5>M?h=0:5<=M&&h[N+0]==47&&!(h[N+4]>>5)?(Me=[0],er=[0],Bt=[0],$(vt=new q,h,N,M),fr(vt,Me,er,Bt)?(se!=null&&(se[0]=Me[0]),Xe!=null&&(Xe[0]=er[0]),ut!=null&&(ut[0]=Bt[0]),h=1):h=0):h=0}else{if(10>M){ke=7;break}se=bt,h==null||10>M||!Ul(h,N+3,M-3)?h=0:(Xe=h[N+0]|h[N+1]<<8|h[N+2]<<16,ut=16383&(h[N+7]<<8|h[N+6]),h=16383&(h[N+9]<<8|h[N+8]),1&Xe||3<(Xe>>1&7)||!(Xe>>4&1)||Xe>>5>=Ve.Ja||!ut||!h?h=0:(ie&&(ie[0]=ut),se&&(se[0]=h),h=1))}if(!h||(ie=ie[0],bt=bt[0],ze&&(pe[0]!=ie||Pe[0]!=bt)))return 3;le!=null&&(le[0]=Ve,le.offset=N-le.w,e(4294967286>N-le.w),e(le.offset==le.ha-M));break}return ke==0||ke==7&&ze&&le==null?(re!=null&&(re[0]|=Ve.na!=null&&0<Ve.na.length),V!=null&&(V[0]=ie),J!=null&&(J[0]=bt),0):ke}function Eo(h,N,M){var V=N.width,J=N.height,re=0,ie=0,se=V,le=J;if(N.Da=h!=null&&0<h.Da,N.Da&&(se=h.cd,le=h.bd,re=h.v,ie=h.j,11>M||(re&=-2,ie&=-2),0>re||0>ie||0>=se||0>=le||re+se>V||ie+le>J))return 0;if(N.v=re,N.j=ie,N.va=re+se,N.o=ie+le,N.U=se,N.T=le,N.da=h!=null&&0<h.da,N.da){if(!Kt(se,le,M=[h.ib],re=[h.hb]))return 0;N.ib=M[0],N.hb=re[0]}return N.ob=h!=null&&h.ob,N.Kb=h==null||!h.Sd,N.da&&(N.ob=N.ib<3*V/4&&N.hb<3*J/4,N.Kb=0),1}function vd(h){if(h==null)return 2;if(11>h.S){var N=h.f.RGBA;N.fb+=(h.height-1)*N.A,N.A=-N.A}else N=h.f.kb,h=h.height,N.O+=(h-1)*N.fa,N.fa=-N.fa,N.N+=(h-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(h-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(h-1)*N.lb,N.lb=-N.lb);return 0}function wa(h,N,M,V){if(V==null||0>=h||0>=N)return 2;if(M!=null){if(M.Da){var J=M.cd,re=M.bd,ie=-2&M.v,se=-2&M.j;if(0>ie||0>se||0>=J||0>=re||ie+J>h||se+re>N)return 2;h=J,N=re}if(M.da){if(!Kt(h,N,J=[M.ib],re=[M.hb]))return 2;h=J[0],N=re[0]}}V.width=h,V.height=N;e:{var le=V.width,pe=V.height;if(h=V.S,0>=le||0>=pe||!(h>=Cd&&13>h))h=2;else{if(0>=V.Rd&&V.sd==null){ie=re=J=N=0;var Pe=(se=le*Jh[h])*pe;if(11>h||(re=(pe+1)/2*(N=(le+1)/2),h==12&&(ie=(J=le)*pe)),(pe=i(Pe+2*re+ie))==null){h=1;break e}V.sd=pe,11>h?((le=V.f.RGBA).eb=pe,le.fb=0,le.A=se,le.size=Pe):((le=V.f.kb).y=pe,le.O=0,le.fa=se,le.Fd=Pe,le.f=pe,le.N=0+Pe,le.Ab=N,le.Cd=re,le.ea=pe,le.W=0+Pe+re,le.Db=N,le.Ed=re,h==12&&(le.F=pe,le.J=0+Pe+2*re),le.Tc=ie,le.lb=J)}if(N=1,J=V.S,re=V.width,ie=V.height,J>=Cd&&13>J)if(11>J)h=V.f.RGBA,N&=(se=Math.abs(h.A))*(ie-1)+re<=h.size,N&=se>=re*Jh[J],N&=h.eb!=null;else{h=V.f.kb,se=(re+1)/2,Pe=(ie+1)/2,le=Math.abs(h.fa),pe=Math.abs(h.Ab);var ze=Math.abs(h.Db),Xe=Math.abs(h.lb),Ve=Xe*(ie-1)+re;N&=le*(ie-1)+re<=h.Fd,N&=pe*(Pe-1)+se<=h.Cd,N=(N&=ze*(Pe-1)+se<=h.Ed)&le>=re&pe>=se&ze>=se,N&=h.y!=null,N&=h.f!=null,N&=h.ea!=null,J==12&&(N&=Xe>=re,N&=Ve<=h.Tc,N&=h.F!=null)}else N=0;h=N?0:2}}return h!=0||M!=null&&M.fd&&(h=vd(V)),h}var Ho=64,Vf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qf=24,zf=32,FA=8,Vo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(h){return h},B.Predictor2=function(h,N,M){return N[M+0]},B.Predictor3=function(h,N,M){return N[M+1]},B.Predictor4=function(h,N,M){return N[M-1]},B.Predictor5=function(h,N,M){return Ue(Ue(h,N[M+1]),N[M+0])},B.Predictor6=function(h,N,M){return Ue(h,N[M-1])},B.Predictor7=function(h,N,M){return Ue(h,N[M+0])},B.Predictor8=function(h,N,M){return Ue(N[M-1],N[M+0])},B.Predictor9=function(h,N,M){return Ue(N[M+0],N[M+1])},B.Predictor10=function(h,N,M){return Ue(Ue(h,N[M-1]),Ue(N[M+0],N[M+1]))},B.Predictor11=function(h,N,M){var V=N[M+0];return 0>=ct(V>>24&255,h>>24&255,(N=N[M-1])>>24&255)+ct(V>>16&255,h>>16&255,N>>16&255)+ct(V>>8&255,h>>8&255,N>>8&255)+ct(255&V,255&h,255&N)?V:h},B.Predictor12=function(h,N,M){var V=N[M+0];return(it((h>>24&255)+(V>>24&255)-((N=N[M-1])>>24&255))<<24|it((h>>16&255)+(V>>16&255)-(N>>16&255))<<16|it((h>>8&255)+(V>>8&255)-(N>>8&255))<<8|it((255&h)+(255&V)-(255&N)))>>>0},B.Predictor13=function(h,N,M){var V=N[M-1];return(At((h=Ue(h,N[M+0]))>>24&255,V>>24&255)<<24|At(h>>16&255,V>>16&255)<<16|At(h>>8&255,V>>8&255)<<8|At(h>>0&255,V>>0&255))>>>0};var ny=B.PredictorAdd0;B.PredictorAdd1=Tt,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var To=B.PredictorAdd2;Er("ColorIndexInverseTransform","MapARGB","32b",(function(h){return h>>8&255}),(function(h){return h})),Er("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(h){return h}),(function(h){return h>>8&255}));var Zu,Us=B.ColorIndexInverseTransform,Ri=B.MapARGB,Dc=B.VP8LColorIndexInverseTransformAlpha,ay=B.MapAlpha,bd=B.VP8LPredictorsAdd=[];bd.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var cl,gu,RA,dl,uo,Gh,ec,wd,Wh,UA,tc,gs,DA,$h,jf,rc,Om,ql,Mc,ja,Ka,Ui,is,Oc,xd,Yh,Kf,vC,bC=i(511),iy=i(2041),wC=i(225),Ab=i(767),xC=0,fb=iy,sy=wC,zl=Ab,yu=bC,Cd=0,oy=1,CC=2,Gf=3,ly=4,hb=5,IC=6,pb=7,Xh=8,uy=9,mb=10,RE=[2,3,7],UE=[3,3,11],Qm=[280,256,256,256,40],DE=[0,1,1,1,0],ME=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],OE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],QE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cy=8,gb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],yb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hm=null,HE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VE=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],NC=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],KE=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],nc=[],ac=[],Id=[],SC=1,BC=2,MA=[],Al=[];at("UpsampleRgbLinePair",G,3),at("UpsampleBgrLinePair",ae,3),at("UpsampleRgbaLinePair",On,4),at("UpsampleBgraLinePair",tn,4),at("UpsampleArgbLinePair",Dt,4),at("UpsampleRgba4444LinePair",$e,2),at("UpsampleRgb565LinePair",De,2);var dy=B.UpsampleRgbLinePair,GE=B.UpsampleBgrLinePair,_C=B.UpsampleRgbaLinePair,EC=B.UpsampleBgraLinePair,TC=B.UpsampleArgbLinePair,LC=B.UpsampleRgba4444LinePair,WE=B.UpsampleRgb565LinePair,Wf=16,Ay=1<<Wf-1,Vm=-227,vb=482,PC=6,$E=(256<<PC)-1,kC=0,YE=i(256),XE=i(256),JE=i(256),ZE=i(256),e4=i(vb-Vm),t4=i(vb-Vm);ia("YuvToRgbRow",G,3),ia("YuvToBgrRow",ae,3),ia("YuvToRgbaRow",On,4),ia("YuvToBgraRow",tn,4),ia("YuvToArgbRow",Dt,4),ia("YuvToRgba4444Row",$e,2),ia("YuvToRgb565Row",De,2);var bb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fy=[0,2,8],r4=[8,7,6,4,4,2,2,2,1,1,1,1],n4=1;this.WebPDecodeRGBA=function(h,N,M,V,J){var re=oy,ie=new pu,se=new jr;ie.ba=se,se.S=re,se.width=[se.width],se.height=[se.height];var le=se.width,pe=se.height,Pe=new Zt;if(Pe==null||h==null)var ze=2;else e(Pe!=null),ze=Vl(h,N,M,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(ze!=0?le=0:(le!=null&&(le[0]=Pe.width[0]),pe!=null&&(pe[0]=Pe.height[0]),le=1),le){se.width=se.width[0],se.height=se.height[0],V!=null&&(V[0]=se.width),J!=null&&(J[0]=se.height);e:{if(V=new $u,(J=new TA).data=h,J.w=N,J.ha=M,J.kd=1,N=[0],e(J!=null),((h=Vl(J.data,J.w,J.ha,null,null,null,N,null,J))==0||h==7)&&N[0]&&(h=4),(N=h)==0){if(e(ie!=null),V.data=J.data,V.w=J.w+J.offset,V.ha=J.ha-J.offset,V.put=yn,V.ac=Yr,V.bc=ra,V.ma=ie,J.xa){if((h=ni())==null){ie=1;break e}if((function(Xe,Ve){var bt=[0],ut=[0],ke=[0];t:for(;;){if(Xe==null)return 0;if(Ve==null)return Xe.a=2,0;if(Xe.l=Ve,Xe.a=0,$(Xe.m,Ve.data,Ve.w,Ve.ha),!fr(Xe.m,bt,ut,ke)){Xe.a=3;break t}if(Xe.xb=BC,Ve.width=bt[0],Ve.height=ut[0],!za(bt[0],ut[0],1,Xe,null))break t;return 1}return e(Xe.a!=0),0})(h,V)){if(V=(N=wa(V.width,V.height,ie.Oa,ie.ba))==0){t:{V=h;r:for(;;){if(V==null){V=0;break t}if(e(V.s.yc!=null),e(V.s.Ya!=null),e(0<V.s.Wb),e((M=V.l)!=null),e((J=M.ma)!=null),V.xb!=0){if(V.ca=J.ba,V.tb=J.tb,e(V.ca!=null),!Eo(J.Oa,M,Gf)){V.a=2;break r}if(!Do(V,M.width)||M.da)break r;if((M.da||Ct(V.ca.S))&&Ke(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Ke()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!wt(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!ki(V,V.V,V.Ba,V.c,V.i,M.o,Ia))break r;J.Dc=V.Ma,V=1;break t}e(V.a!=0),V=0}V=!V}V&&(N=h.a)}else N=h.a}else{if((h=new md)==null){ie=1;break e}if(h.Fa=J.na,h.P=J.P,h.qc=J.Sa,fu(h,V)){if((N=wa(V.width,V.height,ie.Oa,ie.ba))==0){if(h.Aa=0,M=ie.Oa,e((J=h)!=null),M!=null){if(0<(le=0>(le=M.Md)?0:100<le?255:255*le/100)){for(pe=Pe=0;4>pe;++pe)12>(ze=J.pb[pe]).lc&&(ze.ia=le*r4[0>ze.lc?0:ze.lc]>>3),Pe|=ze.ia;Pe&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=M.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}zi(h,V)||(N=h.a)}}else N=h.a}N==0&&ie.Oa!=null&&ie.Oa.fd&&(N=vd(ie.ba))}ie=N}re=ie!=0?null:11>re?se.f.RGBA.eb:se.f.kb.y}else re=null;return re};var Jh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(B,k){for(var U="",E=0;E<4;E++)U+=String.fromCharCode(B[k++]);return U}function c(B,k){return(B[k+0]<<0|B[k+1]<<8|B[k+2]<<16)>>>0}function d(B,k){return(B[k+0]<<0|B[k+1]<<8|B[k+2]<<16|B[k+3]<<24)>>>0}new l;var f=[0],A=[0],v=[],I=new l,w=t,g=(function(B,k){var U={},E=0,_=!1,L=0,D=0;if(U.frames=[],!(function(X,te,ue,be){for(var ge=0;ge<be;ge++)if(X[te+ge]!=ue.charCodeAt(ge))return!0;return!1})(B,k,"RIFF",4)){var z,ee;for(d(B,k+=4),k+=8;k<B.length;){var Y=u(B,k),$=d(B,k+=4);k+=4;var j=$+(1&$);switch(Y){case"VP8 ":case"VP8L":U.frames[E]===void 0&&(U.frames[E]={}),(q=U.frames[E]).src_off=_?D:k-8,q.src_size=L+$+8,E++,_&&(_=!1,L=0,D=0);break;case"VP8X":(q=U.header={}).feature_flags=B[k];var K=k+4;q.canvas_width=1+c(B,K),K+=3,q.canvas_height=1+c(B,K),K+=3;break;case"ALPH":_=!0,L=j+8,D=k-8;break;case"ANIM":(q=U.header).bgcolor=d(B,k),K=k+4,q.loop_count=(z=B)[(ee=K)+0]<<0|z[ee+1]<<8,K+=2;break;case"ANMF":var oe,q;(q=U.frames[E]={}).offset_x=2*c(B,k),k+=3,q.offset_y=2*c(B,k),k+=3,q.width=1+c(B,k),k+=3,q.height=1+c(B,k),k+=3,q.duration=c(B,k),k+=3,oe=B[k++],q.dispose=1&oe,q.blend=oe>>1&1}Y!="ANMF"&&(k+=j)}return U}})(w,0);g.response=w,g.rgbaoutput=!0,g.dataurl=!1;var b=g.header?g.header:null,S=g.frames?g.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],A=[b.canvas_width];for(var F=0;F<S.length&&S[F].blend!=0;F++);}var O=S[0],R=I.WebPDecodeRGBA(w,O.src_off,O.src_size,A,f);O.rgba=R,O.imgwidth=A[0],O.imgheight=f[0];for(var T=0;T<A[0]*f[0]*4;T++)v[T]=R[T];return this.width=A,this.height=f,this.data=v,this}var cn,ui,nC,gM,U0,zee,sIe,jee,As,CM,V0,$1,Nn,Im,Ou,Gee,Ef,oIe,lIe,uIe,Es,Ts,Ls,cIe,dIe,bM,AE,AIe,fIe,hIe,pIe,ute,hM,Tf,cte,dte,vA,M0,O0,Q0,aC,Co,iC,H0,pE,sC,Bm,oC,Fr,mIe,gIe,fte,hte,wM,pte,yIe,vIe,$ee,fE,Jee,Zee,pM,Y1,hE,ete,tte,rte,CIe,bA,_m,NIe,SIe,Lf,BIe,ite,mte,_Ie,EIe,TIe,LIe,PIe,kIe,FIe,gte,RIe,UIe,DIe,MIe,OIe,IM,gE=Ed(()=>{fB();GK();cn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();ui={log:dM,warn:function(t){cn.console&&(typeof cn.console.warn=="function"?cn.console.warn.apply(cn.console,arguments):dM.call(null,arguments))},error:function(t){cn.console&&(typeof cn.console.error=="function"?cn.console.error.apply(cn.console,arguments):dM(t))}};U0=cn.saveAs||((typeof window>"u"?"undefined":Aa(window))!=="object"||window!==cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=cn.URL||cn.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?qee(a.href)?AM(t,e,r):dE(a,a.target="_blank"):dE(a)):(a.href=n.createObjectURL(t),setTimeout((function(){n.revokeObjectURL(a.href)}),4e4),setTimeout((function(){dE(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(qee(t))AM(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){dE(n)}))}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Aa(i)!=="object"&&(ui.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return AM(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(cn.HTMLElement)||cn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Aa(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var l=cn.URL||cn.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout((function(){l.revokeObjectURL(u)}),4e4)}});nC=cn.atob.bind(cn),gM=cn.btoa.bind(cn);zee="0123456789abcdef".split("");sIe=(function(t){for(var e=0;e<t.length;e++)t[e]=aIe(t[e]);return t.join("")})(ote("hello"))!="5d41402abc4b2a76b9719d911017c592";jee={print:4,modify:8,copy:16,"annot-forms":32};X1.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},X1.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},X1.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},X1.prototype.processOwnerPassword=function(t,e){return vM(yM(e).substr(0,5),t)},X1.prototype.encryptor=function(t,e){var r=yM(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return vM(r,n)}},lC.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Aa(t)!==Aa(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},on.API={events:[]},on.version="2.5.1";As=on.API,CM=1,V0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$1=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nn=function(t){return t.toFixed(2)},Im=function(t){return t.toFixed(5)};As.__acroform__={};Ou=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Gee=function(t){return t*CM},Ef=function(t){var e=new cte,r=Fr.internal.getHeight(t)||0,n=Fr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Nn(n)),Number(Nn(r))],e},oIe=As.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},lIe=As.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},uIe=As.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Es=As.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uIe(t,e-1)},Ts=As.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oIe(t,e-1)},Ls=As.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lIe(t,e-1)},cIe=As.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Nn(l.lowerLeft_X)),Number(Nn(l.lowerLeft_Y)),Number(Nn(l.upperRight_X)),Number(Nn(l.upperRight_Y))]},dIe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=bM(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Nn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Ef(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},bM=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map((function(E){return E.split(`
`)})):a.map((function(E){return[E]}));var i=r,s=Fr.internal.getHeight(t)||0;s=s<0?-s:s;var o=Fr.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(E,_,L){if(E+1<a.length){var D=_+" "+a[E+1][0];return AE(D,t,L).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var u,c,d=AE("3",t,i).height,f=t.multiline?s-i:(s-d)/2,A=f+=2,v=0,I=0,w=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+AE(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var g="",b=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var F=!1;if(a[S].length!==1&&w!==a[S].length-1){if((d+2)*(b+2)+2>s)continue e;g+=a[S][w],F=!0,I=S,S--}else{g=(g+=a[S][w]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var O=parseInt(S),R=l(O,g,i),T=S>=a.length-1;if(R&&!T){g+=" ",w=0;continue}if(R||T){if(T)I=O;else if(t.multiline&&(d+2)*(b+2)+2>s)continue e}else{if(!t.multiline||(d+2)*(b+2)+2>s)continue e;I=O}}for(var B="",k=v;k<=I;k++){var U=a[k];if(t.multiline){if(k===I){B+=U[w]+" ",w=(w+1)%U.length;continue}if(k===v){B+=U[U.length-1]+" ";continue}}B+=U[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,c=AE(B,t,i).width,t.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;case"left":default:u=2}e+=Nn(u)+" "+Nn(A)+` Td
`,e+="("+V0(B)+`) Tj
`,e+=-Nn(u)+` 0 Td
`,A=-(i+2),c=0,v=F?I:I+1,b++,g=""}break}return n.text=e,n.fontSize=i,n},AE=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},AIe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fIe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(n){return n.type===r.type&&n.object===r.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},hIe=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Aa(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},pIe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(vA.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(AIe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");CM=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new dte,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&fIe(i,r)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=cIe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Fr.createDefaultAppearanceStream(o),Aa(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=dIe(o);l.push({key:"AP",value:"<</N "+c+">>"}),a.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var d="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var A=o.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var s in A)if(A.hasOwnProperty(s)){var v=A[s];typeof v=="function"&&(v=v.call(a,o)),d+="/"+s+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=A)=="function"&&(v=v.call(a,o)),d+="/"+s+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&hIe(a.internal.acroformPlugin.xForms,a)})(r,t)})),t.internal.acroformPlugin.isInitialized=!0}},ute=As.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Aa(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+V0(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},hM=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+V0(n(t))+")"},Tf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Tf.prototype.toString=function(){return this.objId+" 0 R"},Tf.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Tf.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:ute(a,this.objId,this.scope)}):a instanceof Tf?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};cte=function(){Tf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ou(cte,Tf);dte=function(){Tf.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+V0(r(t))+")"}},set:function(r){t=r}})};Ou(dte,Tf);vA=function t(){Tf.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Es(e,3)},set:function(g){g?this.F=Ts(e,3):this.F=Ls(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof pE)return;i="FieldObject"+t.FieldNum++}var g=function(b){return b};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+V0(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/CM:u},set:function(g){u=g}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof pE||this instanceof Bm))return hM(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Co?f:hM(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof Co?g:g.substr(0,1)==="("?$1(g.substr(1,g.length-2)):$1(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Co?$1(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Co?"/"+g:g}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Co?A:hM(A,this.objId,this.scope)},set:function(g){g=g.toString(),A=this instanceof Co?g:g.substr(0,1)==="("?$1(g.substr(1,g.length-2)):$1(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Co?$1(A.substr(1,A.length-1)):A},set:function(g){g=g.toString(),A=this instanceof Co?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(g){g=!!g,I=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,1)},set:function(g){g?this.Ff=Ts(this.Ff,1):this.Ff=Ls(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,2)},set:function(g){g?this.Ff=Ts(this.Ff,2):this.Ff=Ls(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,3)},set:function(g){g?this.Ff=Ts(this.Ff,3):this.Ff=Ls(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');w=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(w){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Ou(vA,Tf);M0=function(){vA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ute(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,o){o||(o=1);for(var l,u=[];l=s.exec(i);)u.push(l[o]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,18)},set:function(r){r?this.Ff=Ts(this.Ff,18):this.Ff=Ls(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ts(this.Ff,19):this.Ff=Ls(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,20)},set:function(r){r?(this.Ff=Ts(this.Ff,20),e.sort()):this.Ff=Ls(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,22)},set:function(r){r?this.Ff=Ts(this.Ff,22):this.Ff=Ls(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,23)},set:function(r){r?this.Ff=Ts(this.Ff,23):this.Ff=Ls(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,27)},set:function(r){r?this.Ff=Ts(this.Ff,27):this.Ff=Ls(this.Ff,27)}}),this.hasAppearanceStream=!1};Ou(M0,vA);O0=function(){M0.call(this),this.fontName="helvetica",this.combo=!1};Ou(O0,M0);Q0=function(){O0.call(this),this.combo=!0};Ou(Q0,O0);aC=function(){Q0.call(this),this.edit=!0};Ou(aC,Q0);Co=function(){vA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,15)},set:function(r){r?this.Ff=Ts(this.Ff,15):this.Ff=Ls(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,16)},set:function(r){r?this.Ff=Ts(this.Ff,16):this.Ff=Ls(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,17)},set:function(r){r?this.Ff=Ts(this.Ff,17):this.Ff=Ls(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,26)},set:function(r){r?this.Ff=Ts(this.Ff,26):this.Ff=Ls(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+V0(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Aa(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ou(Co,vA);iC=function(){Co.call(this),this.pushButton=!0};Ou(iC,Co);H0=function(){Co.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ou(H0,Co);pE=function(){var t,e;vA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+V0(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Aa(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Fr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ou(pE,vA),H0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},H0.prototype.createOption=function(t){var e=new pE;return e.Parent=this,e.optionName=t,this.Kids.push(e),mIe.call(this.scope,e),e};sC=function(){Co.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Fr.CheckBox.createAppearanceStream()};Ou(sC,Co);Bm=function(){vA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,13)},set:function(e){e?this.Ff=Ts(this.Ff,13):this.Ff=Ls(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,21)},set:function(e){e?this.Ff=Ts(this.Ff,21):this.Ff=Ls(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,23)},set:function(e){e?this.Ff=Ts(this.Ff,23):this.Ff=Ls(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,24)},set:function(e){e?this.Ff=Ts(this.Ff,24):this.Ff=Ls(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,25)},set:function(e){e?this.Ff=Ts(this.Ff,25):this.Ff=Ls(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,26)},set:function(e){e?this.Ff=Ts(this.Ff,26):this.Ff=Ls(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ou(Bm,vA);oC=function(){Bm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Es(this.Ff,14)},set:function(t){t?this.Ff=Ts(this.Ff,14):this.Ff=Ls(this.Ff,14)}}),this.password=!0};Ou(oC,Bm);Fr={CheckBox:{createAppearanceStream:function(){return{N:{On:Fr.CheckBox.YesNormal},D:{On:Fr.CheckBox.YesPushDown,Off:Fr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ef(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=bM(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Nn(Fr.internal.getWidth(t))+" "+Nn(Fr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Nn(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ef(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Fr.internal.getHeight(t),s=Fr.internal.getWidth(t),o=bM(t,t.caption);return a.push("1 g"),a.push("0 0 "+Nn(s)+" "+Nn(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Nn(s-1)+" "+Nn(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Nn(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Ef(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nn(Fr.internal.getWidth(t))+" "+Nn(Fr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Fr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Fr.RadioButton.Circle.YesNormal,e.D[t]=Fr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ef(t);e.scope=t.scope;var r=[],n=Fr.internal.getWidth(t)<=Fr.internal.getHeight(t)?Fr.internal.getWidth(t)/4:Fr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Fr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Im(Fr.internal.getWidth(t)/2)+" "+Im(Fr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ef(t);e.scope=t.scope;var r=[],n=Fr.internal.getWidth(t)<=Fr.internal.getHeight(t)?Fr.internal.getWidth(t)/4:Fr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Fr.internal.Bezier_C).toFixed(5)),s=Number((n*Fr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Im(Fr.internal.getWidth(t)/2)+" "+Im(Fr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Im(Fr.internal.getWidth(t)/2)+" "+Im(Fr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ef(t);e.scope=t.scope;var r=[],n=Fr.internal.getWidth(t)<=Fr.internal.getHeight(t)?Fr.internal.getWidth(t)/4:Fr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Fr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Im(Fr.internal.getWidth(t)/2)+" "+Im(Fr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Fr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Fr.RadioButton.Cross.YesNormal,e.D[t]=Fr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ef(t);e.scope=t.scope;var r=[],n=Fr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Nn(Fr.internal.getWidth(t)-2)+" "+Nn(Fr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Nn(n.x1.x)+" "+Nn(n.x1.y)+" m"),r.push(Nn(n.x2.x)+" "+Nn(n.x2.y)+" l"),r.push(Nn(n.x4.x)+" "+Nn(n.x4.y)+" m"),r.push(Nn(n.x3.x)+" "+Nn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ef(t);e.scope=t.scope;var r=Fr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Nn(Fr.internal.getWidth(t))+" "+Nn(Fr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Nn(Fr.internal.getWidth(t)-2)+" "+Nn(Fr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Nn(r.x1.x)+" "+Nn(r.x1.y)+" m"),n.push(Nn(r.x2.x)+" "+Nn(r.x2.y)+" l"),n.push(Nn(r.x4.x)+" "+Nn(r.x4.y)+" m"),n.push(Nn(r.x3.x)+" "+Nn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ef(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nn(Fr.internal.getWidth(t))+" "+Nn(Fr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Fr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Fr.internal.getWidth(t),r=Fr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Fr.internal.getWidth=function(t){var e=0;return Aa(t)==="object"&&(e=Gee(t.Rect[2])),e},Fr.internal.getHeight=function(t){var e=0;return Aa(t)==="object"&&(e=Gee(t.Rect[3])),e};mIe=As.addField=function(t){if(pIe(this,t),!(t instanceof vA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};As.AcroFormChoiceField=M0,As.AcroFormListBox=O0,As.AcroFormComboBox=Q0,As.AcroFormEditBox=aC,As.AcroFormButton=Co,As.AcroFormPushButton=iC,As.AcroFormRadioButton=H0,As.AcroFormCheckBox=sC,As.AcroFormTextField=Bm,As.AcroFormPasswordField=oC,As.AcroFormAppearance=Fr,As.AcroForm={ChoiceField:M0,ListBox:O0,ComboBox:Q0,EditBox:aC,Button:Co,PushButton:iC,RadioButton:H0,CheckBox:sC,TextField:Bm,PasswordField:oC,Appearance:Fr},on.AcroForm={ChoiceField:M0,ListBox:O0,ComboBox:Q0,EditBox:aC,Button:Co,PushButton:iC,RadioButton:H0,CheckBox:sC,TextField:Bm,PasswordField:oC,Appearance:Fr};gIe=on.AcroForm;(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(E,_){var L,D,z,ee,Y,$=e;if((_=_||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(R(E))for(Y in r)for(z=r[Y],L=0;L<z.length;L+=1){for(ee=!0,D=0;D<z[L].length;D+=1)if(z[L][D]!==void 0&&z[L][D]!==E[D]){ee=!1;break}if(ee===!0){$=Y;break}}else for(Y in r)for(z=r[Y],L=0;L<z.length;L+=1){for(ee=!0,D=0;D<z[L].length;D+=1)if(z[L][D]!==void 0&&z[L][D]!==E.charCodeAt(D)){ee=!1;break}if(ee===!0){$=Y;break}}return $===e&&_!==e&&($=_),$},a=function E(_){for(var L=this.internal.write,D=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:_.width}),ee.push({key:"Height",value:_.height}),_.colorSpace===w.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===w.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)){for(var Y="",$=0,j=_.transparency.length;$<j;$++)Y+=_.transparency[$]+" "+_.transparency[$]+" ";ee.push({key:"Mask",value:"["+Y+"]"})}_.sMask!==void 0&&ee.push({key:"SMask",value:_.objectId+1+" 0 R"});var K=_.filter!==void 0?["/"+_.filter]:void 0;if(D({data:_.data,additionalKeyValues:ee,alreadyAppliedFilters:K,objectId:_.objectId}),L("endobj"),"sMask"in _&&_.sMask!==void 0){var oe="/Predictor "+_.predictor+" /Colors 1 /BitsPerComponent "+_.bitsPerComponent+" /Columns "+_.width,q={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:_.bitsPerComponent,decodeParameters:oe,data:_.sMask};"filter"in _&&(q.filter=_.filter),E.call(this,q)}if(_.colorSpace===w.INDEXED){var X=this.internal.newObject();D({data:B(new Uint8Array(_.palette)),objectId:X}),L("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var _ in E)a.call(this,E[_])},s=function(){var E,_=this.internal.collections.addImage_images,L=this.internal.write;for(var D in _)L("/I"+(E=_[D]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(E){return typeof t["process"+E.toUpperCase()]=="function"},d=function(E){return Aa(E)==="object"&&E.nodeType===1},f=function(E,_){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var L=""+E.getAttribute("src");if(L.indexOf("data:image/")===0)return nC(unescape(L).split("base64,").pop());var D=t.loadFile(L,!0);if(D!==void 0)return D}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var z;switch(_){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return nC(E.toDataURL(z,1).split("base64,").pop())}},A=function(E){var _=this.internal.collections.addImage_images;if(_){for(var L in _)if(E===_[L].alias)return _[L]}},v=function(E,_,L){return E||_||(E=-96,_=-96),E<0&&(E=-1*L.width*72/E/this.internal.scaleFactor),_<0&&(_=-1*L.height*72/_/this.internal.scaleFactor),E===0&&(E=_*L.width/L.height),_===0&&(_=E*L.height/L.width),[E,_]},I=function(E,_,L,D,z,ee){var Y=v.call(this,L,D,z),$=this.internal.getCoordinateString,j=this.internal.getVerticalCoordinateString,K=l.call(this);if(L=Y[0],D=Y[1],K[z.index]=z,ee){ee*=Math.PI/180;var oe=Math.cos(ee),q=Math.sin(ee),X=function(ue){return ue.toFixed(4)},te=[X(oe),X(q),X(-1*q),X(oe),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,$(E),j(_+D),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([$(L),"0","0",$(D),"0","0","cm"].join(" "))):this.internal.write([$(L),"0","0",$(D),$(E),j(_+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(E){var _,L,D=0;if(typeof E=="string")for(L=E.length,_=0;_<L;_++)D=(D<<5)-D+E.charCodeAt(_),D|=0;else if(R(E))for(L=E.byteLength/2,_=0;_<L;_++)D=(D<<5)-D+E[_],D|=0;return D},S=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var _=!0;return E.length===0&&(_=!1),E.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(_=!1),_},F=t.__addimage__.extractImageFromDataUrl=function(E){var _=(E=E||"").split("base64,"),L=null;if(_.length===2){var D=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(_[0]);Array.isArray(D)&&(L={mimeType:D[1],charset:D[2],data:_[1]})}return L},O=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return O()&&E instanceof ArrayBuffer};var R=t.__addimage__.isArrayBufferView=function(E){return O()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(E){for(var _=E.length,L=new Uint8Array(_),D=0;D<_;D++)L[D]=E.charCodeAt(D);return L},B=t.__addimage__.arrayBufferToBinaryString=function(E){for(var _="",L=R(E)?E:new Uint8Array(E),D=0;D<L.length;D+=8192)_+=String.fromCharCode.apply(null,L.subarray(D,D+8192));return _};t.addImage=function(){var E,_,L,D,z,ee,Y,$,j;if(typeof arguments[1]=="number"?(_=e,L=arguments[1],D=arguments[2],z=arguments[3],ee=arguments[4],Y=arguments[5],$=arguments[6],j=arguments[7]):(_=arguments[1],L=arguments[2],D=arguments[3],z=arguments[4],ee=arguments[5],Y=arguments[6],$=arguments[7],j=arguments[8]),Aa(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var K=E;E=K.imageData,_=K.format||_||e,L=K.x||L||0,D=K.y||D||0,z=K.w||K.width||z,ee=K.h||K.height||ee,Y=K.alias||Y,$=K.compression||$,j=K.rotation||K.angle||j}var oe=this.internal.getFilters();if($===void 0&&oe.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(L)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var q=k.call(this,E,_,Y,$);return I.call(this,L,D,z,ee,q,j),this};var k=function(E,_,L,D){var z,ee,Y;if(typeof E=="string"&&n(E)===e){E=unescape(E);var $=U(E,!1);($!==""||($=t.loadFile(E,!0))!==void 0)&&(E=$)}if(d(E)&&(E=f(E,_)),_=n(E,_),!c(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((Y=L)==null||Y.length===0)&&(L=(function(j){return typeof j=="string"||R(j)?b(j):R(j.data)?b(j.data):null})(E)),(z=A.call(this,L))||(O()&&(E instanceof Uint8Array||_==="RGBA"||(ee=E,E=T(E))),z=this["process"+_.toUpperCase()](E,u.call(this),L,(function(j){return j&&typeof j=="string"&&(j=j.toUpperCase()),j in t.image_compression?j:g.NONE})(D),ee)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},U=t.__addimage__.convertBase64ToBinaryString=function(E,_){var L;_=typeof _!="boolean"||_;var D,z="";if(typeof E=="string"){D=(L=F(E))!==null?L.data:E;try{z=nC(D)}catch(ee){if(_)throw S(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(E){var _,L,D="";if(d(E)&&(E=f(E)),typeof E=="string"&&n(E)===e&&((D=U(E,!1))===""&&(D=t.loadFile(E)||""),E=D),L=n(E),!c(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!O()||E instanceof Uint8Array||(E=T(E)),!(_=this["process"+L.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=L,_}})(on.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};on.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((n=u[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){n=u[f];var A=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(I.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+A(g(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+A(g(b))+") >>",I.content=i;var S=I.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(I.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var F=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+A(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+A(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var R=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var c=this.splitTextToSize(r,o).length;s=Math.ceil(u*c)}else o=l,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-u,o,s,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(on.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},o=t.__arabicParser__.isArabicEndLetter=function(I){return s(I)&&i(I)&&e[I.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(I){return s(I)&&a.indexOf(I.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return s(I)&&i(I)&&e[I.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(I){return s(I)&&i(I)&&e[I.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(I){return s(I)&&i(I)&&e[I.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(I){return s(I)&&i(I)&&e[I.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(I){var w=0,g=r,b="",S=0;for(w=0;w<I.length;w+=1)g[I.charCodeAt(w)]!==void 0?(S++,typeof(g=g[I.charCodeAt(w)])=="number"&&(b+=String.fromCharCode(g),g=r,S=0),w===I.length-1&&(g=r,b+=I.charAt(w-(S-1)),w-=S-1,S=0)):(g=r,b+=I.charAt(w-S),w-=S,S=0);return b};t.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&n[I.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(I,w,g){return s(I)?i(I)===!1?-1:!u(I)||!s(w)&&!s(g)||!s(g)&&o(w)||o(I)&&!s(w)||o(I)&&l(w)||o(I)&&o(w)?0:c(I)&&s(w)&&!o(w)&&s(g)&&u(g)?3:o(I)||!s(g)?1:2:-1},A=function(I){var w=0,g=0,b=0,S="",F="",O="",R=(I=I||"").split("\\s+"),T=[];for(w=0;w<R.length;w+=1){for(T.push(""),g=0;g<R[w].length;g+=1)S=R[w][g],F=R[w][g-1],O=R[w][g+1],s(S)?(b=f(S,F,O),T[w]+=b!==-1?String.fromCharCode(e[S.charCodeAt(0)][b]):S):T[w]+=S;T[w]=d(T[w])}return T.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var I,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(w)){var b=0;for(g=[],b=0;b<w.length;b+=1)Array.isArray(w[b])?g.push([A(w[b][0]),w[b][1],w[b][2]]):g.push([A(w[b])]);I=g}else I=A(w);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};t.events.push(["preProcessText",v])})(on.API),on.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(on.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(I){l=I}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(I){u=I}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(I){c=I}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(I){d=I}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(I){A=I}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(I){v=I}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,A=0,v=0,I=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=u.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce((function(S,F){return S.concat(w.splitTextToSize(F,g))}),[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)A<(I=this.getStringUnitWidth(l[b],{font:d})*c)&&(A=I);return A!==0&&(v=l.length),{w:A/=f,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,A&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,d,f){if(n.call(this),!c)throw new Error("No data for PDF table.");var A,v,I,w,g=[],b=[],S=[],F={},O={},R=[],T=[],B=(f=f||{}).autoSize||!1,k=f.printHeaders!==!1,U=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,E=f.margins||Object.assign({width:this.getPageWidth()},e),_=typeof f.padding=="number"?f.padding:3,L=f.headerBackgroundColor||"#c8c8c8",D=f.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=D,this.setFontSize(U),d==null)b=g=Object.keys(c[0]),S=g.map((function(){return"left"}));else if(Array.isArray(d)&&Aa(d[0])==="object")for(g=d.map((function(K){return K.name})),b=d.map((function(K){return K.prompt||K.name||""})),S=d.map((function(K){return K.align||"left"})),A=0;A<d.length;A+=1)O[d[A].name]=d[A].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=g=d,S=g.map((function(){return"left"})));if(B||Array.isArray(d)&&typeof d[0]=="string")for(A=0;A<g.length;A+=1){for(F[w=g[A]]=c.map((function(K){return K[w]})),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(b[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=F[w],this.setFont(void 0,"normal"),I=0;I<v.length;I+=1)R.push(this.getTextDimensions(v[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[w]=Math.max.apply(null,R)+_+_,R=[]}if(k){var z={};for(A=0;A<g.length;A+=1)z[g[A]]={},z[g[A]].text=b[A],z[g[A]].align=S[A];var ee=o.call(this,z,O);T=g.map((function(K){return new i(l,u,O[K],ee,z[K].text,void 0,z[K].align)})),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var Y=d.reduce((function(K,oe){return K[oe.name]=oe.align,K}),{});for(A=0;A<c.length;A+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:A,data:c[A]},this);var $=o.call(this,c[A],O);for(I=0;I<g.length;I+=1){var j=c[A][g[I]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:A,col:I,data:j},this),s.call(this,new i(l,u,O[g[I]],$,j,A+2,Y[g[I]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map((function(A){var v=l[A];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[A]-c-c)}),this).map((function(A){return this.getLineHeightFactor()*A.length*d/f+c+c}),this).reduce((function(A,v){return Math.max(A,v)}),0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){c=this.internal.__cell__.tableHeaderRow[A].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,f.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(v)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}})(on.API);fte={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hte=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wM=Ate(hte),pte=[100,200,300,400,500,600,700,800,900],yIe=Ate(pte);vIe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$ee={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};pM=["times"];(function(t){var e,r,n,a,i,s,o,l,u,c=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new l,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new s,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new s,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=q;Object.defineProperty(this,"pdf",{get:function(){return X}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Re){te=!!Re}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Re){ue=!!Re}});var be=0;Object.defineProperty(this,"posX",{get:function(){return be},set:function(Re){isNaN(Re)||(be=Re)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Re){isNaN(Re)||(ge=Re)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Re){var Ae;typeof Re=="number"?Ae=[Re,Re,Re,Re]:((Ae=new Array(4))[0]=Re[0],Ae[1]=Re.length>=2?Re[1]:Ae[0],Ae[2]=Re.length>=3?Re[2]:Ae[0],Ae[3]=Re.length>=4?Re[3]:Ae[1]),u.margin=Ae}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(Re){Ne=Re}});var Le=0;Object.defineProperty(this,"lastBreak",{get:function(){return Le},set:function(Re){Le=Re}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(Re){Ie=Re}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Re){Re instanceof c&&(u=Re)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Re){u.path=Re}});var de=[];Object.defineProperty(this,"ctxStack",{get:function(){return de},set:function(Re){de=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var Ae;Ae=f(Re),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var Ae=f(Re);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var xe=null;function qe(Re,Ae){if(xe===null){var Kt=(function(zt){var pt=[];return Object.keys(zt).forEach((function(Oe){zt[Oe].forEach((function(me){var Ue=null;switch(me){case"bold":Ue={family:Oe,weight:"bold"};break;case"italic":Ue={family:Oe,style:"italic"};break;case"bolditalic":Ue={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Ue={family:Oe}}Ue!==null&&(Ue.ref={name:Oe,style:me},pt.push(Ue))}))})),pt})(Re.getFontList());xe=(function(zt){for(var pt={},Oe=0;Oe<zt.length;++Oe){var me=xM(zt[Oe]),Ue=me.family,it=me.stretch,At=me.style,ct=me.weight;pt[Ue]=pt[Ue]||{},pt[Ue][it]=pt[Ue][it]||{},pt[Ue][it][At]=pt[Ue][it][At]||{},pt[Ue][it][At][ct]=me}return pt})(Kt.concat(Ae))}return xe}var wt=null;Object.defineProperty(this,"fontFaces",{get:function(){return wt},set:function(Re){xe=null,wt=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var Ae;if(this.ctx.font=Re,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var Kt=Ae[1],zt=(Ae[2],Ae[3]),pt=Ae[4],Oe=(Ae[5],Ae[6]),me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pt)[2];pt=Math.floor(me==="px"?parseFloat(pt)*this.pdf.internal.scaleFactor:me==="em"?parseFloat(pt)*this.pdf.getFontSize():parseFloat(pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pt);var Ue=(function(rr){var Er,Nt,gn=[],dt=rr.trim();if(dt==="")return pM;if(dt in $ee)return[$ee[dt]];for(;dt!=="";){switch(Nt=null,Er=(dt=Xee(dt)).charAt(0)){case'"':case"'":Nt=wIe(dt.substring(1),Er);break;default:Nt=xIe(dt)}if(Nt===null||(gn.push(Nt[0]),(dt=Xee(Nt[1]))!==""&&dt.charAt(0)!==","))return pM;dt=dt.replace(/^,/,"")}return gn})(Oe);if(this.fontFaces){var it=bIe(qe(this.pdf,this.fontFaces),Ue.map((function(rr){return{family:rr,stretch:"normal",weight:zt,style:Kt}})));this.pdf.setFont(it.ref.name,it.ref.style)}else{var At="";(zt==="bold"||parseInt(zt,10)>=700||Kt==="bold")&&(At="bold"),Kt==="italic"&&(At+="italic"),At.length===0&&(At="normal");for(var ct="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<Ue.length;Ot++){if(this.pdf.internal.getFont(Ue[Ot],At,{noFallback:!0,disableWarning:!0})!==void 0){ct=Ue[Ot];break}if(At==="bolditalic"&&this.pdf.internal.getFont(Ue[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=Ue[Ot],At="bold";else if(this.pdf.internal.getFont(Ue[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=Ue[Ot],At="normal";break}}if(ct===""){for(var vr=0;vr<Ue.length;vr++)if(Tt[Ue[vr]]){ct=Tt[Ue[vr]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,At)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};d.prototype.setLineDash=function(q){this.lineDash=q},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){F.call(this,"fill",!1)},d.prototype.stroke=function(){F.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(q,X){if(isNaN(q)||isNaN(X))throw ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new s(q,X));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new s(q,X)},d.prototype.closePath=function(){var q=new s(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Aa(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){q=new s(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(q.x,q.y)},d.prototype.lineTo=function(q,X){if(isNaN(q)||isNaN(X))throw ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new s(q,X));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},d.prototype.quadraticCurveTo=function(q,X,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(q)||isNaN(X))throw ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var be=this.ctx.transform.applyToPoint(new s(te,ue)),ge=this.ctx.transform.applyToPoint(new s(q,X));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:be.x,y:be.y}),this.ctx.lastPoint=new s(be.x,be.y)},d.prototype.bezierCurveTo=function(q,X,te,ue,be,ge){if(isNaN(be)||isNaN(ge)||isNaN(q)||isNaN(X)||isNaN(te)||isNaN(ue))throw ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new s(be,ge)),Le=this.ctx.transform.applyToPoint(new s(q,X)),Ie=this.ctx.transform.applyToPoint(new s(te,ue));this.path.push({type:"bct",x1:Le.x,y1:Le.y,x2:Ie.x,y2:Ie.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new s(Ne.x,Ne.y)},d.prototype.arc=function(q,X,te,ue,be,ge){if(isNaN(q)||isNaN(X)||isNaN(te)||isNaN(ue)||isNaN(be))throw ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new s(q,X));q=Ne.x,X=Ne.y;var Le=this.ctx.transform.applyToPoint(new s(0,te)),Ie=this.ctx.transform.applyToPoint(new s(0,0));te=Math.sqrt(Math.pow(Le.x-Ie.x,2)+Math.pow(Le.y-Ie.y,2))}Math.abs(be-ue)>=2*Math.PI&&(ue=0,be=2*Math.PI),this.path.push({type:"arc",x:q,y:X,radius:te,startAngle:ue,endAngle:be,counterclockwise:ge})},d.prototype.arcTo=function(q,X,te,ue,be){throw new Error("arcTo not implemented.")},d.prototype.rect=function(q,X,te,ue){if(isNaN(q)||isNaN(X)||isNaN(te)||isNaN(ue))throw ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,X),this.lineTo(q+te,X),this.lineTo(q+te,X+ue),this.lineTo(q,X+ue),this.lineTo(q,X),this.lineTo(q+te,X),this.lineTo(q,X)},d.prototype.fillRect=function(q,X,te,ue){if(isNaN(q)||isNaN(X)||isNaN(te)||isNaN(ue))throw ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var be={};this.lineCap!=="butt"&&(be.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(be.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,X,te,ue),this.fill(),be.hasOwnProperty("lineCap")&&(this.lineCap=be.lineCap),be.hasOwnProperty("lineJoin")&&(this.lineJoin=be.lineJoin)}},d.prototype.strokeRect=function(q,X,te,ue){if(isNaN(q)||isNaN(X)||isNaN(te)||isNaN(ue))throw ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(q,X,te,ue),this.stroke())},d.prototype.clearRect=function(q,X,te,ue){if(isNaN(q)||isNaN(X)||isNaN(te)||isNaN(ue))throw ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,X,te,ue))},d.prototype.save=function(q){q=typeof q!="boolean"||q;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},d.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(X),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(q){var X,te,ue,be;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))X=0,te=0,ue=0,be=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(ge!==null)X=parseInt(ge[1]),te=parseInt(ge[2]),ue=parseInt(ge[3]),be=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)X=parseInt(ge[1]),te=parseInt(ge[2]),ue=parseInt(ge[3]),be=parseFloat(ge[4]);else{if(be=1,typeof q=="string"&&q.charAt(0)!=="#"){var Ne=new ste(q);q=Ne.ok?Ne.toHex():"#000000"}q.length===4?(X=q.substring(1,2),X+=X,te=q.substring(2,3),te+=te,ue=q.substring(3,4),ue+=ue):(X=q.substring(1,3),te=q.substring(3,5),ue=q.substring(5,7)),X=parseInt(X,16),te=parseInt(te,16),ue=parseInt(ue,16)}}return{r:X,g:te,b:ue,a:be,style:q}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(q,X,te,ue){if(isNaN(X)||isNaN(te)||typeof q!="string")throw ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!A.call(this)){var be=$(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;_.call(this,{text:q,x:X,y:te,scale:ge,angle:be,align:this.textAlign,maxWidth:ue})}},d.prototype.strokeText=function(q,X,te,ue){if(isNaN(X)||isNaN(te)||typeof q!="string")throw ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ue=isNaN(ue)?void 0:ue;var be=$(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;_.call(this,{text:q,x:X,y:te,scale:ge,renderingMode:"stroke",angle:be,align:this.textAlign,maxWidth:ue})}},d.prototype.measureText=function(q){if(typeof q!="string")throw ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,te=this.pdf.internal.scaleFactor,ue=X.internal.getFontSize(),be=X.getStringUnitWidth(q)*ue/X.internal.scaleFactor,ge=function(Ne){var Le=(Ne=Ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Le}}),this};return new ge({width:be*=Math.round(96*te/72*1e4)/1e4})},d.prototype.scale=function(q,X){if(isNaN(q)||isNaN(X))throw ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new l(q,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.rotate=function(q){if(isNaN(q))throw ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.translate=function(q,X){if(isNaN(q)||isNaN(X))throw ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new l(1,0,0,1,q,X);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.transform=function(q,X,te,ue,be,ge){if(isNaN(q)||isNaN(X)||isNaN(te)||isNaN(ue)||isNaN(be)||isNaN(ge))throw ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new l(q,X,te,ue,be,ge);this.ctx.transform=this.ctx.transform.multiply(Ne)},d.prototype.setTransform=function(q,X,te,ue,be,ge){q=isNaN(q)?1:q,X=isNaN(X)?0:X,te=isNaN(te)?0:te,ue=isNaN(ue)?1:ue,be=isNaN(be)?0:be,ge=isNaN(ge)?0:ge,this.ctx.transform=new l(q,X,te,ue,be,ge)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(q,X,te,ue,be,ge,Ne,Le,Ie){var de=this.pdf.getImageProperties(q),xe=1,qe=1,wt=1,Re=1;ue!==void 0&&Le!==void 0&&(wt=Le/ue,Re=Ie/be,xe=de.width/ue*Le/ue,qe=de.height/be*Ie/be),ge===void 0&&(ge=X,Ne=te,X=0,te=0),ue!==void 0&&Le===void 0&&(Le=ue,Ie=be),ue===void 0&&Le===void 0&&(Le=de.width,Ie=de.height);for(var Ae,Kt=this.ctx.transform.decompose(),zt=$(Kt.rotate.shx),pt=new l,Oe=(pt=(pt=(pt=pt.multiply(Kt.translate)).multiply(Kt.skew)).multiply(Kt.scale)).applyToRectangle(new o(ge-X*wt,Ne-te*Re,ue*xe,be*qe)),me=w.call(this,Oe),Ue=[],it=0;it<me.length;it+=1)Ue.indexOf(me[it])===-1&&Ue.push(me[it]);if(S(Ue),this.autoPaging)for(var At=Ue[0],ct=Ue[Ue.length-1],Tt=At;Tt<ct+1;Tt++){this.pdf.setPage(Tt);var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vr=Tt===1?this.posY+this.margin[0]:this.margin[0],rr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Tt===1?0:rr+(Tt-2)*Er;if(this.ctx.clip_path.length!==0){var gn=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ae,this.posX+this.margin[3],-Nt+vr+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=gn}var dt=JSON.parse(JSON.stringify(Oe));dt=b([dt],this.posX+this.margin[3],-Nt+vr+this.ctx.prevPageLastElemOffset)[0];var Wt=(Tt>At||Tt<ct)&&I.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,Er,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,zt),Wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(q,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,zt)};var w=function(q,X,te){var ue=[];X=X||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var be=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":ue.push(Math.floor((q.y+be)/te)+1);break;case"arc":ue.push(Math.floor((q.y+be-q.radius)/te)+1),ue.push(Math.floor((q.y+be+q.radius)/te)+1);break;case"qct":var ge=j(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);ue.push(Math.floor((ge.y+be)/te)+1),ue.push(Math.floor((ge.y+ge.h+be)/te)+1);break;case"bct":var Ne=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);ue.push(Math.floor((Ne.y+be)/te)+1),ue.push(Math.floor((Ne.y+Ne.h+be)/te)+1);break;case"rect":ue.push(Math.floor((q.y+be)/te)+1),ue.push(Math.floor((q.y+q.h+be)/te)+1)}for(var Le=0;Le<ue.length;Le+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Le];)g.call(this);return ue},g=function(){var q=this.fillStyle,X=this.strokeStyle,te=this.font,ue=this.lineCap,be=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=X,this.font=te,this.lineCap=ue,this.lineWidth=be,this.lineJoin=ge},b=function(q,X,te){for(var ue=0;ue<q.length;ue++)switch(q[ue].type){case"bct":q[ue].x2+=X,q[ue].y2+=te;case"qct":q[ue].x1+=X,q[ue].y1+=te;case"mt":case"lt":case"arc":default:q[ue].x+=X,q[ue].y+=te}return q},S=function(q){return q.sort((function(X,te){return X-te}))},F=function(q,X){for(var te,ue,be=this.fillStyle,ge=this.strokeStyle,Ne=this.lineCap,Le=this.lineWidth,Ie=Math.abs(Le*this.ctx.transform.scaleX),de=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),wt=[],Re=0;Re<qe.length;Re++)if(qe[Re].x!==void 0)for(var Ae=w.call(this,qe[Re]),Kt=0;Kt<Ae.length;Kt+=1)wt.indexOf(Ae[Kt])===-1&&wt.push(Ae[Kt]);for(var zt=0;zt<wt.length;zt++)for(;this.pdf.internal.getNumberOfPages()<wt[zt];)g.call(this);if(S(wt),this.autoPaging)for(var pt=wt[0],Oe=wt[wt.length-1],me=pt;me<Oe+1;me++){this.pdf.setPage(me),this.fillStyle=be,this.strokeStyle=ge,this.lineCap=Ne,this.lineWidth=Ie,this.lineJoin=de;var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=me===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=me===1?0:At+(me-2)*ct;if(this.ctx.clip_path.length!==0){var Ot=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(te,this.posX+this.margin[3],-Tt+it+this.ctx.prevPageLastElemOffset),O.call(this,q,!0),this.path=Ot}if(ue=JSON.parse(JSON.stringify(xe)),this.path=b(ue,this.posX+this.margin[3],-Tt+it+this.ctx.prevPageLastElemOffset),X===!1||me===0){var vr=(me>pt||me<Oe)&&I.call(this);vr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,ct,null).clip().discardPath()),O.call(this,q,X),vr&&this.pdf.restoreGraphicsState()}this.lineWidth=Le}else this.lineWidth=Ie,O.call(this,q,X),this.lineWidth=Le;this.path=xe},O=function(q,X){if((q!=="stroke"||X||!v.call(this))&&(q==="stroke"||X||!A.call(this))){for(var te,ue,be=[],ge=this.path,Ne=0;Ne<ge.length;Ne++){var Le=ge[Ne];switch(Le.type){case"begin":be.push({begin:!0});break;case"close":be.push({close:!0});break;case"mt":be.push({start:Le,deltas:[],abs:[]});break;case"lt":var Ie=be.length;if(ge[Ne-1]&&!isNaN(ge[Ne-1].x)&&(te=[Le.x-ge[Ne-1].x,Le.y-ge[Ne-1].y],Ie>0)){for(;Ie>=0;Ie--)if(be[Ie-1].close!==!0&&be[Ie-1].begin!==!0){be[Ie-1].deltas.push(te),be[Ie-1].abs.push(Le);break}}break;case"bct":te=[Le.x1-ge[Ne-1].x,Le.y1-ge[Ne-1].y,Le.x2-ge[Ne-1].x,Le.y2-ge[Ne-1].y,Le.x-ge[Ne-1].x,Le.y-ge[Ne-1].y],be[be.length-1].deltas.push(te);break;case"qct":var de=ge[Ne-1].x+2/3*(Le.x1-ge[Ne-1].x),xe=ge[Ne-1].y+2/3*(Le.y1-ge[Ne-1].y),qe=Le.x+2/3*(Le.x1-Le.x),wt=Le.y+2/3*(Le.y1-Le.y),Re=Le.x,Ae=Le.y;te=[de-ge[Ne-1].x,xe-ge[Ne-1].y,qe-ge[Ne-1].x,wt-ge[Ne-1].y,Re-ge[Ne-1].x,Ae-ge[Ne-1].y],be[be.length-1].deltas.push(te);break;case"arc":be.push({deltas:[],abs:[],arc:!0}),Array.isArray(be[be.length-1].abs)&&be[be.length-1].abs.push(Le)}}ue=X?null:q==="stroke"?"stroke":"fill";for(var Kt=!1,zt=0;zt<be.length;zt++)if(be[zt].arc)for(var pt=be[zt].abs,Oe=0;Oe<pt.length;Oe++){var me=pt[Oe];me.type==="arc"?B.call(this,me.x,me.y,me.radius,me.startAngle,me.endAngle,me.counterclockwise,void 0,X,!Kt):L.call(this,me.x,me.y),Kt=!0}else if(be[zt].close===!0)this.pdf.internal.out("h"),Kt=!1;else if(be[zt].begin!==!0){var Ue=be[zt].start.x,it=be[zt].start.y;D.call(this,be[zt].deltas,Ue,it),Kt=!0}ue&&k.call(this,ue),X&&U.call(this)}},R=function(q){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-te;case"top":return q+X-te;case"hanging":return q+X-2*te;case"middle":return q+X/2-te;case"ideographic":return q;case"alphabetic":default:return q}},T=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(X,te){this.colorStops.push([X,te])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(q,X,te,ue,be,ge,Ne,Le,Ie){for(var de=ee.call(this,te,ue,be,ge),xe=0;xe<de.length;xe++){var qe=de[xe];xe===0&&(Ie?E.call(this,qe.x1+q,qe.y1+X):L.call(this,qe.x1+q,qe.y1+X)),z.call(this,q,X,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}Le?U.call(this):k.call(this,Ne)},k=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(q,X){this.pdf.internal.out(r(q)+" "+n(X)+" m")},_=function(q){var X;switch(q.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var te=this.pdf.getTextDimensions(q.text),ue=R.call(this,q.y),be=T.call(this,ue)-te.h,ge=this.ctx.transform.applyToPoint(new s(q.x,ue)),Ne=this.ctx.transform.decompose(),Le=new l;Le=(Le=(Le=Le.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var Ie,de,xe,qe=this.ctx.transform.applyToRectangle(new o(q.x,ue,te.w,te.h)),wt=Le.applyToRectangle(new o(q.x,be,te.w,te.h)),Re=w.call(this,wt),Ae=[],Kt=0;Kt<Re.length;Kt+=1)Ae.indexOf(Re[Kt])===-1&&Ae.push(Re[Kt]);if(S(Ae),this.autoPaging)for(var zt=Ae[0],pt=Ae[Ae.length-1],Oe=zt;Oe<pt+1;Oe++){this.pdf.setPage(Oe);var me=Oe===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],At=it-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],Tt=ct-this.margin[3],Ot=Oe===1?0:Ue+(Oe-2)*At;if(this.ctx.clip_path.length!==0){var vr=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ie,this.posX+this.margin[3],-1*Ot+me),O.call(this,"fill",!0),this.path=vr}var rr=b([JSON.parse(JSON.stringify(wt))],this.posX+this.margin[3],-Ot+me+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*q.scale),xe=this.lineWidth,this.lineWidth=xe*q.scale);var Er=this.autoPaging!=="text";if(Er||rr.y+rr.h<=it){if(Er||rr.y>=me&&rr.x<=ct){var Nt=Er?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||ct-rr.x)[0],gn=b([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Ot+me+this.ctx.prevPageLastElemOffset)[0],dt=Er&&(Oe>zt||Oe<pt)&&I.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,At,null).clip().discardPath()),this.pdf.text(Nt,gn.x,gn.y,{angle:q.angle,align:X,renderingMode:q.renderingMode}),dt&&this.pdf.restoreGraphicsState()}}else rr.y<it&&(this.ctx.prevPageLastElemOffset+=it-rr.y);q.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=xe)}else q.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*q.scale),xe=this.lineWidth,this.lineWidth=xe*q.scale),this.pdf.text(q.text,ge.x+this.posX,ge.y+this.posY,{angle:q.angle,align:X,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=xe)},L=function(q,X,te,ue){te=te||0,ue=ue||0,this.pdf.internal.out(r(q+te)+" "+n(X+ue)+" l")},D=function(q,X,te){return this.pdf.lines(q,X,te,null,null)},z=function(q,X,te,ue,be,ge,Ne,Le){this.pdf.internal.out([e(a(te+q)),e(i(ue+X)),e(a(be+q)),e(i(ge+X)),e(a(Ne+q)),e(i(Le+X)),"c"].join(" "))},ee=function(q,X,te,ue){for(var be=2*Math.PI,ge=Math.PI/2;X>te;)X-=be;var Ne=Math.abs(te-X);Ne<be&&ue&&(Ne=be-Ne);for(var Le=[],Ie=ue?-1:1,de=X;Ne>1e-5;){var xe=de+Ie*Math.min(Ne,ge);Le.push(Y.call(this,q,de,xe)),Ne-=Math.abs(xe-de),de=xe}return Le},Y=function(q,X,te){var ue=(te-X)/2,be=q*Math.cos(ue),ge=q*Math.sin(ue),Ne=be,Le=-ge,Ie=Ne*Ne+Le*Le,de=Ie+Ne*be+Le*ge,xe=4/3*(Math.sqrt(2*Ie*de)-de)/(Ne*ge-Le*be),qe=Ne-xe*Le,wt=Le+xe*Ne,Re=qe,Ae=-wt,Kt=ue+X,zt=Math.cos(Kt),pt=Math.sin(Kt);return{x1:q*Math.cos(X),y1:q*Math.sin(X),x2:qe*zt-wt*pt,y2:qe*pt+wt*zt,x3:Re*zt-Ae*pt,y3:Re*pt+Ae*zt,x4:q*Math.cos(te),y4:q*Math.sin(te)}},$=function(q){return 180*q/Math.PI},j=function(q,X,te,ue,be,ge){var Ne=q+.5*(te-q),Le=X+.5*(ue-X),Ie=be+.5*(te-be),de=ge+.5*(ue-ge),xe=Math.min(q,be,Ne,Ie),qe=Math.max(q,be,Ne,Ie),wt=Math.min(X,ge,Le,de),Re=Math.max(X,ge,Le,de);return new o(xe,wt,qe-xe,Re-wt)},K=function(q,X,te,ue,be,ge,Ne,Le){var Ie,de,xe,qe,wt,Re,Ae,Kt,zt,pt,Oe,me,Ue,it,At=te-q,ct=ue-X,Tt=be-te,Ot=ge-ue,vr=Ne-be,rr=Le-ge;for(de=0;de<41;de++)zt=(Ae=(xe=q+(Ie=de/40)*At)+Ie*((wt=te+Ie*Tt)-xe))+Ie*(wt+Ie*(be+Ie*vr-wt)-Ae),pt=(Kt=(qe=X+Ie*ct)+Ie*((Re=ue+Ie*Ot)-qe))+Ie*(Re+Ie*(ge+Ie*rr-Re)-Kt),de==0?(Oe=zt,me=pt,Ue=zt,it=pt):(Oe=Math.min(Oe,zt),me=Math.min(me,pt),Ue=Math.max(Ue,zt),it=Math.max(it,pt));return new o(Math.round(Oe),Math.round(me),Math.round(Ue-Oe),Math.round(it-me))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,X,te=(q=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:X}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(on.API),(function(t){var e=function(i){var s,o,l,u,c,d,f,A,v,I;for(/[^\x00-\xFF]/.test(i),o=[],l=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>l;l+=4)(c=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(c=((c=((c=((c=(c-(I=c%85))/85)-(v=c%85))/85)-(A=c%85))/85)-(f=c%85))/85)%85,o.push(d+33,f+33,A+33,v+33,I+33)):o.push(122);return(function(w,g){for(var b=g;b>0;b--)w.pop()})(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,u,c,d=String,f="length",A=255,v="charCodeAt",I="slice",w="replace";for(i[I](-2),i=i[I](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],u=0,c=(i+=s="uuuuu"[I](i[f]%5||5))[f];c>u;u+=5)o=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),l.push(A&o>>24,A&o>>16,A&o>>8,A&o);return(function(g,b){for(var S=b;S>0;S--)g.pop()})(l,s[f]),d.fromCharCode.apply(d,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=gB(s)).reduce((function(l,u){return l+String.fromCharCode(u)}),"")};t.processDataByFilters=function(i,s){var o=0,l=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map((function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)})).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}})(on.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(l,u,c){var d=new XMLHttpRequest,f=0,A=function(v){var I=v.length,w=[],g=String.fromCharCode;for(f=0;f<I;f+=1)w.push(g(255&v.charCodeAt(f)));return w.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(A(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return A(d.responseText)})(a,i,s)}catch{}return o})(e,r,n)},t.loadImageFile=t.loadFile})(on.API),(function(t){function e(){return(cn.html2canvas?Promise.resolve(cn.html2canvas):Promise.resolve().then(()=>ce(WK()))).catch((function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))})).then((function(s){return s.default?s.default:s}))}function r(){return(cn.DOMPurify?Promise.resolve(cn.DOMPurify):Promise.resolve().then(()=>(lG(),oG))).catch((function(s){return Promise.reject(new Error("Could not load dompurify: "+s))})).then((function(s){return s.default?s.default:s}))}var n=function(s){var o=Aa(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then((function(){switch(o=o||(function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s)){case"string":return this.then(r).then((function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})}));case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=(function l(u,c){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",(function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft}),!0)),d})(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)})).then((function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var A=u[f],v=A.src.find((function(I){return I.format==="truetype"}));v&&l.addFont(v.url,A.ref.name,A.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)})).then((function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(s,o)}))},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}}))},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map((function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}}),this);return this.then((function(){return this.thenList(o)}))},i.prototype.get=function(s,o){return this.then((function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l}))},i.prototype.setMargin=function(s){return this.then((function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s})).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,u){return Math.floor(l*u/72*96)}return this.then((function(){(s=s||on.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s}))},i.prototype.setProgress=function(s,o,l,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,u){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,(function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,(function(d){return l.updateProgress(null,u),d})).then(u,c).then((function(d){return l.updateProgress(1),d}))}))},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),c=l.call(u,s,o);return i.convert(c,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach((function(l){o=o.thenCore(l)})),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then((function(){throw new Error(s)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,on.getPageSize=function(s,o,l){if(Aa(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var c,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var A,v=0,I=0;if(f.hasOwnProperty(d))v=f[d][1]/c,I=f[d][0]/c;else try{v=l[1],I=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",I>v&&(A=I,I=v,v=A);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",v>I&&(A=I,I=v,v=A)}return{width:I,height:v,unit:o,k:c,orientation:s}},t.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(xM):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}})(on.API),on.API.addJS=function(t){return Zee=t,this.internal.events.subscribe("postPutResources",(function(){fE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fE+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Jee=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Zee+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){fE!==void 0&&Jee!==void 0&&this.internal.out("/Names <</JavaScript "+fE+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(i=0;i<u;i++){var d=r.internal.newObject();c.push(d);var f=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var A=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<c.length;i++)r.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+A+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(on.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=(function(d){for(var f,A=256*d.charCodeAt(4)+d.charCodeAt(5),v=d.length,I={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=A,e.indexOf(d.charCodeAt(w+1))!==-1){f=256*d.charCodeAt(w+5)+d.charCodeAt(w+6),I={width:256*d.charCodeAt(w+7)+d.charCodeAt(w+8),height:f,numcomponents:d.charCodeAt(w+9)};break}A=256*d.charCodeAt(w+2)+d.charCodeAt(w+3)}return I})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return c}})(on.API);CIe=(function(){var t,e,r;function n(i){var s,o,l,u,c,d,f,A,v,I,w,g,b,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),v=function(){var F,O;for(O=[],F=0;F<4;++F)O.push(String.fromCharCode(this.data[this.pos++]));return O}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*c/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,s-=4),i=d?.data||this.imgData,g=0;0<=s?g<s:g>s;0<=s?++g:--g)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((I=l-this.transparency.indexed.length)>0)for(b=0;0<=I?b<I:b>I;0<=I?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":f=(w=this.read(s)).indexOf(0),A=String.fromCharCode.apply(String,w.slice(0,f)),this.text[A]=String.fromCharCode.apply(String,w.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function c(d,f,A,v){var I,w,g,b,S,F,O,R,T,B,k,U,E,_,L,D,z,ee,Y,$,j,K=Math.ceil((u.width-d)/A),oe=Math.ceil((u.height-f)/v),q=u.width==K&&u.height==oe;for(_=s*K,U=q?o:new Uint8Array(_*oe),F=i.length,E=0,w=0;E<oe&&l<F;){switch(i[l++]){case 0:for(b=z=0;z<_;b=z+=1)U[w++]=i[l++];break;case 1:for(b=ee=0;ee<_;b=ee+=1)I=i[l++],S=b<s?0:U[w-s],U[w++]=(I+S)%256;break;case 2:for(b=Y=0;Y<_;b=Y+=1)I=i[l++],g=(b-b%s)/s,L=E&&U[(E-1)*_+g*s+b%s],U[w++]=(L+I)%256;break;case 3:for(b=$=0;$<_;b=$+=1)I=i[l++],g=(b-b%s)/s,S=b<s?0:U[w-s],L=E&&U[(E-1)*_+g*s+b%s],U[w++]=(I+Math.floor((S+L)/2))%256;break;case 4:for(b=j=0;j<_;b=j+=1)I=i[l++],g=(b-b%s)/s,S=b<s?0:U[w-s],E===0?L=D=0:(L=U[(E-1)*_+g*s+b%s],D=g&&U[(E-1)*_+(g-1)*s+b%s]),O=S+L-D,R=Math.abs(O-S),B=Math.abs(O-L),k=Math.abs(O-D),T=R<=B&&R<=k?S:B<=k?L:D,U[w++]=(I+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!q){var X=((f+E*v)*u.width+d)*s,te=E*_;for(b=0;b<K;b+=1){for(var ue=0;ue<s;ue+=1)o[X++]=U[te++];X+=(A-1)*s}}E++}}return i=KK(i),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,u,c,d,f,A;for(o=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+o.length),l=0,i=0,s=d=0,f=o.length;d<f;s=d+=3)u[l++]=o[s],u[l++]=o[s+1],u[l++]=o[s+2],u[l++]=(A=c[i++])!=null?A:255;return u},n.prototype.copyToImageData=function(i,s){var o,l,u,c,d,f,A,v,I,w,g;if(l=this.colors,I=null,o=this.hasAlphaChannel,this.palette.length&&(I=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),l=4,o=!0),v=(u=i.data||i).length,d=I||s,c=f=0,l===1)for(;c<v;)A=I?4*s[c/4]:f,w=d[A++],u[c++]=w,u[c++]=w,u[c++]=w,u[c++]=o?d[A++]:255,f=A;else for(;c<v;)A=I?4*s[c/4]:f,u[c++]=d[A++],u[c++]=d[A++],u[c++]=d[A++],u[c++]=o?d[A++]:255,f=A},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(cn)==="[object Window]"){try{e=cn.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,u,c,d,f,A;if(this.animation){for(A=[],o=c=0,d=(f=this.animation.frames).length;c<d;o=++c)s=f[o],l=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,u),s.imageData=l,A.push(s.image=t(l));return A}},n.prototype.renderFrame=function(i,s){var o,l,u;return o=(l=this.animation.frames)[s],u=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),u?.disposeOp===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):u?.disposeOp===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,u,c,d,f=this;return o=0,d=this.animation,u=d.numFrames,l=d.frames,c=d.numPlays,(s=function(){var A,v;if(A=o++%u,v=l[A],f.renderFrame(i,A),u>1&&o/u<c)return f.animation._timeout=setTimeout(s,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n})();(function(t){var e=function(){return typeof gB=="function"},r=function(f,A,v,I){var w=4,g=s;switch(I){case t.image_compression.FAST:w=1,g=i;break;case t.image_compression.MEDIUM:w=6,g=o;break;case t.image_compression.SLOW:w=9,g=l}f=n(f,A,v,g);var b=gB(f,{level:w});return t.__addimage__.arrayBufferToBinaryString(b)},n=function(f,A,v,I){for(var w,g,b,S=f.length/A,F=new Uint8Array(f.length+S),O=c(),R=0;R<S;R+=1){if(b=R*A,w=f.subarray(b,b+A),I)F.set(I(w,v,g),b+R);else{for(var T,B=O.length,k=[];T<B;T+=1)k[T]=O[T](w,v,g);var U=d(k.concat());F.set(k[U],b+R)}g=w}return F},a=function(f){var A=Array.apply([],f);return A.unshift(0),A},i=function(f,A){var v,I=[],w=f.length;I[0]=1;for(var g=0;g<w;g+=1)v=f[g-A]||0,I[g+1]=f[g]-v+256&255;return I},s=function(f,A,v){var I,w=[],g=f.length;w[0]=2;for(var b=0;b<g;b+=1)I=v&&v[b]||0,w[b+1]=f[b]-I+256&255;return w},o=function(f,A,v){var I,w,g=[],b=f.length;g[0]=3;for(var S=0;S<b;S+=1)I=f[S-A]||0,w=v&&v[S]||0,g[S+1]=f[S]+256-(I+w>>>1)&255;return g},l=function(f,A,v){var I,w,g,b,S=[],F=f.length;S[0]=4;for(var O=0;O<F;O+=1)I=f[O-A]||0,w=v&&v[O]||0,g=v&&v[O-A]||0,b=u(I,w,g),S[O+1]=f[O]-b+256&255;return S},u=function(f,A,v){if(f===A&&A===v)return f;var I=Math.abs(A-v),w=Math.abs(f-v),g=Math.abs(f+A-v-v);return I<=w&&I<=g?f:w<=g?A:v},c=function(){return[a,i,s,o,l]},d=function(f){var A=f.map((function(v){return v.reduce((function(I,w){return I+Math.abs(w)}),0)}));return A.indexOf(Math.min.apply(null,A))};t.processPNG=function(f,A,v,I){var w,g,b,S,F,O,R,T,B,k,U,E,_,L,D,z=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(b=new CIe(f)).imgData,g=b.bits,w=b.colorSpace,F=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){B=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,U=new Uint8Array(B*b.colors),k=new Uint8Array(B);var Y,$=b.pixelBitlength-b.bits;for(L=0,D=0;L<B;L++){for(_=T[L],Y=0;Y<$;)U[D++]=_>>>Y&255,Y+=b.bits;k[L]=_>>>Y&255}}if(b.bits===16){B=(T=new Uint32Array(b.decodePixels().buffer)).length,U=new Uint8Array(B*(32/b.pixelBitlength)*b.colors),k=new Uint8Array(B*(32/b.pixelBitlength)),E=b.colors>1,L=0,D=0;for(var j=0;L<B;)_=T[L++],U[D++]=_>>>0&255,E&&(U[D++]=_>>>16&255,_=T[L++],U[D++]=_>>>0&255),k[j++]=_>>>16&255;g=8}I!==t.image_compression.NONE&&e()?(f=r(U,b.width*b.colors,b.colors,I),R=r(k,b.width,1,I)):(f=U,R=k,z=void 0)}if(b.colorType===3&&(w=this.color_spaces.INDEXED,O=b.palette,b.transparency.indexed)){var K=b.transparency.indexed,oe=0;for(L=0,B=K.length;L<B;++L)oe+=K[L];if((oe/=255)===B-1&&K.indexOf(0)!==-1)S=[K.indexOf(0)];else if(oe!==B){for(T=b.decodePixels(),k=new Uint8Array(T.length),L=0,B=T.length;L<B;L++)k[L]=K[T[L]];R=r(k,b.width,1)}}var q=(function(X){var te;switch(X){case t.image_compression.FAST:te=11;break;case t.image_compression.MEDIUM:te=13;break;case t.image_compression.SLOW:te=14;break;default:te=12}return te})(I);return z===this.decode.FLATE_DECODE&&(ee="/Predictor "+q+" "),ee+="/Colors "+F+" /BitsPerComponent "+g+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(R&&this.__addimage__.isArrayBuffer(R)||this.__addimage__.isArrayBufferView(R))&&(R=this.__addimage__.arrayBufferToBinaryString(R)),{alias:v,data:f,index:A,filter:z,decodeParameters:ee,transparency:S,palette:O,sMask:R,predictor:q,width:b.width,height:b.height,bitsPerComponent:g,colorSpace:w}}}})(on.API),(function(t){t.processGIF89A=function(e,r,n,a){var i=new IIe(e),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},c=new mM(100).encode(u,100);return t.processJPEG.call(this,c,r,n,a)},t.processGIF87A=t.processGIF89A})(on.API),yA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yA.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ui.log("bit decode error:"+r)}},yA.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},yA.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},yA.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},yA.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,u=i>>15?255:0,c=n*this.width*4+4*a;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=s,this.data[c+3]=u}this.pos+=t}},yA.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,c=a*this.width*4+4*i;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},yA.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},yA.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},yA.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new yA(e,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},u=new mM(100).encode(l,100);return t.processJPEG.call(this,u,r,n,a)}})(on.API),ate.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new ate(e,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},u=new mM(100).encode(l,100);return t.processJPEG.call(this,u,r,n,a)}})(on.API),on.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,u=0;u<a;u+=4){var c=n[u],d=n[u+1],f=n[u+2],A=n[u+3];i[o++]=c,i[o++]=d,i[o++]=f,s[l++]=A}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},on.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Y1=on.API,hE=Y1.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=e.doKerning!==!1,f=0,A=t.length,v=0,I=o[0]||l,w=[];for(r=0;r<A;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(f=d&&Aa(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/c:0,w.push((o[n]||I)/l+f)),v=n;return w},ete=Y1.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Y1.processArabic&&(t=Y1.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:hE.apply(this,arguments).reduce((function(i,s){return i+s}),0)},tte=function(t,e,r,n){for(var a=[],i=0,s=t.length,o=0;i!==s&&o+e[i]<r;)o+=e[i],i++;a.push(t.slice(0,i));var l=i;for(o=0;i!==s;)o+e[i]>n&&(a.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&a.push(t.slice(l,i)),a},rte=function(t,e,r){r||(r={});var n,a,i,s,o,l,u,c=[],d=[c],f=r.textIndent||0,A=0,v=0,I=t.split(" "),w=hE.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?I[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),b=[];I.map((function(F){(F=F.split(/\s*\n/)).length>1?b=b.concat(F.map((function(O,R){return(R&&O.length?`
`:"")+O}))):b.push(F[0])})),I=b,l=ete.apply(this,[g,r])}for(i=0,s=I.length;i<s;i++){var S=0;if(n=I[i],l&&n[0]==`
`&&(n=n.substr(1),S=1),f+A+(v=(a=hE.apply(this,[n,r])).reduce((function(F,O){return F+O}),0))>e||S){if(v>e){for(o=tte.apply(this,[n,a,e-(f+A),e]),c.push(o.shift()),c=[o.pop()];o.length;)d.push([o.shift()]);v=a.slice(n.length-(c[0]?c[0].length:0)).reduce((function(F,O){return F+O}),0)}else c=[n];d.push(c),f=v+l,A=w}else c.push(n),f+=A+v,A=w}return u=l?function(F,O){return(O?g:"")+F.join(" ")}:function(F){return F.join(" ")},d.map(u)},Y1.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(rte.apply(this,[n[o],s,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(d){return"0x"+parseInt(d,10).toString(16)},s=t.__fontmetrics__.compress=function(d){var f,A,v,I,w=["{"];for(var g in d){if(f=d[g],isNaN(parseInt(g,10))?A="'"+g+"'":(g=parseInt(g,10),A=(A=i(g).slice(2)).slice(0,-1)+n[A.slice(-1)]),typeof f=="number")f<0?(v=i(f).slice(3),I="-"):(v=i(f).slice(2),I=""),v=I+v.slice(0,-1)+n[v.slice(-1)];else{if(Aa(f)!=="object")throw new Error("Don't know what to do with value type "+Aa(f)+".");v=s(f)}w.push(A+v)}return w.push("}"),w.join("")},o=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,A,v,I,w={},g=1,b=w,S=[],F="",O="",R=d.length-1,T=1;T<R;T+=1)(I=d[T])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(I):I=="{"?(S.push([b,v]),b={},v=void 0):I=="}"?((A=S.pop())[0][A[1]]=b,v=void 0,b=A[0]):I=="-"?g=-1:v===void 0?r.hasOwnProperty(I)?(F+=r[I],v=parseInt(F,16)*g,g=1,F=""):F+=I:r.hasOwnProperty(I)?(O+=r[I],b[v]=parseInt(O,16)*g,g=1,v=void 0,O=""):O+=I;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,A=c.Unicode[f.postScriptName];A&&(f.metadata.Unicode={},f.metadata.Unicode.widths=A.widths,f.metadata.Unicode.kerning=A.kerning);var v=u.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])})(on.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(nC(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(on),(function(t){function e(){return(cn.canvg?Promise.resolve(cn.canvg):Promise.resolve().then(()=>(Vee(),Hee))).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}on.API.addSvgAsImage=function(r,n,a,i,s,o,l,u){if(isNaN(n)||isNaN(a))throw ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return e().then((function(v){return v.fromString(d,r,f)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(v){return v.render(f)})).then((function(){A.addImage(c.toDataURL("image/jpeg",1),n,a,i,s,l,u)}))}})(),on.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},on.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,c=0,d=0;function f(v,I){var w,g=!1;for(w=0;w<v.length;w+=1)v[w]===I&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var A=o.length;for(d=0;d<A;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(Aa(t)==="object"){for(a in t)if(i=t[a],f(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&f(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(c=0;c<i[u].length;c+=1)typeof i[u][c]!="number"&&(n=!1);n===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var v,I=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?I.push("/"+v+" /"+r[v].value):I.push("/"+v+" "+r[v].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(on.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,f=i.length;d<f;++d){if(o=s.metadata.characterToGlyph(i.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(i){var s,o,l,u,c,d,f;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(o=Object.keys(i).sort((function(A,v){return A-v}))).length;d<f;d++)s=o[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),A="",v=0;v<f.length;v++)A+=String.fromCharCode(f[v]);var I=u();c({data:A,addLength1:!0,objectId:I}),l("endobj");var w=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var g=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+J1(o.fontName)),l("/FontFile2 "+I+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+J1(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+J1(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,f="",A=0;A<d.length;A++)f+=String.fromCharCode(d[A]);var v=u();c({data:f,addLength1:!0,objectId:v}),l("endobj");var I=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var w=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+J1(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+J1(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,u=i.y,c=i.options||{},d=i.mutex||{},f=d.pdfEscape,A=d.activeFontKey,v=d.fonts,I=A,w="",g=0,b="",S=v[I].encoding;if(v[I].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:d};for(b=o,I=A,Array.isArray(o)&&(b=o[0]),g=0;g<b.length;g+=1)v[I].metadata.hasOwnProperty("cmap")&&(s=v[I].metadata.cmap.unicode.codeMap[b[g].charCodeAt(0)]),s||b[g].charCodeAt(0)<256&&v[I].metadata.hasOwnProperty("Unicode")?w+=b[g]:w+="";var F="";return parseInt(I.slice(1))<14||S==="WinAnsiEncoding"?F=f(w,I).split("").map((function(O){return O.charCodeAt(0).toString(16)})).join(""):S==="Identity-H"&&(F=r(w,v[I])),d.isHex=!0,{text:F,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},l,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])})(on),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(on.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,o,l,u,c,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var F=function(E){var _=E.charCodeAt(),L=_>>8,D=I[L];return D!==void 0?d[256*D+(255&_)]:L===252||L===253?"AL":g.test(L)?"L":L===8?"R":"N"},O=function(E){for(var _,L=0;L<E.length;L++){if((_=F(E.charAt(L)))==="L")return!1;if(_==="R")return!0}return!1},R=function(E,_,L,D){var z,ee,Y,$,j=_[D];switch(j){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(j="AN");break;case"AL":b=!0,j="R";break;case"WS":j="N";break;case"CS":D<1||D+1>=_.length||(z=L[D-1])!=="EN"&&z!=="AN"||(ee=_[D+1])!=="EN"&&ee!=="AN"?j="N":b&&(ee="AN"),j=ee===z?ee:"N";break;case"ES":j=(z=D>0?L[D-1]:"B")==="EN"&&D+1<_.length&&_[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&L[D-1]==="EN"){j="EN";break}if(b){j="N";break}for(Y=D+1,$=_.length;Y<$&&_[Y]==="ET";)Y++;j=Y<$&&_[Y]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for($=_.length,Y=D+1;Y<$&&_[Y]==="NSM";)Y++;if(Y<$){var K=E[D],oe=K>=1425&&K<=2303||K===64286;if(z=_[Y],oe&&(z==="R"||z==="AL")){j="R";break}}}j=D<1||(z=_[D-1])==="B"?"N":L[D-1];break;case"B":b=!1,a=!0,j=S;break;case"S":i=!0,j="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":j="N"}return j},T=function(E,_,L){var D=E.split("");return L&&B(D,L,{hiLevel:S}),D.reverse(),_&&_.reverse(),D.join("")},B=function(E,_,L){var D,z,ee,Y,$,j=-1,K=E.length,oe=0,q=[],X=S?A:f,te=[];for(b=!1,a=!1,i=!1,z=0;z<K;z++)te[z]=F(E[z]);for(ee=0;ee<K;ee++){if($=oe,q[ee]=R(E,te,q,ee),D=240&(oe=X[$][v[q[ee]]]),oe&=15,_[ee]=Y=X[oe][5],D>0)if(D===16){for(z=j;z<ee;z++)_[z]=1;j=-1}else j=-1;if(X[oe][6])j===-1&&(j=ee);else if(j>-1){for(z=j;z<ee;z++)_[z]=Y;j=-1}te[ee]==="B"&&(_[ee]=0),L.hiLevel|=Y}i&&(function(ue,be,ge){for(var Ne=0;Ne<ge;Ne++)if(ue[Ne]==="S"){be[Ne]=S;for(var Le=Ne-1;Le>=0&&ue[Le]==="WS";Le--)be[Le]=S}})(te,_,K)},k=function(E,_,L,D,z){if(!(z.hiLevel<E)){if(E===1&&S===1&&!a)return _.reverse(),void(L&&L.reverse());for(var ee,Y,$,j,K=_.length,oe=0;oe<K;){if(D[oe]>=E){for($=oe+1;$<K&&D[$]>=E;)$++;for(j=oe,Y=$-1;j<Y;j++,Y--)ee=_[j],_[j]=_[Y],_[Y]=ee,L&&(ee=L[j],L[j]=L[Y],L[Y]=ee);oe=$}oe++}}},U=function(E,_,L){var D=E.split(""),z={hiLevel:S};return L||(L=[]),B(D,L,z),(function(ee,Y,$){if($.hiLevel!==0&&c)for(var j,K=0;K<ee.length;K++)Y[K]===1&&(j=w.indexOf(ee[K]))>=0&&(ee[K]=w[j+1])})(D,L,z),k(2,D,_,L,z),k(1,D,_,L,z),D.join("")};return this.__bidiEngine__.doBidiReorder=function(E,_,L){if((function(z,ee){if(ee)for(var Y=0;Y<z.length;Y++)ee[Y]=Y;o===void 0&&(o=O(z)),u===void 0&&(u=O(z))})(E,_),s||!l||u)if(s&&l&&o^u)S=o?1:0,E=T(E,_,L);else if(!s&&l&&u)S=o?1:0,E=U(E,_,L),E=T(E,_);else if(!s||o||l||u){if(s&&!l&&o^u)E=T(E,_),o?(S=0,E=U(E,_,L)):(S=1,E=U(E,_,L),E=T(E,_));else if(s&&o&&!l&&u)S=1,E=U(E,_,L),E=T(E,_);else if(!s&&!l&&o^u){var D=c;o?(S=1,E=U(E,_,L),S=0,c=!1,E=U(E,_,L),c=D):(S=0,E=U(E,_,L),E=T(E,_),S=1,c=!1,E=U(E,_,L),c=D,E=T(E,_))}}else S=0,E=U(E,_,L);else S=o?1:0,E=U(E,_,L);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,u=E.isOutputRtl,c=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),s=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(on),on.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new _m(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new OIe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new NIe(this.contents),this.head=new BIe(this),this.name=new PIe(this),this.cmap=new mte(this),this.toUnicode={},this.hhea=new _Ie(this),this.maxp=new kIe(this),this.hmtx=new FIe(this),this.post=new TIe(this),this.os2=new EIe(this),this.loca=new MIe(this),this.glyf=new RIe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();_m=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),NIe=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,o,l,u,c,d,f,A,v,I;for(I in A=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(A)/l),s=Math.floor(d/l),c=16*A-d,(a=new _m).writeInt(this.scalarType),a.writeShort(A),a.writeShort(d),a.writeShort(s),a.writeShort(c),i=16*A,u=a.pos+i,o=null,v=[],r)for(f=r[I],a.writeString(I),a.writeInt(t(f)),a.writeInt(u),a.writeInt(f.length),v=v.concat(f),I==="head"&&(o=u),u+=f.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-t(a.data),a.pos=o+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=gte.call(r);r.length%4;)r.push(0);for(i=new _m(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),SIe={}.hasOwnProperty,Lf=function(t,e){for(var r in e)SIe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};bA=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();BIe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new _m).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e})(),ite=(function(){function t(e,r){var n,a,i,s,o,l,u,c,d,f,A,v,I,w,g,b,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(A=e.readUInt16(),f=A/2,e.pos+=6,i=(function(){var F,O;for(O=[],l=F=0;0<=f?F<f:F>f;l=0<=f?++F:--F)O.push(e.readUInt16());return O})(),e.pos+=2,I=(function(){var F,O;for(O=[],l=F=0;0<=f?F<f:F>f;l=0<=f?++F:--F)O.push(e.readUInt16());return O})(),u=(function(){var F,O;for(O=[],l=F=0;0<=f?F<f:F>f;l=0<=f?++F:--F)O.push(e.readUInt16());return O})(),c=(function(){var F,O;for(O=[],l=F=0;0<=f?F<f:F>f;l=0<=f?++F:--F)O.push(e.readUInt16());return O})(),a=(this.length-e.pos+this.offset)/2,o=(function(){var F,O;for(O=[],l=F=0;0<=a?F<a:F>a;l=0<=a?++F:--F)O.push(e.readUInt16());return O})(),l=g=0,S=i.length;g<S;l=++g)for(w=i[l],n=b=v=I[l];v<=w?b<=w:b>=w;n=v<=w?++b:--b)c[l]===0?s=n+u[l]:(s=o[c[l]/2+(n-v)-(f-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}e.pos=d}return t.encode=function(e,r){var n,a,i,s,o,l,u,c,d,f,A,v,I,w,g,b,S,F,O,R,T,B,k,U,E,_,L,D,z,ee,Y,$,j,K,oe,q,X,te,ue,be,ge,Ne,Le,Ie,de,xe;switch(D=new _m,s=Object.keys(e).sort((function(qe,wt){return qe-wt})),r){case"macroman":for(I=0,w=(function(){var qe=[];for(v=0;v<256;++v)qe.push(0);return qe})(),b={0:0},i={},z=0,j=s.length;z<j;z++)b[Le=e[a=s[z]]]==null&&(b[Le]=++I),i[a]={old:e[a],new:b[e[a]]},w[a]=b[e[a]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(w),{charMap:i,subtable:D.data,maxGlyphID:I+1};case"unicode":for(_=[],d=[],S=0,b={},n={},g=u=null,ee=0,K=s.length;ee<K;ee++)b[O=e[a=s[ee]]]==null&&(b[O]=++S),n[a]={old:O,new:b[O]},o=b[O]-a,g!=null&&o===u||(g&&d.push(g),_.push(a),u=o),g=a;for(g&&d.push(g),d.push(65535),_.push(65535),U=2*(k=_.length),B=2*Math.pow(Math.log(k)/Math.LN2,2),f=Math.log(B/2)/Math.LN2,T=2*k-B,l=[],R=[],A=[],v=Y=0,oe=_.length;Y<oe;v=++Y){if(E=_[v],c=d[v],E===65535){l.push(0),R.push(0);break}if(E-(L=n[E].new)>=32768)for(l.push(0),R.push(2*(A.length+k-v)),a=$=E;E<=c?$<=c:$>=c;a=E<=c?++$:--$)A.push(n[a].new);else l.push(L-E),R.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*k+2*A.length),D.writeUInt16(0),D.writeUInt16(U),D.writeUInt16(B),D.writeUInt16(f),D.writeUInt16(T),ge=0,q=d.length;ge<q;ge++)a=d[ge],D.writeUInt16(a);for(D.writeUInt16(0),Ne=0,X=_.length;Ne<X;Ne++)a=_[Ne],D.writeUInt16(a);for(Ie=0,te=l.length;Ie<te;Ie++)o=l[Ie],D.writeUInt16(o);for(de=0,ue=R.length;de<ue;de++)F=R[de],D.writeUInt16(F);for(xe=0,be=A.length;xe<be;xe++)I=A[xe],D.writeUInt16(I);return{charMap:n,subtable:D.data,maxGlyphID:S+1}}},t})(),mte=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new ite(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=ite.encode(r,n),(i=new _m).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e})(),_Ie=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),EIe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),TIe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=function(){var o,l,u;for(u=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)u.push(r.readUInt32());return u}.call(this)}},e})(),LIe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},PIe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,s,o,l,u,c,d,f,A;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},s=d=0,f=a.length;d<f;s=++d)i=a[s],r.pos=i.offset,c=r.readString(i.length),o=new LIe(c,i),u[A=i.nameID]==null&&(u[A]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),kIe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),FIe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,s,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,d;for(d=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)d.push(r.readInt16());return d})(),this.widths=function(){var c,d,f,A;for(A=[],c=0,d=(f=this.metrics).length;c<d;c++)s=f[c],A.push(s.advance);return A}.call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),gte=[].slice,RIe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,s,o,l,u,c,d,f;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new _m(n.read(i))).readShort(),c=l.readShort(),f=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[r]=o===-1?new DIe(l,c,f,u,d):new UIe(l,o,c,f,u,d),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,s,o,l,u;for(o=[],s=[],l=0,u=n.length;l<u;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},e})(),UIe=(function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),DIe=(function(){function t(e,r,n,a,i){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new _m(gte.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),MIe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Lf(e,bA),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}.call(this):function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}.call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(i+=u)}for(var c=new Array(4*a.length),d=0;d<a.length;++d)c[4*d+3]=255&a[d],c[4*d+2]=(65280&a[d])>>8,c[4*d+1]=(16711680&a[d])>>16,c[4*d]=(4278190080&a[d])>>24;return c},e})(),OIe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,o,l;for(a={},s=0,o=e.length;s<o;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,o,l,u,c,d,f,A,v,I,w,g;for(a in n=mte.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),A={0:0},g=n.charMap)A[(l=g[a]).old]=l.new;for(v in f=n.maxGlyphID,s)v in A||(A[v]=f++);return c=(function(b){var S,F;for(S in F={},b)F[b[S]]=S;return F})(A),d=Object.keys(c).sort((function(b,S){return b-S})),I=(function(){var b,S,F;for(F=[],b=0,S=d.length;b<S;b++)o=d[b],F.push(c[o]);return F})(),i=this.font.glyf.encode(s,I,A),u=this.font.loca.encode(i.offsets,I),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t})();on.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e})();IM=on});var yte=Ge((q0,SM)=>{(function(e,r){if(typeof q0=="object"&&typeof SM=="object")SM.exports=r((function(){try{return gE(),mO(NM)}catch{}})());else if(typeof define=="function"&&define.amd)define(["jspdf"],r);else{var n=r(typeof q0=="object"?(function(){try{return gE(),mO(NM)}catch{}})():e.jspdf);for(var a in n)(typeof q0=="object"?q0:e)[a]=n[a]}})(typeof globalThis<"u"?globalThis:typeof q0<"u"?q0:typeof window<"u"?window:typeof self<"u"?self:global,function(t){return(function(){"use strict";var e={172:(function(i,s){var o=this&&this.__extends||(function(){var c=function(d,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,v){A.__proto__=v}||function(A,v){for(var I in v)Object.prototype.hasOwnProperty.call(v,I)&&(A[I]=v[I])},c(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(d,f);function A(){this.constructor=d}d.prototype=f===null?Object.create(f):(A.prototype=f.prototype,new A)}})();Object.defineProperty(s,"__esModule",{value:!0}),s.CellHookData=s.HookData=void 0;var l=(function(){function c(d,f,A){this.table=f,this.pageNumber=f.pageNumber,this.pageCount=this.pageNumber,this.settings=f.settings,this.cursor=A,this.doc=d.getDocument()}return c})();s.HookData=l;var u=(function(c){o(d,c);function d(f,A,v,I,w,g){var b=c.call(this,f,A,g)||this;return b.cell=v,b.row=I,b.column=w,b.section=I.section,b}return d})(l);s.CellHookData=u}),340:(function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var l=o(4),u=o(136),c=o(744),d=o(776),f=o(664),A=o(972);function v(I){I.API.autoTable=function(){for(var w=[],g=0;g<arguments.length;g++)w[g]=arguments[g];var b;w.length===1?b=w[0]:(console.error("Use of deprecated autoTable initiation"),b=w[2]||{},b.columns=w[0],b.body=w[1]);var S=(0,d.parseInput)(this,b),F=(0,A.createTable)(this,S);return(0,f.drawTable)(this,F),this},I.API.lastAutoTable=!1,I.API.previousAutoTable=!1,I.API.autoTable.previous=!1,I.API.autoTableText=function(w,g,b,S){(0,u.default)(w,g,b,S,this)},I.API.autoTableSetDefaults=function(w){return c.DocHandler.setDefaults(w,this),this},I.autoTableSetDefaults=function(w,g){c.DocHandler.setDefaults(w,g)},I.API.autoTableHtmlToJson=function(w,g){var b;if(g===void 0&&(g=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var S=new c.DocHandler(this),F=(0,l.parseHtml)(S,w,window,g,!1),O=F.head,R=F.body,T=((b=O[0])===null||b===void 0?void 0:b.map(function(B){return B.content}))||[];return{columns:T,rows:R,data:R}},I.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var w=this.lastAutoTable;return w&&w.finalY?w.finalY:0},I.API.autoTableAddPageContent=function(w){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),I.API.autoTable.globalDefaults||(I.API.autoTable.globalDefaults={}),I.API.autoTable.globalDefaults.addPageContent=w,this},I.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}s.default=v}),136:(function(i,s){Object.defineProperty(s,"__esModule",{value:!0});function o(l,u,c,d,f){d=d||{};var A=1.15,v=f.internal.scaleFactor,I=f.internal.getFontSize()/v,w=f.getLineHeightFactor?f.getLineHeightFactor():A,g=I*w,b=/\r\n|\r|\n/g,S="",F=1;if((d.valign==="middle"||d.valign==="bottom"||d.halign==="center"||d.halign==="right")&&(S=typeof l=="string"?l.split(b):l,F=S.length||1),c+=I*(2-A),d.valign==="middle"?c-=F/2*g:d.valign==="bottom"&&(c-=F*g),d.halign==="center"||d.halign==="right"){var O=I;if(d.halign==="center"&&(O*=.5),S&&F>=1){for(var R=0;R<S.length;R++)f.text(S[R],u-f.getStringUnitWidth(S[R])*O,c),c+=g;return f}u-=f.getStringUnitWidth(l)*O}return d.halign==="justify"?f.text(l,u,c,{maxWidth:d.maxWidth||100,align:"justify"}):f.text(l,u,c),f}s.default=o}),420:(function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getPageAvailableWidth=s.parseSpacing=s.getFillStyle=s.addTableBorder=s.getStringWidth=void 0;function o(f,A,v){v.applyStyles(A,!0);var I=Array.isArray(f)?f:[f],w=I.map(function(g){return v.getTextWidth(g)}).reduce(function(g,b){return Math.max(g,b)},0);return w}s.getStringWidth=o;function l(f,A,v,I){var w=A.settings.tableLineWidth,g=A.settings.tableLineColor;f.applyStyles({lineWidth:w,lineColor:g});var b=u(w,!1);b&&f.rect(v.x,v.y,A.getWidth(f.pageSize().width),I.y-v.y,b)}s.addTableBorder=l;function u(f,A){var v=f>0,I=A||A===0;return v&&I?"DF":v?"S":I?"F":null}s.getFillStyle=u;function c(f,A){var v,I,w,g;if(f=f||A,Array.isArray(f)){if(f.length>=4)return{top:f[0],right:f[1],bottom:f[2],left:f[3]};if(f.length===3)return{top:f[0],right:f[1],bottom:f[2],left:f[1]};if(f.length===2)return{top:f[0],right:f[1],bottom:f[0],left:f[1]};f.length===1?f=f[0]:f=A}return typeof f=="object"?(typeof f.vertical=="number"&&(f.top=f.vertical,f.bottom=f.vertical),typeof f.horizontal=="number"&&(f.right=f.horizontal,f.left=f.horizontal),{left:(v=f.left)!==null&&v!==void 0?v:A,top:(I=f.top)!==null&&I!==void 0?I:A,right:(w=f.right)!==null&&w!==void 0?w:A,bottom:(g=f.bottom)!==null&&g!==void 0?g:A}):(typeof f!="number"&&(f=A),{top:f,right:f,bottom:f,left:f})}s.parseSpacing=c;function d(f,A){var v=c(A.settings.margin,0);return f.pageSize().width-(v.left+v.right)}s.getPageAvailableWidth=d}),796:(function(i,s){var o=this&&this.__extends||(function(){var d=function(f,A){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var w in I)Object.prototype.hasOwnProperty.call(I,w)&&(v[w]=I[w])},d(f,A)};return function(f,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");d(f,A);function v(){this.constructor=f}f.prototype=A===null?Object.create(A):(v.prototype=A.prototype,new v)}})();Object.defineProperty(s,"__esModule",{value:!0}),s.getTheme=s.defaultStyles=s.HtmlRowInput=void 0;var l=(function(d){o(f,d);function f(A){var v=d.call(this)||this;return v._element=A,v}return f})(Array);s.HtmlRowInput=l;function u(d){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/d,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}s.defaultStyles=u;function c(d){var f={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return f[d]}s.getTheme=c}),903:(function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.parseCss=void 0;var l=o(420);function u(v,I,w,g,b){var S={},F=1.3333333333333333,O=d(I,function(Y){return b.getComputedStyle(Y).backgroundColor});O!=null&&(S.fillColor=O);var R=d(I,function(Y){return b.getComputedStyle(Y).color});R!=null&&(S.textColor=R);var T=A(g,w);T&&(S.cellPadding=T);var B="borderTopColor",k=F*w,U=g.borderTopWidth;if(g.borderBottomWidth===U&&g.borderRightWidth===U&&g.borderLeftWidth===U){var E=(parseFloat(U)||0)/k;E&&(S.lineWidth=E)}else S.lineWidth={top:(parseFloat(g.borderTopWidth)||0)/k,right:(parseFloat(g.borderRightWidth)||0)/k,bottom:(parseFloat(g.borderBottomWidth)||0)/k,left:(parseFloat(g.borderLeftWidth)||0)/k},S.lineWidth.top||(S.lineWidth.right?B="borderRightColor":S.lineWidth.bottom?B="borderBottomColor":S.lineWidth.left&&(B="borderLeftColor"));var _=d(I,function(Y){return b.getComputedStyle(Y)[B]});_!=null&&(S.lineColor=_);var L=["left","right","center","justify"];L.indexOf(g.textAlign)!==-1&&(S.halign=g.textAlign),L=["middle","bottom","top"],L.indexOf(g.verticalAlign)!==-1&&(S.valign=g.verticalAlign);var D=parseInt(g.fontSize||"");isNaN(D)||(S.fontSize=D/F);var z=c(g);z&&(S.fontStyle=z);var ee=(g.fontFamily||"").toLowerCase();return v.indexOf(ee)!==-1&&(S.font=ee),S}s.parseCss=u;function c(v){var I="";return(v.fontWeight==="bold"||v.fontWeight==="bolder"||parseInt(v.fontWeight)>=700)&&(I="bold"),(v.fontStyle==="italic"||v.fontStyle==="oblique")&&(I+="italic"),I}function d(v,I){var w=f(v,I);if(!w)return null;var g=w.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!g||!Array.isArray(g))return null;var b=[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])],S=parseInt(g[4]);return S===0||isNaN(b[0])||isNaN(b[1])||isNaN(b[2])?null:b}function f(v,I){var w=I(v);return w==="rgba(0, 0, 0, 0)"||w==="transparent"||w==="initial"||w==="inherit"?v.parentElement==null?null:f(v.parentElement,I):w}function A(v,I){var w=[v.paddingTop,v.paddingRight,v.paddingBottom,v.paddingLeft],g=96/(72/I),b=(parseInt(v.lineHeight)-parseInt(v.fontSize))/I/2,S=w.map(function(O){return parseInt(O||"0")/g}),F=(0,l.parseSpacing)(S,0);return b>F.top&&(F.top=b),b>F.bottom&&(F.bottom=b),F}}),744:(function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.DocHandler=void 0;var o={},l=(function(){function u(c){this.jsPDFDocument=c,this.userStyles={textColor:c.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:c.internal.getFontSize(),fontStyle:c.internal.getFont().fontStyle,font:c.internal.getFont().fontName,lineWidth:c.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:c.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return u.setDefaults=function(c,d){d===void 0&&(d=null),d?d.__autoTableDocumentDefaults=c:o=c},u.unifyColor=function(c){return Array.isArray(c)?c:typeof c=="number"?[c,c,c]:typeof c=="string"?[c]:null},u.prototype.applyStyles=function(c,d){var f,A,v;d===void 0&&(d=!1),c.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(c.fontStyle);var I=this.jsPDFDocument.internal.getFont(),w=I.fontStyle,g=I.fontName;if(c.font&&(g=c.font),c.fontStyle){w=c.fontStyle;var b=this.getFontList()[g];b&&b.indexOf(w)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(b[0]),w=b[0])}if(this.jsPDFDocument.setFont(g,w),c.fontSize&&this.jsPDFDocument.setFontSize(c.fontSize),!d){var S=u.unifyColor(c.fillColor);S&&(f=this.jsPDFDocument).setFillColor.apply(f,S),S=u.unifyColor(c.textColor),S&&(A=this.jsPDFDocument).setTextColor.apply(A,S),S=u.unifyColor(c.lineColor),S&&(v=this.jsPDFDocument).setDrawColor.apply(v,S),typeof c.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(c.lineWidth)}},u.prototype.splitTextToSize=function(c,d,f){return this.jsPDFDocument.splitTextToSize(c,d,f)},u.prototype.rect=function(c,d,f,A,v){return this.jsPDFDocument.rect(c,d,f,A,v)},u.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},u.prototype.getTextWidth=function(c){return this.jsPDFDocument.getTextWidth(c)},u.prototype.getDocument=function(){return this.jsPDFDocument},u.prototype.setPage=function(c){this.jsPDFDocument.setPage(c)},u.prototype.addPage=function(){return this.jsPDFDocument.addPage()},u.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},u.prototype.getGlobalOptions=function(){return o||{}},u.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},u.prototype.pageSize=function(){var c=this.jsPDFDocument.internal.pageSize;return c.width==null&&(c={width:c.getWidth(),height:c.getHeight()}),c},u.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},u.prototype.getLineHeightFactor=function(){var c=this.jsPDFDocument;return c.getLineHeightFactor?c.getLineHeightFactor():1.15},u.prototype.getLineHeight=function(c){return c/this.scaleFactor()*this.getLineHeightFactor()},u.prototype.pageNumber=function(){var c=this.jsPDFDocument.internal.getCurrentPageInfo();return c?c.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},u})();s.DocHandler=l}),4:(function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.parseHtml=void 0;var l=o(903),u=o(796);function c(A,v,I,w,g){var b,S;w===void 0&&(w=!1),g===void 0&&(g=!1);var F;typeof v=="string"?F=I.document.querySelector(v):F=v;var O=Object.keys(A.getFontList()),R=A.scaleFactor(),T=[],B=[],k=[];if(!F)return console.error("Html table could not be found with input: ",v),{head:T,body:B,foot:k};for(var U=0;U<F.rows.length;U++){var E=F.rows[U],_=(S=(b=E?.parentElement)===null||b===void 0?void 0:b.tagName)===null||S===void 0?void 0:S.toLowerCase(),L=d(O,R,I,E,w,g);L&&(_==="thead"?T.push(L):_==="tfoot"?k.push(L):B.push(L))}return{head:T,body:B,foot:k}}s.parseHtml=c;function d(A,v,I,w,g,b){for(var S=new u.HtmlRowInput(w),F=0;F<w.cells.length;F++){var O=w.cells[F],R=I.getComputedStyle(O);if(g||R.display!=="none"){var T=void 0;b&&(T=(0,l.parseCss)(A,O,v,R,I)),S.push({rowSpan:O.rowSpan,colSpan:O.colSpan,styles:T,_element:O,content:f(O)})}}var B=I.getComputedStyle(w);if(S.length>0&&(g||B.display!=="none"))return S}function f(A){var v=A.cloneNode(!0);return v.innerHTML=v.innerHTML.replace(/\n/g,"").replace(/ +/g," "),v.innerHTML=v.innerHTML.split(/<br.*?>/).map(function(I){return I.trim()}).join(`
`),v.innerText||v.textContent||""}}),776:(function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.parseInput=void 0;var l=o(4),u=o(356),c=o(420),d=o(744),f=o(792);function A(F,O){var R=new d.DocHandler(F),T=R.getDocumentOptions(),B=R.getGlobalOptions();(0,f.default)(R,B,T,O);var k=(0,u.assign)({},B,T,O),U;typeof window<"u"&&(U=window);var E=v(B,T,O),_=I(B,T,O),L=w(R,k),D=b(R,k,U);return{id:O.tableId,content:D,hooks:_,styles:E,settings:L}}s.parseInput=A;function v(F,O,R){for(var T={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},B=function(_){if(_==="columnStyles"){var L=F[_],D=O[_],z=R[_];T.columnStyles=(0,u.assign)({},L,D,z)}else{var ee=[F,O,R],Y=ee.map(function($){return $[_]||{}});T[_]=(0,u.assign)({},Y[0],Y[1],Y[2])}},k=0,U=Object.keys(T);k<U.length;k++){var E=U[k];B(E)}return T}function I(F,O,R){for(var T=[F,O,R],B={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},k=0,U=T;k<U.length;k++){var E=U[k];E.didParseCell&&B.didParseCell.push(E.didParseCell),E.willDrawCell&&B.willDrawCell.push(E.willDrawCell),E.didDrawCell&&B.didDrawCell.push(E.didDrawCell),E.willDrawPage&&B.willDrawPage.push(E.willDrawPage),E.didDrawPage&&B.didDrawPage.push(E.didDrawPage)}return B}function w(F,O){var R,T,B,k,U,E,_,L,D,z,ee,Y,$=(0,c.parseSpacing)(O.margin,40/F.scaleFactor()),j=(R=g(F,O.startY))!==null&&R!==void 0?R:$.top,K;O.showFoot===!0?K="everyPage":O.showFoot===!1?K="never":K=(T=O.showFoot)!==null&&T!==void 0?T:"everyPage";var oe;O.showHead===!0?oe="everyPage":O.showHead===!1?oe="never":oe=(B=O.showHead)!==null&&B!==void 0?B:"everyPage";var q=(k=O.useCss)!==null&&k!==void 0?k:!1,X=O.theme||(q?"plain":"striped"),te=!!O.horizontalPageBreak,ue=(U=O.horizontalPageBreakRepeat)!==null&&U!==void 0?U:null;return{includeHiddenHtml:(E=O.includeHiddenHtml)!==null&&E!==void 0?E:!1,useCss:q,theme:X,startY:j,margin:$,pageBreak:(_=O.pageBreak)!==null&&_!==void 0?_:"auto",rowPageBreak:(L=O.rowPageBreak)!==null&&L!==void 0?L:"auto",tableWidth:(D=O.tableWidth)!==null&&D!==void 0?D:"auto",showHead:oe,showFoot:K,tableLineWidth:(z=O.tableLineWidth)!==null&&z!==void 0?z:0,tableLineColor:(ee=O.tableLineColor)!==null&&ee!==void 0?ee:200,horizontalPageBreak:te,horizontalPageBreakRepeat:ue,horizontalPageBreakBehaviour:(Y=O.horizontalPageBreakBehaviour)!==null&&Y!==void 0?Y:"afterAllRows"}}function g(F,O){var R=F.getLastAutoTable(),T=F.scaleFactor(),B=F.pageNumber(),k=!1;if(R&&R.startPageNumber){var U=R.startPageNumber+R.pageNumber-1;k=U===B}return typeof O=="number"?O:(O==null||O===!1)&&k&&R?.finalY!=null?R.finalY+20/T:null}function b(F,O,R){var T=O.head||[],B=O.body||[],k=O.foot||[];if(O.html){var U=O.includeHiddenHtml;if(R){var E=(0,l.parseHtml)(F,O.html,R,U,O.useCss)||{};T=E.head||T,B=E.body||T,k=E.foot||T}else console.error("Cannot parse html in non browser environment")}var _=O.columns||S(T,B,k);return{columns:_,head:T,body:B,foot:k}}function S(F,O,R){var T=F[0]||O[0]||R[0]||[],B=[];return Object.keys(T).filter(function(k){return k!=="_element"}).forEach(function(k){var U=1,E;Array.isArray(T)?E=T[parseInt(k)]:E=T[k],typeof E=="object"&&!Array.isArray(E)&&(U=E?.colSpan||1);for(var _=0;_<U;_++){var L=void 0;Array.isArray(T)?L=B.length:L=k+(_>0?"_".concat(_):"");var D={dataKey:L};B.push(D)}}),B}}),792:(function(i,s){Object.defineProperty(s,"__esModule",{value:!0});function o(u,c,d,f){for(var A=function(g){g&&typeof g!="object"&&console.error("The options parameter should be of type object, is: "+typeof g),typeof g.extendWidth<"u"&&(g.tableWidth=g.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof g.margins<"u"&&(typeof g.margin>"u"&&(g.margin=g.margins),console.error("Use of deprecated option: margins, use margin instead.")),g.startY&&typeof g.startY!="number"&&(console.error("Invalid value for startY option",g.startY),delete g.startY),!g.didDrawPage&&(g.afterPageContent||g.beforePageContent||g.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),g.didDrawPage=function(k){u.applyStyles(u.userStyles),g.beforePageContent&&g.beforePageContent(k),u.applyStyles(u.userStyles),g.afterPageContent&&g.afterPageContent(k),u.applyStyles(u.userStyles),g.afterPageAdd&&k.pageNumber>1&&k.afterPageAdd(k),u.applyStyles(u.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(k){g[k]&&console.error('The "'.concat(k,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(k){var U=k[0],E=k[1];g[E]&&(console.error("Use of deprecated option ".concat(E,". Use ").concat(U," instead")),g[U]=g[E])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(k){var U=typeof k=="string"?k:k[0],E=typeof k=="string"?k:k[1];typeof g[U]<"u"&&(typeof g.styles[E]>"u"&&(g.styles[E]=g[U]),console.error("Use of deprecated option: "+U+", use the style "+E+" instead."))});for(var b=0,S=["styles","bodyStyles","headStyles","footStyles"];b<S.length;b++){var F=S[b];l(g[F]||{})}for(var O=g.columnStyles||{},R=0,T=Object.keys(O);R<T.length;R++){var B=T[R];l(O[B]||{})}},v=0,I=[c,d,f];v<I.length;v++){var w=I[v];A(w)}}s.default=o;function l(u){u.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),u.minCellHeight||(u.minCellHeight=u.rowHeight)):u.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),u.cellWidth||(u.cellWidth=u.columnWidth))}}),260:(function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.Column=s.Cell=s.Row=s.Table=void 0;var l=o(796),u=o(172),c=o(420),d=(function(){function I(w,g){this.pageNumber=1,this.pageCount=1,this.id=w.id,this.settings=w.settings,this.styles=w.styles,this.hooks=w.hooks,this.columns=g.columns,this.head=g.head,this.body=g.body,this.foot=g.foot}return I.prototype.getHeadHeight=function(w){return this.head.reduce(function(g,b){return g+b.getMaxCellHeight(w)},0)},I.prototype.getFootHeight=function(w){return this.foot.reduce(function(g,b){return g+b.getMaxCellHeight(w)},0)},I.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},I.prototype.callCellHooks=function(w,g,b,S,F,O){for(var R=0,T=g;R<T.length;R++){var B=T[R],k=new u.CellHookData(w,this,b,S,F,O),U=B(k)===!1;if(b.text=Array.isArray(b.text)?b.text:[b.text],U)return!1}return!0},I.prototype.callEndPageHooks=function(w,g){w.applyStyles(w.userStyles);for(var b=0,S=this.hooks.didDrawPage;b<S.length;b++){var F=S[b];F(new u.HookData(w,this,g))}},I.prototype.callWillDrawPageHooks=function(w,g){for(var b=0,S=this.hooks.willDrawPage;b<S.length;b++){var F=S[b];F(new u.HookData(w,this,g))}},I.prototype.getWidth=function(w){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var g=this.columns.reduce(function(S,F){return S+F.wrappedWidth},0);return g}else{var b=this.settings.margin;return w-b.left-b.right}},I})();s.Table=d;var f=(function(){function I(w,g,b,S,F){F===void 0&&(F=!1),this.height=0,this.raw=w,w instanceof l.HtmlRowInput&&(this.raw=w._element,this.element=w._element),this.index=g,this.section=b,this.cells=S,this.spansMultiplePages=F}return I.prototype.getMaxCellHeight=function(w){var g=this;return w.reduce(function(b,S){var F;return Math.max(b,((F=g.cells[S.index])===null||F===void 0?void 0:F.height)||0)},0)},I.prototype.hasRowSpan=function(w){var g=this;return w.filter(function(b){var S=g.cells[b.index];return S?S.rowSpan>1:!1}).length>0},I.prototype.canEntireRowFit=function(w,g){return this.getMaxCellHeight(g)<=w},I.prototype.getMinimumRowHeight=function(w,g){var b=this;return w.reduce(function(S,F){var O=b.cells[F.index];if(!O)return 0;var R=g.getLineHeight(O.styles.fontSize),T=O.padding("vertical"),B=T+R;return B>S?B:S},0)},I})();s.Row=f;var A=(function(){function I(w,g,b){var S,F;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=g,this.section=b,this.raw=w;var O=w;w!=null&&typeof w=="object"&&!Array.isArray(w)?(this.rowSpan=w.rowSpan||1,this.colSpan=w.colSpan||1,O=(F=(S=w.content)!==null&&S!==void 0?S:w.title)!==null&&F!==void 0?F:w,w._element&&(this.raw=w._element)):(this.rowSpan=1,this.colSpan=1);var R=O!=null?""+O:"",T=/\r\n|\r|\n/g;this.text=R.split(T)}return I.prototype.getTextPos=function(){var w;if(this.styles.valign==="top")w=this.y+this.padding("top");else if(this.styles.valign==="bottom")w=this.y+this.height-this.padding("bottom");else{var g=this.height-this.padding("vertical");w=this.y+g/2+this.padding("top")}var b;if(this.styles.halign==="right")b=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var S=this.width-this.padding("horizontal");b=this.x+S/2+this.padding("left")}else b=this.x+this.padding("left");return{x:b,y:w}},I.prototype.getContentHeight=function(w,g){g===void 0&&(g=1.15);var b=Array.isArray(this.text)?this.text.length:1,S=this.styles.fontSize/w*g,F=b*S+this.padding("vertical");return Math.max(F,this.styles.minCellHeight)},I.prototype.padding=function(w){var g=(0,c.parseSpacing)(this.styles.cellPadding,0);return w==="vertical"?g.top+g.bottom:w==="horizontal"?g.left+g.right:g[w]},I})();s.Cell=A;var v=(function(){function I(w,g,b){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=w,this.raw=g,this.index=b}return I.prototype.getMaxCustomCellWidth=function(w){for(var g=0,b=0,S=w.allRows();b<S.length;b++){var F=S[b],O=F.cells[this.index];O&&typeof O.styles.cellWidth=="number"&&(g=Math.max(g,O.styles.cellWidth))}return g},I})();s.Column=v}),356:(function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.assign=void 0;function o(l,u,c,d,f){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var A=Object(l),v=1;v<arguments.length;v++){var I=arguments[v];if(I!=null)for(var w in I)Object.prototype.hasOwnProperty.call(I,w)&&(A[w]=I[w])}return A}s.assign=o}),972:(function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.createTable=void 0;var l=o(744),u=o(260),c=o(324),d=o(796),f=o(356);function A(F,O){var R=new l.DocHandler(F),T=v(O,R.scaleFactor()),B=new u.Table(O,T);return(0,c.calculateWidths)(R,B),R.applyStyles(R.userStyles),B}s.createTable=A;function v(F,O){var R=F.content,T=b(R.columns);if(R.head.length===0){var B=w(T,"head");B&&R.head.push(B)}if(R.foot.length===0){var B=w(T,"foot");B&&R.foot.push(B)}var k=F.settings.theme,U=F.styles;return{columns:T,head:I("head",R.head,T,U,k,O),body:I("body",R.body,T,U,k,O),foot:I("foot",R.foot,T,U,k,O)}}function I(F,O,R,T,B,k){var U={},E=O.map(function(_,L){for(var D=0,z={},ee=0,Y=0,$=0,j=R;$<j.length;$++){var K=j[$];if(U[K.index]==null||U[K.index].left===0)if(Y===0){var oe=void 0;Array.isArray(_)?oe=_[K.index-ee-D]:oe=_[K.dataKey];var q={};typeof oe=="object"&&!Array.isArray(oe)&&(q=oe?.styles||{});var X=S(F,K,L,B,T,k,q),te=new u.Cell(oe,X,F);z[K.dataKey]=te,z[K.index]=te,Y=te.colSpan-1,U[K.index]={left:te.rowSpan-1,times:Y}}else Y--,ee++;else U[K.index].left--,Y=U[K.index].times,D++}return new u.Row(_,L,F,z)});return E}function w(F,O){var R={};return F.forEach(function(T){if(T.raw!=null){var B=g(O,T.raw);B!=null&&(R[T.dataKey]=B)}}),Object.keys(R).length>0?R:null}function g(F,O){if(F==="head"){if(typeof O=="object")return O.header||O.title||null;if(typeof O=="string"||typeof O=="number")return O}else if(F==="foot"&&typeof O=="object")return O.footer;return null}function b(F){return F.map(function(O,R){var T,B,k;return typeof O=="object"?k=(B=(T=O.dataKey)!==null&&T!==void 0?T:O.key)!==null&&B!==void 0?B:R:k=R,new u.Column(k,O,R)})}function S(F,O,R,T,B,k,U){var E=(0,d.getTheme)(T),_;F==="head"?_=B.headStyles:F==="body"?_=B.bodyStyles:F==="foot"&&(_=B.footStyles);var L=(0,f.assign)({},E.table,E[F],B.styles,_),D=B.columnStyles[O.dataKey]||B.columnStyles[O.index]||{},z=F==="body"?D:{},ee=F==="body"&&R%2===0?(0,f.assign)({},E.alternateRow,B.alternateRowStyles):{},Y=(0,d.defaultStyles)(k),$=(0,f.assign)({},Y,L,ee,z);return(0,f.assign)($,U)}}),664:(function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.addPage=s.drawTable=void 0;var l=o(420),u=o(260),c=o(744),d=o(356),f=o(136),A=o(224);function v(D,z){var ee=z.settings,Y=ee.startY,$=ee.margin,j={x:$.left,y:Y},K=z.getHeadHeight(z.columns)+z.getFootHeight(z.columns),oe=Y+$.bottom+K;if(ee.pageBreak==="avoid"){var q=z.body,X=q.reduce(function(be,ge){return be+ge.height},0);oe+=X}var te=new c.DocHandler(D);(ee.pageBreak==="always"||ee.startY!=null&&oe>te.pageSize().height)&&(L(te),j.y=$.top),z.callWillDrawPageHooks(te,j);var ue=(0,d.assign)({},j);z.startPageNumber=te.pageNumber(),ee.horizontalPageBreak?I(te,z,ue,j):(te.applyStyles(te.userStyles),(ee.showHead==="firstPage"||ee.showHead==="everyPage")&&z.head.forEach(function(be){return B(te,z,be,j,z.columns)}),te.applyStyles(te.userStyles),z.body.forEach(function(be,ge){var Ne=ge===z.body.length-1;T(te,z,be,Ne,ue,j,z.columns)}),te.applyStyles(te.userStyles),(ee.showFoot==="lastPage"||ee.showFoot==="everyPage")&&z.foot.forEach(function(be){return B(te,z,be,j,z.columns)})),(0,l.addTableBorder)(te,z,ue,j),z.callEndPageHooks(te,j),z.finalY=j.y,D.lastAutoTable=z,D.previousAutoTable=z,D.autoTable&&(D.autoTable.previous=z),te.applyStyles(te.userStyles)}s.drawTable=v;function I(D,z,ee,Y){var $=(0,A.calculateAllColumnsCanFitInPage)(D,z),j=z.settings;if(j.horizontalPageBreakBehaviour==="afterAllRows")$.forEach(function(X,te){D.applyStyles(D.userStyles),te>0?_(D,z,ee,Y,X.columns,!0):w(D,z,Y,X.columns),g(D,z,ee,Y,X.columns),S(D,z,Y,X.columns)});else for(var K=-1,oe=$[0],q=function(){var X=K;if(oe){D.applyStyles(D.userStyles);var te=oe.columns;K>=0?_(D,z,ee,Y,te,!0):w(D,z,Y,te),X=b(D,z,K+1,Y,te),S(D,z,Y,te)}var ue=X-K;$.slice(1).forEach(function(be){D.applyStyles(D.userStyles),_(D,z,ee,Y,be.columns,!0),b(D,z,K+1,Y,be.columns,ue),S(D,z,Y,be.columns)}),K=X};K<z.body.length-1;)q()}function w(D,z,ee,Y){var $=z.settings;D.applyStyles(D.userStyles),($.showHead==="firstPage"||$.showHead==="everyPage")&&z.head.forEach(function(j){return B(D,z,j,ee,Y)})}function g(D,z,ee,Y,$){D.applyStyles(D.userStyles),z.body.forEach(function(j,K){var oe=K===z.body.length-1;T(D,z,j,oe,ee,Y,$)})}function b(D,z,ee,Y,$,j){D.applyStyles(D.userStyles),j=j??z.body.length;var K=Math.min(ee+j,z.body.length),oe=-1;return z.body.slice(ee,K).forEach(function(q,X){var te=ee+X===z.body.length-1,ue=E(D,z,te,Y);q.canEntireRowFit(ue,$)&&(B(D,z,q,Y,$),oe=ee+X)}),oe}function S(D,z,ee,Y){var $=z.settings;D.applyStyles(D.userStyles),($.showFoot==="lastPage"||$.showFoot==="everyPage")&&z.foot.forEach(function(j){return B(D,z,j,ee,Y)})}function F(D,z,ee){var Y=ee.getLineHeight(D.styles.fontSize),$=D.padding("vertical"),j=Math.floor((z-$)/Y);return Math.max(0,j)}function O(D,z,ee,Y){var $={};D.spansMultiplePages=!0,D.height=0;for(var j=0,K=0,oe=ee.columns;K<oe.length;K++){var q=oe[K],X=D.cells[q.index];if(X){Array.isArray(X.text)||(X.text=[X.text]);var te=new u.Cell(X.raw,X.styles,X.section);te=(0,d.assign)(te,X),te.text=[];var ue=F(X,z,Y);X.text.length>ue&&(te.text=X.text.splice(ue,X.text.length));var be=Y.scaleFactor(),ge=Y.getLineHeightFactor();X.contentHeight=X.getContentHeight(be,ge),X.contentHeight>=z&&(X.contentHeight=z,te.styles.minCellHeight-=z),X.contentHeight>D.height&&(D.height=X.contentHeight),te.contentHeight=te.getContentHeight(be,ge),te.contentHeight>j&&(j=te.contentHeight),$[q.index]=te}}var Ne=new u.Row(D.raw,-1,D.section,$,!0);Ne.height=j;for(var Le=0,Ie=ee.columns;Le<Ie.length;Le++){var q=Ie[Le],te=Ne.cells[q.index];te&&(te.height=Ne.height);var X=D.cells[q.index];X&&(X.height=D.height)}return Ne}function R(D,z,ee,Y){var $=D.pageSize().height,j=Y.settings.margin,K=j.top+j.bottom,oe=$-K;z.section==="body"&&(oe-=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns));var q=z.getMinimumRowHeight(Y.columns,D),X=q<ee;if(q>oe)return console.error("Will not be able to print row ".concat(z.index," correctly since it's minimum height is larger than page height")),!0;if(!X)return!1;var te=z.hasRowSpan(Y.columns),ue=z.getMaxCellHeight(Y.columns)>oe;return ue?(te&&console.error("The content of row ".concat(z.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(te||Y.settings.rowPageBreak==="avoid")}function T(D,z,ee,Y,$,j,K){var oe=E(D,z,Y,j);if(ee.canEntireRowFit(oe,K))B(D,z,ee,j,K);else if(R(D,ee,oe,z)){var q=O(ee,oe,z,D);B(D,z,ee,j,K),_(D,z,$,j,K),T(D,z,q,Y,$,j,K)}else _(D,z,$,j,K),T(D,z,ee,Y,$,j,K)}function B(D,z,ee,Y,$){Y.x=z.settings.margin.left;for(var j=0,K=$;j<K.length;j++){var oe=K[j],q=ee.cells[oe.index];if(!q){Y.x+=oe.width;continue}D.applyStyles(q.styles),q.x=Y.x,q.y=Y.y;var X=z.callCellHooks(D,z.hooks.willDrawCell,q,ee,oe,Y);if(X===!1){Y.x+=oe.width;continue}k(D,q,Y);var te=q.getTextPos();(0,f.default)(q.text,te.x,te.y,{halign:q.styles.halign,valign:q.styles.valign,maxWidth:Math.ceil(q.width-q.padding("left")-q.padding("right"))},D.getDocument()),z.callCellHooks(D,z.hooks.didDrawCell,q,ee,oe,Y),Y.x+=oe.width}Y.y+=ee.height}function k(D,z,ee){var Y=z.styles;if(D.getDocument().setFillColor(D.getDocument().getFillColor()),typeof Y.lineWidth=="number"){var $=(0,l.getFillStyle)(Y.lineWidth,Y.fillColor);$&&D.rect(z.x,ee.y,z.width,z.height,$)}else typeof Y.lineWidth=="object"&&(Y.fillColor&&D.rect(z.x,ee.y,z.width,z.height,"F"),U(D,z,ee,Y.lineWidth))}function U(D,z,ee,Y){var $,j,K,oe;Y.top&&($=ee.x,j=ee.y,K=ee.x+z.width,oe=ee.y,Y.right&&(K+=.5*Y.right),Y.left&&($-=.5*Y.left),q(Y.top,$,j,K,oe)),Y.bottom&&($=ee.x,j=ee.y+z.height,K=ee.x+z.width,oe=ee.y+z.height,Y.right&&(K+=.5*Y.right),Y.left&&($-=.5*Y.left),q(Y.bottom,$,j,K,oe)),Y.left&&($=ee.x,j=ee.y,K=ee.x,oe=ee.y+z.height,Y.top&&(j-=.5*Y.top),Y.bottom&&(oe+=.5*Y.bottom),q(Y.left,$,j,K,oe)),Y.right&&($=ee.x+z.width,j=ee.y,K=ee.x+z.width,oe=ee.y+z.height,Y.top&&(j-=.5*Y.top),Y.bottom&&(oe+=.5*Y.bottom),q(Y.right,$,j,K,oe));function q(X,te,ue,be,ge){D.getDocument().setLineWidth(X),D.getDocument().line(te,ue,be,ge,"S")}}function E(D,z,ee,Y){var $=z.settings.margin.bottom,j=z.settings.showFoot;return(j==="everyPage"||j==="lastPage"&&ee)&&($+=z.getFootHeight(z.columns)),D.pageSize().height-Y.y-$}function _(D,z,ee,Y,$,j){$===void 0&&($=[]),j===void 0&&(j=!1),D.applyStyles(D.userStyles),z.settings.showFoot==="everyPage"&&!j&&z.foot.forEach(function(oe){return B(D,z,oe,Y,$)}),z.callEndPageHooks(D,Y);var K=z.settings.margin;(0,l.addTableBorder)(D,z,ee,Y),L(D),z.pageNumber++,z.pageCount++,Y.x=K.left,Y.y=K.top,ee.y=K.top,z.callWillDrawPageHooks(D,Y),z.settings.showHead==="everyPage"&&(z.head.forEach(function(oe){return B(D,z,oe,Y,$)}),D.applyStyles(D.userStyles))}s.addPage=_;function L(D){var z=D.pageNumber();D.setPage(z+1);var ee=D.pageNumber();return ee===z?(D.addPage(),!0):!1}}),224:(function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.calculateAllColumnsCanFitInPage=void 0;var l=o(420);function u(d,f,A){var v;A===void 0&&(A={});var I=(0,l.getPageAvailableWidth)(d,f),w=new Map,g=[],b=[],S=[];f.settings.horizontalPageBreakRepeat,Array.isArray(f.settings.horizontalPageBreakRepeat)?S=f.settings.horizontalPageBreakRepeat:(typeof f.settings.horizontalPageBreakRepeat=="string"||typeof f.settings.horizontalPageBreakRepeat=="number")&&(S=[f.settings.horizontalPageBreakRepeat]),S.forEach(function(T){var B=f.columns.find(function(k){return k.dataKey===T||k.index===T});B&&!w.has(B.index)&&(w.set(B.index,!0),g.push(B.index),b.push(f.columns[B.index]),I-=B.wrappedWidth)});for(var F=!0,O=(v=A?.start)!==null&&v!==void 0?v:0;O<f.columns.length;){if(w.has(O)){O++;continue}var R=f.columns[O].wrappedWidth;if(F||I>=R)F=!1,g.push(O),b.push(f.columns[O]),I-=R;else break;O++}return{colIndexes:g,columns:b,lastIndex:O-1}}function c(d,f){for(var A=[],v=0;v<f.columns.length;v++){var I=u(d,f,{start:v});I.columns.length&&(A.push(I),v=I.lastIndex)}return A}s.calculateAllColumnsCanFitInPage=c}),324:(function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.ellipsize=s.resizeColumns=s.calculateWidths=void 0;var l=o(420);function u(g,b){c(g,b);var S=[],F=0;b.columns.forEach(function(R){var T=R.getMaxCustomCellWidth(b);T?R.width=T:(R.width=R.wrappedWidth,S.push(R)),F+=R.width});var O=b.getWidth(g.pageSize().width)-F;O&&(O=d(S,O,function(R){return Math.max(R.minReadableWidth,R.minWidth)})),O&&(O=d(S,O,function(R){return R.minWidth})),O=Math.abs(O),!b.settings.horizontalPageBreak&&O>.1/g.scaleFactor()&&(O=O<1?O:Math.round(O),console.warn("Of the table content, ".concat(O," units width could not fit page"))),A(b),v(b,g),f(b)}s.calculateWidths=u;function c(g,b){var S=g.scaleFactor(),F=b.settings.horizontalPageBreak,O=(0,l.getPageAvailableWidth)(g,b);b.allRows().forEach(function(R){for(var T=0,B=b.columns;T<B.length;T++){var k=B[T],U=R.cells[k.index];if(U){var E=b.hooks.didParseCell;b.callCellHooks(g,E,U,R,k,null);var _=U.padding("horizontal");U.contentWidth=(0,l.getStringWidth)(U.text,U.styles,g)+_;var L=(0,l.getStringWidth)(U.text.join(" ").split(/[^\S\u00A0]+/),U.styles,g);if(U.minReadableWidth=L+U.padding("horizontal"),typeof U.styles.cellWidth=="number")U.minWidth=U.styles.cellWidth,U.wrappedWidth=U.styles.cellWidth;else if(U.styles.cellWidth==="wrap"||F===!0)U.contentWidth>O?(U.minWidth=O,U.wrappedWidth=O):(U.minWidth=U.contentWidth,U.wrappedWidth=U.contentWidth);else{var D=10/S;U.minWidth=U.styles.minCellWidth||D,U.wrappedWidth=U.contentWidth,U.minWidth>U.wrappedWidth&&(U.wrappedWidth=U.minWidth)}}}}),b.allRows().forEach(function(R){for(var T=0,B=b.columns;T<B.length;T++){var k=B[T],U=R.cells[k.index];if(U&&U.colSpan===1)k.wrappedWidth=Math.max(k.wrappedWidth,U.wrappedWidth),k.minWidth=Math.max(k.minWidth,U.minWidth),k.minReadableWidth=Math.max(k.minReadableWidth,U.minReadableWidth);else{var E=b.styles.columnStyles[k.dataKey]||b.styles.columnStyles[k.index]||{},_=E.cellWidth||E.minCellWidth;_&&typeof _=="number"&&(k.minWidth=_,k.wrappedWidth=_)}U&&(U.colSpan>1&&!k.minWidth&&(k.minWidth=U.minWidth),U.colSpan>1&&!k.wrappedWidth&&(k.wrappedWidth=U.minWidth))}})}function d(g,b,S){for(var F=b,O=g.reduce(function(D,z){return D+z.wrappedWidth},0),R=0;R<g.length;R++){var T=g[R],B=T.wrappedWidth/O,k=F*B,U=T.width+k,E=S(T),_=U<E?E:U;b-=_-T.width,T.width=_}if(b=Math.round(b*1e10)/1e10,b){var L=g.filter(function(D){return b<0?D.width>S(D):!0});L.length&&(b=d(L,b,S))}return b}s.resizeColumns=d;function f(g){for(var b={},S=1,F=g.allRows(),O=0;O<F.length;O++)for(var R=F[O],T=0,B=g.columns;T<B.length;T++){var k=B[T],U=b[k.index];if(S>1)S--,delete R.cells[k.index];else if(U)U.cell.height+=R.height,S=U.cell.colSpan,delete R.cells[k.index],U.left--,U.left<=1&&delete b[k.index];else{var E=R.cells[k.index];if(!E)continue;if(E.height=R.height,E.rowSpan>1){var _=F.length-O,L=E.rowSpan>_?_:E.rowSpan;b[k.index]={cell:E,left:L,row:R}}}}}function A(g){for(var b=g.allRows(),S=0;S<b.length;S++)for(var F=b[S],O=null,R=0,T=0,B=0;B<g.columns.length;B++){var k=g.columns[B];if(T-=1,T>1&&g.columns[B+1])R+=k.width,delete F.cells[k.index];else if(O){var U=O;delete F.cells[k.index],O=null,U.width=k.width+R}else{var U=F.cells[k.index];if(!U)continue;if(T=U.colSpan,R=0,U.colSpan>1){O=U,R+=k.width;continue}U.width=k.width+R}}}function v(g,b){for(var S={count:0,height:0},F=0,O=g.allRows();F<O.length;F++){for(var R=O[F],T=0,B=g.columns;T<B.length;T++){var k=B[T],U=R.cells[k.index];if(U){b.applyStyles(U.styles,!0);var E=U.width-U.padding("horizontal");if(U.styles.overflow==="linebreak")U.text=b.splitTextToSize(U.text,E+1/b.scaleFactor(),{fontSize:U.styles.fontSize});else if(U.styles.overflow==="ellipsize")U.text=I(U.text,E,U.styles,b,"...");else if(U.styles.overflow==="hidden")U.text=I(U.text,E,U.styles,b,"");else if(typeof U.styles.overflow=="function"){var _=U.styles.overflow(U.text,E);typeof _=="string"?U.text=[_]:U.text=_}U.contentHeight=U.getContentHeight(b.scaleFactor(),b.getLineHeightFactor());var L=U.contentHeight/U.rowSpan;U.rowSpan>1&&S.count*S.height<L*U.rowSpan?S={height:L,count:U.rowSpan}:S&&S.count>0&&S.height>L&&(L=S.height),L>R.height&&(R.height=L)}}S.count--}}function I(g,b,S,F,O){return g.map(function(R){return w(R,b,S,F,O)})}s.ellipsize=I;function w(g,b,S,F,O){var R=1e4*F.scaleFactor();if(b=Math.ceil(b*R)/R,b>=(0,l.getStringWidth)(g,S,F))return g;for(;b<(0,l.getStringWidth)(g+O,S,F)&&!(g.length<=1);)g=g.substring(0,g.length-1);return g.trim()+O}}),964:(function(i){if(typeof t>"u"){var s=new Error("Cannot find module 'undefined'");throw s.code="MODULE_NOT_FOUND",s}i.exports=t})},r={};function n(i){var s=r[i];if(s!==void 0)return s.exports;var o=r[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}var a={};return(function(){var i=a;Object.defineProperty(i,"__esModule",{value:!0}),i.Cell=i.Column=i.Row=i.Table=i.CellHookData=i.__drawTable=i.__createTable=i.applyPlugin=void 0;var s=n(340),o=n(776),l=n(664),u=n(972),c=n(260);Object.defineProperty(i,"Table",{enumerable:!0,get:function(){return c.Table}});var d=n(172);Object.defineProperty(i,"CellHookData",{enumerable:!0,get:function(){return d.CellHookData}});var f=n(260);Object.defineProperty(i,"Cell",{enumerable:!0,get:function(){return f.Cell}}),Object.defineProperty(i,"Column",{enumerable:!0,get:function(){return f.Column}}),Object.defineProperty(i,"Row",{enumerable:!0,get:function(){return f.Row}});function A(b){(0,s.default)(b)}i.applyPlugin=A;function v(b,S){var F=(0,o.parseInput)(b,S),O=(0,u.createTable)(b,F);(0,l.drawTable)(b,O)}function I(b,S){var F=(0,o.parseInput)(b,S);return(0,u.createTable)(b,F)}i.__createTable=I;function w(b,S){(0,l.drawTable)(b,S)}i.__drawTable=w;try{var g=n(964);g.jsPDF&&(g=g.jsPDF),A(g)}catch{}i.default=v})(),a})()})});var Yre=ce($t()),Xre=ce(Y7());var no=ce($t());var J7=function(t){let e=[],r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},kse=function(t){let e=[],r=0,n=0;for(;r<t.length;){let a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){let i=t[r++];e[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){let i=t[r++],s=t[r++],o=t[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{let i=t[r++],s=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},Z7={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){let i=t[a],s=a+1<t.length,o=s?t[a+1]:0,l=a+2<t.length,u=l?t[a+2]:0,c=i>>2,d=(i&3)<<4|o>>4,f=(o&15)<<2|u>>6,A=u&63;l||(A=64,s||(f=64)),n.push(r[c],r[d],r[f],r[A])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J7(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kse(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){let i=r[t.charAt(a++)],o=a<t.length?r[t.charAt(a)]:0;++a;let u=a<t.length?r[t.charAt(a)]:64;++a;let d=a<t.length?r[t.charAt(a)]:64;if(++a,i==null||o==null||u==null||d==null)throw new QL;let f=i<<2|o>>4;if(n.push(f),u!==64){let A=o<<4&240|u>>2;if(n.push(A),d!==64){let v=u<<6&192|d;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},QL=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Fse=function(t){let e=J7(t);return Z7.encodeByteArray(e,!0)},Bw=function(t){return Fse(t).replace(/\./g,"")},VL=function(t){try{return Z7.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _w(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let r in e)!e.hasOwnProperty(r)||!Rse(r)||(t[r]=_w(t[r],e[r]));return t}function Rse(t){return t!=="__proto__"}function qL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Use=()=>qL().__FIREBASE_DEFAULTS__,Dse=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mse=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&VL(t[1]);return e&&JSON.parse(e)},zL=()=>{try{return Use()||Dse()||Mse()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var jL=()=>{var t;return(t=zL())===null||t===void 0?void 0:t.config},eH=t=>{var e;return(e=zL())===null||e===void 0?void 0:e[`_${t}`]};var TN=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};function LN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bw(JSON.stringify(r)),Bw(JSON.stringify(s)),""].join(".")}function gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}function PN(){var t;let e=(t=zL())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rH(){return typeof window<"u"||KL()}function KL(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function nH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kN(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FN(){let t=gi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GL(){return!PN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tp(){try{return typeof indexedDB=="object"}catch{return!1}}function aH(){return new Promise((t,e)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}var Ose="FirebaseError",ii=class t extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Ose,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}},$c=class{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){let n=r[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?Qse(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new ii(a,o,n)}};function Qse(t,e){return t.replace(Hse,(r,n)=>{let a=e[n];return a!=null?String(a):`<${n}?>`})}var Hse=/\{\$([^}]+)}/g;function WL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function iH(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lp(t,e){if(t===e)return!0;let r=Object.keys(t),n=Object.keys(e);for(let a of r){if(!n.includes(a))return!1;let i=t[a],s=e[a];if(X7(i)&&X7(s)){if(!Lp(i,s))return!1}else if(i!==s)return!1}for(let a of n)if(!r.includes(a))return!1;return!0}function X7(t){return t!==null&&typeof t=="object"}function Ag(t){let e=[];for(let[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Pp(t){let e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){let[a,i]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function cv(t){let e=t.indexOf("?");if(!e)return"";let r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function RN(t,e){let r=new HL(t,e);return r.subscribe.bind(r)}var HL=class{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Vse(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=OL),a.error===void 0&&(a.error=OL),a.complete===void 0&&(a.complete=OL);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Vse(t,e){if(typeof t!="object"||t===null)return!1;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function OL(){}var NSe=14400*1e3;function Br(t){return t&&t._delegate?t._delegate:t}var yi=class{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fg="[DEFAULT]";var $L=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){let n=new TN;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{let a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;let n=this.normalizeInstanceIdentifier(e?.identifier),a=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zse(e))try{this.getOrInitializeService({instanceIdentifier:fg})}catch{}for(let[r,n]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(r);try{let i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(e=fg){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fg){return this.instances.has(e)}getOptions(e=fg){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(let[i,s]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(e,r){var n;let a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(a,i);let s=this.instances.get(a);return s&&e(s,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){let n=this.onInitCallbacks.get(r);if(n)for(let a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:qse(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=fg){return this.component?this.component.multipleInstances?e:fg:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qse(t){return t===fg?void 0:t}function zse(t){return t.instantiationMode==="EAGER"}var Tw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let r=new $L(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}};var dP={};oI(dP,{FirebaseError:()=>ii,SDK_VERSION:()=>Ac,_DEFAULT_ENTRY_NAME:()=>JA,_addComponent:()=>fv,_addOrOverwriteComponent:()=>lP,_apps:()=>kp,_clearComponents:()=>Poe,_components:()=>Av,_getProvider:()=>hv,_isFirebaseApp:()=>bH,_isFirebaseServerApp:()=>Wi,_registerComponent:()=>Yl,_removeServiceInstance:()=>vH,_serverApps:()=>dv,deleteApp:()=>QN,getApp:()=>Pw,getApps:()=>Roe,initializeApp:()=>ON,initializeServerApp:()=>Foe,onLog:()=>uP,registerVersion:()=>ws,setLogLevel:()=>cP});var YL=[],jn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jn||(jn={}));var sH={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},jse=jn.INFO,Kse={[jn.DEBUG]:"log",[jn.VERBOSE]:"log",[jn.INFO]:"info",[jn.WARN]:"warn",[jn.ERROR]:"error"},Gse=(t,e,...r)=>{if(e<t.logLevel)return;let n=new Date().toISOString(),a=Kse[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},YA=class{constructor(e){this.name=e,this._logLevel=jse,this._logHandler=Gse,this._userLogHandler=null,YL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jn.DEBUG,...e),this._logHandler(this,jn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jn.VERBOSE,...e),this._logHandler(this,jn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jn.INFO,...e),this._logHandler(this,jn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jn.WARN,...e),this._logHandler(this,jn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jn.ERROR,...e),this._logHandler(this,jn.ERROR,...e)}};function oH(t){YL.forEach(e=>{e.setLogLevel(t)})}function lH(t,e){for(let r of YL){let n=null;e&&e.level&&(n=sH[e.level]),t===null?r.userLogHandler=null:r.userLogHandler=(a,i,...s)=>{let o=s.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");i>=(n??a.logLevel)&&t({level:jn[i].toLowerCase(),message:o,args:s,type:a.name})}}}var Wse=(t,e)=>e.some(r=>t instanceof r),uH,cH;function $se(){return uH||(uH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yse(){return cH||(cH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var dH=new WeakMap,JL=new WeakMap,AH=new WeakMap,XL=new WeakMap,eP=new WeakMap;function Xse(t){let e=new Promise((r,n)=>{let a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{r(XA(t.result)),a()},s=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&dH.set(r,t)}).catch(()=>{}),eP.set(e,t),e}function Jse(t){if(JL.has(t))return;let e=new Promise((r,n)=>{let a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});JL.set(t,e)}var ZL={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return JL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AH.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return XA(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fH(t){ZL=t(ZL)}function Zse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){let n=t.call(UN(this),e,...r);return AH.set(n,e.sort?e.sort():[e]),XA(n)}:Yse().includes(t)?function(...e){return t.apply(UN(this),e),XA(dH.get(this))}:function(...e){return XA(t.apply(UN(this),e))}}function eoe(t){return typeof t=="function"?Zse(t):(t instanceof IDBTransaction&&Jse(t),Wse(t,$se())?new Proxy(t,ZL):t)}function XA(t){if(t instanceof IDBRequest)return Xse(t);if(XL.has(t))return XL.get(t);let e=eoe(t);return e!==t&&(XL.set(t,e),eP.set(e,t)),e}var UN=t=>eP.get(t);function pH(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){let s=indexedDB.open(t,e),o=XA(s);return n&&s.addEventListener("upgradeneeded",l=>{n(XA(s.result),l.oldVersion,l.newVersion,XA(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}var toe=["get","getKey","getAll","getAllKeys","count"],roe=["put","add","delete","clear"],tP=new Map;function hH(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tP.get(e))return tP.get(e);let r=e.replace(/FromIndex$/,""),n=e!==r,a=roe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||toe.includes(r)))return;let i=async function(s,...o){let l=this.transaction(s,a?"readwrite":"readonly"),u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),a&&l.done]))[0]};return tP.set(e,i),i}fH(t=>({...t,get:(e,r,n)=>hH(e,r)||t.get(e,r,n),has:(e,r)=>!!hH(e,r)||t.has(e,r)}));var nP=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(noe(r)){let n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}};function noe(t){let e=t.getComponent();return e?.type==="VERSION"}var DN="@firebase/app",aP="0.10.13";var dh=new YA("@firebase/app"),aoe="@firebase/app-compat",ioe="@firebase/analytics-compat",soe="@firebase/analytics",ooe="@firebase/app-check-compat",loe="@firebase/app-check",uoe="@firebase/auth",coe="@firebase/auth-compat",doe="@firebase/database",Aoe="@firebase/data-connect",foe="@firebase/database-compat",hoe="@firebase/functions",poe="@firebase/functions-compat",moe="@firebase/installations",goe="@firebase/installations-compat",yoe="@firebase/messaging",voe="@firebase/messaging-compat",boe="@firebase/performance",woe="@firebase/performance-compat",xoe="@firebase/remote-config",Coe="@firebase/remote-config-compat",Ioe="@firebase/storage",Noe="@firebase/storage-compat",Soe="@firebase/firestore",Boe="@firebase/vertexai-preview",_oe="@firebase/firestore-compat",Eoe="firebase",Toe="10.14.1";var JA="[DEFAULT]",Loe={[DN]:"fire-core",[aoe]:"fire-core-compat",[soe]:"fire-analytics",[ioe]:"fire-analytics-compat",[loe]:"fire-app-check",[ooe]:"fire-app-check-compat",[uoe]:"fire-auth",[coe]:"fire-auth-compat",[doe]:"fire-rtdb",[Aoe]:"fire-data-connect",[foe]:"fire-rtdb-compat",[hoe]:"fire-fn",[poe]:"fire-fn-compat",[moe]:"fire-iid",[goe]:"fire-iid-compat",[yoe]:"fire-fcm",[voe]:"fire-fcm-compat",[boe]:"fire-perf",[woe]:"fire-perf-compat",[xoe]:"fire-rc",[Coe]:"fire-rc-compat",[Ioe]:"fire-gcs",[Noe]:"fire-gcs-compat",[Soe]:"fire-fst",[_oe]:"fire-fst-compat",[Boe]:"fire-vertex","fire-js":"fire-js",[Eoe]:"fire-js-all"};var kp=new Map,dv=new Map,Av=new Map;function fv(t,e){try{t.container.addComponent(e)}catch(r){dh.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function lP(t,e){t.container.addOrOverwriteComponent(e)}function Yl(t){let e=t.name;if(Av.has(e))return dh.debug(`There were multiple attempts to register component ${e}.`),!1;Av.set(e,t);for(let r of kp.values())fv(r,t);for(let r of dv.values())fv(r,t);return!0}function hv(t,e){let r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function vH(t,e,r=JA){hv(t,e).clearInstance(r)}function bH(t){return t.options!==void 0}function Wi(t){return t.settings!==void 0}function Poe(){Av.clear()}var koe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yc=new $c("app","Firebase",koe);var MN=class{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yc.create("app-deleted",{appName:this._name})}};var iP=class extends MN{constructor(e,r,n,a){let i=r.automaticDataCollectionEnabled!==void 0?r.automaticDataCollectionEnabled:!1,s={name:n,automaticDataCollectionEnabled:i};if(e.apiKey!==void 0)super(e,s,a);else{let o=e;super(o.options,s,a)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},r),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,r.releaseOnDeref=void 0,ws(DN,aP,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){QN(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yc.create("server-app-deleted")}};var Ac=Toe;function ON(t,e={}){let r=t;typeof e!="object"&&(e={name:e});let n=Object.assign({name:JA,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw Yc.create("bad-app-name",{appName:String(a)});if(r||(r=jL()),!r)throw Yc.create("no-options");let i=kp.get(a);if(i){if(Lp(r,i.options)&&Lp(n,i.config))return i;throw Yc.create("duplicate-app",{appName:a})}let s=new Tw(a);for(let l of Av.values())s.addComponent(l);let o=new MN(r,n,s);return kp.set(a,o),o}function Foe(t,e){if(rH()&&!KL())throw Yc.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let r;bH(t)?r=t.options:r=t;let n=Object.assign(Object.assign({},e),r);n.releaseOnDeref!==void 0&&delete n.releaseOnDeref;let a=u=>[...u].reduce((c,d)=>Math.imul(31,c)+d.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Yc.create("finalization-registry-not-supported",{});let i=""+a(JSON.stringify(n)),s=dv.get(i);if(s)return s.incRefCount(e.releaseOnDeref),s;let o=new Tw(i);for(let u of Av.values())o.addComponent(u);let l=new iP(r,e,i,o);return dv.set(i,l),l}function Pw(t=JA){let e=kp.get(t);if(!e&&t===JA&&jL())return ON();if(!e)throw Yc.create("no-app",{appName:t});return e}function Roe(){return Array.from(kp.values())}async function QN(t){let e=!1,r=t.name;kp.has(r)?(e=!0,kp.delete(r)):dv.has(r)&&t.decRefCount()<=0&&(dv.delete(r),e=!0),e&&(await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function ws(t,e,r){var n;let a=(n=Loe[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);let i=a.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let o=[`Unable to register library "${a}" with version "${e}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dh.warn(o.join(" "));return}Yl(new yi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}function uP(t,e){if(t!==null&&typeof t!="function")throw Yc.create("invalid-log-argument");lH(t,e)}function cP(t){oH(t)}var Uoe="firebase-heartbeat-database",Doe=1,Lw="firebase-heartbeat-store",rP=null;function wH(){return rP||(rP=pH(Uoe,Doe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lw)}catch(r){console.warn(r)}}}}).catch(t=>{throw Yc.create("idb-open",{originalErrorMessage:t.message})})),rP}async function Moe(t){try{let r=(await wH()).transaction(Lw),n=await r.objectStore(Lw).get(xH(t));return await r.done,n}catch(e){if(e instanceof ii)dh.warn(e.message);else{let r=Yc.create("idb-get",{originalErrorMessage:e?.message});dh.warn(r.message)}}}async function mH(t,e){try{let n=(await wH()).transaction(Lw,"readwrite");await n.objectStore(Lw).put(e,xH(t)),await n.done}catch(r){if(r instanceof ii)dh.warn(r.message);else{let n=Yc.create("idb-set",{originalErrorMessage:r?.message});dh.warn(n.message)}}}function xH(t){return`${t.name}!${t.options.appId}`}var Ooe=1024,Qoe=720*60*60*1e3,sP=class{constructor(e){this.container=e,this._heartbeatsCache=null;let r=this.container.getProvider("app").getImmediate();this._storage=new oP(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{let a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gH();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let o=new Date(s.date).valueOf();return Date.now()-o<=Qoe}),this._storage.overwrite(this._heartbeatsCache))}catch(n){dh.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let r=gH(),{heartbeatsToSend:n,unsentEntries:a}=Hoe(this._heartbeatsCache.heartbeats),i=Bw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return dh.warn(r),""}}};function gH(){return new Date().toISOString().substring(0,10)}function Hoe(t,e=Ooe){let r=[],n=t.slice();for(let a of t){let i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),yH(r)>e){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),yH(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}var oP=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tp()?aH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let r=await Moe(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){let a=await this.read();return mH(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){let a=await this.read();return mH(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}};function yH(t){return Bw(JSON.stringify({version:2,heartbeats:t})).length}function Voe(t){Yl(new yi("platform-logger",e=>new nP(e),"PRIVATE")),Yl(new yi("heartbeat",e=>new sP(e),"PRIVATE")),ws(DN,aP,t),ws(DN,aP,"esm2017"),ws("fire-js","")}Voe("");var AP=class{constructor(e,r){this._delegate=e,this.firebase=r,fv(e,new yi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),QN(this._delegate)))}_getService(e,r=JA){var n;this._delegate.checkDestroyed();let a=this._delegate.container.getProvider(e);return!a.isInitialized()&&((n=a.getComponent())===null||n===void 0?void 0:n.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:r})}_removeServiceInstance(e,r=JA){this._delegate.container.getProvider(e).clearInstance(r)}_addComponent(e){fv(this._delegate,e)}_addOrOverwriteComponent(e){lP(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var qoe={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},CH=new $c("app-compat","Firebase",qoe);function zoe(t){let e={},r={__esModule:!0,initializeApp:i,app:a,registerVersion:ws,setLogLevel:cP,onLog:uP,apps:null,SDK_VERSION:Ac,INTERNAL:{registerComponent:o,removeApp:n,useAsService:l,modularAPIs:dP}};r.default=r,Object.defineProperty(r,"apps",{get:s});function n(u){delete e[u]}function a(u){if(u=u||JA,!WL(e,u))throw CH.create("no-app",{appName:u});return e[u]}a.App=t;function i(u,c={}){let d=ON(u,c);if(WL(e,d.name))return e[d.name];let f=new t(d,r);return e[d.name]=f,f}function s(){return Object.keys(e).map(u=>e[u])}function o(u){let c=u.name,d=c.replace("-compat","");if(Yl(u)&&u.type==="PUBLIC"){let f=(A=a())=>{if(typeof A[d]!="function")throw CH.create("invalid-app-argument",{appName:c});return A[d]()};u.serviceProps!==void 0&&_w(f,u.serviceProps),r[d]=f,t.prototype[d]=function(...A){return this._getService.bind(this,c).apply(this,u.multipleInstances?A:[])}}return u.type==="PUBLIC"?r[d]:null}function l(u,c){return c==="serverAuth"?null:c}return r}function NH(){let t=zoe(AP);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:NH,extendNamespace:e,createSubscribe:RN,ErrorFactory:$c,deepExtend:_w});function e(r){_w(t,r)}return t}var joe=NH();var IH=new YA("@firebase/app-compat"),Koe="@firebase/app-compat",Goe="0.2.43";function Woe(t){ws(Koe,Goe,t)}try{let t=qL();if(t.firebase!==void 0){IH.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);let e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&IH.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}var vi=joe;Woe();var $oe="firebase",Yoe="10.14.1";vi.registerVersion($oe,Yoe,"app-compat");function HN(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}var vg={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var Vp={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function Xoe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function HH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VP=Xoe,VH=HH,qH=new $c("auth","Firebase",HH());var KN=new YA("@firebase/auth");function Joe(t,...e){KN.logLevel<=jn.WARN&&KN.warn(`Auth (${Ac}): ${t}`,...e)}function zN(t,...e){KN.logLevel<=jn.ERROR&&KN.error(`Auth (${Ac}): ${t}`,...e)}function Vs(t,...e){throw zP(t,...e)}function Hs(t,...e){return zP(t,...e)}function qP(t,e,r){let n=Object.assign(Object.assign({},VH()),{[e]:r});return new $c("auth","Firebase",n).create(e,{appName:t.name})}function Fo(t){return qP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vv(t,e,r){let n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Vs(t,"argument-error"),qP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zP(t,...e){if(typeof t!="string"){let r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return qH.create(t,...e)}function Qt(t,e,...r){if(!t)throw zP(e,...r)}function ZA(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zN(e),new Error(e)}function Xc(t,e){t||ZA(e)}function Dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jP(){return SH()==="http:"||SH()==="https:"}function SH(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Zoe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jP()||kN()||"connection"in navigator)?navigator.onLine:!0}function ele(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var hg=class{constructor(e,r){this.shortDelay=e,this.longDelay=r,Xc(r>e,"Short delay should be less than long delay!"),this.isMobile=tH()||Ew()}get(){return Zoe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function KP(t,e){Xc(t.emulator,"Emulator should always be set here");let{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}var Mw=class{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ZA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ZA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ZA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var tle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var rle=new hg(3e4,6e4);function Ii(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ni(t,e,r,n,a={}){return zH(t,a,async()=>{let i={},s={};n&&(e==="GET"?s=n:i={body:JSON.stringify(n)});let o=Ag(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);let u=Object.assign({method:e,headers:l},i);return nH()||(u.referrerPolicy="no-referrer"),Mw.fetch()(jH(t,t.config.apiHost,r,o),u)})}async function zH(t,e,r){t._canInitEmulator=!1;let n=Object.assign(Object.assign({},tle),e);try{let a=new gP(t),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw kw(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let o=i.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kw(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw kw(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw kw(t,"user-disabled",s);let c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qP(t,c,u);Vs(t,c)}}catch(a){if(a instanceof ii)throw a;Vs(t,"network-request-failed",{message:String(a)})}}async function hh(t,e,r,n,a={}){let i=await Ni(t,e,r,n,a);return"mfaPendingCredential"in i&&Vs(t,"multi-factor-auth-required",{_serverResponse:i}),i}function jH(t,e,r,n){let a=`${e}${r}?${n}`;return t.config.emulator?KP(t.config,a):`${t.config.apiScheme}://${a}`}function nle(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var gP=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Hs(this.auth,"network-request-failed")),rle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function kw(t,e,r){let n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);let a=Hs(t,e,n);return a.customData._tokenResponse=r,a}function BH(t){return t!==void 0&&t.getResponse!==void 0}function _H(t){return t!==void 0&&t.enterprise!==void 0}var yP=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return nle(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function ale(t){return(await Ni(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function ile(t,e){return Ni(t,"GET","/v2/recaptchaConfig",Ii(t,e))}async function sle(t,e){return Ni(t,"POST","/v1/accounts:delete",e)}async function ole(t,e){return Ni(t,"POST","/v1/accounts:update",e)}async function KH(t,e){return Ni(t,"POST","/v1/accounts:lookup",e)}function Fw(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GH(t,e=!1){let r=Br(t),n=await r.getIdToken(e),a=A5(n);Qt(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");let i=typeof a.firebase=="object"?a.firebase:void 0,s=i?.sign_in_provider;return{claims:a,token:n,authTime:Fw(fP(a.auth_time)),issuedAtTime:Fw(fP(a.iat)),expirationTime:Fw(fP(a.exp)),signInProvider:s||null,signInSecondFactor:i?.sign_in_second_factor||null}}function fP(t){return Number(t)*1e3}function A5(t){let[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return zN("JWT malformed, contained fewer than 3 sections"),null;try{let a=VL(r);return a?JSON.parse(a):(zN("Failed to decode base64 JWT payload"),null)}catch(a){return zN("Caught error parsing JWT payload as JSON",a?.toString()),null}}function EH(t){let e=A5(t);return Qt(e,"internal-error"),Qt(typeof e.exp<"u","internal-error"),Qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ii&&lle(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function lle({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var vP=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;let r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Ow=class{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fw(this.lastLoginAt),this.creationTime=Fw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Qw(t){var e;let r=t.auth,n=await t.getIdToken(),a=await fh(t,KH(r,{idToken:n}));Qt(a?.users.length,r,"internal-error");let i=a.users[0];t._notifyReloadListener(i);let s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?$H(i.providerUserInfo):[],o=ule(t.providerData,s),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!o?.length,c=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ow(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function WH(t){let e=Br(t);await Qw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ule(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function $H(t){return t.map(e=>{var{providerId:r}=e,n=HN(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function cle(t,e){let r=await zH(t,{},async()=>{let n=Ag({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,s=jH(t,a,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Mw.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function dle(t,e){return Ni(t,"POST","/v2/accounts:revokeToken",Ii(t,e))}var Rw=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qt(e.idToken,"internal-error"),Qt(typeof e.idToken<"u","internal-error"),Qt(typeof e.refreshToken<"u","internal-error");let r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Qt(e.length!==0,"internal-error");let r=EH(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){let{accessToken:n,refreshToken:a,expiresIn:i}=await cle(e,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){let{refreshToken:n,accessToken:a,expirationTime:i}=r,s=new t;return n&&(Qt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),a&&(Qt(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),i&&(Qt(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ZA("not implemented")}};function Fp(t,e){Qt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var pg=class t{constructor(e){var{uid:r,auth:n,stsTokenManager:a}=e,i=HN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ow(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let r=await fh(this,this.stsTokenManager.getToken(this.auth,e));return Qt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return GH(this,e)}reload(){return WH(this)}_assign(e){this!==e&&(Qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let r=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Qw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wi(this.auth.app))return Promise.reject(Fo(this.auth));let e=await this.getIdToken();return await fh(this,sle(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,a,i,s,o,l,u,c;let d=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(a=r.email)!==null&&a!==void 0?a:void 0,A=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,v=(s=r.photoURL)!==null&&s!==void 0?s:void 0,I=(o=r.tenantId)!==null&&o!==void 0?o:void 0,w=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=r.createdAt)!==null&&u!==void 0?u:void 0,b=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:F,isAnonymous:O,providerData:R,stsTokenManager:T}=r;Qt(S&&T,e,"internal-error");let B=Rw.fromJSON(this.name,T);Qt(typeof S=="string",e,"internal-error"),Fp(d,e.name),Fp(f,e.name),Qt(typeof F=="boolean",e,"internal-error"),Qt(typeof O=="boolean",e,"internal-error"),Fp(A,e.name),Fp(v,e.name),Fp(I,e.name),Fp(w,e.name),Fp(g,e.name),Fp(b,e.name);let k=new t({uid:S,auth:e,email:f,emailVerified:F,displayName:d,isAnonymous:O,photoURL:v,phoneNumber:A,tenantId:I,stsTokenManager:B,createdAt:g,lastLoginAt:b});return R&&Array.isArray(R)&&(k.providerData=R.map(U=>Object.assign({},U))),w&&(k._redirectEventId=w),k}static async _fromIdTokenResponse(e,r,n=!1){let a=new Rw;a.updateFromServerResponse(r);let i=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await Qw(i),i}static async _fromGetAccountInfoResponse(e,r,n){let a=r.users[0];Qt(a.localId!==void 0,"internal-error");let i=a.providerUserInfo!==void 0?$H(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!i?.length,o=new Rw;o.updateFromIdToken(n);let l=new t({uid:a.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new Ow(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!i?.length};return Object.assign(l,u),l}};var TH=new Map;function vl(t){Xc(t instanceof Function,"Expected a class definition");let e=TH.get(t);return e?(Xc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TH.set(t,e),e)}var GN=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){let r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}};GN.type="NONE";var Up=GN;function ef(t,e,r){return`firebase:${t}:${e}:${r}`}var WN=class t{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;let{config:a,name:i}=this.auth;this.fullUserKey=ef(this.userKey,a.apiKey,i),this.fullPersistenceKey=ef("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?pg._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new t(vl(Up),e,n);let a=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),i=a[0]||vl(Up),s=ef(n,e.config.apiKey,e.name),o=null;for(let u of r)try{let c=await u._get(s);if(c){let d=pg._fromJSON(e,c);u!==i&&(o=d),i=u;break}}catch{}let l=a.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new t(i,e,n):(i=l[0],o&&await i._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(s)}catch{}})),new t(i,e,n))}};function LH(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eV(e))return"Blackberry";if(tV(e))return"Webos";if(XH(e))return"Safari";if((e.includes("chrome/")||JH(e))&&!e.includes("edge/"))return"Chrome";if(bv(e))return"Android";{let r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function YH(t=gi()){return/firefox\//i.test(t)}function XH(t=gi()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JH(t=gi()){return/crios\//i.test(t)}function ZH(t=gi()){return/iemobile/i.test(t)}function bv(t=gi()){return/android/i.test(t)}function eV(t=gi()){return/blackberry/i.test(t)}function tV(t=gi()){return/webos/i.test(t)}function wv(t=gi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rV(t=gi()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Ale(t=gi()){var e;return wv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fle(){return FN()&&document.documentMode===10}function nV(t=gi()){return wv(t)||bv(t)||tV(t)||eV(t)||/windows phone/i.test(t)||ZH(t)}function GP(t,e=[]){let r;switch(t){case"Browser":r=LH(gi());break;case"Worker":r=`${LH(gi())}-${t}`;break;default:r=t}let n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ac}/${n}`}var bP=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){let n=i=>new Promise((s,o)=>{try{let l=e(i);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);let a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let r=[];try{for(let n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(let a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}};async function hle(t,e={}){return Ni(t,"GET","/v2/passwordPolicy",Ii(t,e))}var ple=6,wP=class{constructor(e){var r,n,a,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:ple,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,a,i,s,o;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(a=l.containsLowercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){let n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}};var $N=class{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YN(this),this.idTokenSubscription=new YN(this),this.beforeStateQueue=new bP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=vl(r)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await WN.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let r=await KH(this,{idToken:e}),n=await pg._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Wi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),a=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=a?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&l?.user&&(a=l.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(s){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Qw(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ele()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wi(this.app))return Promise.reject(Fo(this));let r=e?Br(e):null;return r&&Qt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wi(this.app)?Promise.reject(Fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wi(this.app)?Promise.reject(Fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await hle(this),r=new wP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){let r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await dle(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){let n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let r=e&&vl(e)||this._popupRedirectResolver;Qt(r,this,"argument-error"),this.redirectPersistenceManager=await WN.create(this,[vl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};let i=typeof r=="function"?r:r.next.bind(r),s=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qt(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof r=="function"){let l=e.addObserver(r,n,a);return()=>{s=!0,l()}}else{let l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);let n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);let a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var e;let r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&Joe(`Error while retrieving App Check token: ${r.error}`),r?.token}};function Si(t){return Br(t)}var YN=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=RN(r=>this.observer=r)}get next(){return Qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Yw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mle(t){Yw=t}function WP(t){return Yw.loadJS(t)}function gle(){return Yw.recaptchaV2Script}function yle(){return Yw.recaptchaEnterpriseScript}function vle(){return Yw.gapiScript}function aV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var ble="recaptcha-enterprise",wle="NO_RECAPTCHA",xP=class{constructor(e){this.type=ble,this.auth=Si(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{ile(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{let u=new yP(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function a(i,s,o){let l=window.grecaptcha;_H(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{s(u)}).catch(()=>{s(wle)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{n(this.auth).then(o=>{if(!r&&_H(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=yle();l.length!==0&&(l+=o),WP(l).then(()=>{a(o,i,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}};async function PH(t,e,r,n=!1){let a=new xP(t),i;try{i=await a.verify(r)}catch{i=await a.verify(r,!0)}let s=Object.assign({},e);return n?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Hw(t,e,r,n){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let i=await PH(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await PH(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(i)})}function xle(t,e){let r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(vl);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function $P(t,e,r){let n=Si(t);Qt(n._canInitEmulator,n,"emulator-config-failed"),Qt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");let a=!!r?.disableWarnings,i=iV(e),{host:s,port:o}=Cle(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${i}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||Ile()}function iV(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cle(t){let e=iV(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};let n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){let i=a[1];return{host:i,port:kH(n.substr(i.length+1))}}else{let[i,s]=n.split(":");return{host:i,port:kH(s)}}}function kH(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Ile(){function t(){let e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var tf=class{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ZA("not implemented")}_getIdTokenResponse(e){return ZA("not implemented")}_linkToIdToken(e,r){return ZA("not implemented")}_getReauthenticationResolver(e){return ZA("not implemented")}};async function sV(t,e){return Ni(t,"POST","/v1/accounts:resetPassword",Ii(t,e))}async function Nle(t,e){return Ni(t,"POST","/v1/accounts:update",e)}async function Sle(t,e){return Ni(t,"POST","/v1/accounts:signUp",e)}async function Ble(t,e){return Ni(t,"POST","/v1/accounts:update",Ii(t,e))}async function _le(t,e){return hh(t,"POST","/v1/accounts:signInWithPassword",Ii(t,e))}async function f5(t,e){return Ni(t,"POST","/v1/accounts:sendOobCode",Ii(t,e))}async function Ele(t,e){return f5(t,e)}async function Tle(t,e){return f5(t,e)}async function Lle(t,e){return f5(t,e)}async function Ple(t,e){return f5(t,e)}async function kle(t,e){return hh(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}async function Fle(t,e){return hh(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}var Vw=class t extends tf{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new t(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new t(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hw(e,r,"signInWithPassword",_le);case"emailLink":return kle(e,{email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":let n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hw(e,n,"signUpPassword",Sle);case"emailLink":return Fle(e,{idToken:r,email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Ah(t,e){return hh(t,"POST","/v1/accounts:signInWithIdp",Ii(t,e))}var Rle="http://localhost",Md=class t extends tf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let r=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Vs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=r,i=HN(r,["providerId","signInMethod"]);if(!n||!a)return null;let s=new t(n,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){let r=this.buildRequest();return Ah(e,r)}_linkToIdToken(e,r){let n=this.buildRequest();return n.idToken=r,Ah(e,n)}_getReauthenticationResolver(e){let r=this.buildRequest();return r.autoCreate=!1,Ah(e,r)}buildRequest(){let e={requestUri:Rle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ag(r)}return e}};async function Ule(t,e){return Ni(t,"POST","/v1/accounts:sendVerificationCode",Ii(t,e))}async function Dle(t,e){return hh(t,"POST","/v1/accounts:signInWithPhoneNumber",Ii(t,e))}async function Mle(t,e){let r=await hh(t,"POST","/v1/accounts:signInWithPhoneNumber",Ii(t,e));if(r.temporaryProof)throw kw(t,"account-exists-with-different-credential",r);return r}var Ole={USER_NOT_FOUND:"user-not-found"};async function Qle(t,e){let r=Object.assign(Object.assign({},e),{operation:"REAUTH"});return hh(t,"POST","/v1/accounts:signInWithPhoneNumber",Ii(t,r),Ole)}var pv=class t extends tf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,r){return new t({verificationId:e,verificationCode:r})}static _fromTokenResponse(e,r){return new t({phoneNumber:e,temporaryProof:r})}_getIdTokenResponse(e){return Dle(e,this._makeVerificationRequest())}_linkToIdToken(e,r){return Mle(e,Object.assign({idToken:r},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Qle(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:r,verificationId:n,verificationCode:a}=this.params;return e&&r?{temporaryProof:e,phoneNumber:r}:{sessionInfo:n,code:a}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:r,verificationCode:n,phoneNumber:a,temporaryProof:i}=e;return!n&&!r&&!a&&!i?null:new t({verificationId:r,verificationCode:n,phoneNumber:a,temporaryProof:i})}};function Hle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vle(t){let e=Pp(cv(t)).link,r=e?Pp(cv(e)).deep_link_id:null,n=Pp(cv(t)).deep_link_id;return(n?Pp(cv(n)).link:null)||n||r||e||t}var qw=class t{constructor(e){var r,n,a,i,s,o;let l=Pp(cv(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=Hle((a=l.mode)!==null&&a!==void 0?a:null);Qt(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){let r=Vle(e);try{return new t(r)}catch{return null}}};var rf=class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(e,r){return Vw._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){let n=qw.parseLink(r);return Qt(n,"argument-error"),Vw._fromEmailAndCode(e,n.code,n.tenantId)}};rf.PROVIDER_ID="password";rf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Od=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Dp=class extends Od{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},mv=class t extends Dp{static credentialFromJSON(e){let r=typeof e=="string"?JSON.parse(e):e;return Qt("providerId"in r&&"signInMethod"in r,"argument-error"),Md._fromParams(r)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Qt(e.idToken||e.accessToken,"argument-error"),Md._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:r,oauthAccessToken:n,oauthTokenSecret:a,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!a&&!r&&!i||!o)return null;try{return new t(o)._credential({idToken:r,accessToken:n,nonce:s,pendingToken:i})}catch{return null}}};var Mp=class t extends Dp{constructor(){super("facebook.com")}static credential(e){return Md._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};Mp.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mp.PROVIDER_ID="facebook.com";var Op=class t extends Dp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Md._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return t.credential(r,n)}catch{return null}}};Op.GOOGLE_SIGN_IN_METHOD="google.com";Op.PROVIDER_ID="google.com";var Qp=class t extends Dp{constructor(){super("github.com")}static credential(e){return Md._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch{return null}}};Qp.GITHUB_SIGN_IN_METHOD="github.com";Qp.PROVIDER_ID="github.com";var qle="http://localhost",mg=class t extends tf{constructor(e,r){super(e,e),this.pendingToken=r}_getIdTokenResponse(e){let r=this.buildRequest();return Ah(e,r)}_linkToIdToken(e,r){let n=this.buildRequest();return n.idToken=r,Ah(e,n)}_getReauthenticationResolver(e){let r=this.buildRequest();return r.autoCreate=!1,Ah(e,r)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,pendingToken:i}=r;return!n||!a||!i||n!==a?null:new t(n,i)}static _create(e,r){return new t(e,r)}buildRequest(){return{requestUri:qle,returnSecureToken:!0,pendingToken:this.pendingToken}}};var zle="saml.",zw=class t extends Od{constructor(e){Qt(e.startsWith(zle),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let r=mg.fromJSON(e);return Qt(r,"argument-error"),r}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:r,providerId:n}=e;if(!r||!n)return null;try{return mg._create(n,r)}catch{return null}}};var Hp=class t extends Dp{constructor(){super("twitter.com")}static credential(e,r){return Md._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return t.credential(r,n)}catch{return null}}};Hp.TWITTER_SIGN_IN_METHOD="twitter.com";Hp.PROVIDER_ID="twitter.com";async function oV(t,e){return hh(t,"POST","/v1/accounts:signUp",Ii(t,e))}var Qd=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){let i=await pg._fromIdTokenResponse(e,n,a),s=FH(n);return new t({user:i,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);let a=FH(n);return new t({user:e,providerId:a,_tokenResponse:n,operationType:r})}};function FH(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function YP(t){var e;if(Wi(t.app))return Promise.reject(Fo(t));let r=Si(t);if(await r._initializationPromise,!((e=r.currentUser)===null||e===void 0)&&e.isAnonymous)return new Qd({user:r.currentUser,providerId:null,operationType:"signIn"});let n=await oV(r,{returnSecureToken:!0}),a=await Qd._fromIdTokenResponse(r,"signIn",n,!0);return await r._updateCurrentUser(a.user),a}var CP=class t extends ii{constructor(e,r,n,a){var i;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new t(e,r,n,a)}};function lV(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?CP._fromErrorAndOperation(t,i,e,n):i})}function uV(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function XP(t,e){let r=Br(t);await h5(!0,r,e);let{providerUserInfo:n}=await ole(r.auth,{idToken:await r.getIdToken(),deleteProvider:[e]}),a=uV(n||[]);return r.providerData=r.providerData.filter(i=>a.has(i.providerId)),a.has("phone")||(r.phoneNumber=null),await r.auth._persistUserIfCurrent(r),r}async function JP(t,e,r=!1){let n=await fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Qd._forOperation(t,"link",n)}async function h5(t,e,r){await Qw(e);let n=uV(e.providerData),a=t===!1?"provider-already-linked":"no-such-provider";Qt(n.has(r)===t,e.auth,a)}async function cV(t,e,r=!1){let{auth:n}=t;if(Wi(n.app))return Promise.reject(Fo(n));let a="reauthenticate";try{let i=await fh(t,lV(n,a,e,t),r);Qt(i.idToken,n,"internal-error");let s=A5(i.idToken);Qt(s,n,"internal-error");let{sub:o}=s;return Qt(t.uid===o,n,"user-mismatch"),Qd._forOperation(t,a,i)}catch(i){throw i?.code==="auth/user-not-found"&&Vs(n,"user-mismatch"),i}}async function dV(t,e,r=!1){if(Wi(t.app))return Promise.reject(Fo(t));let n="signIn",a=await lV(t,n,e),i=await Qd._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(i.user),i}async function xv(t,e){return dV(Si(t),e)}async function p5(t,e){let r=Br(t);return await h5(!1,r,e.providerId),JP(r,e)}async function m5(t,e){return cV(Br(t),e)}async function jle(t,e){return hh(t,"POST","/v1/accounts:signInWithCustomToken",Ii(t,e))}async function ZP(t,e){if(Wi(t.app))return Promise.reject(Fo(t));let r=Si(t),n=await jle(r,{token:e,returnSecureToken:!0}),a=await Qd._fromIdTokenResponse(r,"signIn",n);return await r._updateCurrentUser(a.user),a}var gg=class{constructor(e,r){this.factorId=e,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(e,r){return"phoneInfo"in r?IP._fromServerResponse(e,r):"totpInfo"in r?NP._fromServerResponse(e,r):Vs(e,"internal-error")}},IP=class t extends gg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,r){return new t(r)}},NP=class t extends gg{constructor(e){super("totp",e)}static _fromServerResponse(e,r){return new t(r)}};function g5(t,e,r){var n;Qt(((n=r.url)===null||n===void 0?void 0:n.length)>0,t,"invalid-continue-uri"),Qt(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Qt(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Qt(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}async function ek(t){let e=Si(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tk(t,e,r){let n=Si(t),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&g5(n,a,r),await Hw(n,a,"getOobCode",Tle)}async function rk(t,e,r){await sV(Br(t),{oobCode:e,newPassword:r}).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&ek(t),n})}async function nk(t,e){await Ble(Br(t),{oobCode:e})}async function y5(t,e){let r=Br(t),n=await sV(r,{oobCode:e}),a=n.requestType;switch(Qt(a,r,"internal-error"),a){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Qt(n.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Qt(n.mfaInfo,r,"internal-error");default:Qt(n.email,r,"internal-error")}let i=null;return n.mfaInfo&&(i=gg._fromServerResponse(Si(r),n.mfaInfo)),{data:{email:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.newEmail:n.email)||null,previousEmail:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.email:n.newEmail)||null,multiFactorInfo:i},operation:a}}async function ak(t,e){let{data:r}=await y5(Br(t),e);return r.email}async function ik(t,e,r){if(Wi(t.app))return Promise.reject(Fo(t));let n=Si(t),s=await Hw(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oV).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ek(t),l}),o=await Qd._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function sk(t,e,r){return Wi(t.app)?Promise.reject(Fo(t)):xv(Br(t),rf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&ek(t),n})}async function ok(t,e,r){let n=Si(t),a={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function i(s,o){Qt(o.handleCodeInApp,n,"argument-error"),o&&g5(n,s,o)}i(a,r),await Hw(n,a,"getOobCode",Lle)}function lk(t,e){let r=qw.parseLink(e);return r?.operation==="EMAIL_SIGNIN"}async function uk(t,e,r){if(Wi(t.app))return Promise.reject(Fo(t));let n=Br(t),a=rf.credentialWithLink(e,r||Dw());return Qt(a._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),xv(n,a)}async function Kle(t,e){return Ni(t,"POST","/v1/accounts:createAuthUri",Ii(t,e))}async function ck(t,e){let r=jP()?Dw():"http://localhost",n={identifier:e,continueUri:r},{signinMethods:a}=await Kle(Br(t),n);return a||[]}async function dk(t,e){let r=Br(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&g5(r.auth,a,e);let{email:i}=await Ele(r.auth,a);i!==t.email&&await t.reload()}async function Ak(t,e,r){let n=Br(t),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};r&&g5(n.auth,i,r);let{email:s}=await Ple(n.auth,i);s!==t.email&&await t.reload()}async function Gle(t,e){return Ni(t,"POST","/v1/accounts:update",e)}async function fk(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;let n=Br(t),i={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},s=await fh(n,Gle(n.auth,i));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;let o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function hk(t,e){let r=Br(t);return Wi(r.auth.app)?Promise.reject(Fo(r.auth)):AV(r,e,null)}function pk(t,e){return AV(Br(t),null,e)}async function AV(t,e,r){let{auth:n}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),r&&(i.password=r);let s=await fh(t,Nle(n,i));await t._updateTokensIfNecessary(s,!0)}function Wle(t){var e,r;if(!t)return null;let{providerId:n}=t,a=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},i=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!n&&t?.idToken){let s=(r=(e=A5(t.idToken))===null||e===void 0?void 0:e.firebase)===null||r===void 0?void 0:r.sign_in_provider;if(s){let o=s!=="anonymous"&&s!=="custom"?s:null;return new Rp(i,o)}}if(!n)return null;switch(n){case"facebook.com":return new SP(i,a);case"github.com":return new BP(i,a);case"google.com":return new _P(i,a);case"twitter.com":return new EP(i,a,t.screenName||null);case"custom":case"anonymous":return new Rp(i,null);default:return new Rp(i,n,a)}}var Rp=class{constructor(e,r,n={}){this.isNewUser=e,this.providerId=r,this.profile=n}},XN=class extends Rp{constructor(e,r,n,a){super(e,r,n),this.username=a}},SP=class extends Rp{constructor(e,r){super(e,"facebook.com",r)}},BP=class extends XN{constructor(e,r){super(e,"github.com",r,typeof r?.login=="string"?r?.login:null)}},_P=class extends Rp{constructor(e,r){super(e,"google.com",r)}},EP=class extends XN{constructor(e,r,n){super(e,"twitter.com",r,n)}};function mk(t){let{user:e,_tokenResponse:r}=t;return e.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:Wle(r)}var JN=class t{constructor(e,r,n){this.type=e,this.credential=r,this.user=n}static _fromIdtoken(e,r){return new t("enroll",e,r)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var r,n;if(e?.multiFactorSession){if(!((r=e.multiFactorSession)===null||r===void 0)&&r.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((n=e.multiFactorSession)===null||n===void 0)&&n.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var TP=class t{constructor(e,r,n){this.session=e,this.hints=r,this.signInResolver=n}static _fromError(e,r){let n=Si(e),a=r.customData._serverResponse,i=(a.mfaInfo||[]).map(o=>gg._fromServerResponse(n,o));Qt(a.mfaPendingCredential,n,"internal-error");let s=JN._fromMfaPendingCredential(a.mfaPendingCredential);return new t(s,i,async o=>{let l=await o._process(n,s);delete a.mfaInfo,delete a.mfaPendingCredential;let u=Object.assign(Object.assign({},a),{idToken:l.idToken,refreshToken:l.refreshToken});switch(r.operationType){case"signIn":let c=await Qd._fromIdTokenResponse(n,r.operationType,u);return await n._updateCurrentUser(c.user),c;case"reauthenticate":return Qt(r.user,n,"internal-error"),Qd._forOperation(r.user,r.operationType,u);default:Vs(n,"internal-error")}})}async resolveSignIn(e){let r=e;return this.signInResolver(r)}};function gk(t,e){var r;let n=Br(t),a=e;return Qt(e.customData.operationType,n,"argument-error"),Qt((r=a.customData._serverResponse)===null||r===void 0?void 0:r.mfaPendingCredential,n,"argument-error"),TP._fromError(n,a)}function $le(t,e){return Ni(t,"POST","/v2/accounts/mfaEnrollment:start",Ii(t,e))}function Yle(t,e){return Ni(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ii(t,e))}function Xle(t,e){return Ni(t,"POST","/v2/accounts/mfaEnrollment:start",Ii(t,e))}function Jle(t,e){return Ni(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ii(t,e))}function Zle(t,e){return Ni(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ii(t,e))}var LP=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(r=>{r.mfaInfo&&(this.enrolledFactors=r.mfaInfo.map(n=>gg._fromServerResponse(e.auth,n)))})}static _fromUser(e){return new t(e)}async getSession(){return JN._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,r){let n=e,a=await this.getSession(),i=await fh(this.user,n._process(this.user.auth,a,r));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){let r=typeof e=="string"?e:e.uid,n=await this.user.getIdToken();try{let a=await fh(this.user,Zle(this.user.auth,{idToken:n,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:i})=>i!==r),await this.user._updateTokensIfNecessary(a),await this.user.reload()}catch(a){throw a}}},hP=new WeakMap;function yk(t){let e=Br(t);return hP.has(e)||hP.set(e,LP._fromUser(e)),hP.get(e)}var ZN="__sak";var e5=class{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(ZN,"1"),this.storage.removeItem(ZN),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){let r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var eue=1e3,tue=10,t5=class extends e5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let r of Object.keys(this.listeners)){let n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}let n=e.key;r?this.detachListener():this.stopPolling();let a=()=>{let s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);fle()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,tue):a()}notifyListeners(e,r){this.localCache[e]=r;let n=this.listeners[e];if(n)for(let a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},eue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){let r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}};t5.type="LOCAL";var Cv=t5;var r5=class extends e5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}};r5.type="SESSION";var nf=r5;function rue(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}var n5=class t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;let n=new t(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let r=e,{eventId:n,eventType:a,data:i}=r.data,s=this.handlersMap[a];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});let o=Array.from(s).map(async u=>u(r.origin,i)),l=await rue(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};n5.receivers=[];function bg(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}var PP=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){let a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,l)=>{let u=bg("",20);a.port1.start();let c=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:a,onMessage(d){let f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(f.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Qs(){return window}function nue(t){Qs().location.href=t}function vk(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function aue(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iue(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sue(){return vk()?self:null}var fV="firebaseLocalStorageDb",oue=1,a5="firebaseLocalStorage",hV="fbase_key",yg=class{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}};function v5(t,e){return t.transaction([a5],e?"readwrite":"readonly").objectStore(a5)}function lue(){let t=indexedDB.deleteDatabase(fV);return new yg(t).toPromise()}function kP(){let t=indexedDB.open(fV,oue);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{let n=t.result;try{n.createObjectStore(a5,{keyPath:hV})}catch(a){r(a)}}),t.addEventListener("success",async()=>{let n=t.result;n.objectStoreNames.contains(a5)?e(n):(n.close(),await lue(),e(await kP()))})})}async function RH(t,e,r){let n=v5(t,!0).put({[hV]:e,value:r});return new yg(n).toPromise()}async function uue(t,e){let r=v5(t,!1).get(e),n=await new yg(r).toPromise();return n===void 0?null:n.value}function UH(t,e){let r=v5(t,!0).delete(e);return new yg(r).toPromise()}var cue=800,due=3,i5=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kP(),this.db)}async _withRetries(e){let r=0;for(;;)try{let n=await this._openDb();return await e(n)}catch(n){if(r++>due)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=n5._getInstance(sue()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await aue(),!this.activeServiceWorker)return;this.sender=new PP(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iue()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await kP();return await RH(e,ZN,"1"),await UH(e,ZN),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>RH(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){let r=await this._withRetries(n=>uue(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>UH(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(a=>{let i=v5(a,!1).getAll();return new yg(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let r=[],n=new Set;if(e.length!==0)for(let{fbase_key:a,value:i}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(let a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;let n=this.listeners[e];if(n)for(let a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};i5.type="LOCAL";var wg=i5;function Aue(t,e){return Ni(t,"POST","/v2/accounts/mfaSignIn:start",Ii(t,e))}function fue(t,e){return Ni(t,"POST","/v2/accounts/mfaSignIn:finalize",Ii(t,e))}function hue(t,e){return Ni(t,"POST","/v2/accounts/mfaSignIn:finalize",Ii(t,e))}var pue=500,mue=6e4,VN=1e12,FP=class{constructor(e){this.auth=e,this.counter=VN,this._widgets=new Map}render(e,r){let n=this.counter;return this._widgets.set(n,new RP(e,this.auth.name,r||{})),this.counter++,n}reset(e){var r;let n=e||VN;(r=this._widgets.get(n))===null||r===void 0||r.delete(),this._widgets.delete(n)}getResponse(e){var r;let n=e||VN;return((r=this._widgets.get(n))===null||r===void 0?void 0:r.getResponse())||""}async execute(e){var r;let n=e||VN;return(r=this._widgets.get(n))===null||r===void 0||r.execute(),""}},RP=class{constructor(e,r,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let a=typeof e=="string"?document.getElementById(e):e;Qt(a,"argument-error",{appName:r}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=gue(50);let{callback:e,"expired-callback":r}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},mue)},pue))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function gue(t){let e=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<t;n++)e.push(r.charAt(Math.floor(Math.random()*r.length)));return e.join("")}var pP=aV("rcb"),yue=new hg(3e4,6e4),UP=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Qs().grecaptcha)===null||e===void 0)&&e.render)}load(e,r=""){return Qt(vue(r),e,"argument-error"),this.shouldResolveImmediately(r)&&BH(Qs().grecaptcha)?Promise.resolve(Qs().grecaptcha):new Promise((n,a)=>{let i=Qs().setTimeout(()=>{a(Hs(e,"network-request-failed"))},yue.get());Qs()[pP]=()=>{Qs().clearTimeout(i),delete Qs()[pP];let o=Qs().grecaptcha;if(!o||!BH(o)){a(Hs(e,"internal-error"));return}let l=o.render;o.render=(u,c)=>{let d=l(u,c);return this.counter++,d},this.hostLanguage=r,n(o)};let s=`${gle()}?${Ag({onload:pP,render:"explicit",hl:r})}`;WP(s).catch(()=>{clearTimeout(i),a(Hs(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var r;return!!(!((r=Qs().grecaptcha)===null||r===void 0)&&r.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function vue(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var DP=class{async load(e){return new FP(e)}clearedOneInstance(){}};var pV="recaptcha",bue={theme:"light",type:"image"},jw=class{constructor(e,r,n=Object.assign({},bue)){this.parameters=n,this.type=pV,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Si(e),this.isInvisible=this.parameters.size==="invisible",Qt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let a=typeof r=="string"?document.getElementById(r):r;Qt(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new DP:new UP,this.validateStartingState()}async verify(){this.assertNotDestroyed();let e=await this.render(),r=this.getAssertedRecaptcha(),n=r.getResponse(e);return n||new Promise(a=>{let i=s=>{s&&(this.tokenChangeListeners.delete(i),a(s))};this.tokenChangeListeners.add(i),this.isInvisible&&r.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Qt(!this.parameters.sitekey,this.auth,"argument-error"),Qt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Qt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return r=>{if(this.tokenChangeListeners.forEach(n=>n(r)),typeof e=="function")e(r);else if(typeof e=="string"){let n=Qs()[e];typeof n=="function"&&n(r)}}}assertNotDestroyed(){Qt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let r=document.createElement("div");e.appendChild(r),e=r}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Qt(jP()&&!vk(),this.auth,"internal-error"),await wue(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=await ale(this.auth);Qt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Qt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function wue(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var Kw=class{constructor(e,r){this.verificationId=e,this.onConfirmation=r}confirm(e){let r=pv._fromVerification(this.verificationId,e);return this.onConfirmation(r)}};async function bk(t,e,r){if(Wi(t.app))return Promise.reject(Fo(t));let n=Si(t),a=await b5(n,e,Br(r));return new Kw(a,i=>xv(n,i))}async function wk(t,e,r){let n=Br(t);await h5(!1,n,"phone");let a=await b5(n.auth,e,Br(r));return new Kw(a,i=>p5(n,i))}async function xk(t,e,r){let n=Br(t);if(Wi(n.auth.app))return Promise.reject(Fo(n.auth));let a=await b5(n.auth,e,Br(r));return new Kw(a,i=>m5(n,i))}async function b5(t,e,r){var n;let a=await r.verify();try{Qt(typeof a=="string",t,"argument-error"),Qt(r.type===pV,t,"argument-error");let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let s=i.session;if("phoneNumber"in i)return Qt(s.type==="enroll",t,"internal-error"),(await $le(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:a}})).phoneSessionInfo.sessionInfo;{Qt(s.type==="signin",t,"internal-error");let o=((n=i.multiFactorHint)===null||n===void 0?void 0:n.uid)||i.multiFactorUid;return Qt(o,t,"missing-multi-factor-info"),(await Aue(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{recaptchaToken:a}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:s}=await Ule(t,{phoneNumber:i.phoneNumber,recaptchaToken:a});return s}}finally{r._reset()}}async function Ck(t,e){let r=Br(t);if(Wi(r.auth.app))return Promise.reject(Fo(r.auth));await JP(r,e)}var Hd=class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=Si(e)}verifyPhoneNumber(e,r){return b5(this.auth,e,Br(r))}static credential(e,r){return pv._fromVerification(e,r)}static credentialFromResult(e){let r=e;return t.credentialFromTaggedObject(r)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:r,temporaryProof:n}=e;return r&&n?pv._fromTokenResponse(r,n):null}};Hd.PROVIDER_ID="phone";Hd.PHONE_SIGN_IN_METHOD="phone";function xg(t,e){return e?vl(e):(Qt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Gw=class extends tf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ah(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ah(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ah(e,this._buildIdpRequest())}_buildIdpRequest(e){let r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}};function xue(t){return dV(t.auth,new Gw(t),t.bypassAuthState)}function Cue(t){let{auth:e,user:r}=t;return Qt(r,e,"internal-error"),cV(r,new Gw(t),t.bypassAuthState)}async function Iue(t){let{auth:e,user:r}=t;return Qt(r,e,"internal-error"),JP(r,new Gw(t),t.bypassAuthState)}var s5=class{constructor(e,r,n,a,i=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){let{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xue;case"linkViaPopup":case"linkViaRedirect":return Iue;case"reauthViaPopup":case"reauthViaRedirect":return Cue;default:Vs(this.auth,"internal-error")}}resolve(e){Xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Nue=new hg(2e3,1e4);async function Ik(t,e,r){if(Wi(t.app))return Promise.reject(Hs(t,"operation-not-supported-in-this-environment"));let n=Si(t);vv(t,e,Od);let a=xg(n,r);return new gv(n,"signInViaPopup",e,a).executeNotNull()}async function Nk(t,e,r){let n=Br(t);if(Wi(n.auth.app))return Promise.reject(Hs(n.auth,"operation-not-supported-in-this-environment"));vv(n.auth,e,Od);let a=xg(n.auth,r);return new gv(n.auth,"reauthViaPopup",e,a,n).executeNotNull()}async function Sk(t,e,r){let n=Br(t);vv(n.auth,e,Od);let a=xg(n.auth,r);return new gv(n.auth,"linkViaPopup",e,a,n).executeNotNull()}var gv=class t extends s5{constructor(e,r,n,a,i){super(e,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return Qt(e,this.auth,"internal-error"),e}async onExecution(){Xc(this.filter.length===1,"Popup operations only handle one event");let e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nue.get())};e()}};gv.currentPopupAction=null;var Sue="pendingRedirect",Uw=new Map,MP=class extends s5{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Uw.get(this.auth._key());if(!e){try{let n=await Bue(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Uw.set(this.auth._key(),e)}return this.bypassAuthState||Uw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function Bue(t,e){let r=yV(e),n=gV(t);if(!await n._isAvailable())return!1;let a=await n._get(r)==="true";return await n._remove(r),a}async function Bk(t,e){return gV(t)._set(yV(e),"true")}function mV(){Uw.clear()}function Iv(t,e){Uw.set(t._key(),e)}function gV(t){return vl(t._redirectPersistence)}function yV(t){return ef(Sue,t.config.apiKey,t.name)}function _k(t,e,r){return _ue(t,e,r)}async function _ue(t,e,r){if(Wi(t.app))return Promise.reject(Fo(t));let n=Si(t);vv(t,e,Od),await n._initializationPromise;let a=xg(n,r);return await Bk(a,n),a._openRedirect(n,e,"signInViaRedirect")}function Ek(t,e,r){return Eue(t,e,r)}async function Eue(t,e,r){let n=Br(t);if(vv(n.auth,e,Od),Wi(n.auth.app))return Promise.reject(Fo(n.auth));await n.auth._initializationPromise;let a=xg(n.auth,r);await Bk(a,n.auth);let i=await vV(n);return a._openRedirect(n.auth,e,"reauthViaRedirect",i)}function Tk(t,e,r){return Tue(t,e,r)}async function Tue(t,e,r){let n=Br(t);vv(n.auth,e,Od),await n.auth._initializationPromise;let a=xg(n.auth,r);await h5(!1,n,e.providerId),await Bk(a,n.auth);let i=await vV(n);return a._openRedirect(n.auth,e,"linkViaRedirect",i)}async function Lk(t,e){return await Si(t)._initializationPromise,Cg(t,e,!1)}async function Cg(t,e,r=!1){if(Wi(t.app))return Promise.reject(Fo(t));let n=Si(t),a=xg(n,e),s=await new MP(n,a,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}async function vV(t){let e=bg(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}var Lue=600*1e3,Ww=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Pue(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!bV(e)){let a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Hs(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){let n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lue&&this.cachedEventUids.clear(),this.cachedEventUids.has(DH(e))}saveEventToCache(e){this.cachedEventUids.add(DH(e)),this.lastProcessedEventTime=Date.now()}};function DH(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bV({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Pue(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bV(t);default:return!1}}async function Pk(t,e={}){return Ni(t,"GET","/v1/projects",e)}var kue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fue=/^https?/;async function Rue(t){if(t.config.emulator)return;let{authorizedDomains:e}=await Pk(t);for(let r of e)try{if(Uue(r))return}catch{}Vs(t,"unauthorized-domain")}function Uue(t){let e=Dw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!Fue.test(r))return!1;if(kue.test(t))return n===t;let a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}var Due=new hg(3e4,6e4);function MH(){let t=Qs().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Mue(t){return new Promise((e,r)=>{var n,a,i;function s(){MH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MH(),r(Hs(t,"network-request-failed"))},timeout:Due.get()})}if(!((a=(n=Qs().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((i=Qs().gapi)===null||i===void 0)&&i.load)s();else{let o=aV("iframefcb");return Qs()[o]=()=>{gapi.load?s():r(Hs(t,"network-request-failed"))},WP(`${vle()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw jN=null,e})}var jN=null;function Oue(t){return jN=jN||Mue(t),jN}var Que=new hg(5e3,15e3),Hue="__/auth/iframe",Vue="emulator/auth/iframe",que={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jue(t){let e=t.config;Qt(e.authDomain,t,"auth-domain-config-required");let r=e.emulator?KP(e,Vue):`https://${t.config.authDomain}/${Hue}`,n={apiKey:e.apiKey,appName:t.name,v:Ac},a=zue.get(t.config.apiHost);a&&(n.eid=a);let i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Ag(n).slice(1)}`}async function Kue(t){let e=await Oue(t),r=Qs().gapi;return Qt(r,t,"internal-error"),e.open({where:document.body,url:jue(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:que,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});let s=Hs(t,"network-request-failed"),o=Qs().setTimeout(()=>{i(s)},Que.get());function l(){Qs().clearTimeout(o),a(n)}n.ping(l).then(l,()=>{i(s)})}))}var Gue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wue=500,$ue=600,Yue="_blank",Xue="http://localhost",$w=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Jue(t,e,r,n=Wue,a=$ue){let i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),o="",l=Object.assign(Object.assign({},Gue),{width:n.toString(),height:a.toString(),top:i,left:s}),u=gi().toLowerCase();r&&(o=JH(u)?Yue:r),YH(u)&&(e=e||Xue,l.scrollbars="yes");let c=Object.entries(l).reduce((f,[A,v])=>`${f}${A}=${v},`,"");if(Ale(u)&&o!=="_self")return Zue(e||"",o),new $w(null);let d=window.open(e||"",o,c);Qt(d,t,"popup-blocked");try{d.focus()}catch{}return new $w(d)}function Zue(t,e){let r=document.createElement("a");r.href=t,r.target=e;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}var ece="__/auth/handler",tce="emulator/auth/handler",rce=encodeURIComponent("fac");async function o5(t,e,r,n,a,i){Qt(t.config.authDomain,t,"auth-domain-config-required"),Qt(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ac,eventId:a};if(e instanceof Od){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",iH(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[c,d]of Object.entries(i||{}))s[c]=d}if(e instanceof Dp){let c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);let o=s;for(let c of Object.keys(o))o[c]===void 0&&delete o[c];let l=await t._getAppCheckToken(),u=l?`#${rce}=${encodeURIComponent(l)}`:"";return`${nce(t)}?${Ag(o).slice(1)}${u}`}function nce({config:t}){return t.emulator?KP(t,tce):`https://${t.authDomain}/${ece}`}var mP="webStorageSupport",OP=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nf,this._completeRedirectFn=Cg,this._overrideRedirectResult=Iv}async _openPopup(e,r,n,a){var i;Xc((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");let s=await o5(e,r,n,Dw(),a);return Jue(e,s,bg())}async _openRedirect(e,r,n,a){await this._originValidation(e);let i=await o5(e,r,n,Dw(),a);return nue(i),new Promise(()=>{})}_initialize(e){let r=e._key();if(this.eventManagers[r]){let{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(Xc(i,"If manager is not set, promise should be"),i)}let n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){let r=await Kue(e),n=new Ww(e);return r.register("authEvent",a=>(Qt(a?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(mP,{type:mP},a=>{var i;let s=(i=a?.[0])===null||i===void 0?void 0:i[mP];s!==void 0&&r(!!s),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Rue(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return nV()||XH()||wv()}},kk=OP,l5=class{constructor(e){this.factorId=e}_process(e,r,n){switch(r.type){case"enroll":return this._finalizeEnroll(e,r.credential,n);case"signin":return this._finalizeSignIn(e,r.credential);default:return ZA("unexpected MultiFactorSessionType")}}},QP=class t extends l5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,r,n){return Yle(e,{idToken:r,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,r){return fue(e,{mfaPendingCredential:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},yv=class{constructor(){}static assertion(e){return QP._fromCredential(e)}};yv.FACTOR_ID="phone";var u5=class{static assertionForEnrollment(e,r){return c5._fromSecret(e,r)}static assertionForSignIn(e,r){return c5._fromEnrollmentId(e,r)}static async generateSecret(e){var r;let n=e;Qt(typeof((r=n.user)===null||r===void 0?void 0:r.auth)<"u","internal-error");let a=await Xle(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return d5._fromStartTotpMfaEnrollmentResponse(a,n.user.auth)}};u5.FACTOR_ID="totp";var c5=class t extends l5{constructor(e,r,n){super("totp"),this.otp=e,this.enrollmentId=r,this.secret=n}static _fromSecret(e,r){return new t(r,void 0,e)}static _fromEnrollmentId(e,r){return new t(r,e)}async _finalizeEnroll(e,r,n){return Qt(typeof this.secret<"u",e,"argument-error"),Jle(e,{idToken:r,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,r){Qt(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");let n={verificationCode:this.otp};return hue(e,{mfaPendingCredential:r,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},d5=class t{constructor(e,r,n,a,i,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=r,this.codeLength=n,this.codeIntervalSeconds=a,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,r){return new t(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,r)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,r){var n;let a=!1;return(qN(e)||qN(r))&&(a=!0),a&&(qN(e)&&(e=((n=this.auth.currentUser)===null||n===void 0?void 0:n.email)||"unknownuser"),qN(r)&&(r=this.auth.name)),`otpauth://totp/${r}:${e}?secret=${this.secretKey}&issuer=${r}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function qN(t){return typeof t>"u"||t?.length===0}var OH="@firebase/auth",QH="1.7.9";var HP=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ace(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ice(t){Yl(new yi("auth",(e,{options:r})=>{let n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Qt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GP(t)},u=new $N(n,a,i,l);return xle(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Yl(new yi("auth-internal",e=>{let r=Si(e.getProvider("auth").getImmediate());return(n=>new HP(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(OH,QH,ace(t)),ws(OH,QH,"esm2017")}var sce=300,eBe=eH("authIdTokenMaxAge")||sce;function oce(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mle({loadJS(t){return new Promise((e,r)=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{let i=Hs("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",oce().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ice("Browser");function Ig(){return window}var lce=2e3;async function uce(t,e,r){var n;let{BuildInfo:a}=Ig();Xc(e.sessionId,"AuthEvent did not contain a session ID");let i=await hce(e.sessionId),s={};return wv()?s.ibi=a.packageName:bv()?s.apn=a.packageName:Vs(t,"operation-not-supported-in-this-environment"),a.displayName&&(s.appDisplayName=a.displayName),s.sessionId=i,o5(t,r,e.type,void 0,(n=e.eventId)!==null&&n!==void 0?n:void 0,s)}async function cce(t){let{BuildInfo:e}=Ig(),r={};wv()?r.iosBundleId=e.packageName:bv()?r.androidPackageName=e.packageName:Vs(t,"operation-not-supported-in-this-environment"),await Pk(t,r)}function dce(t){let{cordova:e}=Ig();return new Promise(r=>{e.plugins.browsertab.isAvailable(n=>{let a=null;n?e.plugins.browsertab.openUrl(t):a=e.InAppBrowser.open(t,rV()?"_blank":"_system","location=yes"),r(a)})})}async function Ace(t,e,r){let{cordova:n}=Ig(),a=()=>{};try{await new Promise((i,s)=>{let o=null;function l(){var d;i();let f=(d=n.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof f=="function"&&f(),typeof r?.close=="function"&&r.close()}function u(){o||(o=window.setTimeout(()=>{s(Hs(t,"redirect-cancelled-by-user"))},lce))}function c(){document?.visibilityState==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),bv()&&document.addEventListener("visibilitychange",c,!1),a=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),o&&window.clearTimeout(o)}})}finally{a()}}function fce(t){var e,r,n,a,i,s,o,l,u,c;let d=Ig();Qt(typeof((e=d?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Qt(typeof((r=d?.BuildInfo)===null||r===void 0?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Qt(typeof((i=(a=(n=d?.cordova)===null||n===void 0?void 0:n.plugins)===null||a===void 0?void 0:a.browsertab)===null||i===void 0?void 0:i.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qt(typeof((l=(o=(s=d?.cordova)===null||s===void 0?void 0:s.plugins)===null||o===void 0?void 0:o.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qt(typeof((c=(u=d?.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function hce(t){let e=pce(t),r=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")}function pce(t){if(Xc(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}var mce=20,Fk=class extends Ww{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(r=>r(e)),super.onEvent(e)}async initialized(){await this.initPromise}};function gce(t,e,r=null){return{type:e,eventId:r,urlResponse:null,sessionId:bce(),postBody:null,tenantId:t.tenantId,error:Hs(t,"no-auth-event")}}function yce(t,e){return Rk()._set(Uk(t),e)}async function wV(t){let e=await Rk()._get(Uk(t));return e&&await Rk()._remove(Uk(t)),e}function vce(t,e){var r,n;let a=xce(e);if(a.includes("/__/auth/callback")){let i=w5(a),s=i.firebaseError?wce(decodeURIComponent(i.firebaseError)):null,o=(n=(r=s?.code)===null||r===void 0?void 0:r.split("auth/"))===null||n===void 0?void 0:n[1],l=o?Hs(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:a,postBody:null}}return null}function bce(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<mce;r++){let n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function Rk(){return vl(Cv)}function Uk(t){return ef("authEvent",t.config.apiKey,t.name)}function wce(t){try{return JSON.parse(t)}catch{return null}}function xce(t){let e=w5(t),r=e.link?decodeURIComponent(e.link):void 0,n=w5(r).link,a=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return w5(a).link||a||n||r||t}function w5(t){if(!t?.includes("?"))return{};let[e,...r]=t.split("?");return Pp(r.join("?"))}var Cce=500,Dk=class{constructor(){this._redirectPersistence=nf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cg,this._overrideRedirectResult=Iv}async _initialize(e){let r=e._key(),n=this.eventManagers.get(r);return n||(n=new Fk(e),this.eventManagers.set(r,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Vs(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,r,n,a){fce(e);let i=await this._initialize(e);await i.initialized(),i.resetRedirect(),mV(),await this._originValidation(e);let s=gce(e,n,a);await yce(e,s);let o=await uce(e,s,r),l=await dce(o);return Ace(e,i,l)}_isIframeWebStorageSupported(e,r){throw new Error("Method not implemented.")}_originValidation(e){let r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=cce(e)),this.originValidationPromises[r]}attachCallbackListeners(e,r){let{universalLinks:n,handleOpenURL:a,BuildInfo:i}=Ig(),s=setTimeout(async()=>{await wV(e),r.onEvent(xV())},Cce),o=async c=>{clearTimeout(s);let d=await wV(e),f=null;d&&c?.url&&(f=vce(d,c.url)),r.onEvent(f||xV())};typeof n<"u"&&typeof n.subscribe=="function"&&n.subscribe(null,o);let l=a,u=`${i.packageName.toLowerCase()}://`;Ig().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&o({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}},CV=Dk;function xV(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hs("no-auth-event")}}function IV(t,e){Si(t)._logFramework(e)}var Nce="@firebase/auth-compat",Sce="0.5.14";var Bce=1e3;function Zw(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function _ce(){return Zw()==="http:"||Zw()==="https:"}function SV(t=gi()){return!!((Zw()==="file:"||Zw()==="ionic:"||Zw()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ece(){return Ew()||PN()}function Tce(){return FN()&&document?.documentMode===11}function Lce(t=gi()){return/Edge\/\d+/.test(t)}function Pce(t=gi()){return Tce()||Lce(t)}function BV(){try{let t=self.localStorage,e=bg();if(t)return t.setItem(e,"1"),t.removeItem(e),Pce()?Tp():!0}catch{return qk()&&Tp()}return!1}function qk(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mk(){return(_ce()||kN()||SV())&&!Ece()&&BV()&&!qk()}function _V(){return SV()&&typeof document<"u"}async function kce(){return _V()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},Bce);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Fce(){return typeof window<"u"?window:null}var fc={LOCAL:"local",NONE:"none",SESSION:"session"},Xw=Qt,EV="persistence";function Rce(t,e){if(Xw(Object.values(fc).includes(e),t,"invalid-persistence-type"),Ew()){Xw(e!==fc.SESSION,t,"unsupported-persistence-type");return}if(PN()){Xw(e===fc.NONE,t,"unsupported-persistence-type");return}if(qk()){Xw(e===fc.NONE||e===fc.LOCAL&&Tp(),t,"unsupported-persistence-type");return}Xw(e===fc.NONE||BV(),t,"unsupported-persistence-type")}async function Ok(t){await t._initializationPromise;let e=TV(),r=ef(EV,t.config.apiKey,t.name);e&&e.setItem(r,t._getPersistence())}function Uce(t,e){let r=TV();if(!r)return[];let n=ef(EV,t,e);switch(r.getItem(n)){case fc.NONE:return[Up];case fc.LOCAL:return[wg,nf];case fc.SESSION:return[nf];default:return[]}}function TV(){var t;try{return((t=Fce())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var Dce=Qt,af=class{constructor(){this.browserResolver=vl(kk),this.cordovaResolver=vl(CV),this.underlyingResolver=null,this._redirectPersistence=nf,this._completeRedirectFn=Cg,this._overrideRedirectResult=Iv}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,r,n,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,r,n,a)}async _openRedirect(e,r,n,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,r,n,a)}_isIframeWebStorageSupported(e,r){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,r)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _V()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dce(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;let e=await kce();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}};function LV(t){return t.unwrap()}function Mce(t){return t.wrapped()}function Oce(t){return PV(t)}function Qce(t,e){var r;let n=(r=e.customData)===null||r===void 0?void 0:r._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let a=e;a.resolver=new Hk(t,gk(t,e))}else if(n){let a=PV(e),i=e;a&&(i.credential=a,i.tenantId=n.tenantId||void 0,i.email=n.email||void 0,i.phoneNumber=n.phoneNumber||void 0)}}function PV(t){let{_tokenResponse:e}=t instanceof ii?t.customData:t;if(!e)return null;if(!(t instanceof ii)&&"temporaryProof"in e&&"phoneNumber"in e)return Hd.credentialFromResult(t);let r=e.providerId;if(!r||r===vg.PASSWORD)return null;let n;switch(r){case vg.GOOGLE:n=Op;break;case vg.FACEBOOK:n=Mp;break;case vg.GITHUB:n=Qp;break;case vg.TWITTER:n=Hp;break;default:let{oauthIdToken:a,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:l}=e;return!i&&!s&&!a&&!o?null:o?r.startsWith("saml.")?mg._create(r,o):Md._fromParams({providerId:r,signInMethod:r,pendingToken:o,idToken:a,accessToken:i}):new mv(r).credential({idToken:a,accessToken:i,rawNonce:l})}return t instanceof ii?n.credentialFromError(t):n.credentialFromResult(t)}function Tu(t,e){return e.catch(r=>{throw r instanceof ii&&Qce(t,r),r}).then(r=>{let n=r.operationType,a=r.user;return{operationType:n,credential:Oce(r),additionalUserInfo:mk(r),user:Nv.getOrCreate(a)}})}async function Qk(t,e){let r=await e;return{verificationId:r.verificationId,confirm:n=>Tu(t,r.confirm(n))}}var Hk=class{constructor(e,r){this.resolver=r,this.auth=Mce(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Tu(LV(this.auth),this.resolver.resolveSignIn(e))}};var Nv=class t{constructor(e){this._delegate=e,this.multiFactor=yk(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Tu(this.auth,p5(this._delegate,e))}async linkWithPhoneNumber(e,r){return Qk(this.auth,wk(this._delegate,e,r))}async linkWithPopup(e){return Tu(this.auth,Sk(this._delegate,e,af))}async linkWithRedirect(e){return await Ok(Si(this.auth)),Tk(this._delegate,e,af)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Tu(this.auth,m5(this._delegate,e))}reauthenticateWithPhoneNumber(e,r){return Qk(this.auth,xk(this._delegate,e,r))}reauthenticateWithPopup(e){return Tu(this.auth,Nk(this._delegate,e,af))}async reauthenticateWithRedirect(e){return await Ok(Si(this.auth)),Ek(this._delegate,e,af)}sendEmailVerification(e){return dk(this._delegate,e)}async unlink(e){return await XP(this._delegate,e),this}updateEmail(e){return hk(this._delegate,e)}updatePassword(e){return pk(this._delegate,e)}updatePhoneNumber(e){return Ck(this._delegate,e)}updateProfile(e){return fk(this._delegate,e)}verifyBeforeUpdateEmail(e,r){return Ak(this._delegate,e,r)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Nv.USER_MAP=new WeakMap;var Jw=Qt,ex=class{constructor(e,r){if(this.app=e,r.isInitialized()){this._delegate=r.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:n}=e.options;Jw(n,"invalid-api-key",{appName:e.name}),Jw(n,"invalid-api-key",{appName:e.name});let a=typeof window<"u"?af:void 0;this._delegate=r.initialize({options:{persistence:Hce(n,e.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(VP),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Nv.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,r){$P(this._delegate,e,r)}applyActionCode(e){return nk(this._delegate,e)}checkActionCode(e){return y5(this._delegate,e)}confirmPasswordReset(e,r){return rk(this._delegate,e,r)}async createUserWithEmailAndPassword(e,r){return Tu(this._delegate,ik(this._delegate,e,r))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return ck(this._delegate,e)}isSignInWithEmailLink(e){return lk(this._delegate,e)}async getRedirectResult(){Jw(Mk(),this._delegate,"operation-not-supported-in-this-environment");let e=await Lk(this._delegate,af);return e?Tu(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){IV(this._delegate,e)}onAuthStateChanged(e,r,n){let{next:a,error:i,complete:s}=NV(e,r,n);return this._delegate.onAuthStateChanged(a,i,s)}onIdTokenChanged(e,r,n){let{next:a,error:i,complete:s}=NV(e,r,n);return this._delegate.onIdTokenChanged(a,i,s)}sendSignInLinkToEmail(e,r){return ok(this._delegate,e,r)}sendPasswordResetEmail(e,r){return tk(this._delegate,e,r||void 0)}async setPersistence(e){Rce(this._delegate,e);let r;switch(e){case fc.SESSION:r=nf;break;case fc.LOCAL:r=await vl(wg)._isAvailable()?wg:Cv;break;case fc.NONE:r=Up;break;default:return Vs("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(r)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Tu(this._delegate,YP(this._delegate))}signInWithCredential(e){return Tu(this._delegate,xv(this._delegate,e))}signInWithCustomToken(e){return Tu(this._delegate,ZP(this._delegate,e))}signInWithEmailAndPassword(e,r){return Tu(this._delegate,sk(this._delegate,e,r))}signInWithEmailLink(e,r){return Tu(this._delegate,uk(this._delegate,e,r))}signInWithPhoneNumber(e,r){return Qk(this._delegate,bk(this._delegate,e,r))}async signInWithPopup(e){return Jw(Mk(),this._delegate,"operation-not-supported-in-this-environment"),Tu(this._delegate,Ik(this._delegate,e,af))}async signInWithRedirect(e){return Jw(Mk(),this._delegate,"operation-not-supported-in-this-environment"),await Ok(this._delegate),_k(this._delegate,e,af)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return ak(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};ex.Persistence=fc;function NV(t,e,r){let n=t;typeof t!="function"&&({next:n,error:e,complete:r}=t);let a=n;return{next:s=>a(s&&Nv.getOrCreate(s)),error:e,complete:r}}function Hce(t,e){let r=Uce(t,e);if(typeof self<"u"&&!r.includes(wg)&&r.push(wg),typeof window<"u")for(let n of[Cv,nf])r.includes(n)||r.push(n);return r.includes(Up)||r.push(Up),r}var tx=class{constructor(){this.providerId="phone",this._delegate=new Hd(LV(vi.auth()))}static credential(e,r){return Hd.credential(e,r)}verifyPhoneNumber(e,r){return this._delegate.verifyPhoneNumber(e,r)}unwrap(){return this._delegate}};tx.PHONE_SIGN_IN_METHOD=Hd.PHONE_SIGN_IN_METHOD;tx.PROVIDER_ID=Hd.PROVIDER_ID;var Vce=Qt,Vk=class{constructor(e,r,n=vi.app()){var a;Vce((a=n.options)===null||a===void 0?void 0:a.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new jw(n.auth(),e,r),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var qce="auth-compat";function zce(t){t.INTERNAL.registerComponent(new yi(qce,e=>{let r=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ex(r,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vp.EMAIL_SIGNIN,PASSWORD_RESET:Vp.PASSWORD_RESET,RECOVER_EMAIL:Vp.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Vp.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Vp.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Vp.VERIFY_EMAIL}},EmailAuthProvider:rf,FacebookAuthProvider:Mp,GithubAuthProvider:Qp,GoogleAuthProvider:Op,OAuthProvider:mv,SAMLAuthProvider:zw,PhoneAuthProvider:tx,PhoneMultiFactorGenerator:yv,RecaptchaVerifier:Vk,TwitterAuthProvider:Hp,Auth:ex,AuthCredential:tf,Error:ii}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Nce,Sce)}zce(vi);var kV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FV={};var qp,zk;(function(){var t;function e(T,B){function k(){}k.prototype=B.prototype,T.D=B.prototype,T.prototype=new k,T.prototype.constructor=T,T.C=function(U,E,_){for(var L=Array(arguments.length-2),D=2;D<arguments.length;D++)L[D-2]=arguments[D];return B.prototype[E].apply(U,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,B,k){k||(k=0);var U=Array(16);if(typeof B=="string")for(var E=0;16>E;++E)U[E]=B.charCodeAt(k++)|B.charCodeAt(k++)<<8|B.charCodeAt(k++)<<16|B.charCodeAt(k++)<<24;else for(E=0;16>E;++E)U[E]=B[k++]|B[k++]<<8|B[k++]<<16|B[k++]<<24;B=T.g[0],k=T.g[1],E=T.g[2];var _=T.g[3],L=B+(_^k&(E^_))+U[0]+3614090360&4294967295;B=k+(L<<7&4294967295|L>>>25),L=_+(E^B&(k^E))+U[1]+3905402710&4294967295,_=B+(L<<12&4294967295|L>>>20),L=E+(k^_&(B^k))+U[2]+606105819&4294967295,E=_+(L<<17&4294967295|L>>>15),L=k+(B^E&(_^B))+U[3]+3250441966&4294967295,k=E+(L<<22&4294967295|L>>>10),L=B+(_^k&(E^_))+U[4]+4118548399&4294967295,B=k+(L<<7&4294967295|L>>>25),L=_+(E^B&(k^E))+U[5]+1200080426&4294967295,_=B+(L<<12&4294967295|L>>>20),L=E+(k^_&(B^k))+U[6]+2821735955&4294967295,E=_+(L<<17&4294967295|L>>>15),L=k+(B^E&(_^B))+U[7]+4249261313&4294967295,k=E+(L<<22&4294967295|L>>>10),L=B+(_^k&(E^_))+U[8]+1770035416&4294967295,B=k+(L<<7&4294967295|L>>>25),L=_+(E^B&(k^E))+U[9]+2336552879&4294967295,_=B+(L<<12&4294967295|L>>>20),L=E+(k^_&(B^k))+U[10]+4294925233&4294967295,E=_+(L<<17&4294967295|L>>>15),L=k+(B^E&(_^B))+U[11]+2304563134&4294967295,k=E+(L<<22&4294967295|L>>>10),L=B+(_^k&(E^_))+U[12]+1804603682&4294967295,B=k+(L<<7&4294967295|L>>>25),L=_+(E^B&(k^E))+U[13]+4254626195&4294967295,_=B+(L<<12&4294967295|L>>>20),L=E+(k^_&(B^k))+U[14]+2792965006&4294967295,E=_+(L<<17&4294967295|L>>>15),L=k+(B^E&(_^B))+U[15]+1236535329&4294967295,k=E+(L<<22&4294967295|L>>>10),L=B+(E^_&(k^E))+U[1]+4129170786&4294967295,B=k+(L<<5&4294967295|L>>>27),L=_+(k^E&(B^k))+U[6]+3225465664&4294967295,_=B+(L<<9&4294967295|L>>>23),L=E+(B^k&(_^B))+U[11]+643717713&4294967295,E=_+(L<<14&4294967295|L>>>18),L=k+(_^B&(E^_))+U[0]+3921069994&4294967295,k=E+(L<<20&4294967295|L>>>12),L=B+(E^_&(k^E))+U[5]+3593408605&4294967295,B=k+(L<<5&4294967295|L>>>27),L=_+(k^E&(B^k))+U[10]+38016083&4294967295,_=B+(L<<9&4294967295|L>>>23),L=E+(B^k&(_^B))+U[15]+3634488961&4294967295,E=_+(L<<14&4294967295|L>>>18),L=k+(_^B&(E^_))+U[4]+3889429448&4294967295,k=E+(L<<20&4294967295|L>>>12),L=B+(E^_&(k^E))+U[9]+568446438&4294967295,B=k+(L<<5&4294967295|L>>>27),L=_+(k^E&(B^k))+U[14]+3275163606&4294967295,_=B+(L<<9&4294967295|L>>>23),L=E+(B^k&(_^B))+U[3]+4107603335&4294967295,E=_+(L<<14&4294967295|L>>>18),L=k+(_^B&(E^_))+U[8]+1163531501&4294967295,k=E+(L<<20&4294967295|L>>>12),L=B+(E^_&(k^E))+U[13]+2850285829&4294967295,B=k+(L<<5&4294967295|L>>>27),L=_+(k^E&(B^k))+U[2]+4243563512&4294967295,_=B+(L<<9&4294967295|L>>>23),L=E+(B^k&(_^B))+U[7]+1735328473&4294967295,E=_+(L<<14&4294967295|L>>>18),L=k+(_^B&(E^_))+U[12]+2368359562&4294967295,k=E+(L<<20&4294967295|L>>>12),L=B+(k^E^_)+U[5]+4294588738&4294967295,B=k+(L<<4&4294967295|L>>>28),L=_+(B^k^E)+U[8]+2272392833&4294967295,_=B+(L<<11&4294967295|L>>>21),L=E+(_^B^k)+U[11]+1839030562&4294967295,E=_+(L<<16&4294967295|L>>>16),L=k+(E^_^B)+U[14]+4259657740&4294967295,k=E+(L<<23&4294967295|L>>>9),L=B+(k^E^_)+U[1]+2763975236&4294967295,B=k+(L<<4&4294967295|L>>>28),L=_+(B^k^E)+U[4]+1272893353&4294967295,_=B+(L<<11&4294967295|L>>>21),L=E+(_^B^k)+U[7]+4139469664&4294967295,E=_+(L<<16&4294967295|L>>>16),L=k+(E^_^B)+U[10]+3200236656&4294967295,k=E+(L<<23&4294967295|L>>>9),L=B+(k^E^_)+U[13]+681279174&4294967295,B=k+(L<<4&4294967295|L>>>28),L=_+(B^k^E)+U[0]+3936430074&4294967295,_=B+(L<<11&4294967295|L>>>21),L=E+(_^B^k)+U[3]+3572445317&4294967295,E=_+(L<<16&4294967295|L>>>16),L=k+(E^_^B)+U[6]+76029189&4294967295,k=E+(L<<23&4294967295|L>>>9),L=B+(k^E^_)+U[9]+3654602809&4294967295,B=k+(L<<4&4294967295|L>>>28),L=_+(B^k^E)+U[12]+3873151461&4294967295,_=B+(L<<11&4294967295|L>>>21),L=E+(_^B^k)+U[15]+530742520&4294967295,E=_+(L<<16&4294967295|L>>>16),L=k+(E^_^B)+U[2]+3299628645&4294967295,k=E+(L<<23&4294967295|L>>>9),L=B+(E^(k|~_))+U[0]+4096336452&4294967295,B=k+(L<<6&4294967295|L>>>26),L=_+(k^(B|~E))+U[7]+1126891415&4294967295,_=B+(L<<10&4294967295|L>>>22),L=E+(B^(_|~k))+U[14]+2878612391&4294967295,E=_+(L<<15&4294967295|L>>>17),L=k+(_^(E|~B))+U[5]+4237533241&4294967295,k=E+(L<<21&4294967295|L>>>11),L=B+(E^(k|~_))+U[12]+1700485571&4294967295,B=k+(L<<6&4294967295|L>>>26),L=_+(k^(B|~E))+U[3]+2399980690&4294967295,_=B+(L<<10&4294967295|L>>>22),L=E+(B^(_|~k))+U[10]+4293915773&4294967295,E=_+(L<<15&4294967295|L>>>17),L=k+(_^(E|~B))+U[1]+2240044497&4294967295,k=E+(L<<21&4294967295|L>>>11),L=B+(E^(k|~_))+U[8]+1873313359&4294967295,B=k+(L<<6&4294967295|L>>>26),L=_+(k^(B|~E))+U[15]+4264355552&4294967295,_=B+(L<<10&4294967295|L>>>22),L=E+(B^(_|~k))+U[6]+2734768916&4294967295,E=_+(L<<15&4294967295|L>>>17),L=k+(_^(E|~B))+U[13]+1309151649&4294967295,k=E+(L<<21&4294967295|L>>>11),L=B+(E^(k|~_))+U[4]+4149444226&4294967295,B=k+(L<<6&4294967295|L>>>26),L=_+(k^(B|~E))+U[11]+3174756917&4294967295,_=B+(L<<10&4294967295|L>>>22),L=E+(B^(_|~k))+U[2]+718787259&4294967295,E=_+(L<<15&4294967295|L>>>17),L=k+(_^(E|~B))+U[9]+3951481745&4294967295,T.g[0]=T.g[0]+B&4294967295,T.g[1]=T.g[1]+(E+(L<<21&4294967295|L>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+_&4294967295}n.prototype.u=function(T,B){B===void 0&&(B=T.length);for(var k=B-this.blockSize,U=this.B,E=this.h,_=0;_<B;){if(E==0)for(;_<=k;)a(this,T,_),_+=this.blockSize;if(typeof T=="string"){for(;_<B;)if(U[E++]=T.charCodeAt(_++),E==this.blockSize){a(this,U),E=0;break}}else for(;_<B;)if(U[E++]=T[_++],E==this.blockSize){a(this,U),E=0;break}}this.h=E,this.o+=B},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var B=1;B<T.length-8;++B)T[B]=0;var k=8*this.o;for(B=T.length-8;B<T.length;++B)T[B]=k&255,k/=256;for(this.u(T),T=Array(16),B=k=0;4>B;++B)for(var U=0;32>U;U+=8)T[k++]=this.g[B]>>>U&255;return T};function i(T,B){var k=o;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=B(T)}function s(T,B){this.h=B;for(var k=[],U=!0,E=T.length-1;0<=E;E--){var _=T[E]|0;U&&_==B||(k[E]=_,U=!1)}this.g=k}var o={};function l(T){return-128<=T&&128>T?i(T,function(B){return new s([B|0],0>B?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return w(u(-T));for(var B=[],k=1,U=0;T>=k;U++)B[U]=T/k|0,k*=4294967296;return new s(B,0)}function c(T,B){if(T.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(T.charAt(0)=="-")return w(c(T.substring(1),B));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(B,8)),U=d,E=0;E<T.length;E+=8){var _=Math.min(8,T.length-E),L=parseInt(T.substring(E,E+_),B);8>_?(_=u(Math.pow(B,_)),U=U.j(_).add(u(L))):(U=U.j(k),U=U.add(u(L)))}return U}var d=l(0),f=l(1),A=l(16777216);t=s.prototype,t.m=function(){if(I(this))return-w(this).m();for(var T=0,B=1,k=0;k<this.g.length;k++){var U=this.i(k);T+=(0<=U?U:4294967296+U)*B,B*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(I(this))return"-"+w(this).toString(T);for(var B=u(Math.pow(T,6)),k=this,U="";;){var E=F(k,B).g;k=g(k,E.j(B));var _=((0<k.g.length?k.g[0]:k.h)>>>0).toString(T);if(k=E,v(k))return _+U;for(;6>_.length;)_="0"+_;U=_+U}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var B=0;B<T.g.length;B++)if(T.g[B]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=g(this,T),I(T)?-1:v(T)?0:1};function w(T){for(var B=T.g.length,k=[],U=0;U<B;U++)k[U]=~T.g[U];return new s(k,~T.h).add(f)}t.abs=function(){return I(this)?w(this):this},t.add=function(T){for(var B=Math.max(this.g.length,T.g.length),k=[],U=0,E=0;E<=B;E++){var _=U+(this.i(E)&65535)+(T.i(E)&65535),L=(_>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);U=L>>>16,_&=65535,L&=65535,k[E]=L<<16|_}return new s(k,k[k.length-1]&-2147483648?-1:0)};function g(T,B){return T.add(w(B))}t.j=function(T){if(v(this)||v(T))return d;if(I(this))return I(T)?w(this).j(w(T)):w(w(this).j(T));if(I(T))return w(this.j(w(T)));if(0>this.l(A)&&0>T.l(A))return u(this.m()*T.m());for(var B=this.g.length+T.g.length,k=[],U=0;U<2*B;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var E=0;E<T.g.length;E++){var _=this.i(U)>>>16,L=this.i(U)&65535,D=T.i(E)>>>16,z=T.i(E)&65535;k[2*U+2*E]+=L*z,b(k,2*U+2*E),k[2*U+2*E+1]+=_*z,b(k,2*U+2*E+1),k[2*U+2*E+1]+=L*D,b(k,2*U+2*E+1),k[2*U+2*E+2]+=_*D,b(k,2*U+2*E+2)}for(U=0;U<B;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=B;U<2*B;U++)k[U]=0;return new s(k,0)};function b(T,B){for(;(T[B]&65535)!=T[B];)T[B+1]+=T[B]>>>16,T[B]&=65535,B++}function S(T,B){this.g=T,this.h=B}function F(T,B){if(v(B))throw Error("division by zero");if(v(T))return new S(d,d);if(I(T))return B=F(w(T),B),new S(w(B.g),w(B.h));if(I(B))return B=F(T,w(B)),new S(w(B.g),B.h);if(30<T.g.length){if(I(T)||I(B))throw Error("slowDivide_ only works with positive integers.");for(var k=f,U=B;0>=U.l(T);)k=O(k),U=O(U);var E=R(k,1),_=R(U,1);for(U=R(U,2),k=R(k,2);!v(U);){var L=_.add(U);0>=L.l(T)&&(E=E.add(k),_=L),U=R(U,1),k=R(k,1)}return B=g(T,E.j(B)),new S(E,B)}for(E=d;0<=T.l(B);){for(k=Math.max(1,Math.floor(T.m()/B.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),_=u(k),L=_.j(B);I(L)||0<L.l(T);)k-=U,_=u(k),L=_.j(B);v(_)&&(_=f),E=E.add(_),T=g(T,L)}return new S(E,T)}t.A=function(T){return F(this,T).h},t.and=function(T){for(var B=Math.max(this.g.length,T.g.length),k=[],U=0;U<B;U++)k[U]=this.i(U)&T.i(U);return new s(k,this.h&T.h)},t.or=function(T){for(var B=Math.max(this.g.length,T.g.length),k=[],U=0;U<B;U++)k[U]=this.i(U)|T.i(U);return new s(k,this.h|T.h)},t.xor=function(T){for(var B=Math.max(this.g.length,T.g.length),k=[],U=0;U<B;U++)k[U]=this.i(U)^T.i(U);return new s(k,this.h^T.h)};function O(T){for(var B=T.g.length+1,k=[],U=0;U<B;U++)k[U]=T.i(U)<<1|T.i(U-1)>>>31;return new s(k,T.h)}function R(T,B){var k=B>>5;B%=32;for(var U=T.g.length-k,E=[],_=0;_<U;_++)E[_]=0<B?T.i(_+k)>>>B|T.i(_+k+1)<<32-B:T.i(_+k);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,zk=FV.Md5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,qp=FV.Integer=s}).apply(typeof kV<"u"?kV:typeof self<"u"?self:typeof window<"u"?window:{});var x5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ph={};var jk,jce,Sv,Kk,rx,C5,Gk,Wk,$k;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,Q,G){return m==Array.prototype||m==Object.prototype||(m[Q]=G.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof x5=="object"&&x5];for(var Q=0;Q<m.length;++Q){var G=m[Q];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function a(m,Q){if(Q)e:{var G=n;m=m.split(".");for(var ae=0;ae<m.length-1;ae++){var De=m[ae];if(!(De in G))break e;G=G[De]}m=m[m.length-1],ae=G[m],Q=Q(ae),Q!=ae&&Q!=null&&e(G,m,{configurable:!0,writable:!0,value:Q})}}function i(m,Q){m instanceof String&&(m+="");var G=0,ae=!1,De={next:function(){if(!ae&&G<m.length){var $e=G++;return{value:Q($e,m[$e]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return De[Symbol.iterator]=function(){return De},De}a("Array.prototype.values",function(m){return m||function(){return i(this,function(Q,G){return G})}});var s=s||{},o=this||self;function l(m){var Q=typeof m;return Q=Q!="object"?Q:m?Array.isArray(m)?"array":Q:"null",Q=="array"||Q=="object"&&typeof m.length=="number"}function u(m){var Q=typeof m;return Q=="object"&&m!=null||Q=="function"}function c(m,Q,G){return m.call.apply(m.bind,arguments)}function d(m,Q,G){if(!m)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var De=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(De,ae),m.apply(Q,De)}}return function(){return m.apply(Q,arguments)}}function f(m,Q,G){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function A(m,Q){var G=Array.prototype.slice.call(arguments,1);return function(){var ae=G.slice();return ae.push.apply(ae,arguments),m.apply(this,ae)}}function v(m,Q){function G(){}G.prototype=Q.prototype,m.aa=Q.prototype,m.prototype=new G,m.prototype.constructor=m,m.Qb=function(ae,De,$e){for(var Dt=Array(arguments.length-2),tn=2;tn<arguments.length;tn++)Dt[tn-2]=arguments[tn];return Q.prototype[De].apply(ae,Dt)}}function I(m){let Q=m.length;if(0<Q){let G=Array(Q);for(let ae=0;ae<Q;ae++)G[ae]=m[ae];return G}return[]}function w(m,Q){for(let G=1;G<arguments.length;G++){let ae=arguments[G];if(l(ae)){let De=m.length||0,$e=ae.length||0;m.length=De+$e;for(let Dt=0;Dt<$e;Dt++)m[De+Dt]=ae[Dt]}else m.push(ae)}}class g{constructor(Q,G){this.i=Q,this.j=G,this.h=0,this.g=null}get(){let Q;return 0<this.h?(this.h--,Q=this.g,this.g=Q.next,Q.next=null):Q=this.i(),Q}}function b(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=o.navigator;return m&&(m=m.userAgent)?m:""}function F(m){return F[" "](m),m}F[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function R(m,Q,G){for(let ae in m)Q.call(G,m[ae],ae,m)}function T(m,Q){for(let G in m)Q.call(void 0,m[G],G,m)}function B(m){let Q={};for(let G in m)Q[G]=m[G];return Q}let k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,Q){let G,ae;for(let De=1;De<arguments.length;De++){ae=arguments[De];for(G in ae)m[G]=ae[G];for(let $e=0;$e<k.length;$e++)G=k[$e],Object.prototype.hasOwnProperty.call(ae,G)&&(m[G]=ae[G])}}function E(m){var Q=1;m=m.split(":");let G=[];for(;0<Q&&m.length;)G.push(m.shift()),Q--;return m.length&&G.push(m.join(":")),G}function _(m){o.setTimeout(()=>{throw m},0)}function L(){var m=j;let Q=null;return m.g&&(Q=m.g,m.g=m.g.next,m.g||(m.h=null),Q.next=null),Q}class D{constructor(){this.h=this.g=null}add(Q,G){let ae=z.get();ae.set(Q,G),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var z=new g(()=>new ee,m=>m.reset());class ee{constructor(){this.next=this.g=this.h=null}set(Q,G){this.h=Q,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,$=!1,j=new D,K=()=>{let m=o.Promise.resolve(void 0);Y=()=>{m.then(oe)}};var oe=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(G){_(G)}var Q=z;Q.j(m),100>Q.h&&(Q.h++,m.next=Q.g,Q.g=m)}$=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(m,Q){this.type=m,this.g=this.target=Q,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var te=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,Q=Object.defineProperty({},"passive",{get:function(){m=!0}});try{let G=()=>{};o.addEventListener("test",G,Q),o.removeEventListener("test",G,Q)}catch{}return m})();function ue(m,Q){if(X.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var G=this.type=m.type,ae=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=Q,Q=m.relatedTarget){if(O){e:{try{F(Q.nodeName);var De=!0;break e}catch{}De=!1}De||(Q=null)}}else G=="mouseover"?Q=m.fromElement:G=="mouseout"&&(Q=m.toElement);this.relatedTarget=Q,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:be[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ue.aa.h.call(this)}}v(ue,X);var be={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Le(m,Q,G,ae,De){this.listener=m,this.proxy=null,this.src=Q,this.type=G,this.capture=!!ae,this.ha=De,this.key=++Ne,this.da=this.fa=!1}function Ie(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,Q,G,ae,De){var $e=m.toString();m=this.g[$e],m||(m=this.g[$e]=[],this.h++);var Dt=qe(m,Q,ae,De);return-1<Dt?(Q=m[Dt],G||(Q.fa=!1)):(Q=new Le(Q,this.src,$e,!!ae,De),Q.fa=G,m.push(Q)),Q};function xe(m,Q){var G=Q.type;if(G in m.g){var ae=m.g[G],De=Array.prototype.indexOf.call(ae,Q,void 0),$e;($e=0<=De)&&Array.prototype.splice.call(ae,De,1),$e&&(Ie(Q),m.g[G].length==0&&(delete m.g[G],m.h--))}}function qe(m,Q,G,ae){for(var De=0;De<m.length;++De){var $e=m[De];if(!$e.da&&$e.listener==Q&&$e.capture==!!G&&$e.ha==ae)return De}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),Re={};function Ae(m,Q,G,ae,De){if(ae&&ae.once)return pt(m,Q,G,ae,De);if(Array.isArray(Q)){for(var $e=0;$e<Q.length;$e++)Ae(m,Q[$e],G,ae,De);return null}return G=Tt(G),m&&m[ge]?m.K(Q,G,u(ae)?!!ae.capture:!!ae,De):Kt(m,Q,G,!1,ae,De)}function Kt(m,Q,G,ae,De,$e){if(!Q)throw Error("Invalid event type");var Dt=u(De)?!!De.capture:!!De,tn=At(m);if(tn||(m[wt]=tn=new de(m)),G=tn.add(Q,G,ae,Dt,$e),G.proxy)return G;if(ae=zt(),G.proxy=ae,ae.src=m,ae.listener=G,m.addEventListener)te||(De=Dt),De===void 0&&(De=!1),m.addEventListener(Q.toString(),ae,De);else if(m.attachEvent)m.attachEvent(Ue(Q.toString()),ae);else if(m.addListener&&m.removeListener)m.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return G}function zt(){function m(G){return Q.call(m.src,m.listener,G)}let Q=it;return m}function pt(m,Q,G,ae,De){if(Array.isArray(Q)){for(var $e=0;$e<Q.length;$e++)pt(m,Q[$e],G,ae,De);return null}return G=Tt(G),m&&m[ge]?m.L(Q,G,u(ae)?!!ae.capture:!!ae,De):Kt(m,Q,G,!0,ae,De)}function Oe(m,Q,G,ae,De){if(Array.isArray(Q))for(var $e=0;$e<Q.length;$e++)Oe(m,Q[$e],G,ae,De);else ae=u(ae)?!!ae.capture:!!ae,G=Tt(G),m&&m[ge]?(m=m.i,Q=String(Q).toString(),Q in m.g&&($e=m.g[Q],G=qe($e,G,ae,De),-1<G&&(Ie($e[G]),Array.prototype.splice.call($e,G,1),$e.length==0&&(delete m.g[Q],m.h--)))):m&&(m=At(m))&&(Q=m.g[Q.toString()],m=-1,Q&&(m=qe(Q,G,ae,De)),(G=-1<m?Q[m]:null)&&me(G))}function me(m){if(typeof m!="number"&&m&&!m.da){var Q=m.src;if(Q&&Q[ge])xe(Q.i,m);else{var G=m.type,ae=m.proxy;Q.removeEventListener?Q.removeEventListener(G,ae,m.capture):Q.detachEvent?Q.detachEvent(Ue(G),ae):Q.addListener&&Q.removeListener&&Q.removeListener(ae),(G=At(Q))?(xe(G,m),G.h==0&&(G.src=null,Q[wt]=null)):Ie(m)}}}function Ue(m){return m in Re?Re[m]:Re[m]="on"+m}function it(m,Q){if(m.da)m=!0;else{Q=new ue(Q,this);var G=m.listener,ae=m.ha||m.src;m.fa&&me(m),m=G.call(ae,Q)}return m}function At(m){return m=m[wt],m instanceof de?m:null}var ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(m){return typeof m=="function"?m:(m[ct]||(m[ct]=function(Q){return m.handleEvent(Q)}),m[ct])}function Ot(){q.call(this),this.i=new de(this),this.M=this,this.F=null}v(Ot,q),Ot.prototype[ge]=!0,Ot.prototype.removeEventListener=function(m,Q,G,ae){Oe(this,m,Q,G,ae)};function vr(m,Q){var G,ae=m.F;if(ae)for(G=[];ae;ae=ae.F)G.push(ae);if(m=m.M,ae=Q.type||Q,typeof Q=="string")Q=new X(Q,m);else if(Q instanceof X)Q.target=Q.target||m;else{var De=Q;Q=new X(ae,m),U(Q,De)}if(De=!0,G)for(var $e=G.length-1;0<=$e;$e--){var Dt=Q.g=G[$e];De=rr(Dt,ae,!0,Q)&&De}if(Dt=Q.g=m,De=rr(Dt,ae,!0,Q)&&De,De=rr(Dt,ae,!1,Q)&&De,G)for($e=0;$e<G.length;$e++)Dt=Q.g=G[$e],De=rr(Dt,ae,!1,Q)&&De}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var m=this.i,Q;for(Q in m.g){for(var G=m.g[Q],ae=0;ae<G.length;ae++)Ie(G[ae]);delete m.g[Q],m.h--}}this.F=null},Ot.prototype.K=function(m,Q,G,ae){return this.i.add(String(m),Q,!1,G,ae)},Ot.prototype.L=function(m,Q,G,ae){return this.i.add(String(m),Q,!0,G,ae)};function rr(m,Q,G,ae){if(Q=m.i.g[String(Q)],!Q)return!0;Q=Q.concat();for(var De=!0,$e=0;$e<Q.length;++$e){var Dt=Q[$e];if(Dt&&!Dt.da&&Dt.capture==G){var tn=Dt.listener,On=Dt.ha||Dt.src;Dt.fa&&xe(m.i,Dt),De=tn.call(On,ae)!==!1&&De}}return De&&!ae.defaultPrevented}function Er(m,Q,G){if(typeof m=="function")G&&(m=f(m,G));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(Q)?-1:o.setTimeout(m,Q||0)}function Nt(m){m.g=Er(()=>{m.g=null,m.i&&(m.i=!1,Nt(m))},m.l);let Q=m.h;m.h=null,m.m.apply(null,Q)}class gn extends q{constructor(Q,G){super(),this.m=Q,this.l=G,this.h=null,this.i=!1,this.g=null}j(Q){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dt(m){q.call(this),this.h=m,this.g={}}v(dt,q);var Wt=[];function Qe(m){R(m.g,function(Q,G){this.g.hasOwnProperty(G)&&me(Q)},m),m.g={}}dt.prototype.N=function(){dt.aa.N.call(this),Qe(this)},dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=o.JSON.stringify,rt=o.JSON.parse,Ct=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function Nr(){}Nr.prototype.h=null;function nr(m){return m.h||(m.h=m.i())}function jr(){}var Zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function en(){X.call(this,"d")}v(en,X);function Yt(){X.call(this,"c")}v(Yt,X);var Sr={},Qr=null;function Yr(){return Qr=Qr||new Ot}Sr.La="serverreachability";function yn(m){X.call(this,Sr.La,m)}v(yn,X);function ra(m){let Q=Yr();vr(Q,new yn(Q))}Sr.STAT_EVENT="statevent";function fr(m,Q){X.call(this,Sr.STAT_EVENT,m),this.stat=Q}v(fr,X);function Kr(m){let Q=Yr();vr(Q,new fr(Q,m))}Sr.Ma="timingevent";function xr(m,Q){X.call(this,Sr.Ma,m),this.size=Q}v(xr,X);function fn(m,Q){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},Q)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function ln(m,Q,G,ae,De,$e){m.info(function(){if(m.g)if($e)for(var Dt="",tn=$e.split("&"),On=0;On<tn.length;On++){var An=tn[On].split("=");if(1<An.length){var ia=An[0];An=An[1];var kn=ia.split("_");Dt=2<=kn.length&&kn[1]=="type"?Dt+(ia+"="+An+"&"):Dt+(ia+"=redacted&")}}else Dt=null;else Dt=$e;return"XMLHTTP REQ ("+ae+") [attempt "+De+"]: "+Q+`
`+G+`
`+Dt})}function ma(m,Q,G,ae,De,$e,Dt){m.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+De+"]: "+Q+`
`+G+`
`+$e+" "+Dt})}function Ia(m,Q,G,ae){m.info(function(){return"XMLHTTP TEXT ("+Q+"): "+Pi(m,G)+(ae?" "+ae:"")})}function ri(m,Q){m.info(function(){return"TIMEOUT: "+Q})}Jr.prototype.info=function(){};function Pi(m,Q){if(!m.g)return Q;if(!Q)return null;try{var G=JSON.parse(Q);if(G){for(m=0;m<G.length;m++)if(Array.isArray(G[m])){var ae=G[m];if(!(2>ae.length)){var De=ae[1];if(Array.isArray(De)&&!(1>De.length)){var $e=De[0];if($e!="noop"&&$e!="stop"&&$e!="close")for(var Dt=1;Dt<De.length;Dt++)De[Dt]=""}}}}return tt(G)}catch{return Q}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ps;function ni(){}v(ni,Nr),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ps=new ni;function za(m,Q,G,ae){this.j=m,this.i=Q,this.l=G,this.R=ae||1,this.U=new dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Do}function Do(){this.i=null,this.g="",this.h=!1}var Cr={},Se={};function St(m,Q,G){m.L=1,m.v=ka(Jn(Q)),m.m=G,m.P=!0,lr(m,null)}function lr(m,Q){m.F=Date.now(),Yn(m),m.A=Jn(m.v);var G=m.A,ae=m.R;Array.isArray(ae)||(ae=[String(ae)]),SA(G.i,"t",ae),m.C=0,G=m.j.J,m.h=new Do,m.g=ve(m.j,G?Q:null,!m.m),0<m.O&&(m.M=new gn(f(m.Y,m,m.g),m.O)),Q=m.U,G=m.g,ae=m.ca;var De="readystatechange";Array.isArray(De)||(De&&(Wt[0]=De.toString()),De=Wt);for(var $e=0;$e<De.length;$e++){var Dt=Ae(G,De[$e],ae||Q.handleEvent,!1,Q.h||Q);if(!Dt)break;Q.g[Dt.key]=Dt}Q=m.H?B(m.H):{},m.m?(m.u||(m.u="POST"),Q["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,Q)):(m.u="GET",m.g.ea(m.A,m.u,null,Q)),ra(),ln(m.i,m.u,m.A,m.l,m.R,m.m)}za.prototype.ca=function(m){m=m.target;let Q=this.M;Q&&_o(m)==3?Q.j():this.Y(m)},za.prototype.Y=function(m){try{if(m==this.g)e:{let kn=_o(this.g);var Q=this.g.Ba();let Hl=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||ol(this.g)))){this.J||kn!=4||Q==7||(Q==8||0>=Hl?ra(3):ra(2)),qi(this);var G=this.g.Z();this.X=G;t:if(vn(this)){var ae=ol(this.g);m="";var De=ae.length,$e=_o(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),Fi(this);var Dt="";break t}this.h.i=new o.TextDecoder}for(Q=0;Q<De;Q++)this.h.h=!0,m+=this.h.i.decode(ae[Q],{stream:!($e&&Q==De-1)});ae.length=0,this.h.g+=m,this.C=0,Dt=this.h.g}else Dt=this.g.oa();if(this.o=G==200,ma(this.i,this.u,this.A,this.l,this.R,kn,G),this.o){if(this.T&&!this.K){t:{if(this.g){var tn,On=this.g;if((tn=On.g?On.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(tn)){var An=tn;break t}}An=null}if(G=An)Ia(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,G);else{this.o=!1,this.s=3,Kr(12),as(this),Fi(this);break e}}if(this.P){G=!0;let sa;for(;!this.J&&this.C<Dt.length;)if(sa=La(this,Dt),sa==Se){kn==4&&(this.s=4,Kr(14),G=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(sa==Cr){this.s=4,Kr(15),Ia(this.i,this.l,Dt,"[Invalid Chunk]"),G=!1;break}else Ia(this.i,this.l,sa,null),Pa(this,sa);if(vn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||Dt.length!=0||this.h.h||(this.s=1,Kr(16),G=!1),this.o=this.o&&G,!G)Ia(this.i,this.l,Dt,"[Invalid Chunked Response]"),as(this),Fi(this);else if(0<Dt.length&&!this.W){this.W=!0;var ia=this.j;ia.g==this&&ia.ba&&!ia.M&&(ia.j.info("Great, no buffering proxy detected. Bytes received: "+Dt.length),Hf(ia),ia.M=!0,Kr(11))}}else Ia(this.i,this.l,Dt,null),Pa(this,Dt);kn==4&&as(this),this.o&&!this.J&&(kn==4?kA(this.j,this):(this.o=!1,Yn(this)))}else ll(this.g),G==400&&0<Dt.indexOf("Unknown SID")?(this.s=3,Kr(12)):(this.s=0,Kr(13)),as(this),Fi(this)}}}catch{}finally{}};function vn(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function La(m,Q){var G=m.C,ae=Q.indexOf(`
`,G);return ae==-1?Se:(G=Number(Q.substring(G,ae)),isNaN(G)?Cr:(ae+=1,ae+G>Q.length?Se:(Q=Q.slice(ae,ae+G),m.C=ae+G,Q)))}za.prototype.cancel=function(){this.J=!0,as(this)};function Yn(m){m.S=Date.now()+m.I,Na(m,m.I)}function Na(m,Q){if(m.B!=null)throw Error("WatchDog timer not null");m.B=fn(f(m.ba,m),Q)}function qi(m){m.B&&(o.clearTimeout(m.B),m.B=null)}za.prototype.ba=function(){this.B=null;let m=Date.now();0<=m-this.S?(ri(this.i,this.A),this.L!=2&&(ra(),Kr(17)),as(this),this.s=2,Fi(this)):Na(this,this.S-m)};function Fi(m){m.j.G==0||m.J||kA(m.j,m)}function as(m){qi(m);var Q=m.M;Q&&typeof Q.ma=="function"&&Q.ma(),m.M=null,Qe(m.U),m.g&&(Q=m.g,m.g=null,Q.abort(),Q.ma())}function Pa(m,Q){try{var G=m.j;if(G.G!=0&&(G.g==m||Ma(G.h,m))){if(!m.K&&Ma(G.h,m)&&G.G==3){try{var ae=G.Da.g.parse(Q)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var De=ae;if(De[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<m.F)mu(G),Ol(G);else break e;PA(G),Kr(18)}}else G.za=De[1],0<G.za-G.T&&37500>De[2]&&G.F&&G.v==0&&!G.C&&(G.C=fn(f(G.Za,G),6e3));if(1>=md(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Ql(G,11)}else if((m.K||G.g==m)&&mu(G),!b(Q))for(De=G.Da.g.parse(Q),Q=0;Q<De.length;Q++){let An=De[Q];if(G.T=An[0],An=An[1],G.G==2)if(An[0]=="c"){G.K=An[1],G.ia=An[2];let ia=An[3];ia!=null&&(G.la=ia,G.j.info("VER="+G.la));let kn=An[4];kn!=null&&(G.Aa=kn,G.j.info("SVER="+G.Aa));let Hl=An[5];Hl!=null&&typeof Hl=="number"&&0<Hl&&(ae=1.5*Hl,G.L=ae,G.j.info("backChannelRequestTimeoutMs_="+ae)),ae=G;let sa=m.g;if(sa){let Vl=sa.g?sa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vl){var $e=ae.h;$e.g||Vl.indexOf("spdy")==-1&&Vl.indexOf("quic")==-1&&Vl.indexOf("h2")==-1||($e.j=$e.l,$e.g=new Set,$e.h&&(Ul($e,$e.h),$e.h=null))}if(ae.D){let Eo=sa.g?sa.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(ae.ya=Eo,Wr(ae.I,ae.D,Eo))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-m.F,G.j.info("Handshake RTT: "+G.R+"ms")),ae=G;var Dt=m;if(ae.qa=Z(ae,ae.J?ae.ia:null,ae.W),Dt.K){fu(ae.h,Dt);var tn=Dt,On=ae.L;On&&(tn.I=On),tn.B&&(qi(tn),Yn(tn)),ae.g=Dt}else LA(ae);0<G.i.length&&Uc(G)}else An[0]!="stop"&&An[0]!="close"||Ql(G,7);else G.G==3&&(An[0]=="stop"||An[0]=="close"?An[0]=="stop"?Ql(G,7):Rc(G):An[0]!="noop"&&G.l&&G.l.ta(An),G.v=0)}}ra(4)}catch{}}var il=class{constructor(m,Q){this.g=m,this.map=Q}};function Mo(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $u(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function md(m){return m.h?1:m.g?m.g.size:0}function Ma(m,Q){return m.h?m.h==Q:m.g?m.g.has(Q):!1}function Ul(m,Q){m.g?m.g.add(Q):m.h=Q}function fu(m,Q){m.h&&m.h==Q?m.h=null:m.g&&m.g.has(Q)&&m.g.delete(Q)}Mo.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let m of this.g.values())m.cancel();this.g.clear()}};function Dl(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let Q=m.i;for(let G of m.g.values())Q=Q.concat(G.D);return Q}return I(m.i)}function Ec(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var Q=[],G=m.length,ae=0;ae<G;ae++)Q.push(m[ae]);return Q}Q=[],G=0;for(ae in m)Q[G++]=m[ae];return Q}function zi(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var Q=[];m=m.length;for(var G=0;G<m;G++)Q.push(G);return Q}Q=[],G=0;for(let ae in m)Q[G++]=ae;return Q}}}function Io(m,Q){if(m.forEach&&typeof m.forEach=="function")m.forEach(Q,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,Q,void 0);else for(var G=zi(m),ae=Ec(m),De=ae.length,$e=0;$e<De;$e++)Q.call(void 0,ae[$e],G&&G[$e],m)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(m,Q){if(m){m=m.split("&");for(var G=0;G<m.length;G++){var ae=m[G].indexOf("="),De=null;if(0<=ae){var $e=m[G].substring(0,ae);De=m[G].substring(ae+1)}else $e=m[G];Q($e,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function Oo(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Oo){this.h=m.h,kt(this,m.j),this.o=m.o,this.g=m.g,jt(this,m.s),this.l=m.l;var Q=m.i,G=new fi;G.i=Q.i,Q.g&&(G.g=new Map(Q.g),G.h=Q.h),Xr(this,G),this.m=m.m}else m&&(Q=String(m).match(Yu))?(this.h=!1,kt(this,Q[1]||"",!0),this.o=di(Q[2]||""),this.g=di(Q[3]||"",!0),jt(this,Q[4]),this.l=di(Q[5]||"",!0),Xr(this,Q[6]||"",!0),this.m=di(Q[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Oo.prototype.toString=function(){var m=[],Q=this.j;Q&&m.push(Ai(Q,io,!0),":");var G=this.g;return(G||Q=="file")&&(m.push("//"),(Q=this.o)&&m.push(Ai(Q,io,!0),"@"),m.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&m.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&m.push("/"),m.push(Ai(G,G.charAt(0)=="/"?No:Qo,!0))),(G=this.i.toString())&&m.push("?",G),(G=this.m)&&m.push("#",Ai(G,NA)),m.join("")};function Jn(m){return new Oo(m)}function kt(m,Q,G){m.j=G?di(Q,!0):Q,m.j&&(m.j=m.j.replace(/:$/,""))}function jt(m,Q){if(Q){if(Q=Number(Q),isNaN(Q)||0>Q)throw Error("Bad port number "+Q);m.s=Q}else m.s=null}function Xr(m,Q,G){Q instanceof fi?(m.i=Q,sl(m.i,m.h)):(G||(Q=Ai(Q,Tc)),m.i=new fi(Q,m.h))}function Wr(m,Q,G){m.i.set(Q,G)}function ka(m){return Wr(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function di(m,Q){return m?Q?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ai(m,Q,G){return typeof m=="string"?(m=encodeURI(m).replace(Q,ao),G&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ao(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var io=/[#\/\?@]/g,Qo=/[#\?:]/g,No=/[#\?]/g,Tc=/[#\?@]/g,NA=/#/g;function fi(m,Q){this.h=this.g=null,this.i=m||null,this.j=!!Q}function ks(m){m.g||(m.g=new Map,m.h=0,m.i&&Ps(m.i,function(Q,G){m.add(decodeURIComponent(Q.replace(/\+/g," ")),G)}))}t=fi.prototype,t.add=function(m,Q){ks(this),this.i=null,m=hu(this,m);var G=this.g.get(m);return G||this.g.set(m,G=[]),G.push(Q),this.h+=1,this};function gd(m,Q){ks(m),Q=hu(m,Q),m.g.has(Q)&&(m.i=null,m.h-=m.g.get(Q).length,m.g.delete(Q))}function an(m,Q){return ks(m),Q=hu(m,Q),m.g.has(Q)}t.forEach=function(m,Q){ks(this),this.g.forEach(function(G,ae){G.forEach(function(De){m.call(Q,De,ae,this)},this)},this)},t.na=function(){ks(this);let m=Array.from(this.g.values()),Q=Array.from(this.g.keys()),G=[];for(let ae=0;ae<Q.length;ae++){let De=m[ae];for(let $e=0;$e<De.length;$e++)G.push(Q[ae])}return G},t.V=function(m){ks(this);let Q=[];if(typeof m=="string")an(this,m)&&(Q=Q.concat(this.g.get(hu(this,m))));else{m=Array.from(this.g.values());for(let G=0;G<m.length;G++)Q=Q.concat(m[G])}return Q},t.set=function(m,Q){return ks(this),this.i=null,m=hu(this,m),an(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[Q]),this.h+=1,this},t.get=function(m,Q){return m?(m=this.V(m),0<m.length?String(m[0]):Q):Q};function SA(m,Q,G){gd(m,Q),0<G.length&&(m.i=null,m.g.set(hu(m,Q),I(G)),m.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let m=[],Q=Array.from(this.g.keys());for(var G=0;G<Q.length;G++){var ae=Q[G];let $e=encodeURIComponent(String(ae)),Dt=this.V(ae);for(ae=0;ae<Dt.length;ae++){var De=$e;Dt[ae]!==""&&(De+="="+encodeURIComponent(String(Dt[ae]))),m.push(De)}}return this.i=m.join("&")};function hu(m,Q){return Q=String(Q),m.j&&(Q=Q.toLowerCase()),Q}function sl(m,Q){Q&&!m.j&&(ks(m),m.i=null,m.g.forEach(function(G,ae){var De=ae.toLowerCase();ae!=De&&(gd(this,ae),SA(this,De,G))},m)),m.j=Q}function BA(m,Q){let G=new Jr;if(o.Image){let ae=new Image;ae.onload=A(Fs,G,"TestLoadImage: loaded",!0,Q,ae),ae.onerror=A(Fs,G,"TestLoadImage: error",!1,Q,ae),ae.onabort=A(Fs,G,"TestLoadImage: abort",!1,Q,ae),ae.ontimeout=A(Fs,G,"TestLoadImage: timeout",!1,Q,ae),o.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=m}else Q(!1)}function so(m,Q){let G=new Jr,ae=new AbortController,De=setTimeout(()=>{ae.abort(),Fs(G,"TestPingServer: timeout",!1,Q)},1e4);fetch(m,{signal:ae.signal}).then($e=>{clearTimeout(De),$e.ok?Fs(G,"TestPingServer: ok",!0,Q):Fs(G,"TestPingServer: server error",!1,Q)}).catch(()=>{clearTimeout(De),Fs(G,"TestPingServer: error",!1,Q)})}function Fs(m,Q,G,ae,De){try{De&&(De.onload=null,De.onerror=null,De.onabort=null,De.ontimeout=null),ae(G)}catch{}}function Lc(){this.g=new Ct}function _A(m,Q,G){let ae=G||"";try{Io(m,function(De,$e){let Dt=De;u(De)&&(Dt=tt(De)),Q.push(ae+$e+"="+encodeURIComponent(Dt))})}catch(De){throw Q.push(ae+"type="+encodeURIComponent("_badmap")),De}}function Xu(m){this.l=m.Ub||null,this.j=m.eb||!1}v(Xu,Nr),Xu.prototype.g=function(){return new Pc(this.l,this.j)},Xu.prototype.i=(function(m){return function(){return m}})({});function Pc(m,Q){Ot.call(this),this.D=m,this.o=Q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Pc,Ot),t=Pc.prototype,t.open=function(m,Q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=Q,this.readyState=1,oo(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let Q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(Q.body=m),(this.D||o).fetch(new Request(this.A,Q)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,oo(this)),this.g&&(this.readyState=3,oo(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function kc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var Q=m.value?m.value:new Uint8Array(0);(Q=this.v.decode(Q,{stream:!m.done}))&&(this.response=this.responseText+=Q)}m.done?So(this):oo(this),this.readyState==3&&kc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,So(this))},t.Qa=function(m){this.g&&(this.response=m,So(this))},t.ga=function(){this.g&&So(this)};function So(m){m.readyState=4,m.l=null,m.j=null,m.v=null,oo(m)}t.setRequestHeader=function(m,Q){this.u.append(m,Q)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let m=[],Q=this.h.entries();for(var G=Q.next();!G.done;)G=G.value,m.push(G[0]+": "+G[1]),G=Q.next();return m.join(`\r
`)};function oo(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Fc(m){let Q="";return R(m,function(G,ae){Q+=ae,Q+=":",Q+=G,Q+=`\r
`}),Q}function Bo(m,Q,G){e:{for(ae in G){var ae=!1;break e}ae=!0}ae||(G=Fc(G),typeof m=="string"?G!=null&&encodeURIComponent(String(G)):Wr(m,Q,G))}function Sa(m){Ot.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Sa,Ot);var ai=/^https?$/i,EA=["POST","PUT"];t=Sa.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,Q,G,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);Q=Q?Q.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ps.g(),this.v=this.o?nr(this.o):nr(ps),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(Q,String(m),!0),this.B=!1}catch($e){Fa(this,$e);return}if(m=G||"",G=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var De in ae)G.set(De,ae[De]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(let $e of ae.keys())G.set($e,ae.get($e));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(G.keys()).find($e=>$e.toLowerCase()=="content-type"),De=o.FormData&&m instanceof o.FormData,!(0<=Array.prototype.indexOf.call(EA,Q,void 0))||ae||De||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[$e,Dt]of G)this.g.setRequestHeader($e,Dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ml(this),this.u=!0,this.g.send(m),this.u=!1}catch($e){Fa(this,$e)}};function Fa(m,Q){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=Q,m.m=5,Oa(m),Rs(m)}function Oa(m){m.A||(m.A=!0,vr(m,"complete"),vr(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,vr(this,"complete"),vr(this,"abort"),Rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rs(this,!0)),Sa.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ms(this):this.bb())},t.bb=function(){ms(this)};function ms(m){if(m.h&&typeof s<"u"&&(!m.v[1]||_o(m)!=4||m.Z()!=2)){if(m.u&&_o(m)==4)Er(m.Ea,0,m);else if(vr(m,"readystatechange"),_o(m)==4){m.h=!1;try{let Dt=m.Z();e:switch(Dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Q=!0;break e;default:Q=!1}var G;if(!(G=Q)){var ae;if(ae=Dt===0){var De=String(m.D).match(Yu)[1]||null;!De&&o.self&&o.self.location&&(De=o.self.location.protocol.slice(0,-1)),ae=!ai.test(De?De.toLowerCase():"")}G=ae}if(G)vr(m,"complete"),vr(m,"success");else{m.m=6;try{var $e=2<_o(m)?m.g.statusText:""}catch{$e=""}m.l=$e+" ["+m.Z()+"]",Oa(m)}}finally{Rs(m)}}}}function Rs(m,Q){if(m.g){Ml(m);let G=m.g,ae=m.v[0]?()=>{}:null;m.g=null,m.v=null,Q||vr(m,"ready");try{G.onreadystatechange=ae}catch{}}}function Ml(m){m.I&&(o.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function _o(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<_o(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var Q=this.g.responseText;return m&&Q.indexOf(m)==0&&(Q=Q.substring(m.length)),rt(Q)}};function ol(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ll(m){let Q={};m=(m.g&&2<=_o(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<m.length;ae++){if(b(m[ae]))continue;var G=E(m[ae]);let De=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();let $e=Q[De]||[];Q[De]=$e,$e.push(G)}T(Q,function(ae){return ae.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ju(m,Q,G){return G&&G.internalChannelParams&&G.internalChannelParams[m]||Q}function lo(m){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ju("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ju("baseRetryDelayMs",5e3,m),this.cb=Ju("retryDelaySeedMs",1e4,m),this.Wa=Ju("forwardChannelMaxRetries",2,m),this.wa=Ju("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Mo(m&&m.concurrentRequestLimit),this.Da=new Lc,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lo.prototype,t.la=8,t.G=1,t.connect=function(m,Q,G,ae){Kr(0),this.W=m,this.H=Q||{},G&&ae!==void 0&&(this.H.OSID=G,this.H.OAID=ae),this.F=this.X,this.I=Z(this,null,this.W),Uc(this)};function Rc(m){if(Kh(m),m.G==3){var Q=m.U++,G=Jn(m.I);if(Wr(G,"SID",m.K),Wr(G,"RID",Q),Wr(G,"TYPE","terminate"),pu(m,G),Q=new za(m,m.j,Q),Q.L=2,Q.v=ka(Jn(G)),G=!1,o.navigator&&o.navigator.sendBeacon)try{G=o.navigator.sendBeacon(Q.v.toString(),"")}catch{}!G&&o.Image&&(new Image().src=Q.v,G=!0),G||(Q.g=ve(Q.j,null),Q.g.ea(Q.v)),Q.F=Date.now(),Yn(Q)}P(m)}function Ol(m){m.g&&(Hf(m),m.g.cancel(),m.g=null)}function Kh(m){Ol(m),m.u&&(o.clearTimeout(m.u),m.u=null),mu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&o.clearTimeout(m.s),m.s=null)}function Uc(m){if(!$u(m.h)&&!m.s){m.s=!0;var Q=m.Ga;Y||K(),$||(Y(),$=!0),j.add(Q,m),m.B=0}}function Of(m,Q){return md(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=Q.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=fn(f(m.Ga,m,Q),ul(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;let De=new za(this,this.j,m),$e=this.o;if(this.S&&($e?($e=B($e),U($e,this.S)):$e=this.S),this.m!==null||this.O||(De.H=$e,$e=null),this.P)e:{for(var Q=0,G=0;G<this.i.length;G++){t:{var ae=this.i[G];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(Q+=ae,4096<Q){Q=G;break e}if(Q===4096||G===this.i.length-1){Q=G+1;break e}}Q=1e3}else Q=1e3;Q=TA(this,De,Q),G=Jn(this.I),Wr(G,"RID",m),Wr(G,"CVER",22),this.D&&Wr(G,"X-HTTP-Session-Id",this.D),pu(this,G),$e&&(this.O?Q="headers="+encodeURIComponent(String(Fc($e)))+"&"+Q:this.m&&Bo(G,this.m,$e)),Ul(this.h,De),this.Ua&&Wr(G,"TYPE","init"),this.P?(Wr(G,"$req",Q),Wr(G,"SID","null"),De.T=!0,St(De,G,null)):St(De,G,Q),this.G=2}}else this.G==3&&(m?Qf(this,m):this.i.length==0||$u(this.h)||Qf(this))};function Qf(m,Q){var G;Q?G=Q.l:G=m.U++;let ae=Jn(m.I);Wr(ae,"SID",m.K),Wr(ae,"RID",G),Wr(ae,"AID",m.T),pu(m,ae),m.m&&m.o&&Bo(ae,m.m,m.o),G=new za(m,m.j,G,m.B+1),m.m===null&&(G.H=m.o),Q&&(m.i=Q.D.concat(m.i)),Q=TA(m,G,1e3),G.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ul(m.h,G),St(G,ae,Q)}function pu(m,Q){m.H&&R(m.H,function(G,ae){Wr(Q,ae,G)}),m.l&&Io({},function(G,ae){Wr(Q,ae,G)})}function TA(m,Q,G){G=Math.min(m.i.length,G);var ae=m.l?f(m.l.Na,m.l,m):null;e:{var De=m.i;let $e=-1;for(;;){let Dt=["count="+G];$e==-1?0<G?($e=De[0].g,Dt.push("ofs="+$e)):$e=0:Dt.push("ofs="+$e);let tn=!0;for(let On=0;On<G;On++){let An=De[On].g,ia=De[On].map;if(An-=$e,0>An)$e=Math.max(0,De[On].g-100),tn=!1;else try{_A(ia,Dt,"req"+An+"_")}catch{ae&&ae(ia)}}if(tn){ae=Dt.join("&");break e}}}return m=m.i.splice(0,G),Q.D=m,ae}function LA(m){if(!m.g&&!m.u){m.Y=1;var Q=m.Fa;Y||K(),$||(Y(),$=!0),j.add(Q,m),m.v=0}}function PA(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=fn(f(m.Fa,m),ul(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,yd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=fn(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kr(10),Ol(this),yd(this))};function Hf(m){m.A!=null&&(o.clearTimeout(m.A),m.A=null)}function yd(m){m.g=new za(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var Q=Jn(m.qa);Wr(Q,"RID","rpc"),Wr(Q,"SID",m.K),Wr(Q,"AID",m.T),Wr(Q,"CI",m.F?"0":"1"),!m.F&&m.ja&&Wr(Q,"TO",m.ja),Wr(Q,"TYPE","xmlhttp"),pu(m,Q),m.m&&m.o&&Bo(Q,m.m,m.o),m.L&&(m.g.I=m.L);var G=m.g;m=m.ia,G.L=1,G.v=ka(Jn(Q)),G.m=null,G.P=!0,lr(G,m)}t.Za=function(){this.C!=null&&(this.C=null,Ol(this),PA(this),Kr(19))};function mu(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function kA(m,Q){var G=null;if(m.g==Q){mu(m),Hf(m),m.g=null;var ae=2}else if(Ma(m.h,Q))G=Q.D,fu(m.h,Q),ae=1;else return;if(m.G!=0){if(Q.o)if(ae==1){G=Q.m?Q.m.length:0,Q=Date.now()-Q.F;var De=m.B;ae=Yr(),vr(ae,new xr(ae,G)),Uc(m)}else LA(m);else if(De=Q.s,De==3||De==0&&0<Q.X||!(ae==1&&Of(m,Q)||ae==2&&PA(m)))switch(G&&0<G.length&&(Q=m.h,Q.i=Q.i.concat(G)),De){case 1:Ql(m,5);break;case 4:Ql(m,10);break;case 3:Ql(m,6);break;default:Ql(m,2)}}}function ul(m,Q){let G=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(G*=2),G*Q}function Ql(m,Q){if(m.j.info("Error code "+Q),Q==2){var G=f(m.fb,m),ae=m.Xa;let De=!ae;ae=new Oo(ae||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||kt(ae,"https"),ka(ae),De?BA(ae.toString(),G):so(ae.toString(),G)}else Kr(2);m.G=0,m.l&&m.l.sa(Q),P(m),Kh(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Kr(2)):(this.j.info("Failed to ping google.com"),Kr(1))};function P(m){if(m.G=0,m.ka=[],m.l){let Q=Dl(m.h);(Q.length!=0||m.i.length!=0)&&(w(m.ka,Q),w(m.ka,m.i),m.h.i.length=0,I(m.i),m.i.length=0),m.l.ra()}}function Z(m,Q,G){var ae=G instanceof Oo?Jn(G):new Oo(G);if(ae.g!="")Q&&(ae.g=Q+"."+ae.g),jt(ae,ae.s);else{var De=o.location;ae=De.protocol,Q=Q?Q+"."+De.hostname:De.hostname,De=+De.port;var $e=new Oo(null);ae&&kt($e,ae),Q&&($e.g=Q),De&&jt($e,De),G&&($e.l=G),ae=$e}return G=m.D,Q=m.ya,G&&Q&&Wr(ae,G,Q),Wr(ae,"VER",m.la),pu(m,ae),ae}function ve(m,Q,G){if(Q&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return Q=m.Ca&&!m.pa?new Sa(new Xu({eb:G})):new Sa(m.pa),Q.Ha(m.J),Q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Be(){}t=Be.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ke(){}Ke.prototype.g=function(m,Q){return new at(m,Q)};function at(m,Q){Ot.call(this),this.g=new lo(Q),this.l=m,this.h=Q&&Q.messageUrlParams||null,m=Q&&Q.messageHeaders||null,Q&&Q.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=Q&&Q.initMessageHeaders||null,Q&&Q.messageContentType&&(m?m["X-WebChannel-Content-Type"]=Q.messageContentType:m={"X-WebChannel-Content-Type":Q.messageContentType}),Q&&Q.va&&(m?m["X-WebChannel-Client-Profile"]=Q.va:m={"X-WebChannel-Client-Profile":Q.va}),this.g.S=m,(m=Q&&Q.Sb)&&!b(m)&&(this.g.m=m),this.v=Q&&Q.supportsCrossDomainXhr||!1,this.u=Q&&Q.sendRawJson||!1,(Q=Q&&Q.httpSessionIdParam)&&!b(Q)&&(this.g.D=Q,m=this.h,m!==null&&Q in m&&(m=this.h,Q in m&&delete m[Q])),this.j=new Ur(this)}v(at,Ot),at.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},at.prototype.close=function(){Rc(this.g)},at.prototype.o=function(m){var Q=this.g;if(typeof m=="string"){var G={};G.__data__=m,m=G}else this.u&&(G={},G.__data__=tt(m),m=G);Q.i.push(new il(Q.Ya++,m)),Q.G==3&&Uc(Q)},at.prototype.N=function(){this.g.l=null,delete this.j,Rc(this.g),delete this.g,at.aa.N.call(this)};function Ut(m){en.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var Q=m.__sm__;if(Q){e:{for(let G in Q){m=G;break e}m=void 0}(this.i=m)&&(m=this.i,Q=Q!==null&&m in Q?Q[m]:void 0),this.data=Q}else this.data=m}v(Ut,en);function ar(){Yt.call(this),this.status=1}v(ar,Yt);function Ur(m){this.g=m}v(Ur,Be),Ur.prototype.ua=function(){vr(this.g,"a")},Ur.prototype.ta=function(m){vr(this.g,new Ut(m))},Ur.prototype.sa=function(m){vr(this.g,new ar)},Ur.prototype.ra=function(){vr(this.g,"b")},Ke.prototype.createWebChannel=Ke.prototype.g,at.prototype.send=at.prototype.o,at.prototype.open=at.prototype.m,at.prototype.close=at.prototype.close,$k=ph.createWebChannelTransport=function(){return new Ke},Wk=ph.getStatEventTarget=function(){return Yr()},Gk=ph.Event=Sr,C5=ph.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,rx=ph.ErrorCode=na,ki.COMPLETE="complete",Kk=ph.EventType=ki,jr.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Sv=ph.WebChannel=jr,jce=ph.FetchXmlHttpFactory=Xu,Sa.prototype.listenOnce=Sa.prototype.L,Sa.prototype.getLastError=Sa.prototype.Ka,Sa.prototype.getLastErrorCode=Sa.prototype.Ba,Sa.prototype.getStatus=Sa.prototype.Z,Sa.prototype.getResponseJson=Sa.prototype.Oa,Sa.prototype.getResponseText=Sa.prototype.oa,Sa.prototype.send=Sa.prototype.ea,Sa.prototype.setWithCredentials=Sa.prototype.Ha,jk=ph.XhrIo=Sa}).apply(typeof x5<"u"?x5:typeof self<"u"?self:typeof window<"u"?window:{});var RV="@firebase/firestore";var js=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};js.UNAUTHENTICATED=new js(null),js.GOOGLE_CREDENTIALS=new js("google-credentials-uid"),js.FIRST_PARTY=new js("first-party-uid"),js.MOCK_USER=new js("mock-user");var n1="10.14.0";var Yp=new YA("@firebase/firestore");function Lv(){return Yp.logLevel}function O9(t){Yp.setLogLevel(t)}function Ft(t,...e){if(Yp.logLevel<=jn.DEBUG){let r=e.map(ZF);Yp.debug(`Firestore (${n1}): ${t}`,...r)}}function xs(t,...e){if(Yp.logLevel<=jn.ERROR){let r=e.map(ZF);Yp.error(`Firestore (${n1}): ${t}`,...r)}}function Vd(t,...e){if(Yp.logLevel<=jn.WARN){let r=e.map(ZF);Yp.warn(`Firestore (${n1}): ${t}`,...r)}}function ZF(t){if(typeof t=="string")return t;try{return(function(r){return JSON.stringify(r)})(t)}catch{return t}}function _r(t="Unexpected state"){let e=`FIRESTORE (${n1}) INTERNAL ASSERTION FAILED: `+t;throw xs(e),new Error(e)}function Or(t,e){t||_r()}function Q9(t,e){t||_r()}function ir(t,e){return t}var st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lt=class extends ii{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mo=class{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}};var k5=class{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},t3=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(js.UNAUTHENTICATED)))}shutdown(){}},r3=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}},n3=class{constructor(e){this.t=e,this.currentUser=js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Or(this.o===void 0);let n=this.i,a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve(),i=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mo,e.enqueueRetryable((()=>a(this.currentUser)))};let s=()=>{let l=i;e.enqueueRetryable((async()=>{await l.promise,await a(this.currentUser)}))},o=l=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?o(l):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mo)}}),0),s()}getToken(){let e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Or(typeof n.accessToken=="string"),new k5(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Or(e===null||typeof e=="string"),new js(e)}},a3=class{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=js.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},i3=class{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new a3(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(js.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},s3=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},o3=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Or(this.o===void 0);let n=i=>{i.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);let s=i.token!==this.R;return this.R=i.token,Ft("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>n(i)))};let a=i=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((i=>a(i))),setTimeout((()=>{if(!this.appCheck){let i=this.A.getImmediate({optional:!0});i?a(i):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Or(typeof r.token=="string"),this.R=r.token,new s3(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Kce(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}var F5=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let a=Kce(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=e.charAt(a[i]%e.length))}return n}};function Cn(t,e){return t<e?-1:t>e?1:0}function Qv(t,e,r){return t.length===e.length&&t.every(((n,a)=>r(n,e[a])))}function H9(t){return t+"\0"}var $i=class t{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Lt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Lt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Lt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new t(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cn(this.nanoseconds,e.nanoseconds):Cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var $r=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new $i(0,0))}static max(){return new t(new $i(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var R5=class t{constructor(e,r,n){r===void 0?r=0:r>e.length&&_r(),n===void 0?n=e.length-r:n>e.length-r&&_r(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let r=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){let n=Math.min(e.length,r.length);for(let a=0;a<n;a++){let i=e.get(a),s=r.get(a);if(i<s)return-1;if(i>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}},ba=class t extends R5{construct(e,r,n){return new t(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let r=[];for(let n of e){if(n.indexOf("//")>=0)throw new Lt(st.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new t(r)}static emptyPath(){return new t([])}},Gce=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cs=class t extends R5{construct(e,r,n){return new t(e,r,n)}static isValidIdentifier(e){return Gce.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let r=[],n="",a=0,i=()=>{if(n.length===0)throw new Lt(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""},s=!1;for(;a<e.length;){let o=e[a];if(o==="\\"){if(a+1===e.length)throw new Lt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Lt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Lt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(r)}static emptyPath(){return new t([])}};var sr=class t{constructor(e){this.path=e}static fromPath(e){return new t(ba.fromString(e))}static fromName(e){return new t(ba.fromString(e).popFirst(5))}static empty(){return new t(ba.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ba.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ba.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ba(e.slice()))}};var Hv=class{constructor(e,r,n,a){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=a}};function l3(t){return t.fields.find((e=>e.kind===2))}function Sg(t){return t.fields.filter((e=>e.kind!==2))}Hv.UNKNOWN_ID=-1;var Dv=class{constructor(e,r){this.fieldPath=e,this.kind=r}};var hx=class t{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new t(0,Zc.min())}};function V9(t,e){let r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=$r.fromTimestamp(n===1e9?new $i(r+1,0):new $i(r,n));return new Zc(a,sr.empty(),e)}function q9(t){return new Zc(t.readTime,t.key,-1)}var Zc=class t{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new t($r.min(),sr.empty(),-1)}static max(){return new t($r.max(),sr.empty(),-1)}};function eR(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=sr.comparator(t.documentKey,e.documentKey),r!==0?r:Cn(t.largestBatchId,e.largestBatchId))}var z9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",U5=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function sm(t){if(t.code!==st.FAILED_PRECONDITION||t.message!==z9)throw t;Ft("LocalStore","Unexpectedly lost primary lease")}var nt=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&_r(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new t(((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{let r=e();return r instanceof t?r:t.resolve(r)}catch(r){return t.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):t.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):t.reject(r)}static resolve(e){return new t(((r,n)=>{r(e)}))}static reject(e){return new t(((r,n)=>{n(e)}))}static waitFor(e){return new t(((r,n)=>{let a=0,i=0,s=!1;e.forEach((o=>{++a,o.next((()=>{++i,s&&i===a&&r()}),(l=>n(l)))})),s=!0,i===a&&r()}))}static or(e){let r=t.resolve(!1);for(let n of e)r=r.next((a=>a?t.resolve(a):n()));return r}static forEach(e,r){let n=[];return e.forEach(((a,i)=>{n.push(r.call(this,a,i))})),this.waitFor(n)}static mapArray(e,r){return new t(((n,a)=>{let i=e.length,s=new Array(i),o=0;for(let l=0;l<i;l++){let u=l;r(e[u]).next((c=>{s[u]=c,++o,o===i&&n(s)}),(c=>a(c)))}}))}static doWhile(e,r){return new t(((n,a)=>{let i=()=>{e()===!0?r().next((()=>{i()}),a):n()};i()}))}};var D5=class t{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new mo,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Pg(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{let a=tR(n.target.error);this.V.reject(new Pg(e,a))}}static open(e,r,n,a){try{return new t(r,e.transaction(a,n))}catch(i){throw new Pg(r,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ft("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let r=this.transaction.objectStore(e);return new c3(r)}},Xp=class t{constructor(e,r,n){this.name=e,this.version=r,this.p=n,t.S(gi())===12.2&&xs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ft("SimpleDb","Removing database:",e),Bg(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Tp())return!1;if(t.v())return!0;let e=gi(),r=t.S(e),n=0<r&&r<10,a=j9(e),i=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){let r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Ft("SimpleDb","Opening database:",this.name),this.db=await new Promise(((r,n)=>{let a=indexedDB.open(this.name,this.version);a.onsuccess=i=>{let s=i.target.result;r(s)},a.onblocked=()=>{n(new Pg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=i=>{let s=i.target.error;s.name==="VersionError"?n(new Lt(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new Lt(st.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new Pg(e,s))},a.onupgradeneeded=i=>{Ft("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);let s=i.target.result;this.p.O(s,a.transaction,i.oldVersion,this.version).next((()=>{Ft("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,a){let i=r==="readonly",s=0;for(;;){++s;try{this.db=await this.M(e);let o=D5.open(this.db,e,i?"readonly":"readwrite",n),l=a(o).next((u=>(o.g(),u))).catch((u=>(o.abort(u),nt.reject(u)))).toPromise();return l.catch((()=>{})),await o.m,l}catch(o){let l=o,u=l.name!=="FirebaseError"&&s<3;if(Ft("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}};function j9(t){let e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}var u3=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Bg(this.B.delete())}},Pg=class extends Lt{constructor(e,r){super(st.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}};function om(t){return t.name==="IndexedDbTransactionError"}var c3=class{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Ft("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Ft("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bg(n)}add(e){return Ft("SimpleDb","ADD",this.store.name,e,e),Bg(this.store.add(e))}get(e){return Bg(this.store.get(e)).next((r=>(r===void 0&&(r=null),Ft("SimpleDb","GET",this.store.name,e,r),r)))}delete(e){return Ft("SimpleDb","DELETE",this.store.name,e),Bg(this.store.delete(e))}count(){return Ft("SimpleDb","COUNT",this.store.name),Bg(this.store.count())}U(e,r){let n=this.options(e,r),a=n.index?this.store.index(n.index):this.store;if(typeof a.getAll=="function"){let i=a.getAll(n.range);return new nt(((s,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{s(l.target.result)}}))}{let i=this.cursor(n),s=[];return this.W(i,((o,l)=>{s.push(l)})).next((()=>s))}}G(e,r){let n=this.store.getAll(e,r===null?void 0:r);return new nt(((a,i)=>{n.onerror=s=>{i(s.target.error)},n.onsuccess=s=>{a(s.target.result)}}))}j(e,r){Ft("SimpleDb","DELETE ALL",this.store.name);let n=this.options(e,r);n.H=!1;let a=this.cursor(n);return this.W(a,((i,s,o)=>o.delete()))}J(e,r){let n;r?n=e:(n={},r=e);let a=this.cursor(n);return this.W(a,r)}Y(e){let r=this.cursor({});return new nt(((n,a)=>{r.onerror=i=>{let s=tR(i.target.error);a(s)},r.onsuccess=i=>{let s=i.target.result;s?e(s.primaryKey,s.value).next((o=>{o?s.continue():n()})):n()}}))}W(e,r){let n=[];return new nt(((a,i)=>{e.onerror=s=>{i(s.target.error)},e.onsuccess=s=>{let o=s.target.result;if(!o)return void a();let l=new u3(o),u=r(o.primaryKey,o.value,l);if(u instanceof nt){let c=u.catch((d=>(l.done(),nt.reject(d))));n.push(c)}l.isDone?a():l.K===null?o.continue():o.continue(l.K)}})).next((()=>nt.waitFor(n)))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){let n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}};function Bg(t){return new nt(((e,r)=>{t.onsuccess=n=>{let a=n.target.result;e(a)},t.onerror=n=>{let a=tR(n.target.error);r(a)}}))}var UV=!1;function tR(t){let e=Xp.S(gi());if(e>=12.2&&e<13){let r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){let n=new Lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UV||(UV=!0,setTimeout((()=>{throw n}),0)),n}}return t}var d3=class{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Ft("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ft("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){om(r)?Ft("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await sm(r)}await this.X(6e4)}))}},A3=class{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(r=>this.te(r,e)))}te(e,r){let n=new Set,a=r,i=!0;return nt.doWhile((()=>i===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!n.has(s))return Ft("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,a).next((o=>{a-=o,n.add(s)}));i=!1})))).next((()=>r-a))}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next((a=>this.localStore.localDocuments.getNextDocuments(e,r,a,n).next((i=>{let s=i.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this.re(a,i))).next((o=>(Ft("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o)))).next((()=>s.size))}))))}re(e,r){let n=e;return r.changes.forEach(((a,i)=>{let s=q9(i);eR(s,n)>0&&(n=s)})),new Zc(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}};var xl=class{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}};xl.oe=-1;function Rx(t){return t==null}function px(t){return t===0&&1/t==-1/0}function K9(t){return typeof t=="number"&&Number.isInteger(t)&&!px(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Xl(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=DV(e)),e=Wce(t.get(r),e);return DV(e)}function Wce(t,e){let r=e,n=t.length;for(let a=0;a<n;a++){let i=t.charAt(a);switch(i){case"\0":r+="";break;case"":r+="";break;default:r+=i}}return r}function DV(t){return t+""}function sf(t){let e=t.length;if(Or(e>=2),e===2)return Or(t.charAt(0)===""&&t.charAt(1)===""),ba.emptyPath();let r=e-2,n=[],a="";for(let i=0;i<e;){let s=t.indexOf("",i);switch((s<0||s>r)&&_r(),t.charAt(s+1)){case"":let o=t.substring(i,s),l;a.length===0?l=o:(a+=o,l=a,a=""),n.push(l);break;case"":a+=t.substring(i,s),a+="\0";break;case"":a+=t.substring(i,s+1);break;default:_r()}i=s+2}return new ba(n)}var MV=["userId","batchId"];function _5(t,e){return[t,Xl(e)]}function G9(t,e,r){return[t,Xl(e),r]}var $ce={},Yce=["prefixPath","collectionGroup","readTime","documentId"],Xce=["prefixPath","collectionGroup","documentId"],Jce=["collectionGroup","readTime","prefixPath","documentId"],Zce=["canonicalId","targetId"],ede=["targetId","path"],tde=["path","targetId"],rde=["collectionId","parent"],nde=["indexId","uid"],ade=["uid","sequenceNumber"],ide=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sde=["indexId","uid","orderedDocumentKey"],ode=["userId","collectionPath","documentId"],lde=["userId","collectionPath","largestBatchId"],ude=["userId","collectionGroup","largestBatchId"],W9=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cde=[...W9,"documentOverlays"],$9=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Y9=$9,rR=[...Y9,"indexConfiguration","indexState","indexEntries"],dde=rR,Ade=[...rR,"globals"];var mx=class extends U5{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}};function go(t,e){let r=ir(t);return Xp.F(r._e,e)}function OV(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Kg(t,e){for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function X9(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Bi=class t{constructor(e,r){this.comparator=e,this.root=r||lf.EMPTY}insert(e,r){return new t(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,lf.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lf.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){let n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){let a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){let e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uv(this.root,e,this.comparator,!0)}},Uv=class{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lf=class t{constructor(e,r,n,a,i){this.key=e,this.value=r,this.color=n??t.RED,this.left=a??t.EMPTY,this.right=i??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,i){return new t(e??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this,i=n(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return t.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _r();let e=this.left.check();if(e!==this.right.check())throw _r();return e+(this.isRed()?0:1)}};lf.EMPTY=null,lf.RED=!0,lf.BLACK=!1;lf.EMPTY=new class{constructor(){this.size=0}get key(){throw _r()}get value(){throw _r()}get color(){throw _r()}get left(){throw _r()}get right(){throw _r()}copy(e,r,n,a,i){return this}insert(e,r,n){return new lf(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var si=class t{constructor(e){this.comparator=e,this.data=new Bi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new M5(this.data.getIterator())}getIteratorFrom(e){return new M5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){let a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((r=>{e.push(r)})),e}toString(){let e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){let r=new t(this.comparator);return r.data=e,r}},M5=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Bv(t){return t.hasNext()?t.getNext():void 0}var hc=class t{constructor(e){this.fields=e,e.sort(Cs.comparator)}static empty(){return new t([])}unionWith(e){let r=new si(Cs.comparator);for(let n of this.fields)r=r.add(n);for(let n of e)r=r.add(n);return new t(r.toArray())}covers(e){for(let r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Qv(this.fields,e.fields,((r,n)=>r.isEqual(n)))}};var O5=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function J9(){return typeof atob<"u"}var Ns=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let r=(function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new O5("Invalid base64 string: "+i):i}})(e);return new t(r)}static fromUint8Array(e){let r=(function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i})(e);return new t(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){let n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ns.EMPTY_BYTE_STRING=new Ns("");var fde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yh(t){if(Or(!!t),typeof t=="string"){let e=0,r=fde.exec(t);if(Or(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}let n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Qi(t.seconds),nanos:Qi(t.nanos)}}function Qi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jp(t){return typeof t=="string"?Ns.fromBase64String(t):Ns.fromUint8Array(t)}function TS(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function nR(t){let e=t.mapValue.fields.__previous_value__;return TS(e)?nR(e):e}function gx(t){let e=yh(t.mapValue.fields.__local_write_time__.timestampValue);return new $i(e.seconds,e.nanos)}var f3=class{constructor(e,r,n,a,i,s,o,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}},Zp=class t{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Wp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},E5={nullValue:"NULL_VALUE"};function kg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TS(t)?4:Z9(t)?9007199254740991:LS(t)?10:11:_r()}function df(t,e){if(t===e)return!0;let r=kg(t);if(r!==kg(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gx(t).isEqual(gx(e));case 3:return(function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;let s=yh(a.timestampValue),o=yh(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,i){return Jp(a.bytesValue).isEqual(Jp(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,i){return Qi(a.geoPointValue.latitude)===Qi(i.geoPointValue.latitude)&&Qi(a.geoPointValue.longitude)===Qi(i.geoPointValue.longitude)})(t,e);case 2:return(function(a,i){if("integerValue"in a&&"integerValue"in i)return Qi(a.integerValue)===Qi(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){let s=Qi(a.doubleValue),o=Qi(i.doubleValue);return s===o?px(s)===px(o):isNaN(s)&&isNaN(o)}return!1})(t,e);case 9:return Qv(t.arrayValue.values||[],e.arrayValue.values||[],df);case 10:case 11:return(function(a,i){let s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(OV(s)!==OV(o))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!df(s[l],o[l])))return!1;return!0})(t,e);default:return _r()}}function yx(t,e){return(t.values||[]).find((r=>df(r,e)))!==void 0}function em(t,e){if(t===e)return 0;let r=kg(t),n=kg(e);if(r!==n)return Cn(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Cn(t.booleanValue,e.booleanValue);case 2:return(function(i,s){let o=Qi(i.integerValue||i.doubleValue),l=Qi(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return QV(t.timestampValue,e.timestampValue);case 4:return QV(gx(t),gx(e));case 5:return Cn(t.stringValue,e.stringValue);case 6:return(function(i,s){let o=Jp(i),l=Jp(s);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,s){let o=i.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){let c=Cn(o[u],l[u]);if(c!==0)return c}return Cn(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,s){let o=Cn(Qi(i.latitude),Qi(s.latitude));return o!==0?o:Cn(Qi(i.longitude),Qi(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return HV(t.arrayValue,e.arrayValue);case 10:return(function(i,s){var o,l,u,c;let d=i.fields||{},f=s.fields||{},A=(o=d.value)===null||o===void 0?void 0:o.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,I=Cn(((u=A?.values)===null||u===void 0?void 0:u.length)||0,((c=v?.values)===null||c===void 0?void 0:c.length)||0);return I!==0?I:HV(A,v)})(t.mapValue,e.mapValue);case 11:return(function(i,s){if(i===Wp.mapValue&&s===Wp.mapValue)return 0;if(i===Wp.mapValue)return 1;if(s===Wp.mapValue)return-1;let o=i.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){let f=Cn(l[d],c[d]);if(f!==0)return f;let A=em(o[l[d]],u[c[d]]);if(A!==0)return A}return Cn(l.length,c.length)})(t.mapValue,e.mapValue);default:throw _r()}}function QV(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Cn(t,e);let r=yh(t),n=yh(e),a=Cn(r.seconds,n.seconds);return a!==0?a:Cn(r.nanos,n.nanos)}function HV(t,e){let r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){let i=em(r[a],n[a]);if(i)return i}return Cn(r.length,n.length)}function Vv(t){return h3(t)}function h3(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){let n=yh(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Jp(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return sr.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",a=!0;for(let i of r.values||[])a?a=!1:n+=",",n+=h3(i);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){let n=Object.keys(r.fields||{}).sort(),a="{",i=!0;for(let s of n)i?i=!1:a+=",",a+=`${s}:${h3(r.fields[s])}`;return a+"}"})(t.mapValue):_r()}function Fg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p3(t){return!!t&&"integerValue"in t}function vx(t){return!!t&&"arrayValue"in t}function VV(t){return!!t&&"nullValue"in t}function qV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function T5(t){return!!t&&"mapValue"in t}function LS(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function ux(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Kg(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=ux(n))),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ux(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Z9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var eq={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function hde(t){return"nullValue"in t?E5:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fg(Zp.empty(),sr.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?LS(t)?eq:{mapValue:{}}:_r()}function pde(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fg(Zp.empty(),sr.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?eq:"mapValue"in t?LS(t)?{mapValue:{}}:Wp:_r()}function zV(t,e){let r=em(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function jV(t,e){let r=em(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var wl=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!T5(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ux(r)}setAll(e){let r=Cs.emptyPath(),n={},a=[];e.forEach(((s,o)=>{if(!r.isImmediateParentOf(o)){let l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=ux(s):a.push(o.lastSegment())}));let i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(e){let r=this.field(e.popLast());T5(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return df(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];T5(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){Kg(r,((a,i)=>e[a]=i));for(let a of n)delete e[a]}clone(){return new t(ux(this.value))}};function tq(t){let e=[];return Kg(t.fields,((r,n)=>{let a=new Cs([r]);if(T5(n)){let i=tq(n.mapValue).fields;if(i.length===0)e.push(a);else for(let s of i)e.push(a.child(s))}else e.push(a)})),new hc(e)}var Ks=class t{constructor(e,r,n,a,i,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new t(e,0,$r.min(),$r.min(),$r.min(),wl.empty(),0)}static newFoundDocument(e,r,n,a){return new t(e,1,r,$r.min(),n,a,0)}static newNoDocument(e,r){return new t(e,2,r,$r.min(),$r.min(),wl.empty(),0)}static newUnknownDocument(e,r){return new t(e,3,r,$r.min(),$r.min(),wl.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual($r.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$r.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Af=class{constructor(e,r){this.position=e,this.inclusive=r}};function KV(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){let i=e[a],s=t.position[a];if(i.field.isKeyField()?n=sr.comparator(sr.fromName(s.referenceValue),r.key):n=em(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function GV(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!df(t.position[r],e.position[r]))return!1;return!0}var Rg=class{constructor(e,r="asc"){this.field=e,this.dir=r}};function mde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Q5=class{},aa=class t extends Q5{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new y3(e,r,n):r==="array-contains"?new w3(e,n):r==="in"?new H5(e,n):r==="not-in"?new x3(e,n):r==="array-contains-any"?new C3(e,n):new t(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new v3(e,n):new b3(e,n)}matches(e){let r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(em(r,this.value)):r!==null&&kg(this.value)===kg(r)&&this.matchesComparison(em(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _r()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Wa=class t extends Q5{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new t(e,r)}matches(e){return qv(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function qv(t){return t.op==="and"}function m3(t){return t.op==="or"}function aR(t){return rq(t)&&qv(t)}function rq(t){for(let e of t.filters)if(e instanceof Wa)return!1;return!0}function g3(t){if(t instanceof aa)return t.field.canonicalString()+t.op.toString()+Vv(t.value);if(aR(t))return t.filters.map((e=>g3(e))).join(",");{let e=t.filters.map((r=>g3(r))).join(",");return`${t.op}(${e})`}}function nq(t,e){return t instanceof aa?(function(n,a){return a instanceof aa&&n.op===a.op&&n.field.isEqual(a.field)&&df(n.value,a.value)})(t,e):t instanceof Wa?(function(n,a){return a instanceof Wa&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((i,s,o)=>i&&nq(s,a.filters[o])),!0):!1})(t,e):void _r()}function aq(t,e){let r=t.filters.concat(e);return Wa.create(r,t.op)}function iq(t){return t instanceof aa?(function(r){return`${r.field.canonicalString()} ${r.op} ${Vv(r.value)}`})(t):t instanceof Wa?(function(r){return r.op.toString()+" {"+r.getFilters().map(iq).join(" ,")+"}"})(t):"Filter"}var y3=class extends aa{constructor(e,r,n){super(e,r,n),this.key=sr.fromName(n.referenceValue)}matches(e){let r=sr.comparator(e.key,this.key);return this.matchesComparison(r)}},v3=class extends aa{constructor(e,r){super(e,"in",r),this.keys=sq("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}},b3=class extends aa{constructor(e,r){super(e,"not-in",r),this.keys=sq("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}};function sq(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>sr.fromName(n.referenceValue)))}var w3=class extends aa{constructor(e,r){super(e,"array-contains",r)}matches(e){let r=e.data.field(this.field);return vx(r)&&yx(r.arrayValue,this.value)}},H5=class extends aa{constructor(e,r){super(e,"in",r)}matches(e){let r=e.data.field(this.field);return r!==null&&yx(this.value.arrayValue,r)}},x3=class extends aa{constructor(e,r){super(e,"not-in",r)}matches(e){if(yx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let r=e.data.field(this.field);return r!==null&&!yx(this.value.arrayValue,r)}},C3=class extends aa{constructor(e,r){super(e,"array-contains-any",r)}matches(e){let r=e.data.field(this.field);return!(!vx(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>yx(this.value.arrayValue,n)))}};var I3=class{constructor(e,r=null,n=[],a=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}};function N3(t,e=null,r=[],n=[],a=null,i=null,s=null){return new I3(t,e,r,n,a,i,s)}function Ug(t){let e=ir(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>g3(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),Rx(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Vv(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Vv(n))).join(",")),e.ue=r}return e.ue}function Ux(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!mde(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!nq(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GV(t.startAt,e.startAt)&&GV(t.endAt,e.endAt)}function V5(t){return sr.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function q5(t,e){return t.filters.filter((r=>r instanceof aa&&r.field.isEqual(e)))}function WV(t,e,r){let n=E5,a=!0;for(let i of q5(t,e)){let s=E5,o=!0;switch(i.op){case"<":case"<=":s=hde(i.value);break;case"==":case"in":case">=":s=i.value;break;case">":s=i.value,o=!1;break;case"!=":case"not-in":s=E5}zV({value:n,inclusive:a},{value:s,inclusive:o})<0&&(n=s,a=o)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){let s=r.position[i];zV({value:n,inclusive:a},{value:s,inclusive:r.inclusive})<0&&(n=s,a=r.inclusive);break}}return{value:n,inclusive:a}}function $V(t,e,r){let n=Wp,a=!0;for(let i of q5(t,e)){let s=Wp,o=!0;switch(i.op){case">=":case">":s=pde(i.value),o=!1;break;case"==":case"in":case"<=":s=i.value;break;case"<":s=i.value,o=!1;break;case"!=":case"not-in":s=Wp}jV({value:n,inclusive:a},{value:s,inclusive:o})>0&&(n=s,a=o)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){let s=r.position[i];jV({value:n,inclusive:a},{value:s,inclusive:r.inclusive})>0&&(n=s,a=r.inclusive);break}}return{value:n,inclusive:a}}var qd=class{constructor(e,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function oq(t,e,r,n,a,i,s,o){return new qd(t,e,r,n,a,i,s,o)}function a1(t){return new qd(t)}function YV(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iR(t){return t.collectionGroup!==null}function Mv(t){let e=ir(t);if(e.ce===null){e.ce=[];let r=new Set;for(let i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new si(Cs.comparator);return s.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(e).forEach((i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Rg(i,n))})),r.has(Cs.keyField().canonicalString())||e.ce.push(new Rg(Cs.keyField(),n))}return e.ce}function Jl(t){let e=ir(t);return e.le||(e.le=gde(e,Mv(t))),e.le}function gde(t,e){if(t.limitType==="F")return N3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{let i=a.dir==="desc"?"asc":"desc";return new Rg(a.field,i)}));let r=t.endAt?new Af(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Af(t.startAt.position,t.startAt.inclusive):null;return N3(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function S3(t,e){let r=t.filters.concat([e]);return new qd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function z5(t,e,r){return new qd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Dx(t,e){return Ux(Jl(t),Jl(e))&&t.limitType===e.limitType}function lq(t){return`${Ug(Jl(t))}|lt:${t.limitType}`}function Pv(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((a=>iq(a))).join(", ")}]`),Rx(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((a=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(a))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((a=>Vv(a))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((a=>Vv(a))).join(",")),`Target(${n})`})(Jl(t))}; limitType=${t.limitType})`}function Mx(t,e){return e.isFoundDocument()&&(function(n,a){let i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):sr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(t,e)&&(function(n,a){for(let i of Mv(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(n,a){for(let i of n.filters)if(!i.matches(a))return!1;return!0})(t,e)&&(function(n,a){return!(n.startAt&&!(function(s,o,l){let u=KV(s,o,l);return s.inclusive?u<=0:u<0})(n.startAt,Mv(n),a)||n.endAt&&!(function(s,o,l){let u=KV(s,o,l);return s.inclusive?u>=0:u>0})(n.endAt,Mv(n),a))})(t,e)}function uq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cq(t){return(e,r)=>{let n=!1;for(let a of Mv(t)){let i=yde(a,e,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function yde(t,e,r){let n=t.field.isKeyField()?sr.comparator(e.key,r.key):(function(i,s,o){let l=s.data.field(i),u=o.data.field(i);return l!==null&&u!==null?em(l,u):_r()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return _r()}}var ff=class{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){let r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(let[a,i]of n)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){let n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){let r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Kg(this.inner,((r,n)=>{for(let[a,i]of n)e(a,i)}))}isEmpty(){return X9(this.inner)}size(){return this.innerSize}};var vde=new Bi(sr.comparator);function Lu(){return vde}var dq=new Bi(sr.comparator);function ox(...t){let e=dq;for(let r of t)e=e.insert(r.key,r);return e}function Aq(t){let e=dq;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function of(){return cx()}function fq(){return cx()}function cx(){return new ff((t=>t.toString()),((t,e)=>t.isEqual(e)))}var bde=new Bi(sr.comparator),wde=new si(sr.comparator);function Fn(...t){let e=wde;for(let r of t)e=e.add(r);return e}var xde=new si(Cn);function sR(){return xde}function oR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:px(e)?"-0":e}}function hq(t){return{integerValue:""+t}}function pq(t,e){return K9(e)?hq(e):oR(t,e)}var zv=class{constructor(){this._=void 0}};function Cde(t,e,r){return t instanceof tm?(function(a,i){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&TS(i)&&(i=nR(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}})(r,e):t instanceof vh?gq(t,e):t instanceof bh?yq(t,e):(function(a,i){let s=mq(a,i),o=XV(s)+XV(a.Pe);return p3(s)&&p3(a.Pe)?hq(o):oR(a.serializer,o)})(t,e)}function Ide(t,e,r){return t instanceof vh?gq(t,e):t instanceof bh?yq(t,e):r}function mq(t,e){return t instanceof rm?(function(n){return p3(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(e)?e:{integerValue:0}:null}var tm=class extends zv{},vh=class extends zv{constructor(e){super(),this.elements=e}};function gq(t,e){let r=vq(e);for(let n of t.elements)r.some((a=>df(a,n)))||r.push(n);return{arrayValue:{values:r}}}var bh=class extends zv{constructor(e){super(),this.elements=e}};function yq(t,e){let r=vq(e);for(let n of t.elements)r=r.filter((a=>!df(a,n)));return{arrayValue:{values:r}}}var rm=class extends zv{constructor(e,r){super(),this.serializer=e,this.Pe=r}};function XV(t){return Qi(t.integerValue||t.doubleValue)}function vq(t){return vx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Dg=class{constructor(e,r){this.field=e,this.transform=r}};function Nde(t,e){return t.field.isEqual(e.field)&&(function(n,a){return n instanceof vh&&a instanceof vh||n instanceof bh&&a instanceof bh?Qv(n.elements,a.elements,df):n instanceof rm&&a instanceof rm?df(n.Pe,a.Pe):n instanceof tm&&a instanceof tm})(t.transform,e.transform)}var B3=class{constructor(e,r){this.version=e,this.transformResults=r}},us=class t{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function L5(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var jv=class{};function bq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new am(t.key,us.none()):new nm(t.key,t.data,us.none());{let r=t.data,n=wl.empty(),a=new si(Cs.comparator);for(let i of e.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new zd(t.key,n,new hc(a.toArray()),us.none())}}function Sde(t,e,r){t instanceof nm?(function(a,i,s){let o=a.value.clone(),l=ZV(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()})(t,e,r):t instanceof zd?(function(a,i,s){if(!L5(a.precondition,i))return void i.convertToUnknownDocument(s.version);let o=ZV(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(wq(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,r):(function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,r)}function dx(t,e,r,n){return t instanceof nm?(function(i,s,o,l){if(!L5(i.precondition,s))return o;let u=i.value.clone(),c=e9(i.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(t,e,r,n):t instanceof zd?(function(i,s,o,l){if(!L5(i.precondition,s))return o;let u=e9(i.fieldTransforms,l,s),c=s.data;return c.setAll(wq(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(t,e,r,n):(function(i,s,o){return L5(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o})(t,e,r)}function Bde(t,e){let r=null;for(let n of t.fieldTransforms){let a=e.data.field(n.field),i=mq(n.transform,a||null);i!=null&&(r===null&&(r=wl.empty()),r.set(n.field,i))}return r||null}function JV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Qv(n,a,((i,s)=>Nde(i,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var nm=class extends jv{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}},zd=class extends jv{constructor(e,r,n,a,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function wq(t){let e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){let n=t.data.field(r);e.set(r,n)}})),e}function ZV(t,e,r){let n=new Map;Or(t.length===r.length);for(let a=0;a<r.length;a++){let i=t[a],s=i.transform,o=e.data.field(i.field);n.set(i.field,Ide(s,o,r[a]))}return n}function e9(t,e,r){let n=new Map;for(let a of t){let i=a.transform,s=r.data.field(a.field);n.set(a.field,Cde(i,s,e))}return n}var am=class extends jv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bx=class extends jv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var wx=class{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){let n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){let i=this.mutations[a];i.key.isEqual(e.key)&&Sde(i,e,n[a])}}applyToLocalView(e,r){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(r=dx(n,e,r,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(r=dx(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){let n=fq();return this.mutations.forEach((a=>{let i=e.get(a.key),s=i.overlayedDocument,o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;let l=bq(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument($r.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Fn())}isEqual(e){return this.batchId===e.batchId&&Qv(this.mutations,e.mutations,((r,n)=>JV(r,n)))&&Qv(this.baseMutations,e.baseMutations,((r,n)=>JV(r,n)))}},_3=class t{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){Or(e.mutations.length===n.length);let a=(function(){return bde})(),i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new t(e,r,n,a)}};var xx=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var E3=class{constructor(e,r){this.count=e,this.unchangedNames=r}};var qs,va;function xq(t){switch(t){default:return _r();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}function Cq(t){if(t===void 0)return xs("GRPC error has no .code"),st.UNKNOWN;switch(t){case qs.OK:return st.OK;case qs.CANCELLED:return st.CANCELLED;case qs.UNKNOWN:return st.UNKNOWN;case qs.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case qs.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case qs.INTERNAL:return st.INTERNAL;case qs.UNAVAILABLE:return st.UNAVAILABLE;case qs.UNAUTHENTICATED:return st.UNAUTHENTICATED;case qs.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case qs.NOT_FOUND:return st.NOT_FOUND;case qs.ALREADY_EXISTS:return st.ALREADY_EXISTS;case qs.PERMISSION_DENIED:return st.PERMISSION_DENIED;case qs.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case qs.ABORTED:return st.ABORTED;case qs.OUT_OF_RANGE:return st.OUT_OF_RANGE;case qs.UNIMPLEMENTED:return st.UNIMPLEMENTED;case qs.DATA_LOSS:return st.DATA_LOSS;default:return _r()}}(va=qs||(qs={}))[va.OK=0]="OK",va[va.CANCELLED=1]="CANCELLED",va[va.UNKNOWN=2]="UNKNOWN",va[va.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",va[va.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",va[va.NOT_FOUND=5]="NOT_FOUND",va[va.ALREADY_EXISTS=6]="ALREADY_EXISTS",va[va.PERMISSION_DENIED=7]="PERMISSION_DENIED",va[va.UNAUTHENTICATED=16]="UNAUTHENTICATED",va[va.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",va[va.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",va[va.ABORTED=10]="ABORTED",va[va.OUT_OF_RANGE=11]="OUT_OF_RANGE",va[va.UNIMPLEMENTED=12]="UNIMPLEMENTED",va[va.INTERNAL=13]="INTERNAL",va[va.UNAVAILABLE=14]="UNAVAILABLE",va[va.DATA_LOSS=15]="DATA_LOSS";var t9=null;function Iq(){return new TextEncoder}var _de=new qp([4294967295,4294967295],0);function r9(t){let e=Iq().encode(t),r=new zk;return r.update(e),new Uint8Array(r.digest())}function n9(t){let e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new qp([r,n],0),new qp([a,i],0)]}var T3=class t{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Lg(`Invalid padding: ${r}`);if(n<0)throw new Lg(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Lg(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Lg(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=qp.fromNumber(this.Ie)}Ee(e,r,n){let a=e.add(r.multiply(qp.fromNumber(n)));return a.compare(_de)===1&&(a=new qp([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let r=r9(e),[n,a]=n9(r);for(let i=0;i<this.hashCount;i++){let s=this.Ee(n,a,i);if(!this.de(s))return!1}return!0}static create(e,r,n){let a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new t(i,a,r);return n.forEach((o=>s.insert(o))),s}insert(e){if(this.Ie===0)return;let r=r9(e),[n,a]=n9(r);for(let i=0;i<this.hashCount;i++){let s=this.Ee(n,a,i);this.Ae(s)}}Ae(e){let r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}},Lg=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Cx=class t{constructor(e,r,n,a,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){let a=new Map;return a.set(e,Ix.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new t($r.min(),a,new Bi(Cn),Lu(),Fn())}},Ix=class t{constructor(e,r,n,a,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new t(n,r,Fn(),Fn(),Fn())}};var Ov=class{constructor(e,r,n,a){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=a}},j5=class{constructor(e,r){this.targetId=e,this.me=r}},K5=class{constructor(e,r,n=Ns.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}},G5=class{constructor(){this.fe=0,this.ge=i9(),this.pe=Ns.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fn(),r=Fn(),n=Fn();return this.ge.forEach(((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:_r()}})),new Ix(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=i9()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Or(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},L3=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lu(),this.qe=a9(),this.Qe=new Bi(Cn)}Ke(e){for(let r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(let r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{let n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:_r()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,a)=>{this.ze(a)&&r(a)}))}He(e){let r=e.targetId,n=e.me.count,a=this.Je(r);if(a){let i=a.target;if(V5(i))if(n===0){let s=new sr(i.path);this.Ue(r,s,Ks.newNoDocument(s,$r.min()))}else Or(n===1);else{let s=this.Ye(r);if(s!==n){let o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(r);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}t9?.et((function(c,d,f,A,v){var I,w,g,b,S,F;let O={localCacheCount:c,existenceFilterCount:d.count,databaseId:f.database,projectId:f.projectId},R=d.unchangedNames;return R&&(O.bloomFilter={applied:v===0,hashCount:(I=R?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(b=(g=(w=R?.bits)===null||w===void 0?void 0:w.bitmap)===null||g===void 0?void 0:g.length)!==null&&b!==void 0?b:0,padding:(F=(S=R?.bits)===null||S===void 0?void 0:S.padding)!==null&&F!==void 0?F:0,mightContain:T=>{var B;return(B=A?.mightContain(T))!==null&&B!==void 0&&B}}),O})(s,e.me,this.Le.tt(),o,l))}}}}Ze(e){let r=e.me.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r,s,o;try{s=Jp(n).toUint8Array()}catch(l){if(l instanceof O5)return Vd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new T3(s,a,i)}catch(l){return Vd(l instanceof Lg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){let n=this.Le.getRemoteKeysForTarget(r),a=0;return n.forEach((i=>{let s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,i,null),a++)})),a}rt(e){let r=new Map;this.Be.forEach(((i,s)=>{let o=this.Je(s);if(o){if(i.current&&V5(o.target)){let l=new sr(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Ks.newNoDocument(l,e))}i.be&&(r.set(s,i.ve()),i.Ce())}}));let n=Fn();this.qe.forEach(((i,s)=>{let o=!0;s.forEachWhile((l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(i))})),this.ke.forEach(((i,s)=>s.setReadTime(e)));let a=new Cx(e,r,this.Qe,this.ke,n);return this.ke=Lu(),this.qe=a9(),this.Qe=new Bi(Cn),a}$e(e,r){if(!this.ze(e))return;let n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;let a=this.Ge(e);this.it(e,r)?a.Fe(r,1):a.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){let r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new G5,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new si(Cn),this.qe=this.qe.insert(e,r)),r}ze(e){let r=this.Je(e)!==null;return r||Ft("WatchChangeAggregator","Detected inactive target",e),r}Je(e){let r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new G5),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}};function a9(){return new Bi(sr.comparator)}function i9(){return new Bi(sr.comparator)}var Ede={asc:"ASCENDING",desc:"DESCENDING"},Tde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lde={and:"AND",or:"OR"},P3=class{constructor(e,r){this.databaseId=e,this.useProto3Json=r}};function k3(t,e){return t.useProto3Json||Rx(e)?e:{value:e}}function Kv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Pde(t,e){return Kv(t,e.toTimestamp())}function Is(t){return Or(!!t),$r.fromTimestamp((function(r){let n=yh(r);return new $i(n.seconds,n.nanos)})(t))}function lR(t,e){return F3(t,e).canonicalString()}function F3(t,e){let r=(function(a){return new ba(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?r:r.child(e)}function Sq(t){let e=ba.fromString(t);return Or(Uq(e)),e}function Nx(t,e){return lR(t.databaseId,e.path)}function uf(t,e){let r=Sq(e);if(r.get(1)!==t.databaseId.projectId)throw new Lt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Lt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new sr(Eq(r))}function Bq(t,e){return lR(t.databaseId,e)}function _q(t){let e=Sq(t);return e.length===4?ba.emptyPath():Eq(e)}function R3(t){return new ba(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Eq(t){return Or(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function s9(t,e,r){return{name:Nx(t,e),fields:r.value.mapValue.fields}}function Tq(t,e,r){let n=uf(t,e.name),a=Is(e.updateTime),i=e.createTime?Is(e.createTime):$r.min(),s=new wl({mapValue:{fields:e.fields}}),o=Ks.newFoundDocument(n,a,i,s);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function kde(t,e){return"found"in e?(function(n,a){Or(!!a.found),a.found.name,a.found.updateTime;let i=uf(n,a.found.name),s=Is(a.found.updateTime),o=a.found.createTime?Is(a.found.createTime):$r.min(),l=new wl({mapValue:{fields:a.found.fields}});return Ks.newFoundDocument(i,s,o,l)})(t,e):"missing"in e?(function(n,a){Or(!!a.missing),Or(!!a.readTime);let i=uf(n,a.missing),s=Is(a.readTime);return Ks.newNoDocument(i,s)})(t,e):_r()}function Fde(t,e){let r;if("targetChange"in e){e.targetChange;let n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_r()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=(function(u,c){return u.useProto3Json?(Or(c===void 0||typeof c=="string"),Ns.fromBase64String(c||"")):(Or(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ns.fromUint8Array(c||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&(function(u){let c=u.code===void 0?st.UNKNOWN:Cq(u.code);return new Lt(c,u.message||"")})(s);r=new K5(n,a,i,o||null)}else if("documentChange"in e){e.documentChange;let n=e.documentChange;n.document,n.document.name,n.document.updateTime;let a=uf(t,n.document.name),i=Is(n.document.updateTime),s=n.document.createTime?Is(n.document.createTime):$r.min(),o=new wl({mapValue:{fields:n.document.fields}}),l=Ks.newFoundDocument(a,i,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Ov(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;let n=e.documentDelete;n.document;let a=uf(t,n.document),i=n.readTime?Is(n.readTime):$r.min(),s=Ks.newNoDocument(a,i),o=n.removedTargetIds||[];r=new Ov([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;let n=e.documentRemove;n.document;let a=uf(t,n.document),i=n.removedTargetIds||[];r=new Ov([],i,a,null)}else{if(!("filter"in e))return _r();{e.filter;let n=e.filter;n.targetId;let{count:a=0,unchangedNames:i}=n,s=new E3(a,i),o=n.targetId;r=new j5(o,s)}}return r}function Sx(t,e){let r;if(e instanceof nm)r={update:s9(t,e.key,e.value)};else if(e instanceof am)r={delete:Nx(t,e.key)};else if(e instanceof zd)r={update:s9(t,e.key,e.data),updateMask:Qde(e.fieldMask)};else{if(!(e instanceof bx))return _r();r={verify:Nx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(i,s){let o=s.transform;if(o instanceof tm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof vh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof bh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof rm)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw _r()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(a,i){return i.updateTime!==void 0?{updateTime:Pde(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_r()})(t,e.precondition)),r}function U3(t,e){let r=e.currentDocument?(function(i){return i.updateTime!==void 0?us.updateTime(Is(i.updateTime)):i.exists!==void 0?us.exists(i.exists):us.none()})(e.currentDocument):us.none(),n=e.updateTransforms?e.updateTransforms.map((a=>(function(s,o){let l=null;if("setToServerValue"in o)Or(o.setToServerValue==="REQUEST_TIME"),l=new tm;else if("appendMissingElements"in o){let c=o.appendMissingElements.values||[];l=new vh(c)}else if("removeAllFromArray"in o){let c=o.removeAllFromArray.values||[];l=new bh(c)}else"increment"in o?l=new rm(s,o.increment):_r();let u=Cs.fromServerFormat(o.fieldPath);return new Dg(u,l)})(t,a))):[];if(e.update){e.update.name;let a=uf(t,e.update.name),i=new wl({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=(function(l){let u=l.fieldPaths||[];return new hc(u.map((c=>Cs.fromServerFormat(c))))})(e.updateMask);return new zd(a,i,s,r,n)}return new nm(a,i,r,n)}if(e.delete){let a=uf(t,e.delete);return new am(a,r)}if(e.verify){let a=uf(t,e.verify);return new bx(a,r)}return _r()}function Rde(t,e){return t&&t.length>0?(Or(e!==void 0),t.map((r=>(function(a,i){let s=a.updateTime?Is(a.updateTime):Is(i);return s.isEqual($r.min())&&(s=Is(i)),new B3(s,a.transformResults||[])})(r,e)))):[]}function Lq(t,e){return{documents:[Bq(t,e.path)]}}function Pq(t,e){let r={structuredQuery:{}},n=e.path,a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Bq(t,a);let i=(function(u){if(u.length!==0)return Rq(Wa.create(u,"and"))})(e.filters);i&&(r.structuredQuery.where=i);let s=(function(u){if(u.length!==0)return u.map((c=>(function(f){return{field:kv(f.field),direction:Dde(f.dir)}})(c)))})(e.orderBy);s&&(r.structuredQuery.orderBy=s);let o=k3(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{_t:r,parent:a}}function kq(t){let e=_q(t.parent),r=t.structuredQuery,n=r.from?r.from.length:0,a=null;if(n>0){Or(n===1);let c=r.from[0];c.allDescendants?a=c.collectionId:e=e.child(c.collectionId)}let i=[];r.where&&(i=(function(d){let f=Fq(d);return f instanceof Wa&&aR(f)?f.getFilters():[f]})(r.where));let s=[];r.orderBy&&(s=(function(d){return d.map((f=>(function(v){return new Rg(Fv(v.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(f)))})(r.orderBy));let o=null;r.limit&&(o=(function(d){let f;return f=typeof d=="object"?d.value:d,Rx(f)?null:f})(r.limit));let l=null;r.startAt&&(l=(function(d){let f=!!d.before,A=d.values||[];return new Af(A,f)})(r.startAt));let u=null;return r.endAt&&(u=(function(d){let f=!d.before,A=d.values||[];return new Af(A,f)})(r.endAt)),oq(e,a,s,i,o,"F",l,u)}function Ude(t,e){let r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _r()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Fq(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":let n=Fv(r.unaryFilter.field);return aa.create(n,"==",{doubleValue:NaN});case"IS_NULL":let a=Fv(r.unaryFilter.field);return aa.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=Fv(r.unaryFilter.field);return aa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Fv(r.unaryFilter.field);return aa.create(s,"!=",{nullValue:"NULL_VALUE"});default:return _r()}})(t):t.fieldFilter!==void 0?(function(r){return aa.create(Fv(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _r()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Wa.create(r.compositeFilter.filters.map((n=>Fq(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _r()}})(r.compositeFilter.op))})(t):_r()}function Dde(t){return Ede[t]}function Mde(t){return Tde[t]}function Ode(t){return Lde[t]}function kv(t){return{fieldPath:t.canonicalString()}}function Fv(t){return Cs.fromServerFormat(t.fieldPath)}function Rq(t){return t instanceof aa?(function(r){if(r.op==="=="){if(qV(r.value))return{unaryFilter:{field:kv(r.field),op:"IS_NAN"}};if(VV(r.value))return{unaryFilter:{field:kv(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(qV(r.value))return{unaryFilter:{field:kv(r.field),op:"IS_NOT_NAN"}};if(VV(r.value))return{unaryFilter:{field:kv(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kv(r.field),op:Mde(r.op),value:r.value}}})(t):t instanceof Wa?(function(r){let n=r.getFilters().map((a=>Rq(a)));return n.length===1?n[0]:{compositeFilter:{op:Ode(r.op),filters:n}}})(t):_r()}function Qde(t){let e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function Uq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Gv=class t{constructor(e,r,n,a,i=$r.min(),s=$r.min(),o=Ns.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var W5=class{constructor(e){this.ct=e}};function Hde(t,e){let r;if(e.document)r=Tq(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let n=sr.fromSegments(e.noDocument.path),a=Og(e.noDocument.readTime);r=Ks.newNoDocument(n,a),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return _r();{let n=sr.fromSegments(e.unknownDocument.path),a=Og(e.unknownDocument.version);r=Ks.newUnknownDocument(n,a)}}return e.readTime&&r.setReadTime((function(a){let i=new $i(a[0],a[1]);return $r.fromTimestamp(i)})(e.readTime)),r}function o9(t,e){let r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:$5(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(i,s){return{name:Nx(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Kv(i,s.version.toTimestamp()),createTime:Kv(i,s.createTime.toTimestamp())}})(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Mg(e.version)};else{if(!e.isUnknownDocument())return _r();n.unknownDocument={path:r.path.toArray(),version:Mg(e.version)}}return n}function $5(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Mg(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Og(t){let e=new $i(t.seconds,t.nanoseconds);return $r.fromTimestamp(e)}function _g(t,e){let r=(e.baseMutations||[]).map((i=>U3(t.ct,i)));for(let i=0;i<e.mutations.length-1;++i){let s=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){let o=e.mutations[i+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}let n=e.mutations.map((i=>U3(t.ct,i))),a=$i.fromMillis(e.localWriteTimeMs);return new wx(e.batchId,a,r,n)}function lx(t){let e=Og(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?Og(t.lastLimboFreeSnapshotVersion):$r.min(),n;return n=(function(i){return i.documents!==void 0})(t.query)?(function(i){return Or(i.documents.length===1),Jl(a1(_q(i.documents[0])))})(t.query):(function(i){return Jl(kq(i))})(t.query),new Gv(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Ns.fromBase64String(t.resumeToken))}function Dq(t,e){let r=Mg(e.snapshotVersion),n=Mg(e.lastLimboFreeSnapshotVersion),a;a=V5(e.target)?Lq(t.ct,e.target):Pq(t.ct,e.target)._t;let i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ug(e.target),readTime:r,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:a}}function uR(t){let e=kq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?z5(e,e.limit,"L"):e}function Yk(t,e){return new xx(e.largestBatchId,U3(t.ct,e.overlayMutation))}function l9(t,e){let r=e.path.lastSegment();return[t,Xl(e.path.popLast()),r]}function u9(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:Mg(n.readTime),documentKey:Xl(n.documentKey.path),largestBatchId:n.largestBatchId}}var D3=class{getBundleMetadata(e,r){return c9(e).get(r).next((n=>{if(n)return(function(i){return{id:i.bundleId,createTime:Og(i.createTime),version:i.version}})(n)}))}saveBundleMetadata(e,r){return c9(e).put((function(a){return{bundleId:a.id,createTime:Mg(Is(a.createTime)),version:a.version}})(r))}getNamedQuery(e,r){return d9(e).get(r).next((n=>{if(n)return(function(i){return{name:i.name,query:uR(i.bundledQuery),readTime:Og(i.readTime)}})(n)}))}saveNamedQuery(e,r){return d9(e).put((function(a){return{name:a.name,readTime:Mg(Is(a.readTime)),bundledQuery:a.bundledQuery}})(r))}};function c9(t){return go(t,"bundles")}function d9(t){return go(t,"namedQueries")}var Y5=class t{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){let n=r.uid||"";return new t(e,n)}getOverlay(e,r){return nx(e).get(l9(this.userId,r)).next((n=>n?Yk(this.serializer,n):null))}getOverlays(e,r){let n=of();return nt.forEach(r,(a=>this.getOverlay(e,a).next((i=>{i!==null&&n.set(a,i)})))).next((()=>n))}saveOverlays(e,r,n){let a=[];return n.forEach(((i,s)=>{let o=new xx(r,s);a.push(this.ht(e,o))})),nt.waitFor(a)}removeOverlaysForBatchId(e,r,n){let a=new Set;r.forEach((s=>a.add(Xl(s.getCollectionPath()))));let i=[];return a.forEach((s=>{let o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);i.push(nx(e).j("collectionPathOverlayIndex",o))})),nt.waitFor(i)}getOverlaysForCollection(e,r,n){let a=of(),i=Xl(r),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return nx(e).U("collectionPathOverlayIndex",s).next((o=>{for(let l of o){let u=Yk(this.serializer,l);a.set(u.getKey(),u)}return a}))}getOverlaysForCollectionGroup(e,r,n,a){let i=of(),s,o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return nx(e).J({index:"collectionGroupOverlayIndex",range:o},((l,u,c)=>{let d=Yk(this.serializer,u);i.size()<a||d.largestBatchId===s?(i.set(d.getKey(),d),s=d.largestBatchId):c.done()})).next((()=>i))}ht(e,r){return nx(e).put((function(a,i,s){let[o,l,u]=l9(i,s.mutation.key);return{userId:i,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Sx(a.ct,s.mutation)}})(this.serializer,this.userId,r))}};function nx(t){return go(t,"documentOverlays")}var M3=class{Pt(e){return go(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((r=>{let n=r?.value;return n?Ns.fromUint8Array(n):Ns.EMPTY_BYTE_STRING}))}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}};var mh=class{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Qi(e.integerValue));else if("doubleValue"in e){let n=Qi(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),px(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=yh(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Jp(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){let n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?Z9(e)?this.dt(r,Number.MAX_SAFE_INTEGER):LS(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):_r()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){let n=e.fields||{};this.dt(r,55);for(let a of Object.keys(n))this.Vt(a,r),this.Tt(n[a],r)}wt(e,r){var n,a;let i=e.fields||{};this.dt(r,53);let s="value",o=((a=(n=i[s].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.length)||0;this.dt(r,15),r.At(Qi(o)),this.Vt(s,r),this.Tt(i[s],r)}bt(e,r){let n=e.values||[];this.dt(r,50);for(let a of n)this.Tt(a,r)}yt(e,r){this.dt(r,37),sr.fromName(e).path.forEach((n=>{this.dt(r,60),this.Dt(n,r)}))}dt(e,r){e.At(r)}ft(e){e.At(2)}};mh.vt=new mh;function Vde(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function A9(t){let e=64-(function(n){let a=0;for(let i=0;i<8;++i){let s=Vde(255&n[i]);if(a+=s,s!==8)break}return a})(t);return Math.ceil(e/8)}var O3=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let r=e[Symbol.iterator](),n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){let r=e[Symbol.iterator](),n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(let r of e){let n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{let a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}this.Mt()}Bt(e){for(let r of e){let n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{let a=r.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}this.Nt()}kt(e){let r=this.qt(e),n=A9(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=255&r[a]}Kt(e){let r=this.qt(e),n=A9(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=~(255&r[a])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let r=(function(i){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)})(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let a=1;a<r.length;++a)r[a]^=n?255:0;return r}Ft(e){let r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){let r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);let a=new Uint8Array(n);a.set(this.buffer),this.buffer=a}},Q3=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},H3=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},Eg=class{constructor(){this.jt=new O3,this.Ht=new Q3(this.jt),this.Jt=new H3(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var Tg=class t{constructor(e,r,n,a){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=a}Zt(){let e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new t(this.indexId,this.documentKey,this.arrayValue,n)}};function zp(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=f9(t.arrayValue,e.arrayValue),r!==0?r:(r=f9(t.directionalValue,e.directionalValue),r!==0?r:sr.comparator(t.documentKey,e.documentKey)))}function f9(t,e){for(let r=0;r<t.length&&r<e.length;++r){let n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}var X5=class{constructor(e){this.Xt=new si(((r,n)=>Cs.comparator(r.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let r of e.filters){let n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(Or(e.collectionGroup===this.collectionId),this.nn)return!1;let r=l3(e);if(r!==void 0&&!this.sn(r))return!1;let n=Sg(e),a=new Set,i=0,s=0;for(;i<n.length&&this.sn(n[i]);++i)a=a.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Xt.size>0){let o=this.Xt.getIterator().getNext();if(!a.has(o.field.canonicalString())){let l=n[i];if(!this.on(o,l)||!this._n(this.en[s++],l))return!1}++i}for(;i<n.length;++i){let o=n[i];if(s>=this.en.length||!this._n(this.en[s++],o))return!1}return!0}an(){if(this.nn)return null;let e=new si(Cs.comparator),r=[];for(let n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new Dv(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new Dv(n.field,0))}for(let n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new Dv(n.field,n.dir==="asc"?0:1)));return new Hv(Hv.UNKNOWN_ID,this.collectionId,r,hx.empty())}sn(e){for(let r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;let n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}};function Mq(t){var e,r;if(Or(t instanceof aa||t instanceof Wa),t instanceof aa){if(t instanceof H5){let a=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map((i=>aa.create(t.field,"==",i))))||[];return Wa.create(a,"or")}return t}let n=t.filters.map((a=>Mq(a)));return Wa.create(n,t.op)}function qde(t){if(t.getFilters().length===0)return[];let e=z3(Mq(t));return Or(Oq(e)),V3(e)||q3(e)?[e]:e.getFilters()}function V3(t){return t instanceof aa}function q3(t){return t instanceof Wa&&aR(t)}function Oq(t){return V3(t)||q3(t)||(function(r){if(r instanceof Wa&&m3(r)){for(let n of r.getFilters())if(!V3(n)&&!q3(n))return!1;return!0}return!1})(t)}function z3(t){if(Or(t instanceof aa||t instanceof Wa),t instanceof aa)return t;if(t.filters.length===1)return z3(t.filters[0]);let e=t.filters.map((n=>z3(n))),r=Wa.create(e,t.op);return r=J5(r),Oq(r)?r:(Or(r instanceof Wa),Or(qv(r)),Or(r.filters.length>1),r.filters.reduce(((n,a)=>cR(n,a))))}function cR(t,e){let r;return Or(t instanceof aa||t instanceof Wa),Or(e instanceof aa||e instanceof Wa),r=t instanceof aa?e instanceof aa?(function(a,i){return Wa.create([a,i],"and")})(t,e):h9(t,e):e instanceof aa?h9(e,t):(function(a,i){if(Or(a.filters.length>0&&i.filters.length>0),qv(a)&&qv(i))return aq(a,i.getFilters());let s=m3(a)?a:i,o=m3(a)?i:a,l=s.filters.map((u=>cR(u,o)));return Wa.create(l,"or")})(t,e),J5(r)}function h9(t,e){if(qv(e))return aq(e,t.getFilters());{let r=e.filters.map((n=>cR(t,n)));return Wa.create(r,"or")}}function J5(t){if(Or(t instanceof aa||t instanceof Wa),t instanceof aa)return t;let e=t.getFilters();if(e.length===1)return J5(e[0]);if(rq(t))return t;let r=e.map((a=>J5(a))),n=[];return r.forEach((a=>{a instanceof aa?n.push(a):a instanceof Wa&&(a.op===t.op?n.push(...a.filters):n.push(a))})),n.length===1?n[0]:Wa.create(n,t.op)}var j3=class{constructor(){this.un=new Bx}addToCollectionParentIndex(e,r){return this.un.add(r),nt.resolve()}getCollectionParents(e,r){return nt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return nt.resolve()}deleteFieldIndex(e,r){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,r){return nt.resolve()}getDocumentsMatchingTarget(e,r){return nt.resolve(null)}getIndexType(e,r){return nt.resolve(0)}getFieldIndexes(e,r){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,r){return nt.resolve(Zc.min())}getMinOffsetFromCollectionGroup(e,r){return nt.resolve(Zc.min())}updateCollectionGroup(e,r,n){return nt.resolve()}updateIndexEntries(e,r){return nt.resolve()}},Bx=class{constructor(){this.index={}}add(e){let r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new si(ba.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(e){let r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new si(ba.comparator)).toArray()}};var I5=new Uint8Array(0),K3=class{constructor(e,r){this.databaseId=r,this.cn=new Bx,this.ln=new ff((n=>Ug(n)),((n,a)=>Ux(n,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){let n=r.lastSegment(),a=r.popLast();e.addOnCommittedListener((()=>{this.cn.add(r)}));let i={collectionId:n,parent:Xl(a)};return p9(e).put(i)}return nt.resolve()}getCollectionParents(e,r){let n=[],a=IDBKeyRange.bound([r,""],[H9(r),""],!1,!0);return p9(e).U(a).next((i=>{for(let s of i){if(s.collectionId!==r)break;n.push(sf(s.parent))}return n}))}addFieldIndex(e,r){let n=ax(e),a=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(r);delete a.indexId;let i=n.add(a);if(r.indexState){let s=Ev(e);return i.next((o=>{s.put(u9(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))}))}return i.next()}deleteFieldIndex(e,r){let n=ax(e),a=Ev(e),i=_v(e);return n.delete(r.indexId).next((()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){let r=ax(e),n=_v(e),a=Ev(e);return r.j().next((()=>n.j())).next((()=>a.j()))}createTargetIndexes(e,r){return nt.forEach(this.hn(r),(n=>this.getIndexType(e,n).next((a=>{if(a===0||a===1){let i=new X5(n).an();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,r){let n=_v(e),a=!0,i=new Map;return nt.forEach(this.hn(r),(s=>this.Pn(e,s).next((o=>{a&&(a=!!o),i.set(s,o)})))).next((()=>{if(a){let s=Fn(),o=[];return nt.forEach(i,((l,u)=>{Ft("IndexedDbIndexManager",`Using index ${(function(S){return`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map((F=>`${F.fieldPath}:${F.kind}`)).join(",")}`})(l)} to execute ${Ug(r)}`);let c=(function(S,F){let O=l3(F);if(O===void 0)return null;for(let R of q5(S,O.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null})(u,l),d=(function(S,F){let O=new Map;for(let R of Sg(F))for(let T of q5(S,R.fieldPath))switch(T.op){case"==":case"in":O.set(R.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return O.set(R.fieldPath.canonicalString(),T.value),Array.from(O.values())}return null})(u,l),f=(function(S,F){let O=[],R=!0;for(let T of Sg(F)){let B=T.kind===0?WV(S,T.fieldPath,S.startAt):$V(S,T.fieldPath,S.startAt);O.push(B.value),R&&(R=B.inclusive)}return new Af(O,R)})(u,l),A=(function(S,F){let O=[],R=!0;for(let T of Sg(F)){let B=T.kind===0?$V(S,T.fieldPath,S.endAt):WV(S,T.fieldPath,S.endAt);O.push(B.value),R&&(R=B.inclusive)}return new Af(O,R)})(u,l),v=this.In(l,u,f),I=this.In(l,u,A),w=this.Tn(l,u,d),g=this.En(l.indexId,c,v,f.inclusive,I,A.inclusive,w);return nt.forEach(g,(b=>n.G(b,r.limit).next((S=>{S.forEach((F=>{let O=sr.fromSegments(F.documentKey);s.has(O)||(s=s.add(O),o.push(O))}))}))))})).next((()=>o))}return nt.resolve(null)}))}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=qde(Wa.create(e.filters,"and")).map((n=>N3(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,r),r)}En(e,r,n,a,i,s,o){let l=(r!=null?r.length:1)*Math.max(n.length,i.length),u=l/(r!=null?r.length:1),c=[];for(let d=0;d<l;++d){let f=r?this.dn(r[d/u]):I5,A=this.An(e,f,n[d%u],a),v=this.Rn(e,f,i[d%u],s),I=o.map((w=>this.An(e,f,w,!0)));c.push(...this.createRange(A,v,I))}return c}An(e,r,n,a){let i=new Tg(e,sr.empty(),r,n);return a?i:i.Zt()}Rn(e,r,n,a){let i=new Tg(e,sr.empty(),r,n);return a?i.Zt():i}Pn(e,r){let n=new X5(r),a=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,a).next((i=>{let s=null;for(let o of i)n.rn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s}))}getIndexType(e,r){let n=2,a=this.hn(r);return nt.forEach(a,(i=>this.Pn(e,i).next((s=>{s?n!==0&&s.fields.length<(function(l){let u=new si(Cs.comparator),c=!1;for(let d of l.filters)for(let f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?c=!0:u=u.add(f.field));for(let d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)})(i)&&(n=1):n=0})))).next((()=>(function(s){return s.limit!==null})(r)&&a.length>1&&n===2?1:n))}Vn(e,r){let n=new Eg;for(let a of Sg(e)){let i=r.data.field(a.fieldPath);if(i==null)return null;let s=n.Yt(a.kind);mh.vt.It(i,s)}return n.zt()}dn(e){let r=new Eg;return mh.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){let n=new Eg;return mh.vt.It(Fg(this.databaseId,r),n.Yt((function(i){let s=Sg(i);return s.length===0?0:s[s.length-1].kind})(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let a=[];a.push(new Eg);let i=0;for(let s of Sg(e)){let o=n[i++];for(let l of a)if(this.fn(r,s.fieldPath)&&vx(o))a=this.gn(a,s,o);else{let u=l.Yt(s.kind);mh.vt.It(o,u)}}return this.pn(a)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){let r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){let a=[...e],i=[];for(let s of n.arrayValue.values||[])for(let o of a){let l=new Eg;l.seed(o.zt()),mh.vt.It(s,l.Yt(r.kind)),i.push(l)}return i}fn(e,r){return!!e.filters.find((n=>n instanceof aa&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,r){let n=ax(e),a=Ev(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next((i=>{let s=[];return nt.forEach(i,(o=>a.get([o.indexId,this.uid]).next((l=>{s.push((function(c,d){let f=d?new hx(d.sequenceNumber,new Zc(Og(d.readTime),new sr(sf(d.documentKey)),d.largestBatchId)):hx.empty(),A=c.fields.map((([v,I])=>new Dv(Cs.fromServerFormat(v),I)));return new Hv(c.indexId,c.collectionGroup,A,f)})(o,l))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((r=>r.length===0?null:(r.sort(((n,a)=>{let i=n.indexState.sequenceNumber-a.indexState.sequenceNumber;return i!==0?i:Cn(n.collectionGroup,a.collectionGroup)})),r[0].collectionGroup)))}updateCollectionGroup(e,r,n){let a=ax(e),i=Ev(e);return this.yn(e).next((s=>a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next((o=>nt.forEach(o,(l=>i.put(u9(l.indexId,this.uid,s,n))))))))}updateIndexEntries(e,r){let n=new Map;return nt.forEach(r,((a,i)=>{let s=n.get(a.collectionGroup);return(s?nt.resolve(s):this.getFieldIndexes(e,a.collectionGroup)).next((o=>(n.set(a.collectionGroup,o),nt.forEach(o,(l=>this.wn(e,a,l).next((u=>{let c=this.Sn(i,l);return u.isEqual(c)?nt.resolve():this.bn(e,i,l,u,c)})))))))}))}Dn(e,r,n,a){return _v(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,a){return _v(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){let a=_v(e),i=new si(zp);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},((s,o)=>{i=i.add(new Tg(n.indexId,r,o.arrayValue,o.directionalValue))})).next((()=>i))}Sn(e,r){let n=new si(zp),a=this.Vn(r,e);if(a==null)return n;let i=l3(r);if(i!=null){let s=e.data.field(i.fieldPath);if(vx(s))for(let o of s.arrayValue.values||[])n=n.add(new Tg(r.indexId,e.key,this.dn(o),a))}else n=n.add(new Tg(r.indexId,e.key,I5,a));return n}bn(e,r,n,a,i){Ft("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);let s=[];return(function(l,u,c,d,f){let A=l.getIterator(),v=u.getIterator(),I=Bv(A),w=Bv(v);for(;I||w;){let g=!1,b=!1;if(I&&w){let S=c(I,w);S<0?b=!0:S>0&&(g=!0)}else I!=null?b=!0:g=!0;g?(d(w),w=Bv(v)):b?(f(I),I=Bv(A)):(I=Bv(A),w=Bv(v))}})(a,i,zp,(o=>{s.push(this.Dn(e,r,n,o))}),(o=>{s.push(this.vn(e,r,n,o))})),nt.waitFor(s)}yn(e){let r=1;return Ev(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,a,i)=>{i.done(),r=a.sequenceNumber+1})).next((()=>r))}createRange(e,r,n){n=n.sort(((s,o)=>zp(s,o))).filter(((s,o,l)=>!o||zp(s,l[o-1])!==0));let a=[];a.push(e);for(let s of n){let o=zp(s,e),l=zp(s,r);if(o===0)a[0]=e.Zt();else if(o>0&&l<0)a.push(s),a.push(s.Zt());else if(l>0)break}a.push(r);let i=[];for(let s=0;s<a.length;s+=2){if(this.Cn(a[s],a[s+1]))return[];let o=[a[s].indexId,this.uid,a[s].arrayValue,a[s].directionalValue,I5,[]],l=[a[s+1].indexId,this.uid,a[s+1].arrayValue,a[s+1].directionalValue,I5,[]];i.push(IDBKeyRange.bound(o,l))}return i}Cn(e,r){return zp(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(m9)}getMinOffset(e,r){return nt.mapArray(this.hn(r),(n=>this.Pn(e,n).next((a=>a||_r())))).next(m9)}};function p9(t){return go(t,"collectionParents")}function _v(t){return go(t,"indexEntries")}function ax(t){return go(t,"indexConfiguration")}function Ev(t){return go(t,"indexState")}function m9(t){Or(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){let a=t[n].indexState.offset;eR(a,e)<0&&(e=a),r<a.largestBatchId&&(r=a.largestBatchId)}return new Zc(e.readTime,e.documentKey,r)}var g9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jc=class t{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function Qq(t,e,r){let n=t.store("mutations"),a=t.store("documentMutations"),i=[],s=IDBKeyRange.only(r.batchId),o=0,l=n.J({range:s},((c,d,f)=>(o++,f.delete())));i.push(l.next((()=>{Or(o===1)})));let u=[];for(let c of r.mutations){let d=G9(e,c.key.path,r.batchId);i.push(a.delete(d)),u.push(c.key)}return nt.waitFor(i).next((()=>u))}function Z5(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _r();e=t.noDocument}return JSON.stringify(e).length}Jc.DEFAULT_COLLECTION_PERCENTILE=10,Jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jc.DEFAULT=new Jc(41943040,Jc.DEFAULT_COLLECTION_PERCENTILE,Jc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jc.DISABLED=new Jc(-1,0,0);var eS=class t{constructor(e,r,n,a){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=a,this.Fn={}}static lt(e,r,n,a){Or(e.uid!=="");let i=e.isAuthenticated()?e.uid:"";return new t(i,r,n,a)}checkEmpty(e){let r=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jp(e).J({index:"userMutationsIndex",range:n},((a,i,s)=>{r=!1,s.done()})).next((()=>r))}addMutationBatch(e,r,n,a){let i=Rv(e),s=jp(e);return s.add({}).next((o=>{Or(typeof o=="number");let l=new wx(o,r,n,a),u=(function(A,v,I){let w=I.baseMutations.map((b=>Sx(A.ct,b))),g=I.mutations.map((b=>Sx(A.ct,b)));return{userId:v,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:w,mutations:g}})(this.serializer,this.userId,l),c=[],d=new si(((f,A)=>Cn(f.canonicalString(),A.canonicalString())));for(let f of a){let A=G9(this.userId,f.key.path,o);d=d.add(f.key.path.popLast()),c.push(s.put(u)),c.push(i.put(A,$ce))}return d.forEach((f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))})),e.addOnCommittedListener((()=>{this.Fn[o]=l.keys()})),nt.waitFor(c).next((()=>l))}))}lookupMutationBatch(e,r){return jp(e).get(r).next((n=>n?(Or(n.userId===this.userId),_g(this.serializer,n)):null))}Mn(e,r){return this.Fn[r]?nt.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next((n=>{if(n){let a=n.keys();return this.Fn[r]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,r){let n=r+1,a=IDBKeyRange.lowerBound([this.userId,n]),i=null;return jp(e).J({index:"userMutationsIndex",range:a},((s,o,l)=>{o.userId===this.userId&&(Or(o.batchId>=n),i=_g(this.serializer,o)),l.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){let r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jp(e).J({index:"userMutationsIndex",range:r,reverse:!0},((a,i,s)=>{n=i.batchId,s.done()})).next((()=>n))}getAllMutationBatches(e){let r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jp(e).U("userMutationsIndex",r).next((n=>n.map((a=>_g(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,r){let n=_5(this.userId,r.path),a=IDBKeyRange.lowerBound(n),i=[];return Rv(e).J({range:a},((s,o,l)=>{let[u,c,d]=s,f=sf(c);if(u===this.userId&&r.path.isEqual(f))return jp(e).get(d).next((A=>{if(!A)throw _r();Or(A.userId===this.userId),i.push(_g(this.serializer,A))}));l.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new si(Cn),a=[];return r.forEach((i=>{let s=_5(this.userId,i.path),o=IDBKeyRange.lowerBound(s),l=Rv(e).J({range:o},((u,c,d)=>{let[f,A,v]=u,I=sf(A);f===this.userId&&i.path.isEqual(I)?n=n.add(v):d.done()}));a.push(l)})),nt.waitFor(a).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,r){let n=r.path,a=n.length+1,i=_5(this.userId,n),s=IDBKeyRange.lowerBound(i),o=new si(Cn);return Rv(e).J({range:s},((l,u,c)=>{let[d,f,A]=l,v=sf(f);d===this.userId&&n.isPrefixOf(v)?v.length===a&&(o=o.add(A)):c.done()})).next((()=>this.xn(e,o)))}xn(e,r){let n=[],a=[];return r.forEach((i=>{a.push(jp(e).get(i).next((s=>{if(s===null)throw _r();Or(s.userId===this.userId),n.push(_g(this.serializer,s))})))})),nt.waitFor(a).next((()=>n))}removeMutationBatch(e,r){return Qq(e._e,this.userId,r).next((n=>(e.addOnCommittedListener((()=>{this.On(r.batchId)})),nt.forEach(n,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((r=>{if(!r)return nt.resolve();let n=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),a=[];return Rv(e).J({range:n},((i,s,o)=>{if(i[0]===this.userId){let l=sf(i[1]);a.push(l)}else o.done()})).next((()=>{Or(a.length===0)}))}))}containsKey(e,r){return Hq(e,this.userId,r)}Nn(e){return Vq(e).get(this.userId).next((r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}};function Hq(t,e,r){let n=_5(e,r.path),a=n[1],i=IDBKeyRange.lowerBound(n),s=!1;return Rv(t).J({range:i,H:!0},((o,l,u)=>{let[c,d,f]=o;c===e&&d===a&&(s=!0),u.done()})).next((()=>s))}function jp(t){return go(t,"mutations")}function Rv(t){return go(t,"documentMutations")}function Vq(t){return go(t,"mutationQueues")}var Wv=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var G3=class{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next((r=>{let n=new Wv(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next((()=>r.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((r=>$r.fromTimestamp(new $i(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((r=>r.highestListenSequenceNumber))}setTargetsMetadata(e,r,n){return this.qn(e).next((a=>(a.highestListenSequenceNumber=r,n&&(a.lastRemoteSnapshotVersion=n.toTimestamp()),r>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r),this.Qn(e,a))))}addTargetData(e,r){return this.Kn(e,r).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next((()=>Tv(e).delete(r.targetId))).next((()=>this.qn(e))).next((n=>(Or(n.targetCount>0),n.targetCount-=1,this.Qn(e,n))))}removeTargets(e,r,n){let a=0,i=[];return Tv(e).J(((s,o)=>{let l=lx(o);l.sequenceNumber<=r&&n.get(l.targetId)===null&&(a++,i.push(this.removeTargetData(e,l)))})).next((()=>nt.waitFor(i))).next((()=>a))}forEachTarget(e,r){return Tv(e).J(((n,a)=>{let i=lx(a);r(i)}))}qn(e){return y9(e).get("targetGlobalKey").next((r=>(Or(r!==null),r)))}Qn(e,r){return y9(e).put("targetGlobalKey",r)}Kn(e,r){return Tv(e).put(Dq(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((r=>r.targetCount))}getTargetData(e,r){let n=Ug(r),a=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tv(e).J({range:a,index:"queryTargetsIndex"},((s,o,l)=>{let u=lx(o);Ux(r,u.target)&&(i=u,l.done())})).next((()=>i))}addMatchingKeys(e,r,n){let a=[],i=Kp(e);return r.forEach((s=>{let o=Xl(s.path);a.push(i.put({targetId:n,path:o})),a.push(this.referenceDelegate.addReference(e,n,s))})),nt.waitFor(a)}removeMatchingKeys(e,r,n){let a=Kp(e);return nt.forEach(r,(i=>{let s=Xl(i.path);return nt.waitFor([a.delete([n,s]),this.referenceDelegate.removeReference(e,n,i)])}))}removeMatchingKeysForTargetId(e,r){let n=Kp(e),a=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(a)}getMatchingKeysForTargetId(e,r){let n=IDBKeyRange.bound([r],[r+1],!1,!0),a=Kp(e),i=Fn();return a.J({range:n,H:!0},((s,o,l)=>{let u=sf(s[1]),c=new sr(u);i=i.add(c)})).next((()=>i))}containsKey(e,r){let n=Xl(r.path),a=IDBKeyRange.bound([n],[H9(n)],!1,!0),i=0;return Kp(e).J({index:"documentTargetsIndex",H:!0,range:a},(([s,o],l,u)=>{s!==0&&(i++,u.done())})).next((()=>i>0))}ot(e,r){return Tv(e).get(r).next((n=>n?lx(n):null))}};function Tv(t){return go(t,"targets")}function y9(t){return go(t,"targetGlobal")}function Kp(t){return go(t,"targetDocuments")}function v9([t,e],[r,n]){let a=Cn(t,r);return a===0?Cn(e,n):a}var W3=class{constructor(e){this.Un=e,this.buffer=new si(v9),this.Wn=0}Gn(){return++this.Wn}zn(e){let r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{let n=this.buffer.last();v9(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}},$3=class{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Ft("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){om(r)?Ft("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await sm(r)}await this.Hn(3e5)}))}},Y3=class{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return nt.resolve(xl.oe);let n=new W3(r);return this.Jn.forEachTarget(e,(a=>n.zn(a.sequenceNumber))).next((()=>this.Jn.Zn(e,(a=>n.zn(a))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(g9)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g9):this.Xn(e,r)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,a,i,s,o,l,u,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,s=Date.now(),this.nthSequenceNumber(e,a)))).next((d=>(n=d,o=Date.now(),this.removeTargets(e,n,r)))).next((d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((d=>(u=Date.now(),Lv()<=jn.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:d}))))}};function zde(t,e){return new Y3(t,e)}var X3=class{constructor(e,r){this.db=e,this.garbageCollector=zde(this,r)}Yn(e){let r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((n=>r.next((a=>n+a))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,((n,a)=>r(a)))}addReference(e,r,n){return N5(e,n)}removeReference(e,r,n){return N5(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return N5(e,r)}nr(e,r){return(function(a,i){let s=!1;return Vq(a).Y((o=>Hq(a,o,i).next((l=>(l&&(s=!0),nt.resolve(!l)))))).next((()=>s))})(e,r)}removeOrphanedDocuments(e,r){let n=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[],i=0;return this.tr(e,((s,o)=>{if(o<=r){let l=this.nr(e,s).next((u=>{if(!u)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,$r.min()),Kp(e).delete((function(d){return[0,Xl(d.path)]})(s)))))}));a.push(l)}})).next((()=>nt.waitFor(a))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,r){let n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return N5(e,r)}tr(e,r){let n=Kp(e),a,i=xl.oe;return n.J({index:"documentTargetsIndex"},(([s,o],{path:l,sequenceNumber:u})=>{s===0?(i!==xl.oe&&r(new sr(sf(a)),i),i=u,a=l):i=xl.oe})).next((()=>{i!==xl.oe&&r(new sr(sf(a)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function N5(t,e){return Kp(t).put((function(n,a){return{targetId:0,path:Xl(n.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}var tS=class{constructor(){this.changes=new ff((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ks.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();let n=this.changes.get(r);return n!==void 0?nt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var J3=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Ng(e).put(n)}removeEntry(e,r,n){return Ng(e).delete((function(i,s){let o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],$5(s),o[o.length-1]]})(r,n))}updateMetadata(e,r){return this.getMetadata(e).next((n=>(n.byteSize+=r,this.rr(e,n))))}getEntry(e,r){let n=Ks.newInvalidDocument(r);return Ng(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ix(r))},((a,i)=>{n=this.ir(r,i)})).next((()=>n))}sr(e,r){let n={size:0,document:Ks.newInvalidDocument(r)};return Ng(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ix(r))},((a,i)=>{n={document:this.ir(r,i),size:Z5(i)}})).next((()=>n))}getEntries(e,r){let n=Lu();return this._r(e,r,((a,i)=>{let s=this.ir(a,i);n=n.insert(a,s)})).next((()=>n))}ar(e,r){let n=Lu(),a=new Bi(sr.comparator);return this._r(e,r,((i,s)=>{let o=this.ir(i,s);n=n.insert(i,o),a=a.insert(i,Z5(s))})).next((()=>({documents:n,ur:a})))}_r(e,r,n){if(r.isEmpty())return nt.resolve();let a=new si(x9);r.forEach((l=>a=a.add(l)));let i=IDBKeyRange.bound(ix(a.first()),ix(a.last())),s=a.getIterator(),o=s.getNext();return Ng(e).J({index:"documentKeyIndex",range:i},((l,u,c)=>{let d=sr.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;o&&x9(o,d)<0;)n(o,null),o=s.getNext();o&&o.isEqual(d)&&(n(o,u),o=s.hasNext()?s.getNext():null),o?c.$(ix(o)):c.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,r,n,a,i){let s=r.path,o=[s.popLast().toArray(),s.lastSegment(),$5(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ng(e).U(IDBKeyRange.bound(o,l,!0)).next((u=>{i?.incrementDocumentReadCount(u.length);let c=Lu();for(let d of u){let f=this.ir(sr.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Mx(r,f)||a.has(f.key))&&(c=c.insert(f.key,f))}return c}))}getAllFromCollectionGroup(e,r,n,a){let i=Lu(),s=w9(r,n),o=w9(r,Zc.max());return Ng(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((l,u,c)=>{let d=this.ir(sr.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(d.key,d),i.size===a&&c.done()})).next((()=>i))}newChangeBuffer(e){return new Z3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((r=>r.byteSize))}getMetadata(e){return b9(e).get("remoteDocumentGlobalKey").next((r=>(Or(!!r),r)))}rr(e,r){return b9(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){let n=Hde(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual($r.min())))return n}return Ks.newInvalidDocument(e)}};function qq(t){return new J3(t)}var Z3=class extends tS{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new ff((n=>n.toString()),((n,a)=>n.isEqual(a)))}applyChanges(e){let r=[],n=0,a=new si(((i,s)=>Cn(i.canonicalString(),s.canonicalString())));return this.changes.forEach(((i,s)=>{let o=this.lr.get(i);if(r.push(this.cr.removeEntry(e,i,o.readTime)),s.isValidDocument()){let l=o9(this.cr.serializer,s);a=a.add(i.path.popLast());let u=Z5(l);n+=u-o.size,r.push(this.cr.addEntry(e,i,l))}else if(n-=o.size,this.trackRemovals){let l=o9(this.cr.serializer,s.convertToNoDocument($r.min()));r.push(this.cr.addEntry(e,i,l))}})),a.forEach((i=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,i))})),r.push(this.cr.updateMetadata(e,n)),nt.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next((n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,r){return this.cr.ar(e,r).next((({documents:n,ur:a})=>(a.forEach(((i,s)=>{this.lr.set(i,{size:s,readTime:n.get(i).readTime})})),n)))}};function b9(t){return go(t,"remoteDocumentGlobal")}function Ng(t){return go(t,"remoteDocumentsV14")}function ix(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function w9(t,e){let r=e.documentKey.path.toArray();return[t,$5(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function x9(t,e){let r=t.path.toArray(),n=e.path.toArray(),a=0;for(let i=0;i<r.length-2&&i<n.length-2;++i)if(a=Cn(r[i],n[i]),a)return a;return a=Cn(r.length,n.length),a||(a=Cn(r[r.length-2],n[n.length-2]),a||Cn(r[r.length-1],n[n.length-1]))}var eF=class{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}};var rS=class{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((a=>(n=a,this.remoteDocumentCache.getEntry(e,r)))).next((a=>(n!==null&&dx(n.mutation,a,hc.empty(),$i.now()),a)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Fn()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Fn()){let a=of();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,n).next((i=>{let s=ox();return i.forEach(((o,l)=>{s=s.insert(o,l.overlayedDocument)})),s}))))}getOverlayedDocuments(e,r){let n=of();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Fn())))}populateOverlays(e,r,n){let a=[];return n.forEach((i=>{r.has(i)||a.push(i)})),this.documentOverlayCache.getOverlays(e,a).next((i=>{i.forEach(((s,o)=>{r.set(s,o)}))}))}computeViews(e,r,n,a){let i=Lu(),s=cx(),o=(function(){return cx()})();return r.forEach(((l,u)=>{let c=n.get(u.key);a.has(u.key)&&(c===void 0||c.mutation instanceof zd)?i=i.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),dx(c.mutation,u,c.mutation.getFieldMask(),$i.now())):s.set(u.key,hc.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,c)=>s.set(u,c))),r.forEach(((u,c)=>{var d;return o.set(u,new eF(c,(d=s.get(u))!==null&&d!==void 0?d:null))})),o)))}recalculateAndSaveOverlays(e,r){let n=cx(),a=new Bi(((s,o)=>s-o)),i=Fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((s=>{for(let o of s)o.keys().forEach((l=>{let u=r.get(l);if(u===null)return;let c=n.get(l)||hc.empty();c=o.applyToLocalView(u,c),n.set(l,c);let d=(a.get(o.batchId)||Fn()).add(l);a=a.insert(o.batchId,d)}))})).next((()=>{let s=[],o=a.getReverseIterator();for(;o.hasNext();){let l=o.getNext(),u=l.key,c=l.value,d=fq();c.forEach((f=>{if(!i.has(f)){let A=bq(r.get(f),n.get(f));A!==null&&d.set(f,A),i=i.add(f)}})),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return nt.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,a){return(function(s){return sr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):iR(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next((i=>{let s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-i.size):nt.resolve(of()),o=-1,l=i;return s.next((u=>nt.forEach(u,((c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(c)?nt.resolve():this.remoteDocumentCache.getEntry(e,c).next((f=>{l=l.insert(c,f)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,Fn()))).next((c=>({batchId:o,changes:Aq(c)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new sr(r)).next((n=>{let a=ox();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){let i=r.collectionGroup,s=ox();return this.indexManager.getCollectionParents(e,i).next((o=>nt.forEach(o,(l=>{let u=(function(d,f){return new qd(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,n,a).next((c=>{c.forEach(((d,f)=>{s=s.insert(d,f)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,a)))).next((s=>{i.forEach(((l,u)=>{let c=u.getKey();s.get(c)===null&&(s=s.insert(c,Ks.newInvalidDocument(c)))}));let o=ox();return s.forEach(((l,u)=>{let c=i.get(l);c!==void 0&&dx(c.mutation,u,hc.empty(),$i.now()),Mx(r,u)&&(o=o.insert(l,u))})),o}))}};var tF=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return nt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:Is(a.createTime)}})(r)),nt.resolve()}getNamedQuery(e,r){return nt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(a){return{name:a.name,query:uR(a.bundledQuery),readTime:Is(a.readTime)}})(r)),nt.resolve()}};var rF=class{constructor(){this.overlays=new Bi(sr.comparator),this.Ir=new Map}getOverlay(e,r){return nt.resolve(this.overlays.get(r))}getOverlays(e,r){let n=of();return nt.forEach(r,(a=>this.getOverlay(e,a).next((i=>{i!==null&&n.set(a,i)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((a,i)=>{this.ht(e,r,i)})),nt.resolve()}removeOverlaysForBatchId(e,r,n){let a=this.Ir.get(n);return a!==void 0&&(a.forEach((i=>this.overlays=this.overlays.remove(i))),this.Ir.delete(n)),nt.resolve()}getOverlaysForCollection(e,r,n){let a=of(),i=r.length+1,s=new sr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){let l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return nt.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let i=new Bi(((u,c)=>u-c)),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=i.get(u.largestBatchId);c===null&&(c=of(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}let o=of(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,c)=>o.set(u,c))),!(o.size()>=a)););return nt.resolve(o)}ht(e,r,n){let a=this.overlays.get(n.key);if(a!==null){let s=this.Ir.get(a.largestBatchId).delete(n.key);this.Ir.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new xx(r,n));let i=this.Ir.get(r);i===void 0&&(i=Fn(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}};var nF=class{constructor(){this.sessionToken=Ns.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,nt.resolve()}};var _x=class{constructor(){this.Tr=new si(zs.Er),this.dr=new si(zs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){let n=new zs(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new zs(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){let r=new sr(new ba([])),n=new zs(r,e),a=new zs(r,e+1),i=[];return this.dr.forEachInRange([n,a],(s=>{this.Vr(s),i.push(s.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let r=new sr(new ba([])),n=new zs(r,e),a=new zs(r,e+1),i=Fn();return this.dr.forEachInRange([n,a],(s=>{i=i.add(s.key)})),i}containsKey(e){let r=new zs(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}},zs=class{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return sr.comparator(e.key,r.key)||Cn(e.wr,r.wr)}static Ar(e,r){return Cn(e.wr,r.wr)||sr.comparator(e.key,r.key)}};var aF=class{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new si(zs.Er)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){let i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new wx(i,r,n,a);this.mutationQueue.push(s);for(let o of a)this.br=this.br.add(new zs(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return nt.resolve(s)}lookupMutationBatch(e,r){return nt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){let n=r+1,a=this.vr(n),i=a<0?0:a;return nt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){let n=new zs(r,0),a=new zs(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,a],(s=>{let o=this.Dr(s.wr);i.push(o)})),nt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new si(Cn);return r.forEach((a=>{let i=new zs(a,0),s=new zs(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],(o=>{n=n.add(o.wr)}))})),nt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){let n=r.path,a=n.length+1,i=n;sr.isDocumentKey(i)||(i=i.child(""));let s=new zs(new sr(i),0),o=new si(Cn);return this.br.forEachWhile((l=>{let u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===a&&(o=o.add(l.wr)),!0)}),s),nt.resolve(this.Cr(o))}Cr(e){let r=[];return e.forEach((n=>{let a=this.Dr(n);a!==null&&r.push(a)})),r}removeMutationBatch(e,r){Or(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return nt.forEach(r.mutations,(a=>{let i=new zs(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){let n=new zs(r,0),a=this.br.firstAfterOrEqual(n);return nt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}};var iF=class{constructor(e){this.Mr=e,this.docs=(function(){return new Bi(sr.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){let n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){let n=this.docs.get(r);return nt.resolve(n?n.document.mutableCopy():Ks.newInvalidDocument(r))}getEntries(e,r){let n=Lu();return r.forEach((a=>{let i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Ks.newInvalidDocument(a))})),nt.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let i=Lu(),s=r.path,o=new sr(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){let{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||eR(q9(c),n)<=0||(a.has(c.key)||Mx(r,c))&&(i=i.insert(c.key,c.mutableCopy()))}return nt.resolve(i)}getAllFromCollectionGroup(e,r,n,a){_r()}Or(e,r){return nt.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new sF(this)}getSize(e){return nt.resolve(this.size)}},sF=class extends tS{constructor(e){super(),this.cr=e}applyChanges(e){let r=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?r.push(this.cr.addEntry(e,a)):this.cr.removeEntry(n)})),nt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}};var oF=class{constructor(e){this.persistence=e,this.Nr=new ff((r=>Ug(r)),Ux),this.lastRemoteSnapshotVersion=$r.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _x,this.targetCount=0,this.kr=Wv.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,a)=>r(a))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),nt.resolve()}Kn(e){this.Nr.set(e.target,e);let r=e.targetId;r>this.highestTargetId&&(this.kr=new Wv(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,nt.resolve()}updateTargetData(e,r){return this.Kn(r),nt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,r,n){let a=0,i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),a++)})),nt.waitFor(i).next((()=>a))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,r){let n=this.Nr.get(r)||null;return nt.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),nt.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);let a=this.persistence.referenceDelegate,i=[];return a&&r.forEach((s=>{i.push(a.markPotentiallyOrphaned(e,s))})),nt.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),nt.resolve()}getMatchingKeysForTargetId(e,r){let n=this.Br.yr(r);return nt.resolve(n)}containsKey(e,r){return nt.resolve(this.Br.containsKey(r))}};var nS=class{constructor(e,r){this.qr={},this.overlays={},this.Qr=new xl(0),this.Kr=!1,this.Kr=!0,this.$r=new nF,this.referenceDelegate=e(this),this.Ur=new oF(this),this.indexManager=new j3,this.remoteDocumentCache=(function(a){return new iF(a)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new W5(r),this.Gr=new tF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new rF,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new aF(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ft("MemoryPersistence","Starting transaction:",e);let a=new lF(this.Qr.next());return this.referenceDelegate.zr(),n(a).next((i=>this.referenceDelegate.jr(a).next((()=>i)))).toPromise().then((i=>(a.raiseOnCommittedEvent(),i)))}Hr(e,r){return nt.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}},lF=class extends U5{constructor(e){super(),this.currentSequenceNumber=e}},aS=class t{constructor(e){this.persistence=e,this.Jr=new _x,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw _r()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),nt.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),nt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),nt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((a=>this.Xr.add(a.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((a=>{a.forEach((i=>this.Xr.add(i.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){let r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Xr,(n=>{let a=sr.fromPath(n);return this.ei(e,a).next((i=>{i||r.removeEntry(a,$r.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return nt.or([()=>nt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}};var uF=class{constructor(e){this.serializer=e}O(e,r,n,a){let i=new D5("createOrUpgrade",r);n<1&&a>=1&&((function(l){l.createObjectStore("owner")})(e),(function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MV,{unique:!0}),l.createObjectStore("documentMutations")})(e),C9(e),(function(l){l.createObjectStore("remoteDocuments")})(e));let s=nt.resolve();return n<3&&a>=3&&(n!==0&&((function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")})(e),C9(e)),s=s.next((()=>(function(l){let u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$r.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)})(i)))),n<4&&a>=4&&(n!==0&&(s=s.next((()=>(function(l,u){return u.store("mutations").U().next((c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MV,{unique:!0});let d=u.store("mutations"),f=c.map((A=>d.put(A)));return nt.waitFor(f)}))})(e,i)))),s=s.next((()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),n<5&&a>=5&&(s=s.next((()=>this.ni(i)))),n<6&&a>=6&&(s=s.next((()=>((function(l){l.createObjectStore("remoteDocumentGlobal")})(e),this.ri(i))))),n<7&&a>=7&&(s=s.next((()=>this.ii(i)))),n<8&&a>=8&&(s=s.next((()=>this.si(e,i)))),n<9&&a>=9&&(s=s.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&a>=10&&(s=s.next((()=>this.oi(i)))),n<11&&a>=11&&(s=s.next((()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(l){l.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),n<12&&a>=12&&(s=s.next((()=>{(function(l){let u=l.createObjectStore("documentOverlays",{keyPath:ode});u.createIndex("collectionPathOverlayIndex",lde,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",ude,{unique:!1})})(e)}))),n<13&&a>=13&&(s=s.next((()=>(function(l){let u=l.createObjectStore("remoteDocumentsV14",{keyPath:Yce});u.createIndex("documentKeyIndex",Xce),u.createIndex("collectionGroupIndex",Jce)})(e))).next((()=>this._i(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&a>=14&&(s=s.next((()=>this.ai(e,i)))),n<15&&a>=15&&(s=s.next((()=>(function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:nde}).createIndex("sequenceNumberIndex",ade,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:ide}).createIndex("documentKeyIndex",sde,{unique:!1})})(e)))),n<16&&a>=16&&(s=s.next((()=>{r.objectStore("indexState").clear()})).next((()=>{r.objectStore("indexEntries").clear()}))),n<17&&a>=17&&(s=s.next((()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)}))),s}ri(e){let r=0;return e.store("remoteDocuments").J(((n,a)=>{r+=Z5(a)})).next((()=>{let n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){let r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next((a=>nt.forEach(a,(i=>{let s=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",s).next((o=>nt.forEach(o,(l=>{Or(l.userId===i.userId);let u=_g(this.serializer,l);return Qq(e,i.userId,u).next((()=>{}))}))))}))))}ii(e){let r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((a=>{let i=[];return n.J(((s,o)=>{let l=new ba(s),u=(function(d){return[0,Xl(d)]})(l);i.push(r.get(u).next((c=>c?nt.resolve():(d=>r.put({targetId:0,path:Xl(d),sequenceNumber:a.highestListenSequenceNumber}))(l))))})).next((()=>nt.waitFor(i)))}))}si(e,r){e.createObjectStore("collectionParents",{keyPath:rde});let n=r.store("collectionParents"),a=new Bx,i=s=>{if(a.add(s)){let o=s.lastSegment(),l=s.popLast();return n.put({collectionId:o,parent:Xl(l)})}};return r.store("remoteDocuments").J({H:!0},((s,o)=>{let l=new ba(s);return i(l.popLast())})).next((()=>r.store("documentMutations").J({H:!0},(([s,o,l],u)=>{let c=sf(o);return i(c.popLast())}))))}oi(e){let r=e.store("targets");return r.J(((n,a)=>{let i=lx(a),s=Dq(this.serializer,i);return r.put(s)}))}_i(e,r){let n=r.store("remoteDocuments"),a=[];return n.J(((i,s)=>{let o=r.store("remoteDocumentsV14"),l=(function(d){return d.document?new sr(ba.fromString(d.document.name).popFirst(5)):d.noDocument?sr.fromSegments(d.noDocument.path):d.unknownDocument?sr.fromSegments(d.unknownDocument.path):_r()})(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};a.push(o.put(u))})).next((()=>nt.waitFor(a)))}ai(e,r){let n=r.store("mutations"),a=qq(this.serializer),i=new nS(aS.Zr,this.serializer.ct);return n.U().next((s=>{let o=new Map;return s.forEach((l=>{var u;let c=(u=o.get(l.userId))!==null&&u!==void 0?u:Fn();_g(this.serializer,l).keys().forEach((d=>c=c.add(d))),o.set(l.userId,c)})),nt.forEach(o,((l,u)=>{let c=new js(u),d=Y5.lt(this.serializer,c),f=i.getIndexManager(c),A=eS.lt(c,this.serializer,f,i.referenceDelegate);return new rS(a,A,d,f).recalculateAndSaveOverlaysForDocumentKeys(new mx(r,xl.oe),l).next()}))}))}};function C9(t){t.createObjectStore("targetDocuments",{keyPath:ede}).createIndex("documentTargetsIndex",tde,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zce,{unique:!0}),t.createObjectStore("targetGlobal")}var Xk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cF=class t{constructor(e,r,n,a,i,s,o,l,u,c,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=i,this.window=s,this.document=o,this.ci=u,this.li=c,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!t.D())throw new Lt(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new X3(this,a),this.Ai=r+"main",this.serializer=new W5(l),this.Ri=new Xp(this.Ai,this.hi,new uF(this.serializer)),this.$r=new M3,this.Ur=new G3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qq(this.serializer),this.Gr=new D3,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&xs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Lt(st.FAILED_PRECONDITION,Xk);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new xl(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async r=>{r.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>S5(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((r=>this.isPrimary&&!r?this.bi(e).next((()=>!1)):!!r&&this.Di(e).next((()=>!0)))))).catch((e=>{if(om(e))return Ft("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ft("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return sx(e).get("owner").next((r=>nt.resolve(this.vi(r))))}Ci(e){return S5(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(r=>{let n=go(r,"clientMetadata");return n.U().next((a=>{let i=this.xi(a,18e5),s=a.filter((o=>i.indexOf(o)===-1));return nt.forEach(s,(o=>n.delete(o.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Vi)for(let r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?nt.resolve(!0):sx(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Lt(st.FAILED_PRECONDITION,Xk);return!1}}return!(!this.networkEnabled||!this.inForeground)||S5(e).U().next((n=>this.xi(n,5e3).find((a=>{if(this.clientId!==a.clientId){let i=!this.networkEnabled&&a.networkEnabled,s=!this.inForeground&&a.inForeground,o=this.networkEnabled===a.networkEnabled;if(i||s&&o)return!0}return!1}))===void 0))})).next((r=>(this.isPrimary!==r&&Ft("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{let r=new mx(e,xl.oe);return this.bi(r).next((()=>this.Ci(r)))})),this.Ri.close(),this.qi()}xi(e,r){return e.filter((n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>S5(e).U().next((r=>this.xi(r,18e5).map((n=>n.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return eS.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new K3(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Y5.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ft("IndexedDbPersistence","Starting transaction:",e);let a=r==="readonly"?"readonly":"readwrite",i=(function(l){return l===17?Ade:l===16?dde:l===15?rR:l===14?Y9:l===13?$9:l===12?cde:l===11?W9:void _r()})(this.hi),s;return this.Ri.runTransaction(e,a,i,(o=>(s=new mx(o,this.Qr?this.Qr.next():xl.oe),r==="readwrite-primary"?this.wi(s).next((l=>!!l||this.Si(s))).next((l=>{if(!l)throw xs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new Lt(st.FAILED_PRECONDITION,z9);return n(s)})).next((l=>this.Di(s).next((()=>l)))):this.Ki(s).next((()=>n(s)))))).then((o=>(s.raiseOnCommittedEvent(),o)))}Ki(e){return sx(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Lt(st.FAILED_PRECONDITION,Xk)}))}Di(e){let r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sx(e).put("owner",r)}static D(){return Xp.D()}bi(e){let r=sx(e);return r.get("owner").next((n=>this.vi(n)?(Ft("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):nt.resolve()))}Mi(e,r){let n=Date.now();return!(e<n-r)&&(!(e>n)||(xs(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let r=/(?:Version|Mobile)\/1[456]/;GL()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{let n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return Ft("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return xs("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){xs("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function sx(t){return go(t,"owner")}function S5(t){return go(t,"clientMetadata")}function dR(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}var dF=class t{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=a}static Wi(e,r){let n=Fn(),a=Fn();for(let i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new t(e,r.fromCache,n,a)}};var AF=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var iS=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return GL()?8:j9(gi())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,a){let i={result:null};return this.Yi(e,r).next((s=>{i.result=s})).next((()=>{if(!i.result)return this.Zi(e,r,a,n).next((s=>{i.result=s}))})).next((()=>{if(i.result)return;let s=new AF;return this.Xi(e,r,s).next((o=>{if(i.result=o,this.zi)return this.es(e,r,s,o.size)}))})).next((()=>i.result))}es(e,r,n,a){return n.documentReadCount<this.ji?(Lv()<=jn.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",Pv(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),nt.resolve()):(Lv()<=jn.DEBUG&&Ft("QueryEngine","Query:",Pv(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.Hi*a?(Lv()<=jn.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",Pv(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jl(r))):nt.resolve())}Yi(e,r){if(YV(r))return nt.resolve(null);let n=Jl(r);return this.indexManager.getIndexType(e,n).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=z5(r,null,"F"),n=Jl(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{let s=Fn(...i);return this.Ji.getDocuments(e,s).next((o=>this.indexManager.getMinOffset(e,n).next((l=>{let u=this.ts(r,o);return this.ns(r,u,s,l.readTime)?this.Yi(e,z5(r,null,"F")):this.rs(e,u,r,l)}))))})))))}Zi(e,r,n,a){return YV(r)||a.isEqual($r.min())?nt.resolve(null):this.Ji.getDocuments(e,n).next((i=>{let s=this.ts(r,i);return this.ns(r,s,n,a)?nt.resolve(null):(Lv()<=jn.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Pv(r)),this.rs(e,s,r,V9(a,-1)).next((o=>o)))}))}ts(e,r){let n=new si(cq(e));return r.forEach(((a,i)=>{Mx(e,i)&&(n=n.add(i))})),n}ns(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;let i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Xi(e,r,n){return Lv()<=jn.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",Pv(r)),this.Ji.getDocumentsMatchingQuery(e,r,Zc.min(),n)}rs(e,r,n,a){return this.Ji.getDocumentsMatchingQuery(e,n,a).next((i=>(r.forEach((s=>{i=i.insert(s.key,s)})),i)))}};var fF=class{constructor(e,r,n,a){this.persistence=e,this.ss=r,this.serializer=a,this.os=new Bi(Cn),this._s=new ff((i=>Ug(i)),Ux),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}};function zq(t,e,r,n){return new fF(t,e,r,n)}async function jq(t,e){let r=ir(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next((i=>(a=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((i=>{let s=[],o=[],l=Fn();for(let u of a){s.push(u.batchId);for(let c of u.mutations)l=l.add(c.key)}for(let u of i){o.push(u.batchId);for(let c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next((u=>({hs:u,removedBatchIds:s,addedBatchIds:o})))}))}))}function jde(t,e){let r=ir(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{let a=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return(function(o,l,u,c){let d=u.batch,f=d.keys(),A=nt.resolve();return f.forEach((v=>{A=A.next((()=>c.getEntry(l,v))).next((I=>{let w=u.docVersions.get(v);Or(w!==null),I.version.compareTo(w)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),c.addEntry(I)))}))})),A.next((()=>o.mutationQueue.removeMutationBatch(l,d)))})(r,n,e,i).next((()=>i.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let l=Fn();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,a)))}))}function Kq(t){let e=ir(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function Kde(t,e){let r=ir(t),n=e.snapshotVersion,a=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{let s=r.cs.newChangeBuffer({trackRemovals:!0});a=r.os;let o=[];e.targetChanges.forEach(((c,d)=>{let f=a.get(d);if(!f)return;o.push(r.Ur.removeMatchingKeys(i,c.removedDocuments,d).next((()=>r.Ur.addMatchingKeys(i,c.addedDocuments,d))));let A=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?A=A.withResumeToken(Ns.EMPTY_BYTE_STRING,$r.min()).withLastLimboFreeSnapshotVersion($r.min()):c.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(c.resumeToken,n)),a=a.insert(d,A),(function(I,w,g){return I.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0})(f,A,c)&&o.push(r.Ur.updateTargetData(i,A))}));let l=Lu(),u=Fn();if(e.documentUpdates.forEach((c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,c))})),o.push(Gq(i,s,e.documentUpdates).next((c=>{l=c.Ps,u=c.Is}))),!n.isEqual($r.min())){let c=r.Ur.getLastRemoteSnapshotVersion(i).next((d=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n)));o.push(c)}return nt.waitFor(o).next((()=>s.apply(i))).next((()=>r.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(r.os=a,i)))}function Gq(t,e,r){let n=Fn(),a=Fn();return r.forEach((i=>n=n.add(i))),e.getEntries(t,n).next((i=>{let s=Lu();return r.forEach(((o,l)=>{let u=i.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual($r.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):Ft("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)})),{Ps:s,Is:a}}))}function Gde(t,e){let r=ir(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function $v(t,e){let r=ir(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return r.Ur.getTargetData(n,e).next((i=>i?(a=i,nt.resolve(a)):r.Ur.allocateTargetId(n).next((s=>(a=new Gv(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,a).next((()=>a)))))))})).then((n=>{let a=r.os.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function Yv(t,e,r){let n=ir(t),a=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,(s=>n.persistence.referenceDelegate.removeTarget(s,a)))}catch(s){if(!om(s))throw s;Ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(a.target)}function sS(t,e,r){let n=ir(t),a=$r.min(),i=Fn();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(l,u,c){let d=ir(l),f=d._s.get(c);return f!==void 0?nt.resolve(d.os.get(f)):d.Ur.getTargetData(u,c)})(n,s,Jl(e)).next((o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,o.targetId).next((l=>{i=l}))})).next((()=>n.ss.getDocumentsMatchingQuery(s,e,r?a:$r.min(),r?i:Fn()))).next((o=>(Yq(n,uq(e),o),{documents:o,Ts:i})))))}function Wq(t,e){let r=ir(t),n=ir(r.Ur),a=r.os.get(e);return a?Promise.resolve(a.target):r.persistence.runTransaction("Get target data","readonly",(i=>n.ot(i,e).next((s=>s?s.target:null))))}function $q(t,e){let r=ir(t),n=r.us.get(e)||$r.min();return r.persistence.runTransaction("Get new document changes","readonly",(a=>r.cs.getAllFromCollectionGroup(a,e,V9(n,-1),Number.MAX_SAFE_INTEGER))).then((a=>(Yq(r,e,a),a)))}function Yq(t,e,r){let n=t.us.get(e)||$r.min();r.forEach(((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),t.us.set(e,n)}async function Wde(t,e,r,n){let a=ir(t),i=Fn(),s=Lu();for(let u of r){let c=e.Es(u.metadata.name);u.document&&(i=i.add(c));let d=e.ds(u);d.setReadTime(e.As(u.metadata.readTime)),s=s.insert(c,d)}let o=a.cs.newChangeBuffer({trackRemovals:!0}),l=await $v(a,(function(c){return Jl(a1(ba.fromString(`__bundle__/docs/${c}`)))})(n));return a.persistence.runTransaction("Apply bundle documents","readwrite",(u=>Gq(u,o,s).next((c=>(o.apply(u),c))).next((c=>a.Ur.removeMatchingKeysForTargetId(u,l.targetId).next((()=>a.Ur.addMatchingKeys(u,i,l.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(u,c.Ps,c.Is))).next((()=>c.Ps))))))}async function $de(t,e,r=Fn()){let n=await $v(t,Jl(uR(e.bundledQuery))),a=ir(t);return a.persistence.runTransaction("Save named query","readwrite",(i=>{let s=Is(e.readTime);if(n.snapshotVersion.compareTo(s)>=0)return a.Gr.saveNamedQuery(i,e);let o=n.withResumeToken(Ns.EMPTY_BYTE_STRING,s);return a.os=a.os.insert(o.targetId,o),a.Ur.updateTargetData(i,o).next((()=>a.Ur.removeMatchingKeysForTargetId(i,n.targetId))).next((()=>a.Ur.addMatchingKeys(i,r,n.targetId))).next((()=>a.Gr.saveNamedQuery(i,e)))}))}function I9(t,e){return`firestore_clients_${t}_${e}`}function N9(t,e,r){let n=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function Jk(t,e){return`firestore_targets_${t}_${e}`}var oS=class t{constructor(e,r,n,a){this.user=e,this.batchId=r,this.state=n,this.error=a}static Rs(e,r,n){let a=JSON.parse(n),i,s=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return s&&a.error&&(s=typeof a.error.message=="string"&&typeof a.error.code=="string",s&&(i=new Lt(a.error.code,a.error.message))),s?new t(e,r,a.state,i):(xs("SharedClientState",`Failed to parse mutation state for ID '${r}': ${n}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Ax=class t{constructor(e,r,n){this.targetId=e,this.state=r,this.error=n}static Rs(e,r){let n=JSON.parse(r),a,i=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return i&&n.error&&(i=typeof n.error.message=="string"&&typeof n.error.code=="string",i&&(a=new Lt(n.error.code,n.error.message))),i?new t(e,n.state,a):(xs("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},lS=class t{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){let n=JSON.parse(r),a=typeof n=="object"&&n.activeTargetIds instanceof Array,i=sR();for(let s=0;a&&s<n.activeTargetIds.length;++s)a=K9(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return a?new t(e,i):(xs("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}},hF=class t{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){let r=JSON.parse(e);return typeof r=="object"&&["Unknown","Online","Offline"].indexOf(r.onlineState)!==-1&&typeof r.clientId=="string"?new t(r.clientId,r.onlineState):(xs("SharedClientState",`Failed to parse online state: ${e}`),null)}},Ex=class{constructor(){this.activeTargetIds=sR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},fx=class{constructor(e,r,n,a,i){this.window=e,this.ui=r,this.persistenceKey=n,this.ps=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Bi(Cn),this.started=!1,this.bs=[];let s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ds=I9(this.persistenceKey,this.ps),this.vs=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new Ex),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this.Os=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){let e=await this.syncEngine.Qi();for(let n of e){if(n===this.ps)continue;let a=this.getItem(I9(this.persistenceKey,n));if(a){let i=lS.Rs(n,a);i&&(this.Ss=this.Ss.insert(i.clientId,i))}}this.Ns();let r=this.storage.getItem(this.xs);if(r){let n=this.Ls(r);n&&this.Bs(n)}for(let n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach(((n,a)=>{a.activeTargetIds.has(e)&&(r=!0)})),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,n){this.qs(e,r,n),this.Qs(e)}addLocalQueryTarget(e,r=!0){let n="not-current";if(this.isActiveQueryTarget(e)){let a=this.storage.getItem(Jk(this.persistenceKey,e));if(a){let i=Ax.Rs(e,a);i&&(n=i.state)}}return r&&this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jk(this.persistenceKey,e))}updateQueryState(e,r,n){this.$s(e,r,n)}handleUserChange(e,r,n){r.forEach((a=>{this.Qs(a)})),this.currentUser=e,n.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let r=this.storage.getItem(e);return Ft("SharedClientState","READ",e,r),r}setItem(e,r){Ft("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ft("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let r=e;if(r.storageArea===this.storage){if(Ft("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void xs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(r.key!==null){if(this.Cs.test(r.key)){if(r.newValue==null){let n=this.Gs(r.key);return this.zs(n,null)}{let n=this.js(r.key,r.newValue);if(n)return this.zs(n.clientId,n)}}else if(this.Fs.test(r.key)){if(r.newValue!==null){let n=this.Hs(r.key,r.newValue);if(n)return this.Js(n)}}else if(this.Ms.test(r.key)){if(r.newValue!==null){let n=this.Ys(r.key,r.newValue);if(n)return this.Zs(n)}}else if(r.key===this.xs){if(r.newValue!==null){let n=this.Ls(r.newValue);if(n)return this.Bs(n)}}else if(r.key===this.vs){let n=(function(i){let s=xl.oe;if(i!=null)try{let o=JSON.parse(i);Or(typeof o=="number"),s=o}catch(o){xs("SharedClientState","Failed to read sequence number from WebStorage",o)}return s})(r.newValue);n!==xl.oe&&this.sequenceNumberHandler(n)}else if(r.key===this.Os){let n=this.Xs(r.newValue);await Promise.all(n.map((a=>this.syncEngine.eo(a))))}}}else this.bs.push(r)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,n){let a=new oS(this.currentUser,e,r,n),i=N9(this.persistenceKey,this.currentUser,e);this.setItem(i,a.Vs())}Qs(e){let r=N9(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){let r={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(r))}$s(e,r,n){let a=Jk(this.persistenceKey,e),i=new Ax(e,r,n);this.setItem(a,i.Vs())}Ws(e){let r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){let r=this.Cs.exec(e);return r?r[1]:null}js(e,r){let n=this.Gs(e);return lS.Rs(n,r)}Hs(e,r){let n=this.Fs.exec(e),a=Number(n[1]),i=n[2]!==void 0?n[2]:null;return oS.Rs(new js(i),a,r)}Ys(e,r){let n=this.Ms.exec(e),a=Number(n[1]);return Ax.Rs(a,r)}Ls(e){return hF.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Ft("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){let n=r?this.Ss.insert(e,r):this.Ss.remove(e),a=this.ks(this.Ss),i=this.ks(n),s=[],o=[];return i.forEach((l=>{a.has(l)||s.push(l)})),a.forEach((l=>{i.has(l)||o.push(l)})),this.syncEngine.io(s,o).then((()=>{this.Ss=n}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=sR();return e.forEach(((n,a)=>{r=r.unionWith(a.activeTargetIds)})),r}},uS=class{constructor(){this.so=new Ex,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ex,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var pF=class{_o(e){}shutdown(){}};var cS=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var B5=null;function Zk(){return B5===null?B5=(function(){return 268435456+Math.round(2147483648*Math.random())})():B5++,"0x"+B5.toString(16)}var Yde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var mF=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var bl="WebChannelConnection",gF=class extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;let n=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${a}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${i}`}get Fo(){return!1}Mo(r,n,a,i,s){let o=Zk(),l=this.xo(r,n.toUriEncodedString());Ft("RestConnection",`Sending RPC '${r}' ${o}:`,l,a);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,s),this.No(r,l,u,a).then((c=>(Ft("RestConnection",`Received RPC '${r}' ${o}: `,c),c)),(c=>{throw Vd("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",l,"request:",a),c}))}Lo(r,n,a,i,s,o){return this.Mo(r,n,a,i,s)}Oo(r,n,a){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+n1})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>r[s]=i)),a&&a.headers.forEach(((i,s)=>r[s]=i))}xo(r,n){let a=Yde[r];return`${this.Do}/v1/${n}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,a){let i=Zk();return new Promise(((s,o)=>{let l=new jk;l.setWithCredentials(!0),l.listenOnce(Kk.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case rx.NO_ERROR:let c=l.getResponseJson();Ft(bl,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),s(c);break;case rx.TIMEOUT:Ft(bl,`RPC '${e}' ${i} timed out`),o(new Lt(st.DEADLINE_EXCEEDED,"Request time out"));break;case rx.HTTP_ERROR:let d=l.getStatus();if(Ft(bl,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);let A=f?.error;if(A&&A.status&&A.message){let v=(function(w){let g=w.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(g)>=0?g:st.UNKNOWN})(A.status);o(new Lt(v,A.message))}else o(new Lt(st.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Lt(st.UNAVAILABLE,"Connection failed."));break;default:_r()}}finally{Ft(bl,`RPC '${e}' ${i} completed.`)}}));let u=JSON.stringify(a);Ft(bl,`RPC '${e}' ${i} sending request:`,a),l.send(r,"POST",u,n,15)}))}Bo(e,r,n){let a=Zk(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$k(),o=Wk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;let c=i.join("");Ft(bl,`Creating RPC '${e}' stream ${a}: ${c}`,l);let d=s.createWebChannel(c,l),f=!1,A=!1,v=new mF({Io:w=>{A?Ft(bl,`Not sending because RPC '${e}' stream ${a} is closed:`,w):(f||(Ft(bl,`Opening RPC '${e}' stream ${a} transport.`),d.open(),f=!0),Ft(bl,`RPC '${e}' stream ${a} sending:`,w),d.send(w))},To:()=>d.close()}),I=(w,g,b)=>{w.listen(g,(S=>{try{b(S)}catch(F){setTimeout((()=>{throw F}),0)}}))};return I(d,Sv.EventType.OPEN,(()=>{A||(Ft(bl,`RPC '${e}' stream ${a} transport opened.`),v.yo())})),I(d,Sv.EventType.CLOSE,(()=>{A||(A=!0,Ft(bl,`RPC '${e}' stream ${a} transport closed`),v.So())})),I(d,Sv.EventType.ERROR,(w=>{A||(A=!0,Vd(bl,`RPC '${e}' stream ${a} transport errored:`,w),v.So(new Lt(st.UNAVAILABLE,"The operation could not be completed")))})),I(d,Sv.EventType.MESSAGE,(w=>{var g;if(!A){let b=w.data[0];Or(!!b);let S=b,F=S.error||((g=S[0])===null||g===void 0?void 0:g.error);if(F){Ft(bl,`RPC '${e}' stream ${a} received error:`,F);let O=F.status,R=(function(k){let U=qs[k];if(U!==void 0)return Cq(U)})(O),T=F.message;R===void 0&&(R=st.INTERNAL,T="Unknown error status: "+O+" with message "+F.message),A=!0,v.So(new Lt(R,T)),d.close()}else Ft(bl,`RPC '${e}' stream ${a} received:`,b),v.bo(b)}})),I(o,Gk.STAT_EVENT,(w=>{w.stat===C5.PROXY?Ft(bl,`RPC '${e}' stream ${a} detected buffering proxy`):w.stat===C5.NOPROXY&&Ft(bl,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{v.wo()}),0),v}};function Xq(){return typeof window<"u"?window:null}function P5(){return typeof document<"u"?document:null}function Ox(t){return new P3(t,!0)}var Tx=class{constructor(e,r,n=1e3,a=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=a,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),a=Math.max(0,r-n);a>0&&Ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var dS=class{constructor(e,r,n,a,i,s,o,l){this.ui=e,this.Ho=n,this.Jo=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Tx(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===st.RESOURCE_EXHAUSTED?(xs(r.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.Yo===r&&this.P_(n,a)}),(n=>{e((()=>{let a=new Lt(st.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(a)}))}))}P_(e,r){let n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((a=>{n((()=>this.I_(a)))})),this.stream.onMessage((a=>{n((()=>++this.e_==1?this.E_(a):this.onNext(a)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}},yF=class extends dS{constructor(e,r,n,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let r=Fde(this.serializer,e),n=(function(i){if(!("targetChange"in i))return $r.min();let s=i.targetChange;return s.targetIds&&s.targetIds.length?$r.min():s.readTime?Is(s.readTime):$r.min()})(e);return this.listener.d_(r,n)}A_(e){let r={};r.database=R3(this.serializer),r.addTarget=(function(i,s){let o,l=s.target;if(o=V5(l)?{documents:Lq(i,l)}:{query:Pq(i,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Nq(i,s.resumeToken);let u=k3(i,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo($r.min())>0){o.readTime=Kv(i,s.snapshotVersion.toTimestamp());let u=k3(i,s.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,e);let n=Ude(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){let r={};r.database=R3(this.serializer),r.removeTarget=e,this.a_(r)}},vF=class extends dS{constructor(e,r,n,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Or(!!e.streamToken),this.lastStreamToken=e.streamToken,Or(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Or(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let r=Rde(e.writeResults,e.commitTime),n=Is(e.commitTime);return this.listener.g_(n,r)}p_(){let e={};e.database=R3(this.serializer),this.a_(e)}m_(e){let r={streamToken:this.lastStreamToken,writes:e.map((n=>Sx(this.serializer,n)))};this.a_(r)}};var bF=class extends class{}{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Lt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Mo(e,F3(r,n),a,i,s))).catch((i=>{throw i.name==="FirebaseError"?(i.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Lt(st.UNKNOWN,i.toString())}))}Lo(e,r,n,a,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Lo(e,F3(r,n),a,s,o,i))).catch((s=>{throw s.name==="FirebaseError"?(s.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Lt(st.UNKNOWN,s.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}},wF=class{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xs(r),this.D_=!1):Ft("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var xF=class{constructor(e,r,n,a,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((s=>{n.enqueueAndForget((async()=>{lm(this)&&(Ft("RemoteStore","Restarting streams for network reachability change."),await(async function(l){let u=ir(l);u.L_.add(4),await i1(u),u.q_.set("Unknown"),u.L_.delete(4),await Qx(u)})(this))}))})),this.q_=new wF(n,a)}};async function Qx(t){if(lm(t))for(let e of t.B_)await e(!0)}async function i1(t){for(let e of t.B_)await e(!1)}function PS(t,e){let r=ir(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),hR(r)?fR(r):o1(r).r_()&&AR(r,e))}function Xv(t,e){let r=ir(t),n=o1(r);r.N_.delete(e),n.r_()&&Jq(r,e),r.N_.size===0&&(n.r_()?n.o_():lm(r)&&r.q_.set("Unknown"))}function AR(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($r.min())>0){let r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}o1(t).A_(e)}function Jq(t,e){t.Q_.xe(e),o1(t).R_(e)}function fR(t){t.Q_=new L3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),o1(t).start(),t.q_.v_()}function hR(t){return lm(t)&&!o1(t).n_()&&t.N_.size>0}function lm(t){return ir(t).L_.size===0}function Zq(t){t.Q_=void 0}async function Xde(t){t.q_.set("Online")}async function Jde(t){t.N_.forEach(((e,r)=>{AR(t,e)}))}async function Zde(t,e){Zq(t),hR(t)?(t.q_.M_(e),fR(t)):t.q_.set("Unknown")}async function eAe(t,e,r){if(t.q_.set("Online"),e instanceof K5&&e.state===2&&e.cause)try{await(async function(a,i){let s=i.cause;for(let o of i.targetIds)a.N_.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.N_.delete(o),a.Q_.removeTarget(o))})(t,e)}catch(n){Ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await AS(t,n)}else if(e instanceof Ov?t.Q_.Ke(e):e instanceof j5?t.Q_.He(e):t.Q_.We(e),!r.isEqual($r.min()))try{let n=await Kq(t.localStore);r.compareTo(n)>=0&&await(function(i,s){let o=i.Q_.rt(s);return o.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let c=i.N_.get(u);c&&i.N_.set(u,c.withResumeToken(l.resumeToken,s))}})),o.targetMismatches.forEach(((l,u)=>{let c=i.N_.get(l);if(!c)return;i.N_.set(l,c.withResumeToken(Ns.EMPTY_BYTE_STRING,c.snapshotVersion)),Jq(i,l);let d=new Gv(c.target,l,u,c.sequenceNumber);AR(i,d)})),i.remoteSyncer.applyRemoteEvent(o)})(t,r)}catch(n){Ft("RemoteStore","Failed to raise snapshot:",n),await AS(t,n)}}async function AS(t,e,r){if(!om(e))throw e;t.L_.add(1),await i1(t),t.q_.set("Offline"),r||(r=()=>Kq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ft("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Qx(t)}))}function ez(t,e){return e().catch((r=>AS(t,r,e)))}async function s1(t){let e=ir(t),r=im(e),n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tAe(e);)try{let a=await Gde(e.localStore,n);if(a===null){e.O_.length===0&&r.o_();break}n=a.batchId,rAe(e,a)}catch(a){await AS(e,a)}tz(e)&&rz(e)}function tAe(t){return lm(t)&&t.O_.length<10}function rAe(t,e){t.O_.push(e);let r=im(t);r.r_()&&r.V_&&r.m_(e.mutations)}function tz(t){return lm(t)&&!im(t).n_()&&t.O_.length>0}function rz(t){im(t).start()}async function nAe(t){im(t).p_()}async function aAe(t){let e=im(t);for(let r of t.O_)e.m_(r.mutations)}async function iAe(t,e,r){let n=t.O_.shift(),a=_3.from(n,e,r);await ez(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await s1(t)}async function sAe(t,e){e&&im(t).V_&&await(async function(n,a){if((function(s){return xq(s)&&s!==st.ABORTED})(a.code)){let i=n.O_.shift();im(n).s_(),await ez(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a))),await s1(n)}})(t,e),tz(t)&&rz(t)}async function S9(t,e){let r=ir(t);r.asyncQueue.verifyOperationInProgress(),Ft("RemoteStore","RemoteStore received new credentials");let n=lm(r);r.L_.add(3),await i1(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Qx(r)}async function CF(t,e){let r=ir(t);e?(r.L_.delete(2),await Qx(r)):e||(r.L_.add(2),await i1(r),r.q_.set("Unknown"))}function o1(t){return t.K_||(t.K_=(function(r,n,a){let i=ir(r);return i.w_(),new yF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(t.datastore,t.asyncQueue,{Eo:Xde.bind(null,t),Ro:Jde.bind(null,t),mo:Zde.bind(null,t),d_:eAe.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),hR(t)?fR(t):t.q_.set("Unknown")):(await t.K_.stop(),Zq(t))}))),t.K_}function im(t){return t.U_||(t.U_=(function(r,n,a){let i=ir(r);return i.w_(),new vF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nAe.bind(null,t),mo:sAe.bind(null,t),f_:aAe.bind(null,t),g_:iAe.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await s1(t)):(await t.U_.stop(),t.O_.length>0&&(Ft("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var IF=class t{constructor(e,r,n,a,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,i){let s=Date.now()+n,o=new t(e,r,s,a,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Lt(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function l1(t,e){if(xs("AsyncQueue",`${e}: ${t}`),om(t))return new Lt(st.UNAVAILABLE,`${e}: ${t}`);throw t}var fS=class t{constructor(e){this.comparator=e?(r,n)=>e(r,n)||sr.comparator(r.key,n.key):(r,n)=>sr.comparator(r.key,n.key),this.keyedMap=ox(),this.sortedSet=new Bi(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){let r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){let r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){let a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){let e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){let n=new t;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}};var hS=class{constructor(){this.W_=new Bi(sr.comparator)}track(e){let r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):_r():this.W_=this.W_.insert(r,e)}G_(){let e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}},Jv=class t{constructor(e,r,n,a,i,s,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,a,i){let s=[];return r.forEach((o=>{s.push({type:0,doc:o})})),new t(e,r,fS.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}};var NF=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}},SF=class{constructor(){this.queries=B9(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){let a=ir(r),i=a.queries;a.queries=B9(),i.forEach(((s,o)=>{for(let l of o.j_)l.onError(n)}))})(this,new Lt(st.ABORTED,"Firestore shutting down"))}};function B9(){return new ff((t=>lq(t)),Dx)}async function pR(t,e){let r=ir(t),n=3,a=e.query,i=r.queries.get(a);i?!i.H_()&&e.J_()&&(n=2):(i=new NF,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(a,!0);break;case 1:i.z_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){let o=l1(s,`Initialization of query '${Pv(e.query)}' failed`);return void e.onError(o)}r.queries.set(a,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&gR(r)}async function mR(t,e){let r=ir(t),n=e.query,a=3,i=r.queries.get(n);if(i){let s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),i.j_.length===0?a=e.J_()?0:1:!i.H_()&&e.J_()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function oAe(t,e){let r=ir(t),n=!1;for(let a of e){let i=a.query,s=r.queries.get(i);if(s){for(let o of s.j_)o.X_(a)&&(n=!0);s.z_=a}}n&&gR(r)}function lAe(t,e,r){let n=ir(t),a=n.queries.get(e);if(a)for(let i of a.j_)i.onError(r);n.queries.delete(e)}function gR(t){t.Y_.forEach((e=>{e.next()}))}var BF,_9;(_9=BF||(BF={})).ea="default",_9.Cache="cache";var Lx=class{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){let n=[];for(let a of e.docChanges)a.type!==3&&n.push(a);e=new Jv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;let n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Jv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==BF.Cache}};var _F=class{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}};var pS=class{constructor(e){this.serializer=e}Es(e){return uf(this.serializer,e)}ds(e){return e.metadata.exists?Tq(this.serializer,e.document,!1):Ks.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Is(e)}},EF=class{constructor(e,r,n){this.ca=e,this.localStore=r,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nz(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;let n=ba.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){let r=new Map,n=new pS(this.serializer);for(let a of e)if(a.metadata.queries){let i=n.Es(a.metadata.name);for(let s of a.metadata.queries){let o=(r.get(s)||Fn()).add(i);r.set(s,o)}}return r}async complete(){let e=await Wde(this.localStore,new pS(this.serializer),this.documents,this.ca.id),r=this.ha(this.documents);for(let n of this.queries)await $de(this.localStore,n,r.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}};function nz(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var mS=class{constructor(e){this.key=e}},gS=class{constructor(e){this.key=e}},yS=class{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fn(),this.mutatedKeys=Fn(),this.Aa=cq(e),this.Ra=new fS(this.Aa)}get Va(){return this.Ta}ma(e,r){let n=r?r.fa:new hS,a=r?r.Ra:this.Ra,i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1,l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,u=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((c,d)=>{let f=a.get(c),A=Mx(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations),w=!1;f&&A?f.data.isEqual(A.data)?v!==I&&(n.track({type:3,doc:A}),w=!0):this.ga(f,A)||(n.track({type:2,doc:A}),w=!0,(l&&this.Aa(A,l)>0||u&&this.Aa(A,u)<0)&&(o=!0)):!f&&A?(n.track({type:0,doc:A}),w=!0):f&&!A&&(n.track({type:1,doc:f}),w=!0,(l||u)&&(o=!0)),w&&(A?(s=s.add(A),i=I?i.add(c):i.delete(c)):(s=s.delete(c),i=i.delete(c)))})),this.query.limit!==null)for(;s.size>this.query.limit;){let c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),i=i.delete(c.key),n.track({type:1,doc:c})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){let i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort(((c,d)=>(function(A,v){let I=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _r()}};return I(A)-I(v)})(c.type,d.type)||this.Aa(c.doc,d.doc))),this.pa(n),a=a!=null&&a;let o=r&&!a?this.ya():[],l=this.da.size===0&&this.current&&!a?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Jv(this.query,e.Ra,i,s,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Fn(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));let r=[];return e.forEach((n=>{this.da.has(n)||r.push(new gS(n))})),this.da.forEach((n=>{e.has(n)||r.push(new mS(n))})),r}ba(e){this.Ta=e.Ts,this.da=Fn();let r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Jv.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},TF=class{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}},LF=class{constructor(e){this.key=e,this.va=!1}},PF=class{constructor(e,r,n,a,i,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ff((o=>lq(o)),Dx),this.Ma=new Map,this.xa=new Set,this.Oa=new Bi(sr.comparator),this.Na=new Map,this.La=new _x,this.Ba={},this.ka=new Map,this.qa=Wv.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};async function uAe(t,e,r=!0){let n=kS(t),a,i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.Da()):a=await az(n,e,r,!0),a}async function cAe(t,e){let r=kS(t);await az(r,e,!0,!1)}async function az(t,e,r,n){let a=await $v(t.localStore,Jl(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,r),o;return n&&(o=await yR(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&r&&PS(t.remoteStore,a),o}async function yR(t,e,r,n,a){t.Ka=(d,f,A)=>(async function(I,w,g,b){let S=w.view.ma(g);S.ns&&(S=await sS(I.localStore,w.query,!1).then((({documents:T})=>w.view.ma(T,S))));let F=b&&b.targetChanges.get(w.targetId),O=b&&b.targetMismatches.get(w.targetId)!=null,R=w.view.applyChanges(S,I.isPrimaryClient,F,O);return kF(I,w.targetId,R.wa),R.snapshot})(t,d,f,A);let i=await sS(t.localStore,e,!0),s=new yS(e,i.Ts),o=s.ma(i.documents),l=Ix.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),u=s.applyChanges(o,t.isPrimaryClient,l);kF(t,r,u.wa);let c=new TF(e,r,s);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function dAe(t,e,r){let n=ir(t),a=n.Fa.get(e),i=n.Ma.get(a.targetId);if(i.length>1)return n.Ma.set(a.targetId,i.filter((s=>!Dx(s,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Yv(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Xv(n.remoteStore,a.targetId),Zv(n,a.targetId)})).catch(sm)):(Zv(n,a.targetId),await Yv(n.localStore,a.targetId,!0))}async function AAe(t,e){let r=ir(t),n=r.Fa.get(e),a=r.Ma.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Xv(r.remoteStore,n.targetId))}async function fAe(t,e,r){let n=xR(t);try{let a=await(function(s,o){let l=ir(s),u=$i.now(),c=o.reduce(((A,v)=>A.add(v.key)),Fn()),d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let v=Lu(),I=Fn();return l.cs.getEntries(A,c).next((w=>{v=w,v.forEach(((g,b)=>{b.isValidDocument()||(I=I.add(g))}))})).next((()=>l.localDocuments.getOverlayedDocuments(A,v))).next((w=>{d=w;let g=[];for(let b of o){let S=Bde(b,d.get(b.key).overlayedDocument);S!=null&&g.push(new zd(b.key,S,tq(S.value.mapValue),us.exists(!0)))}return l.mutationQueue.addMutationBatch(A,u,g,o)})).next((w=>{f=w;let g=w.applyToLocalDocumentSet(d,I);return l.documentOverlayCache.saveOverlays(A,w.batchId,g)}))})).then((()=>({batchId:f.batchId,changes:Aq(d)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),(function(s,o,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Bi(Cn)),u=u.insert(o,l),s.Ba[s.currentUser.toKey()]=u})(n,a.batchId,r),await Ch(n,a.changes),await s1(n.remoteStore)}catch(a){let i=l1(a,"Failed to persist write");r.reject(i)}}async function iz(t,e){let r=ir(t);try{let n=await Kde(r.localStore,e);e.targetChanges.forEach(((a,i)=>{let s=r.Na.get(i);s&&(Or(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?s.va=!0:a.modifiedDocuments.size>0?Or(s.va):a.removedDocuments.size>0&&(Or(s.va),s.va=!1))})),await Ch(r,n,e)}catch(n){await sm(n)}}function E9(t,e,r){let n=ir(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){let a=[];n.Fa.forEach(((i,s)=>{let o=s.view.Z_(e);o.snapshot&&a.push(o.snapshot)})),(function(s,o){let l=ir(s);l.onlineState=o;let u=!1;l.queries.forEach(((c,d)=>{for(let f of d.j_)f.Z_(o)&&(u=!0)})),u&&gR(l)})(n.eventManager,e),a.length&&n.Ca.d_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function hAe(t,e,r){let n=ir(t);n.sharedClientState.updateQueryState(e,"rejected",r);let a=n.Na.get(e),i=a&&a.key;if(i){let s=new Bi(sr.comparator);s=s.insert(i,Ks.newNoDocument(i,$r.min()));let o=Fn().add(i),l=new Cx($r.min(),new Map,new Bi(Cn),s,o);await iz(n,l),n.Oa=n.Oa.remove(i),n.Na.delete(e),wR(n)}else await Yv(n.localStore,e,!1).then((()=>Zv(n,e,r))).catch(sm)}async function pAe(t,e){let r=ir(t),n=e.batch.batchId;try{let a=await jde(r.localStore,e);bR(r,n,null),vR(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ch(r,a)}catch(a){await sm(a)}}async function mAe(t,e,r){let n=ir(t);try{let a=await(function(s,o){let l=ir(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next((d=>(Or(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c))).next((()=>l.localDocuments.getDocuments(u,c)))}))})(n.localStore,e);bR(n,e,r),vR(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ch(n,a)}catch(a){await sm(a)}}async function gAe(t,e){let r=ir(t);lm(r.remoteStore)||Ft("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let n=await(function(s){let o=ir(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(r.localStore);if(n===-1)return void e.resolve();let a=r.ka.get(n)||[];a.push(e),r.ka.set(n,a)}catch(n){let a=l1(n,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function vR(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function bR(t,e,r){let n=ir(t),a=n.Ba[n.currentUser.toKey()];if(a){let i=a.get(e);i&&(r?i.reject(r):i.resolve(),a=a.remove(e)),n.Ba[n.currentUser.toKey()]=a}}function Zv(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(let n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||sz(t,n)}))}function sz(t,e){t.xa.delete(e.path.canonicalString());let r=t.Oa.get(e);r!==null&&(Xv(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),wR(t))}function kF(t,e,r){for(let n of r)n instanceof mS?(t.La.addReference(n.key,e),yAe(t,n)):n instanceof gS?(Ft("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||sz(t,n.key)):_r()}function yAe(t,e){let r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ft("SyncEngine","New document in limbo: "+r),t.xa.add(n),wR(t))}function wR(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let r=new sr(ba.fromString(e)),n=t.qa.next();t.Na.set(n,new LF(r)),t.Oa=t.Oa.insert(r,n),PS(t.remoteStore,new Gv(Jl(a1(r.path)),n,"TargetPurposeLimboResolution",xl.oe))}}async function Ch(t,e,r){let n=ir(t),a=[],i=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach(((o,l)=>{s.push(n.Ka(l,e,r).then((u=>{var c;if((u||r)&&n.isPrimaryClient){let d=u?!u.fromCache:(c=r?.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){a.push(u);let d=dF.Wi(l.targetId,u);i.push(d)}})))})),await Promise.all(s),n.Ca.d_(a),await(async function(l,u){let c=ir(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>nt.forEach(u,(f=>nt.forEach(f.$i,(A=>c.persistence.referenceDelegate.addReference(d,f.targetId,A))).next((()=>nt.forEach(f.Ui,(A=>c.persistence.referenceDelegate.removeReference(d,f.targetId,A)))))))))}catch(d){if(!om(d))throw d;Ft("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let f=d.targetId;if(!d.fromCache){let A=c.os.get(f),v=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(f,I)}}})(n.localStore,i))}async function vAe(t,e){let r=ir(t);if(!r.currentUser.isEqual(e)){Ft("SyncEngine","User change. New user:",e.toKey());let n=await jq(r.localStore,e);r.currentUser=e,(function(i,s){i.ka.forEach((o=>{o.forEach((l=>{l.reject(new Lt(st.CANCELLED,s))}))})),i.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ch(r,n.hs)}}function bAe(t,e){let r=ir(t),n=r.Na.get(e);if(n&&n.va)return Fn().add(n.key);{let a=Fn(),i=r.Ma.get(e);if(!i)return a;for(let s of i){let o=r.Fa.get(s);a=a.unionWith(o.view.Va)}return a}}async function wAe(t,e){let r=ir(t),n=await sS(r.localStore,e.query,!0),a=e.view.ba(n);return r.isPrimaryClient&&kF(r,e.targetId,a.wa),a}async function xAe(t,e){let r=ir(t);return $q(r.localStore,e).then((n=>Ch(r,n)))}async function CAe(t,e,r,n){let a=ir(t),i=await(function(o,l){let u=ir(o),c=ir(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",(d=>c.Mn(d,l).next((f=>f?u.localDocuments.getDocuments(d,f):nt.resolve(null)))))})(a.localStore,e);i!==null?(r==="pending"?await s1(a.remoteStore):r==="acknowledged"||r==="rejected"?(bR(a,e,n||null),vR(a,e),(function(o,l){ir(ir(o).mutationQueue).On(l)})(a.localStore,e)):_r(),await Ch(a,i)):Ft("SyncEngine","Cannot apply mutation batch with id: "+e)}async function IAe(t,e){let r=ir(t);if(kS(r),xR(r),e===!0&&r.Qa!==!0){let n=r.sharedClientState.getAllActiveQueryTargets(),a=await T9(r,n.toArray());r.Qa=!0,await CF(r.remoteStore,!0);for(let i of a)PS(r.remoteStore,i)}else if(e===!1&&r.Qa!==!1){let n=[],a=Promise.resolve();r.Ma.forEach(((i,s)=>{r.sharedClientState.isLocalQueryTarget(s)?n.push(s):a=a.then((()=>(Zv(r,s),Yv(r.localStore,s,!0)))),Xv(r.remoteStore,s)})),await a,await T9(r,n),(function(s){let o=ir(s);o.Na.forEach(((l,u)=>{Xv(o.remoteStore,u)})),o.La.pr(),o.Na=new Map,o.Oa=new Bi(sr.comparator)})(r),r.Qa=!1,await CF(r.remoteStore,!1)}}async function T9(t,e,r){let n=ir(t),a=[],i=[];for(let s of e){let o,l=n.Ma.get(s);if(l&&l.length!==0){o=await $v(n.localStore,Jl(l[0]));for(let u of l){let c=n.Fa.get(u),d=await wAe(n,c);d.snapshot&&i.push(d.snapshot)}}else{let u=await Wq(n.localStore,s);o=await $v(n.localStore,u),await yR(n,oz(u),s,!1,o.resumeToken)}a.push(o)}return n.Ca.d_(i),a}function oz(t){return oq(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function NAe(t){return(function(r){return ir(ir(r).persistence).Qi()})(ir(t).localStore)}async function SAe(t,e,r,n){let a=ir(t);if(a.Qa)return void Ft("SyncEngine","Ignoring unexpected query state notification.");let i=a.Ma.get(e);if(i&&i.length>0)switch(r){case"current":case"not-current":{let s=await $q(a.localStore,uq(i[0])),o=Cx.createSynthesizedRemoteEventForCurrentChange(e,r==="current",Ns.EMPTY_BYTE_STRING);await Ch(a,s,o);break}case"rejected":await Yv(a.localStore,e,!0),Zv(a,e,n);break;default:_r()}}async function BAe(t,e,r){let n=kS(t);if(n.Qa){for(let a of e){if(n.Ma.has(a)&&n.sharedClientState.isActiveQueryTarget(a)){Ft("SyncEngine","Adding an already active target "+a);continue}let i=await Wq(n.localStore,a),s=await $v(n.localStore,i);await yR(n,oz(i),s.targetId,!1,s.resumeToken),PS(n.remoteStore,s)}for(let a of r)n.Ma.has(a)&&await Yv(n.localStore,a,!1).then((()=>{Xv(n.remoteStore,a),Zv(n,a)})).catch(sm)}}function kS(t){let e=ir(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bAe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hAe.bind(null,e),e.Ca.d_=oAe.bind(null,e.eventManager),e.Ca.$a=lAe.bind(null,e.eventManager),e}function xR(t){let e=ir(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pAe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mAe.bind(null,e),e}function _Ae(t,e,r){let n=ir(t);(async function(i,s,o){try{let l=await s.getMetadata();if(await(function(A,v){let I=ir(A),w=Is(v.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",(g=>I.Gr.getBundleMetadata(g,v.id))).then((g=>!!g&&g.createTime.compareTo(w)>=0))})(i.localStore,l))return await s.close(),o._completeWith((function(A){return{taskState:"Success",documentsLoaded:A.totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(nz(l));let u=new EF(l,i.localStore,s.serializer),c=await s.Ua();for(;c;){let f=await u.la(c);f&&o._updateProgress(f),c=await s.Ua()}let d=await u.complete();return await Ch(i,d.Ia,void 0),await(function(A,v){let I=ir(A);return I.persistence.runTransaction("Save bundle","readwrite",(w=>I.Gr.saveBundleMetadata(w,v)))})(i.localStore,l),o._completeWith(d.progress),Promise.resolve(d.Pa)}catch(l){return Vd("SyncEngine",`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(n,e,r).then((a=>{n.sharedClientState.notifyBundleLoaded(a)}))}var Qg=class{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ox(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return zq(this.persistence,new iS,e.initialUser,this.serializer)}Ga(e){return new nS(aS.Zr,this.serializer)}Wa(e){return new uS}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};Qg.provider={build:()=>new Qg};var vS=class extends Qg{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await xR(this.Ja.syncEngine),await s1(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return zq(this.persistence,new iS,e.initialUser,this.serializer)}ja(e,r){let n=this.persistence.referenceDelegate.garbageCollector;return new $3(n,e.asyncQueue,r)}Ha(e,r){let n=new A3(r,this.persistence);return new d3(e.asyncQueue,n)}Ga(e){let r=dR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Jc.withCacheSize(this.cacheSizeBytes):Jc.DEFAULT;return new cF(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,Xq(),P5(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new uS}},FF=class extends vS{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);let r=this.Ja.syncEngine;this.sharedClientState instanceof fx&&(this.sharedClientState.syncEngine={no:CAe.bind(null,r),ro:SAe.bind(null,r),io:BAe.bind(null,r),Qi:NAe.bind(null,r),eo:xAe.bind(null,r)},await this.sharedClientState.start()),await this.persistence.yi((async n=>{await IAe(this.Ja.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))}Wa(e){let r=Xq();if(!fx.D(r))throw new Lt(st.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let n=dR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fx(r,e.asyncQueue,n,e.clientId,e.initialUser)}},Hg=class{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>E9(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=vAe.bind(null,this.syncEngine),await CF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SF})()}createDatastore(e){let r=Ox(e.databaseInfo.databaseId),n=(function(i){return new gF(i)})(e.databaseInfo);return(function(i,s,o,l){return new bF(i,s,o,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,a,i,s,o){return new xF(n,a,i,s,o)})(this.localStore,this.datastore,e.asyncQueue,(r=>E9(this.syncEngine,r,0)),(function(){return cS.D()?new cS:new pF})())}createSyncEngine(e,r){return(function(a,i,s,o,l,u,c){let d=new PF(a,i,s,o,l,u);return c&&(d.Qa=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(a){let i=ir(a);Ft("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await i1(i),i.k_.shutdown(),i.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}};Hg.provider={build:()=>new Hg};function L9(t,e=10240){let r=0;return{async read(){if(r<t.byteLength){let n={value:t.slice(r,r+e),done:!1};return r+=e,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}var e1=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}};var RF=class{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new mo,this.buffer=new Uint8Array,this.eu=(function(){return new TextDecoder("utf-8")})(),this.tu().then((n=>{n&&n.ua()?this.metadata.resolve(n.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n?.aa)}`))}),(n=>this.metadata.reject(n)))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){let e=await this.nu();if(e===null)return null;let r=this.eu.decode(e),n=Number(r);isNaN(n)&&this.ru(`length string (${r}) is not valid number`);let a=await this.iu(n);return new _F(JSON.parse(a),e.length+n)}su(){return this.buffer.findIndex((e=>e===123))}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),r}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");let r=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),r}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){let e=await this.Xa.read();if(!e.done){let r=new Uint8Array(this.buffer.length+e.value.length);r.set(this.buffer),r.set(e.value,this.buffer.length),this.buffer=r}return e.done}};var UF=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Lt(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let r=await(async function(a,i){let s=ir(a),o={documents:i.map((d=>Nx(s.serializer,d)))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,ba.emptyPath(),o,i.length),u=new Map;l.forEach((d=>{let f=kde(s.serializer,d);u.set(f.key.toString(),f)}));let c=[];return i.forEach((d=>{let f=u.get(d.toString());Or(!!f),c.push(f)})),c})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new am(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{let a=sr.fromPath(n);this.mutations.push(new bx(a,this.precondition(a)))})),await(async function(n,a){let i=ir(n),s={writes:a.map((o=>Sx(i.serializer,o)))};await i.Mo("Commit",i.serializer.databaseId,ba.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw _r();r=$r.min()}let n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new Lt(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){let r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual($r.min())?us.exists(!1):us.updateTime(r):us.none()}preconditionForUpdate(e){let r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual($r.min()))throw new Lt(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return us.updateTime(r)}return us.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var DF=class{constructor(e,r,n,a,i){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=a,this.deferred=i,this._u=n.maxAttempts,this.t_=new Tx(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{let e=new UF(this.datastore),r=this.cu(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((a=>{this.lu(a)}))))})).catch((n=>{this.lu(n)}))}))}cu(e){try{let r=this.updateFunction(e);return!Rx(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!xq(r)}return!1}};var MF=class{constructor(e,r,n,a,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=js.UNAUTHENTICATED,this.clientId=F5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async s=>{Ft("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(Ft("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let n=l1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}};async function e3(t,e){t.asyncQueue.verifyOperationInProgress(),Ft("FirestoreClient","Initializing OfflineComponentProvider");let r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async a=>{n.isEqual(a)||(await jq(e.localStore,a),n=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function P9(t,e){t.asyncQueue.verifyOperationInProgress();let r=await CR(t);Ft("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>S9(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,a)=>S9(e.remoteStore,a))),t._onlineComponents=e}async function CR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ft("FirestoreClient","Using user provided OfflineComponentProvider");try{await e3(t,t._uninitializedComponentsProvider._offline)}catch(e){let r=e;if(!(function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;Vd("Error using user provided cache. Falling back to memory cache: "+r),await e3(t,new Qg)}}else Ft("FirestoreClient","Using default OfflineComponentProvider"),await e3(t,new Qg);return t._offlineComponents}async function FS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ft("FirestoreClient","Using user provided OnlineComponentProvider"),await P9(t,t._uninitializedComponentsProvider._online)):(Ft("FirestoreClient","Using default OnlineComponentProvider"),await P9(t,new Hg))),t._onlineComponents}function lz(t){return CR(t).then((e=>e.persistence))}function IR(t){return CR(t).then((e=>e.localStore))}function uz(t){return FS(t).then((e=>e.remoteStore))}function NR(t){return FS(t).then((e=>e.syncEngine))}function EAe(t){return FS(t).then((e=>e.datastore))}async function t1(t){let e=await FS(t),r=e.eventManager;return r.onListen=uAe.bind(null,e.syncEngine),r.onUnlisten=dAe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=cAe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=AAe.bind(null,e.syncEngine),r}function TAe(t){return t.asyncQueue.enqueue((async()=>{let e=await lz(t),r=await uz(t);return e.setNetworkEnabled(!0),(function(a){let i=ir(a);return i.L_.delete(0),Qx(i)})(r)}))}function LAe(t){return t.asyncQueue.enqueue((async()=>{let e=await lz(t),r=await uz(t);return e.setNetworkEnabled(!1),(async function(a){let i=ir(a);i.L_.add(0),await i1(i),i.q_.set("Offline")})(r)}))}function PAe(t,e){let r=new mo;return t.asyncQueue.enqueueAndForget((async()=>(async function(a,i,s){try{let o=await(function(u,c){let d=ir(u);return d.persistence.runTransaction("read document","readonly",(f=>d.localDocuments.getDocument(f,c)))})(a,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new Lt(st.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){let l=l1(o,`Failed to get document '${i} from cache`);s.reject(l)}})(await IR(t),e,r))),r.promise}function cz(t,e,r={}){let n=new mo;return t.asyncQueue.enqueueAndForget((async()=>(function(i,s,o,l,u){let c=new e1({next:f=>{c.Za(),s.enqueueAndForget((()=>mR(i,d)));let A=f.docs.has(o);!A&&f.fromCache?u.reject(new Lt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&f.fromCache&&l&&l.source==="server"?u.reject(new Lt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new Lx(a1(o.path),c,{includeMetadataChanges:!0,_a:!0});return pR(i,d)})(await t1(t),t.asyncQueue,e,r,n))),n.promise}function kAe(t,e){let r=new mo;return t.asyncQueue.enqueueAndForget((async()=>(async function(a,i,s){try{let o=await sS(a,i,!0),l=new yS(i,o.Ts),u=l.ma(o.documents),c=l.applyChanges(u,!1);s.resolve(c.snapshot)}catch(o){let l=l1(o,`Failed to execute query '${i} against cache`);s.reject(l)}})(await IR(t),e,r))),r.promise}function dz(t,e,r={}){let n=new mo;return t.asyncQueue.enqueueAndForget((async()=>(function(i,s,o,l,u){let c=new e1({next:f=>{c.Za(),s.enqueueAndForget((()=>mR(i,d))),f.fromCache&&l.source==="server"?u.reject(new Lt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new Lx(o,c,{includeMetadataChanges:!0,_a:!0});return pR(i,d)})(await t1(t),t.asyncQueue,e,r,n))),n.promise}function FAe(t,e){let r=new e1(e);return t.asyncQueue.enqueueAndForget((async()=>(function(a,i){ir(a).Y_.add(i),i.next()})(await t1(t),r))),()=>{r.Za(),t.asyncQueue.enqueueAndForget((async()=>(function(a,i){ir(a).Y_.delete(i)})(await t1(t),r)))}}function RAe(t,e,r,n){let a=(function(s,o){let l;return l=typeof s=="string"?Iq().encode(s):s,(function(c,d){return new RF(c,d)})((function(c,d){if(c instanceof Uint8Array)return L9(c,d);if(c instanceof ArrayBuffer)return L9(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(r,Ox(e));t.asyncQueue.enqueueAndForget((async()=>{_Ae(await NR(t),a,n)}))}function UAe(t,e){return t.asyncQueue.enqueue((async()=>(function(n,a){let i=ir(n);return i.persistence.runTransaction("Get named query","readonly",(s=>i.Gr.getNamedQuery(s,a)))})(await IR(t),e)))}function Az(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var k9=new Map;function SR(t,e,r){if(!r)throw new Lt(st.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BR(t,e,r,n){if(e===!0&&n===!0)throw new Lt(st.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function F9(t){if(!sr.isDocumentKey(t))throw new Lt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R9(t){if(sr.isDocumentKey(t))throw new Lt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_r()}function Ca(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Lt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=RS(t);throw new Lt(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function fz(t,e){if(e<=0)throw new Lt(st.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var bS=class{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Lt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Lt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Az((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Lt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Lt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Lt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Vg=class{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Lt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bS(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new t3;switch(n.type){case"firstParty":return new i3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Lt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){let n=k9.get(r);n&&(Ft("ComponentProvider","Removing Datastore"),k9.delete(r),n.terminate())})(this),Promise.resolve()}};function hz(t,e,r,n={}){var a;let i=(t=Ca(t,Vg))._getSettings(),s=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&Vd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=js.MOCK_USER;else{o=LN(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);let u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new Lt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new js(u)}t._authCredentials=new r3(new k5(o,l))}}var Wo=class t{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},bi=class t{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},cf=class t extends Wo{constructor(e,r,n){super(e,r,a1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bi(this.firestore,null,new sr(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function _R(t,e,...r){if(t=Br(t),SR("collection","path",e),t instanceof Vg){let n=ba.fromString(e,...r);return R9(n),new cf(t,null,n)}{if(!(t instanceof bi||t instanceof cf))throw new Lt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=t._path.child(ba.fromString(e,...r));return R9(n),new cf(t.firestore,null,n)}}function pz(t,e){if(t=Ca(t,Vg),SR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lt(st.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wo(t,null,(function(n){return new qd(ba.emptyPath(),n)})(e))}function Hx(t,e,...r){if(t=Br(t),arguments.length===1&&(e=F5.newId()),SR("doc","path",e),t instanceof Vg){let n=ba.fromString(e,...r);return F9(n),new bi(t,null,new sr(n))}{if(!(t instanceof bi||t instanceof cf))throw new Lt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=t._path.child(ba.fromString(e,...r));return F9(n),new bi(t.firestore,t instanceof cf?t.converter:null,new sr(n))}}function ER(t,e){return t=Br(t),e=Br(e),(t instanceof bi||t instanceof cf)&&(e instanceof bi||e instanceof cf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function TR(t,e){return t=Br(t),e=Br(e),t instanceof Wo&&e instanceof Wo&&t.firestore===e.firestore&&Dx(t._query,e._query)&&t.converter===e.converter}var wS=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Tx(this,"async_queue_retry"),this.Vu=()=>{let n=P5();n&&Ft("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;let r=P5();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let r=P5();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));let r=new mo;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!om(e))throw e;Ft("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){let r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;let a=(function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o})(n);throw xs("INTERNAL UNHANDLED ERROR: ",a),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);let a=IF.createAndSchedule(this,e,r,n,(i=>this.yu(i)));return this.Tu.push(a),a}fu(){this.Eu&&_r()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(let r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(let r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){let r=this.Tu.indexOf(e);this.Tu.splice(r,1)}};function OF(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;let a=r;for(let i of n)if(i in a&&typeof a[i]=="function")return!0;return!1})(t,["next","error","complete"])}var QF=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new mo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,n){this._progressObserver={next:e,error:r,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var mz=-1,Yi=class extends Vg{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new wS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wS(e),this._firestoreClient=void 0,await e}}};function $o(t){if(t._terminated)throw new Lt(st.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gz(t),t._firestoreClient}function gz(t){var e,r,n;let a=t._freezeSettings(),i=(function(o,l,u,c){return new f3(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Az(c.experimentalLongPollingOptions),c.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new MF(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){let l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(t._componentsProvider))}function yz(t,e){Vd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings();return bz(t,Hg.provider,{build:n=>new vS(n,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function vz(t){Vd("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=t._freezeSettings();bz(t,Hg.provider,{build:r=>new FF(r,e.cacheSizeBytes)})}function bz(t,e,r){if((t=Ca(t,Yi))._firestoreClient||t._terminated)throw new Lt(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Lt(st.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},gz(t)}function wz(t){if(t._initialized&&!t._terminated)throw new Lt(st.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new mo;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(n){if(!Xp.D())return Promise.resolve();let a=n+"main";await Xp.delete(a)})(dR(t._databaseId,t._persistenceKey)),e.resolve()}catch(r){e.reject(r)}})),e.promise}function xz(t){return(function(r){let n=new mo;return r.asyncQueue.enqueueAndForget((async()=>gAe(await NR(r),n))),n.promise})($o(t=Ca(t,Yi)))}function Cz(t){return TAe($o(t=Ca(t,Yi)))}function Iz(t){return LAe($o(t=Ca(t,Yi)))}function Nz(t,e){let r=$o(t=Ca(t,Yi)),n=new QF;return RAe(r,t._databaseId,e,n),n}function Sz(t,e){return UAe($o(t=Ca(t,Yi)),e).then((r=>r?new Wo(t,null,r.query):null))}var hf=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ns.fromBase64String(e))}catch(r){throw new Lt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new t(Ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var jd=class{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Lt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wh=class{constructor(e){this._methodName=e}};var qg=class{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Lt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Lt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cn(this._lat,e._lat)||Cn(this._long,e._long)}};var Px=class{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0})(this._values,e._values)}};var DAe=/^__.*__$/,HF=class{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new zd(e,this.data,this.fieldMask,r,this.fieldTransforms):new nm(e,this.data,r,this.fieldTransforms)}},xS=class{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new zd(e,this.data,this.fieldMask,r,this.fieldTransforms)}};function Bz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _r()}}var CS=class t{constructor(e,r,n,a,i,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;let n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.Ou(e),a}Nu(e){var r;let n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return IS(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Bz(this.Cu)&&DAe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},VF=class{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Ox(e)}Qu(e,r,n,a=!1){return new CS({Cu:e,methodName:r,qu:n,path:Cs.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Gg(t){let e=t._freezeSettings(),r=Ox(t._databaseId);return new VF(t._databaseId,!!e.ignoreUndefinedProperties,r)}function US(t,e,r,n,a,i={}){let s=t.Qu(i.merge||i.mergeFields?2:0,e,r,a);kR("Data must be an object, but it was:",s,n);let o=Tz(n,s),l,u;if(i.merge)l=new hc(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){let c=[];for(let d of i.mergeFields){let f=GF(e,d,r);if(!s.contains(f))throw new Lt(st.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Pz(c,f)||c.push(f)}l=new hc(c),u=s.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=s.fieldTransforms;return new HF(new wl(o),l,u)}var kx=class t extends wh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function _z(t,e,r){return new CS({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var qF=class t extends wh{_toFieldTransform(e){return new Dg(e.path,new tm)}isEqual(e){return e instanceof t}},zF=class t extends wh{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){let r=_z(this,e,!0),n=this.Ku.map((i=>Wg(i,r))),a=new vh(n);return new Dg(e.path,a)}isEqual(e){return e instanceof t&&Lp(this.Ku,e.Ku)}},jF=class t extends wh{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){let r=_z(this,e,!0),n=this.Ku.map((i=>Wg(i,r))),a=new bh(n);return new Dg(e.path,a)}isEqual(e){return e instanceof t&&Lp(this.Ku,e.Ku)}},KF=class t extends wh{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){let r=new rm(e.serializer,pq(e.serializer,this.$u));return new Dg(e.path,r)}isEqual(e){return e instanceof t&&this.$u===e.$u}};function LR(t,e,r,n){let a=t.Qu(1,e,r);kR("Data must be an object, but it was:",a,n);let i=[],s=wl.empty();Kg(n,((l,u)=>{let c=FR(e,l,r);u=Br(u);let d=a.Nu(c);if(u instanceof kx)i.push(c);else{let f=Wg(u,d);f!=null&&(i.push(c),s.set(c,f))}}));let o=new hc(i);return new xS(s,o,a.fieldTransforms)}function PR(t,e,r,n,a,i){let s=t.Qu(1,e,r),o=[GF(e,n,r)],l=[a];if(i.length%2!=0)throw new Lt(st.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)o.push(GF(e,i[f])),l.push(i[f+1]);let u=[],c=wl.empty();for(let f=o.length-1;f>=0;--f)if(!Pz(u,o[f])){let A=o[f],v=l[f];v=Br(v);let I=s.Nu(A);if(v instanceof kx)u.push(A);else{let w=Wg(v,I);w!=null&&(u.push(A),c.set(A,w))}}let d=new hc(u);return new xS(c,d,s.fieldTransforms)}function Ez(t,e,r,n=!1){return Wg(r,t.Qu(n?4:3,e))}function Wg(t,e){if(Lz(t=Br(t)))return kR("Unsupported field value:",e,t),Tz(t,e);if(t instanceof wh)return(function(n,a){if(!Bz(a.Cu))throw a.Bu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${n._methodName}() is not currently supported inside arrays`);let i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,a){let i=[],s=0;for(let o of n){let l=Wg(o,a.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}})(t,e)}return(function(n,a){if((n=Br(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return pq(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let i=$i.fromDate(n);return{timestampValue:Kv(a.serializer,i)}}if(n instanceof $i){let i=new $i(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Kv(a.serializer,i)}}if(n instanceof qg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hf)return{bytesValue:Nq(a.serializer,n._byteString)};if(n instanceof bi){let i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lR(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Px)return(function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map((l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return oR(o.serializer,l)}))}}}}}})(n,a);throw a.Bu(`Unsupported field value: ${RS(n)}`)})(t,e)}function Tz(t,e){let r={};return X9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kg(t,((n,a)=>{let i=Wg(a,e.Mu(n));i!=null&&(r[n]=i)})),{mapValue:{fields:r}}}function Lz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $i||t instanceof qg||t instanceof hf||t instanceof bi||t instanceof wh||t instanceof Px)}function kR(t,e,r){if(!Lz(r)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(r)){let n=RS(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function GF(t,e,r){if((e=Br(e))instanceof jd)return e._internalPath;if(typeof e=="string")return FR(t,e);throw IS("Field path arguments must be of type string or ",t,!1,void 0,r)}var MAe=new RegExp("[~\\*/\\[\\]]");function FR(t,e,r){if(e.search(MAe)>=0)throw IS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new jd(...e.split("."))._internalPath}catch{throw IS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function IS(t,e,r,n,a){let i=n&&!n.isEmpty(),s=a!==void 0,o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Lt(st.INVALID_ARGUMENT,o+t+l)}function Pz(t,e){return t.some((r=>r.isEqual(e)))}var zg=class{constructor(e,r,n,a,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new WF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let r=this._document.data.field(DS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}},WF=class extends zg{data(){return super.data()}};function DS(t,e){return typeof e=="string"?FR(t,e):e instanceof jd?e._internalPath:e._delegate._internalPath}function kz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Lt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fx=class{},jg=class extends Fx{};function Ih(t,e,...r){let n=[];e instanceof Fx&&n.push(e),n=n.concat(r),(function(i){let s=i.filter((l=>l instanceof $F)).length,o=i.filter((l=>l instanceof NS)).length;if(s>1||s>0&&o>0)throw new Lt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(let a of n)t=a._apply(t);return t}var NS=class t extends jg{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new t(e,r,n)}_apply(e){let r=this._parse(e);return qz(e._query,r),new Wo(e.firestore,e.converter,S3(e._query,r))}_parse(e){let r=Gg(e.firestore);return(function(i,s,o,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Lt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){D9(d,c);let A=[];for(let v of d)A.push(U9(l,i,v));f={arrayValue:{values:A}}}else f=U9(l,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||D9(d,c),f=Ez(o,s,d,c==="in"||c==="not-in");return aa.create(u,c,f)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}};function Fz(t,e,r){let n=e,a=DS("where",t);return NS._create(a,n,r)}var $F=class t extends Fx{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new t(e,r)}_parse(e){let r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Wa.create(r,this._getOperator())}_apply(e){let r=this._parse(e);return r.getFilters().length===0?e:((function(a,i){let s=a,o=i.getFlattenedFilters();for(let l of o)qz(s,l),s=S3(s,l)})(e._query,r),new Wo(e.firestore,e.converter,S3(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var YF=class t extends jg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new t(e,r)}_apply(e){let r=(function(a,i,s){if(a.startAt!==null)throw new Lt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Lt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rg(i,s)})(e._query,this._field,this._direction);return new Wo(e.firestore,e.converter,(function(a,i){let s=a.explicitOrderBy.concat([i]);return new qd(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,r))}};function Rz(t,e="asc"){let r=e,n=DS("orderBy",t);return YF._create(n,r)}var SS=class t extends jg{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new t(e,r,n)}_apply(e){return new Wo(e.firestore,e.converter,z5(e._query,this._limit,this._limitType))}};function Uz(t){return fz("limit",t),SS._create("limit",t,"F")}function Dz(t){return fz("limitToLast",t),SS._create("limitToLast",t,"L")}var BS=class t extends jg{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new t(e,r,n)}_apply(e){let r=Vz(e,this.type,this._docOrFields,this._inclusive);return new Wo(e.firestore,e.converter,(function(a,i){return new qd(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,i,a.endAt)})(e._query,r))}};function Mz(...t){return BS._create("startAt",t,!0)}function Oz(...t){return BS._create("startAfter",t,!1)}var _S=class t extends jg{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new t(e,r,n)}_apply(e){let r=Vz(e,this.type,this._docOrFields,this._inclusive);return new Wo(e.firestore,e.converter,(function(a,i){return new qd(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,i)})(e._query,r))}};function Qz(...t){return _S._create("endBefore",t,!1)}function Hz(...t){return _S._create("endAt",t,!0)}function Vz(t,e,r,n){if(r[0]=Br(r[0]),r[0]instanceof zg)return(function(i,s,o,l,u){if(!l)throw new Lt(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);let c=[];for(let d of Mv(i))if(d.field.isKeyField())c.push(Fg(s,l.key));else{let f=l.data.field(d.field);if(TS(f))throw new Lt(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){let A=d.field.canonicalString();throw new Lt(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}c.push(f)}return new Af(c,u)})(t._query,t.firestore._databaseId,e,r[0]._document,n);{let a=Gg(t.firestore);return(function(s,o,l,u,c,d){let f=s.explicitOrderBy;if(c.length>f.length)throw new Lt(st.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let A=[];for(let v=0;v<c.length;v++){let I=c[v];if(f[v].field.isKeyField()){if(typeof I!="string")throw new Lt(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof I}`);if(!iR(s)&&I.indexOf("/")!==-1)throw new Lt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${I}' contains a slash.`);let w=s.path.child(ba.fromString(I));if(!sr.isDocumentKey(w))throw new Lt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);let g=new sr(w);A.push(Fg(o,g))}else{let w=Ez(l,u,I);A.push(w)}}return new Af(A,d)})(t._query,t.firestore._databaseId,a,e,r,n)}}function U9(t,e,r){if(typeof(r=Br(r))=="string"){if(r==="")throw new Lt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iR(e)&&r.indexOf("/")!==-1)throw new Lt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);let n=e.path.child(ba.fromString(r));if(!sr.isDocumentKey(n))throw new Lt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Fg(t,new sr(n))}if(r instanceof bi)return Fg(t,r._key);throw new Lt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${RS(r)}.`)}function D9(t,e){if(!Array.isArray(t)||t.length===0)throw new Lt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qz(t,e){let r=(function(a,i){for(let s of a)for(let o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Lt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Lt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}var r1=class{convertValue(e,r="none"){switch(kg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Jp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw _r()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){let n={};return Kg(e,((a,i)=>{n[a]=this.convertValue(i,r)})),n}convertVectorValue(e){var r,n,a;let i=(a=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map((s=>Qi(s.doubleValue)));return new Px(i)}convertGeoPoint(e){return new qg(Qi(e.latitude),Qi(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":let n=nR(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(gx(e));default:return null}}convertTimestamp(e){let r=yh(e);return new $i(r.seconds,r.nanos)}convertDocumentKey(e,r){let n=ba.fromString(e);Or(Uq(n));let a=new Zp(n.get(1),n.get(3)),i=new sr(n.popFirst(5));return a.isEqual(r)||xs(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}};function MS(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}var XF=class extends r1{constructor(e){super(),this.firestore=e}convertBytes(e){return new hf(e)}convertReference(e){let r=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,r)}};var gh=class{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ed=class extends zg{constructor(e,r,n,a,i,s){super(e,r,n,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let r=new $p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){let n=this._document.data.field(DS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}},$p=class extends ed{data(e={}){return super.data(e)}},Kd=class{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new gh(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){let e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new $p(this._firestore,this._userDataWriter,n.key,n,new gh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Lt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map((o=>{let l=new $p(a._firestore,a._userDataWriter,o.doc.key,o.doc,new gh(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}}))}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((o=>i||o.type!==3)).map((o=>{let l=new $p(a._firestore,a._userDataWriter,o.doc.key,o.doc,new gh(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter),u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:OAe(o.type),doc:l,oldIndex:u,newIndex:c}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}};function OAe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _r()}}function RR(t,e){return t instanceof ed&&e instanceof ed?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Kd&&e instanceof Kd&&t._firestore===e._firestore&&TR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function zz(t){t=Ca(t,bi);let e=Ca(t.firestore,Yi);return cz($o(e),t._key).then((r=>OR(e,t,r)))}var xh=class extends r1{constructor(e){super(),this.firestore=e}convertBytes(e){return new hf(e)}convertReference(e){let r=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,r)}};function jz(t){t=Ca(t,bi);let e=Ca(t.firestore,Yi),r=$o(e),n=new xh(e);return PAe(r,t._key).then((a=>new ed(e,n,t._key,a,new gh(a!==null&&a.hasLocalMutations,!0),t.converter)))}function Kz(t){t=Ca(t,bi);let e=Ca(t.firestore,Yi);return cz($o(e),t._key,{source:"server"}).then((r=>OR(e,t,r)))}function Gz(t){t=Ca(t,Wo);let e=Ca(t.firestore,Yi),r=$o(e),n=new xh(e);return kz(t._query),dz(r,t._query).then((a=>new Kd(e,n,t,a)))}function Wz(t){t=Ca(t,Wo);let e=Ca(t.firestore,Yi),r=$o(e),n=new xh(e);return kAe(r,t._query).then((a=>new Kd(e,n,t,a)))}function $z(t){t=Ca(t,Wo);let e=Ca(t.firestore,Yi),r=$o(e),n=new xh(e);return dz(r,t._query,{source:"server"}).then((a=>new Kd(e,n,t,a)))}function UR(t,e,r){t=Ca(t,bi);let n=Ca(t.firestore,Yi),a=MS(t.converter,e,r);return u1(n,[US(Gg(n),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,us.none())])}function DR(t,e,r,...n){t=Ca(t,bi);let a=Ca(t.firestore,Yi),i=Gg(a),s;return s=typeof(e=Br(e))=="string"||e instanceof jd?PR(i,"updateDoc",t._key,e,r,n):LR(i,"updateDoc",t._key,e),u1(a,[s.toMutation(t._key,us.exists(!0))])}function Yz(t){return u1(Ca(t.firestore,Yi),[new am(t._key,us.none())])}function Xz(t,e){let r=Ca(t.firestore,Yi),n=Hx(t),a=MS(t.converter,e);return u1(r,[US(Gg(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,us.exists(!1))]).then((()=>n))}function MR(t,...e){var r,n,a;t=Br(t);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||OF(e[s])||(i=e[s],s++);let o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(OF(e[s])){let d=e[s];e[s]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[s+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[s+2]=(a=d.complete)===null||a===void 0?void 0:a.bind(d)}let l,u,c;if(t instanceof bi)u=Ca(t.firestore,Yi),c=a1(t._key.path),l={next:d=>{e[s]&&e[s](OR(u,t,d))},error:e[s+1],complete:e[s+2]};else{let d=Ca(t,Wo);u=Ca(d.firestore,Yi),c=d._query;let f=new xh(u);l={next:A=>{e[s]&&e[s](new Kd(u,f,d,A))},error:e[s+1],complete:e[s+2]},kz(t._query)}return(function(f,A,v,I){let w=new e1(I),g=new Lx(A,w,v);return f.asyncQueue.enqueueAndForget((async()=>pR(await t1(f),g))),()=>{w.Za(),f.asyncQueue.enqueueAndForget((async()=>mR(await t1(f),g)))}})($o(u),c,o,l)}function Jz(t,e){return FAe($o(t=Ca(t,Yi)),OF(e)?e:{next:e})}function u1(t,e){return(function(n,a){let i=new mo;return n.asyncQueue.enqueueAndForget((async()=>fAe(await NR(n),a,i))),i.promise})($o(t),e)}function OR(t,e,r){let n=r.docs.get(e._key),a=new xh(t);return new ed(t,a,e._key,n,new gh(r.hasPendingWrites,r.fromCache),e.converter)}var QAe={maxAttempts:5};var ES=class{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Gg(e)}set(e,r,n){this._verifyNotCommitted();let a=Gp(e,this._firestore),i=MS(a.converter,r,n),s=US(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,us.none())),this}update(e,r,n,...a){this._verifyNotCommitted();let i=Gp(e,this._firestore),s;return s=typeof(r=Br(r))=="string"||r instanceof jd?PR(this._dataReader,"WriteBatch.update",i._key,r,n,a):LR(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,us.exists(!0))),this}delete(e){this._verifyNotCommitted();let r=Gp(e,this._firestore);return this._mutations=this._mutations.concat(new am(r._key,us.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Lt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Gp(t,e){if((t=Br(t)).firestore!==e)throw new Lt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var JF=class extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=Gg(r)}get(r){let n=Gp(r,this._firestore),a=new XF(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return _r();let s=i[0];if(s.isFoundDocument())return new zg(this._firestore,a,s.key,s,n.converter);if(s.isNoDocument())return new zg(this._firestore,a,n._key,null,n.converter);throw _r()}))}set(r,n,a){let i=Gp(r,this._firestore),s=MS(i.converter,n,a),o=US(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,a);return this._transaction.set(i._key,o),this}update(r,n,a,...i){let s=Gp(r,this._firestore),o;return o=typeof(n=Br(n))=="string"||n instanceof jd?PR(this._dataReader,"Transaction.update",s._key,n,a,i):LR(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(r){let n=Gp(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){let r=Gp(e,this._firestore),n=new xh(this._firestore);return super.get(e).then((a=>new ed(this._firestore,n,r._key,a._document,new gh(!1,!1),r.converter)))}};function Zz(t,e,r){t=Ca(t,Yi);let n=Object.assign(Object.assign({},QAe),r);return(function(i){if(i.maxAttempts<1)throw new Lt(st.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(i,s,o){let l=new mo;return i.asyncQueue.enqueueAndForget((async()=>{let u=await EAe(i);new DF(i.asyncQueue,u,o,s,l).au()})),l.promise})($o(t),(a=>e(new JF(t,a))),n)}function ej(){return new kx("deleteField")}function tj(){return new qF("serverTimestamp")}function rj(...t){return new zF("arrayUnion",t)}function nj(...t){return new jF("arrayRemove",t)}function aj(t){return new KF("increment",t)}(function(e,r=!0){(function(a){n1=a})(Ac),Yl(new yi("firestore",((n,{instanceIdentifier:a,options:i})=>{let s=n.getProvider("app").getImmediate(),o=new Yi(new n3(n.getProvider("auth-internal")),new o3(n.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Lt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zp(u.options.projectId,c)})(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ws(RV,"4.7.3",e),ws(RV,"4.7.3","esm2017")})();var HAe="@firebase/firestore-compat",VAe="0.3.38";function jR(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Lt("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function ij(){if(typeof Uint8Array>"u")throw new Lt("unimplemented","Uint8Arrays are not available in this environment.")}function sj(){if(!J9())throw new Lt("unimplemented","Blobs are unavailable in Firestore in this environment.")}var OS=class t{constructor(e){this._delegate=e}static fromBase64String(e){return sj(),new t(hf.fromBase64String(e))}static fromUint8Array(e){return ij(),new t(hf.fromUint8Array(e))}toBase64(){return sj(),this._delegate.toBase64()}toUint8Array(){return ij(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function QR(t){return qAe(t,["next","error","complete"])}function qAe(t,e){if(typeof t!="object"||t===null)return!1;let r=t;for(let n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}var HR=class{enableIndexedDbPersistence(e,r){return yz(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return vz(e._delegate)}clearIndexedDbPersistence(e){return wz(e._delegate)}},QS=class{constructor(e,r,n){this._delegate=r,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zp||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Vd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},r),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,r,n={}){hz(this._delegate,e,r,n)}enableNetwork(){return Cz(this._delegate)}disableNetwork(){return Iz(this._delegate)}enablePersistence(e){let r=!1,n=!1;return e&&(r=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,BR("synchronizeTabs",r,"experimentalForceOwningTab",n)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return xz(this._delegate)}onSnapshotsInSync(e){return Jz(this._delegate,e)}get app(){if(!this._appCompat)throw new Lt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new A1(this,_R(this._delegate,e))}catch(r){throw Zl(r,"collection()","Firestore.collection()")}}doc(e){try{return new pf(this,Hx(this._delegate,e))}catch(r){throw Zl(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jg(this,pz(this._delegate,e))}catch(r){throw Zl(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Zz(this._delegate,r=>e(new HS(this,r)))}batch(){return $o(this._delegate),new VS(new ES(this._delegate,e=>u1(this._delegate,e)))}loadBundle(e){return Nz(this._delegate,e)}namedQuery(e){return Sz(this._delegate,e).then(r=>r?new Jg(this,r):null)}},c1=class extends r1{constructor(e){super(),this.firestore=e}convertBytes(e){return new OS(new hf(e))}convertReference(e){let r=this.convertDocumentKey(e,this.firestore._databaseId);return pf.forKey(r,this.firestore,null)}};function zAe(t){O9(t)}var HS=class{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new c1(e)}get(e){let r=$g(e);return this._delegate.get(r).then(n=>new Yg(this._firestore,new ed(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,r.converter)))}set(e,r,n){let a=$g(e);return n?(jR("Transaction.set",n),this._delegate.set(a,r,n)):this._delegate.set(a,r),this}update(e,r,n,...a){let i=$g(e);return arguments.length===2?this._delegate.update(i,r):this._delegate.update(i,r,n,...a),this}delete(e){let r=$g(e);return this._delegate.delete(r),this}},VS=class{constructor(e){this._delegate=e}set(e,r,n){let a=$g(e);return n?(jR("WriteBatch.set",n),this._delegate.set(a,r,n)):this._delegate.set(a,r),this}update(e,r,n,...a){let i=$g(e);return arguments.length===2?this._delegate.update(i,r):this._delegate.update(i,r,n,...a),this}delete(e){let r=$g(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}},d1=class t{constructor(e,r,n){this._firestore=e,this._userDataWriter=r,this._delegate=n}fromFirestore(e,r){let n=new $p(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xg(this._firestore,n),r??{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){let n=t.INSTANCES,a=n.get(e);a||(a=new WeakMap,n.set(e,a));let i=a.get(r);return i||(i=new t(e,new c1(e),r),a.set(r,i)),i}};d1.INSTANCES=new WeakMap;var pf=class t{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new c1(e)}static forPath(e,r,n){if(e.length%2!==0)throw new Lt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(r,new bi(r._delegate,n,new sr(e)))}static forKey(e,r,n){return new t(r,new bi(r._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new A1(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new A1(this.firestore,_R(this._delegate,e))}catch(r){throw Zl(r,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Br(e),e instanceof bi?ER(this._delegate,e):!1}set(e,r){r=jR("DocumentReference.set",r);try{return r?UR(this._delegate,e,r):UR(this._delegate,e)}catch(n){throw Zl(n,"setDoc()","DocumentReference.set()")}}update(e,r,...n){try{return arguments.length===1?DR(this._delegate,e):DR(this._delegate,e,r,...n)}catch(a){throw Zl(a,"updateDoc()","DocumentReference.update()")}}delete(){return Yz(this._delegate)}onSnapshot(...e){let r=oj(e),n=lj(e,a=>new Yg(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return MR(this._delegate,r,n)}get(e){let r;return e?.source==="cache"?r=jz(this._delegate):e?.source==="server"?r=Kz(this._delegate):r=zz(this._delegate),r.then(n=>new Yg(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(d1.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Zl(t,e,r){return t.message=t.message.replace(e,r),t}function oj(t){for(let e of t)if(typeof e=="object"&&!QR(e))return e;return{}}function lj(t,e){var r,n;let a;return QR(t[0])?a=t[0]:QR(t[1])?a=t[1]:typeof t[0]=="function"?a={next:t[0],error:t[1],complete:t[2]}:a={next:t[1],error:t[2],complete:t[3]},{next:i=>{a.next&&a.next(e(i))},error:(r=a.error)===null||r===void 0?void 0:r.bind(a),complete:(n=a.complete)===null||n===void 0?void 0:n.bind(a)}}var Yg=class{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new pf(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return RR(this._delegate,e._delegate)}},Xg=class extends Yg{data(e){let r=this._delegate.data(e);return this._delegate._converter||Q9(r!==void 0,"Document in a QueryDocumentSnapshot should exist"),r}},Jg=class t{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new c1(e)}where(e,r,n){try{return new t(this.firestore,Ih(this._delegate,Fz(e,r,n)))}catch(a){throw Zl(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new t(this.firestore,Ih(this._delegate,Rz(e,r)))}catch(n){throw Zl(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Ih(this._delegate,Uz(e)))}catch(r){throw Zl(r,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Ih(this._delegate,Dz(e)))}catch(r){throw Zl(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Ih(this._delegate,Mz(...e)))}catch(r){throw Zl(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Ih(this._delegate,Oz(...e)))}catch(r){throw Zl(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Ih(this._delegate,Qz(...e)))}catch(r){throw Zl(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Ih(this._delegate,Hz(...e)))}catch(r){throw Zl(r,"endAt()","Query.endAt()")}}isEqual(e){return TR(this._delegate,e._delegate)}get(e){let r;return e?.source==="cache"?r=Wz(this._delegate):e?.source==="server"?r=$z(this._delegate):r=Gz(this._delegate),r.then(n=>new Vx(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...e){let r=oj(e),n=lj(e,a=>new Vx(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return MR(this._delegate,r,n)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(d1.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},VR=class{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Xg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Vx=class{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Jg(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new VR(this._firestore,r))}forEach(e,r){this._delegate.forEach(n=>{e.call(r,new Xg(this._firestore,n))})}isEqual(e){return RR(this._delegate,e._delegate)}},A1=class t extends Jg{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new pf(this.firestore,e):null}doc(e){try{return e===void 0?new pf(this.firestore,Hx(this._delegate)):new pf(this.firestore,Hx(this._delegate,e))}catch(r){throw Zl(r,"doc()","CollectionReference.doc()")}}add(e){return Xz(this._delegate,e).then(r=>new pf(this.firestore,r))}isEqual(e){return ER(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(d1.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function $g(t){return Ca(t,bi)}var qR=class t{constructor(...e){this._delegate=new jd(...e)}static documentId(){return new t(Cs.keyField().canonicalString())}isEqual(e){return e=Br(e),e instanceof jd?this._delegate._internalPath.isEqual(e._internalPath):!1}};var zR=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=tj();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=ej();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let r=rj(...e);return r._methodName="FieldValue.arrayUnion",new t(r)}static arrayRemove(...e){let r=nj(...e);return r._methodName="FieldValue.arrayRemove",new t(r)}static increment(e){let r=aj(e);return r._methodName="FieldValue.increment",new t(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var jAe={Firestore:QS,GeoPoint:qg,Timestamp:$i,Blob:OS,Transaction:HS,WriteBatch:VS,DocumentReference:pf,DocumentSnapshot:Yg,Query:Jg,QueryDocumentSnapshot:Xg,QuerySnapshot:Vx,CollectionReference:A1,FieldPath:qR,FieldValue:zR,setLogLevel:zAe,CACHE_SIZE_UNLIMITED:mz};function KAe(t,e){t.INTERNAL.registerComponent(new yi("firestore-compat",r=>{let n=r.getProvider("app-compat").getImmediate(),a=r.getProvider("firestore").getImmediate();return e(n,a)},"PUBLIC").setServiceProps(Object.assign({},jAe)))}function GAe(t){KAe(t,(e,r)=>new QS(e,r,new HR)),t.registerVersion(HAe,VAe)}GAe(vi);var WAe="type.googleapis.com/google.protobuf.Int64Value",$Ae="type.googleapis.com/google.protobuf.UInt64Value";function fj(t,e){let r={};for(let n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function KR(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>KR(e));if(typeof t=="function"||typeof t=="object")return fj(t,e=>KR(e));throw new Error("Data cannot be encoded in JSON: "+t)}function qS(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case WAe:case $Ae:{let e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>qS(e)):typeof t=="function"||typeof t=="object"?fj(t,e=>qS(e)):t}var hj="functions";var uj={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},um=class extends ii{constructor(e,r,n){super(`${hj}/${e}`,r||""),this.details=n}};function YAe(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function XAe(t,e){let r=YAe(t),n=r,a;try{let i=e&&e.error;if(i){let s=i.status;if(typeof s=="string"){if(!uj[s])return new um("internal","internal");r=uj[s],n=s}let o=i.message;typeof o=="string"&&(n=o),a=i.details,a!==void 0&&(a=qS(a))}}catch{}return r==="ok"?null:new um(r,n,a)}var GR=class{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||n.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{let e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){let r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){let r=await this.getAuthToken(),n=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:a}}};var cj="us-central1";function JAe(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new um("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}var WR=class{constructor(e,r,n,a,i=cj,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new GR(r,n,a),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{let o=new URL(i);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=cj}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){let r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}};function ZAe(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function efe(t,e,r){return(n=>nfe(t,e,n,r||{}))}function tfe(t,e,r){return(n=>pj(t,e,n,r||{}))}async function rfe(t,e,r,n){r["Content-Type"]="application/json";let a;try{a=await n(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let i=null;try{i=await a.json()}catch{}return{status:a.status,json:i}}function nfe(t,e,r,n){let a=t._url(e);return pj(t,a,r,n)}async function pj(t,e,r,n){r=KR(r);let a={data:r},i={},s=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);s.authToken&&(i.Authorization="Bearer "+s.authToken),s.messagingToken&&(i["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=s.appCheckToken);let o=n.timeout||7e4,l=JAe(o),u=await Promise.race([rfe(e,a,i,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new um("cancelled","Firebase Functions instance was deleted.");let c=XAe(u.status,u.json);if(c)throw c;if(!u.json)throw new um("internal","Response is not valid JSON object.");let d=u.json.data;if(typeof d>"u"&&(d=u.json.result),typeof d>"u")throw new um("internal","Response is missing data field.");return{data:qS(d)}}var dj="@firebase/functions",Aj="0.11.8";var afe="auth-internal",ife="app-check-internal",sfe="messaging-internal";function ofe(t,e){let r=(n,{instanceIdentifier:a})=>{let i=n.getProvider("app").getImmediate(),s=n.getProvider(afe),o=n.getProvider(sfe),l=n.getProvider(ife);return new WR(i,s,o,l,a,t)};Yl(new yi(hj,r,"PUBLIC").setMultipleInstances(!0)),ws(dj,Aj,e),ws(dj,Aj,"esm2017")}function $R(t,e,r){ZAe(Br(t),e,r)}function mj(t,e,r){return efe(Br(t),e,r)}function gj(t,e,r){return tfe(Br(t),e,r)}ofe(fetch.bind(self));var lfe="@firebase/functions-compat",ufe="0.3.14";var zS=class{constructor(e,r){this.app=e,this._delegate=r,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(e,r){return mj(this._delegate,e,r)}httpsCallableFromURL(e,r){return gj(this._delegate,e,r)}useFunctionsEmulator(e){let r=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(r==null)throw new ii("functions","No origin provided to useFunctionsEmulator()");if(r[2]==null)throw new ii("functions","Port missing in origin provided to useFunctionsEmulator()");return $R(this._delegate,r[1],Number(r[2]))}useEmulator(e,r){return $R(this._delegate,e,r)}};var cfe="us-central1",dfe=(t,{instanceIdentifier:e})=>{let r=t.getProvider("app-compat").getImmediate(),n=t.getProvider("functions").getImmediate({identifier:e??cfe});return new zS(r,n)};function Afe(){let t={Functions:zS};vi.INTERNAL.registerComponent(new yi("functions-compat",dfe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0))}Afe();vi.registerVersion(lfe,ufe);var Sj="firebasestorage.googleapis.com",Bj="storageBucket",ffe=120*1e3,hfe=600*1e3,pfe=1e3;var Xi=class t extends ii{constructor(e,r,n=0){super(YR(e),`Firebase Storage: ${r} (${YR(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return YR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},_i;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_i||(_i={}));function YR(t){return"storage/"+t}function aU(){let t="An unknown error occurred, please check the error payload for server response.";return new Xi(_i.UNKNOWN,t)}function mfe(t){return new Xi(_i.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gfe(t){return new Xi(_i.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yfe(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xi(_i.UNAUTHENTICATED,t)}function vfe(){return new Xi(_i.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bfe(t){return new Xi(_i.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _j(){return new Xi(_i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ej(){return new Xi(_i.CANCELED,"User canceled the upload/download.")}function wfe(t){return new Xi(_i.INVALID_URL,"Invalid URL '"+t+"'.")}function xfe(t){return new Xi(_i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Cfe(){return new Xi(_i.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Bj+"' property when initializing the app?")}function Tj(){return new Xi(_i.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ife(){return new Xi(_i.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Nfe(){return new Xi(_i.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Sfe(t){return new Xi(_i.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function e0(t){return new Xi(_i.INVALID_ARGUMENT,t)}function Lj(){return new Xi(_i.APP_DELETED,"The Firebase app was deleted.")}function iU(t){return new Xi(_i.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zx(t,e){return new Xi(_i.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qx(t){throw new Xi(_i.INTERNAL_ERROR,"Internal error: "+t)}var eu=class t{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=t.makeFromUrl(e,r)}catch{return new t(e,"")}if(n.path==="")return n;throw xfe(e)}static makeFromUrl(e,r){let n=null,a="([A-Za-z0-9.\\-_]+)";function i(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}let s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),l={bucket:1,path:3};function u(F){F.path_=decodeURIComponent(F.path)}let c="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",A=new RegExp(`^https?://${d}/${c}/b/${a}/o${f}`,"i"),v={bucket:1,path:3},I=r===Sj?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",g=new RegExp(`^https?://${I}/${a}/${w}`,"i"),S=[{regex:o,indices:l,postModify:i},{regex:A,indices:v,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let F=0;F<S.length;F++){let O=S[F],R=O.regex.exec(e);if(R){let T=R[O.indices.bucket],B=R[O.indices.path];B||(B=""),n=new t(T,B),O.postModify(n);break}}if(n==null)throw wfe(e);return n}},JR=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Bfe(t,e,r){let n=1,a=null,i=null,s=!1,o=0;function l(){return o===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){a=setTimeout(()=>{a=null,t(A,l())},w)}function f(){i&&clearTimeout(i)}function A(w,...g){if(u){f();return}if(w){f(),c.call(null,w,...g);return}if(l()||s){f(),c.call(null,w,...g);return}n<64&&(n*=2);let S;o===1?(o=2,S=0):S=(n+Math.random())*1e3,d(S)}let v=!1;function I(w){v||(v=!0,f(),!u&&(a!==null?(w||(o=2),clearTimeout(a),d(0)):w||(o=1)))}return d(0),i=setTimeout(()=>{s=!0,I(!0)},r),I}function _fe(t){t(!1)}function Efe(t){return t!==void 0}function Tfe(t){return typeof t=="function"}function Lfe(t){return typeof t=="object"&&!Array.isArray(t)}function GS(t){return typeof t=="string"||t instanceof String}function yj(t){return sU()&&t instanceof Blob}function sU(){return typeof Blob<"u"}function ZR(t,e,r,n){if(n<e)throw e0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw e0(`Invalid value for '${t}'. Expected ${r} or less.`)}function cm(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function Pj(t){let e=encodeURIComponent,r="?";for(let n in t)if(t.hasOwnProperty(n)){let a=e(n)+"="+e(t[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var Zg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zg||(Zg={}));function kj(t,e){let r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||a||i}var eU=class{constructor(e,r,n,a,i,s,o,l,u,c,d,f=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,v)=>{this.resolve_=A,this.reject_=v,this.start_()})}start_(){let e=(n,a)=>{if(a){n(!1,new h1(!1,null,!0));return}let i=this.connectionFactory_();this.pendingConnection_=i;let s=o=>{let l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;let o=i.getErrorCode()===Zg.NO_ERROR,l=i.getStatus();if(!o||kj(l,this.additionalRetryCodes_)&&this.retry){let c=i.getErrorCode()===Zg.ABORT;n(!1,new h1(!1,null,c));return}let u=this.successCodes_.indexOf(l)!==-1;n(!0,new h1(u,i))})},r=(n,a)=>{let i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{let l=this.callback_(o,o.getResponse());Efe(l)?i(l):i()}catch(l){s(l)}else if(o!==null){let l=aU();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(a.canceled){let l=this.appDelete_?Lj():Ej();s(l)}else{let l=_j();s(l)}};this.canceled_?r(!1,new h1(!1,null,!0)):this.backoffId_=Bfe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_fe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},h1=class{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}};function Pfe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ffe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Rfe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ufe(t,e,r,n,a,i,s=!0){let o=Pj(t.urlParams),l=t.url+o,u=Object.assign({},t.headers);return Ffe(u,e),Pfe(u,r),kfe(u,i),Rfe(u,n),new eU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,s)}function Dfe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Mfe(...t){let e=Dfe();if(e!==void 0){let r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(sU())return new Blob(t);throw new Xi(_i.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ofe(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}function Qfe(t){if(typeof atob>"u")throw Sfe("base-64");return atob(t)}var pc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},jx=class{constructor(e,r){this.data=e,this.contentType=r||null}};function oU(t,e){switch(t){case pc.RAW:return new jx(Fj(e));case pc.BASE64:case pc.BASE64URL:return new jx(Rj(t,e));case pc.DATA_URL:return new jx(Vfe(e),qfe(e))}throw aU()}function Fj(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{let i=n,s=t.charCodeAt(++r);n=65536|(i&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Hfe(t){let e;try{e=decodeURIComponent(t)}catch{throw zx(pc.DATA_URL,"Malformed data URL.")}return Fj(e)}function Rj(t,e){switch(t){case pc.BASE64:{let a=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(a||i)throw zx(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case pc.BASE64URL:{let a=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(a||i)throw zx(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Qfe(e)}catch(a){throw a.message.includes("polyfill")?a:zx(t,"Invalid character found")}let n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}var KS=class{constructor(e){this.base64=!1,this.contentType=null;let r=e.match(/^data:([^,]+)?,/);if(r===null)throw zx(pc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=r[1]||null;n!=null&&(this.base64=zfe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}};function Vfe(t){let e=new KS(t);return e.base64?Rj(pc.BASE64,e.rest):Hfe(e.rest)}function qfe(t){return new KS(t).contentType}function zfe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var p1=class t{constructor(e,r){let n=0,a="";yj(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(yj(this.data_)){let n=this.data_,a=Ofe(n,e,r);return a===null?null:new t(a)}else{let n=new Uint8Array(this.data_.buffer,e,r-e);return new t(n,!0)}}static getBlob(...e){if(sU()){let r=e.map(n=>n instanceof t?n.data_:n);return new t(Mfe.apply(null,r))}else{let r=e.map(s=>GS(s)?oU(pc.RAW,s).data:s.data_),n=0;r.forEach(s=>{n+=s.byteLength});let a=new Uint8Array(n),i=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)a[i++]=s[o]}),new t(a,!0)}}uploadData(){return this.data_}};function lU(t){let e;try{e=JSON.parse(t)}catch{return null}return Lfe(e)?e:null}function jfe(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Kfe(t,e){let r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function Uj(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Gfe(t,e){return e}var Yo=class{constructor(e,r,n,a){this.server=e,this.local=r||e,this.writable=!!n,this.xform=a||Gfe}},jS=null;function Wfe(t){return!GS(t)||t.length<2?t:Uj(t)}function WS(){if(jS)return jS;let t=[];t.push(new Yo("bucket")),t.push(new Yo("generation")),t.push(new Yo("metageneration")),t.push(new Yo("name","fullPath",!0));function e(i,s){return Wfe(s)}let r=new Yo("name");r.xform=e,t.push(r);function n(i,s){return s!==void 0?Number(s):s}let a=new Yo("size");return a.xform=n,t.push(a),t.push(new Yo("timeCreated")),t.push(new Yo("updated")),t.push(new Yo("md5Hash",null,!0)),t.push(new Yo("cacheControl",null,!0)),t.push(new Yo("contentDisposition",null,!0)),t.push(new Yo("contentEncoding",null,!0)),t.push(new Yo("contentLanguage",null,!0)),t.push(new Yo("contentType",null,!0)),t.push(new Yo("metadata","customMetadata",!0)),jS=t,jS}function $fe(t,e){function r(){let n=t.bucket,a=t.fullPath,i=new eu(n,a);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:r})}function Yfe(t,e,r){let n={};n.type="file";let a=r.length;for(let i=0;i<a;i++){let s=r[i];n[s.local]=s.xform(n,e[s.server])}return $fe(n,t),n}function Dj(t,e,r){let n=lU(e);return n===null?null:Yfe(t,n,r)}function Xfe(t,e,r,n){let a=lU(e);if(a===null||!GS(a.downloadTokens))return null;let i=a.downloadTokens;if(i.length===0)return null;let s=encodeURIComponent;return i.split(",").map(u=>{let c=t.bucket,d=t.fullPath,f="/b/"+s(c)+"/o/"+s(d),A=cm(f,r,n),v=Pj({alt:"media",token:u});return A+v})[0]}function uU(t,e){let r={},n=e.length;for(let a=0;a<n;a++){let i=e[a];i.writable&&(r[i.server]=t[i.local])}return JSON.stringify(r)}var vj="prefixes",bj="items";function Jfe(t,e,r){let n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[vj])for(let a of r[vj]){let i=a.replace(/\/$/,""),s=t._makeStorageReference(new eu(e,i));n.prefixes.push(s)}if(r[bj])for(let a of r[bj]){let i=t._makeStorageReference(new eu(e,a.name));n.items.push(i)}return n}function Zfe(t,e,r){let n=lU(r);return n===null?null:Jfe(t,e,n)}var Gd=class{constructor(e,r,n,a){this.url=e,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function gf(t){if(!t)throw aU()}function $S(t,e){function r(n,a){let i=Dj(t,a,e);return gf(i!==null),i}return r}function ehe(t,e){function r(n,a){let i=Zfe(t,e,a);return gf(i!==null),i}return r}function the(t,e){function r(n,a){let i=Dj(t,a,e);return gf(i!==null),Xfe(i,a,t.host,t._protocol)}return r}function y1(t){function e(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=vfe():a=yfe():r.getStatus()===402?a=gfe(t.bucket):r.getStatus()===403?a=bfe(t.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return e}function YS(t){let e=y1(t);function r(n,a){let i=e(n,a);return n.getStatus()===404&&(i=mfe(t.path)),i.serverResponse=a.serverResponse,i}return r}function Mj(t,e,r){let n=e.fullServerUrl(),a=cm(n,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,o=new Gd(a,i,$S(t,r),s);return o.errorHandler=YS(e),o}function rhe(t,e,r,n,a){let i={};e.isRoot?i.prefix="":i.prefix=e.path+"/",r&&r.length>0&&(i.delimiter=r),n&&(i.pageToken=n),a&&(i.maxResults=a);let s=e.bucketOnlyServerUrl(),o=cm(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,c=new Gd(o,l,ehe(t,e.bucket),u);return c.urlParams=i,c.errorHandler=y1(e),c}function nhe(t,e,r){let n=e.fullServerUrl(),a=cm(n,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,o=new Gd(a,i,the(t,r),s);return o.errorHandler=YS(e),o}function ahe(t,e,r,n){let a=e.fullServerUrl(),i=cm(a,t.host,t._protocol),s="PATCH",o=uU(r,n),l={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,c=new Gd(i,s,$S(t,n),u);return c.headers=l,c.body=o,c.errorHandler=YS(e),c}function ihe(t,e){let r=e.fullServerUrl(),n=cm(r,t.host,t._protocol),a="DELETE",i=t.maxOperationRetryTime;function s(l,u){}let o=new Gd(n,a,s,i);return o.successCodes=[200,204],o.errorHandler=YS(e),o}function she(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Oj(t,e,r){let n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=she(null,e)),n}function ohe(t,e,r,n,a){let i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let S="";for(let F=0;F<2;F++)S=S+Math.random().toString().slice(2);return S}let l=o();s["Content-Type"]="multipart/related; boundary="+l;let u=Oj(e,n,a),c=uU(u,r),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",A=p1.getBlob(d,n,f);if(A===null)throw Tj();let v={name:u.fullPath},I=cm(i,t.host,t._protocol),w="POST",g=t.maxUploadRetryTime,b=new Gd(I,w,$S(t,r),g);return b.urlParams=v,b.headers=s,b.body=A.uploadData(),b.errorHandler=y1(e),b}var m1=class{constructor(e,r,n,a){this.current=e,this.total=r,this.finalized=!!n,this.metadata=a||null}};function cU(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{gf(!1)}return gf(!!r&&(e||["active"]).indexOf(r)!==-1),r}function lhe(t,e,r,n,a){let i=e.bucketOnlyServerUrl(),s=Oj(e,n,a),o={name:s.fullPath},l=cm(i,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=uU(s,r),f=t.maxUploadRetryTime;function A(I){cU(I);let w;try{w=I.getResponseHeader("X-Goog-Upload-URL")}catch{gf(!1)}return gf(GS(w)),w}let v=new Gd(l,u,A,f);return v.urlParams=o,v.headers=c,v.body=d,v.errorHandler=y1(e),v}function uhe(t,e,r,n){let a={"X-Goog-Upload-Command":"query"};function i(u){let c=cU(u,["active","final"]),d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{gf(!1)}d||gf(!1);let f=Number(d);return gf(!isNaN(f)),new m1(f,n.size(),c==="final")}let s="POST",o=t.maxUploadRetryTime,l=new Gd(r,s,i,o);return l.headers=a,l.errorHandler=y1(e),l}var wj=256*1024;function che(t,e,r,n,a,i,s,o){let l=new m1(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=n.size()),n.size()!==l.total)throw Ife();let u=l.total-l.current,c=u;a>0&&(c=Math.min(c,a));let d=l.current,f=d+c,A="";c===0?A="finalize":u===c?A="upload, finalize":A="upload";let v={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${l.current}`},I=n.slice(d,f);if(I===null)throw Tj();function w(F,O){let R=cU(F,["active","final"]),T=l.current+c,B=n.size(),k;return R==="final"?k=$S(e,i)(F,O):k=null,new m1(T,B,R==="final",k)}let g="POST",b=e.maxUploadRetryTime,S=new Gd(r,g,w,b);return S.headers=v,S.body=I.uploadData(),S.progressCallback=o||null,S.errorHandler=y1(t),S}var Qj={STATE_CHANGED:"state_changed"},Cl={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function XR(t){switch(t){case"running":case"pausing":case"canceling":return Cl.RUNNING;case"paused":return Cl.PAUSED;case"success":return Cl.SUCCESS;case"canceled":return Cl.CANCELED;case"error":return Cl.ERROR;default:return Cl.ERROR}}var tU=class{constructor(e,r,n){if(Tfe(e)||r!=null||n!=null)this.next=e,this.error=r??void 0,this.complete=n??void 0;else{let i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};function f1(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var xj=null,rU=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,a){if(this.sent_)throw qx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(let i in a)a.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,a[i].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qx("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},nU=class extends rU{initXhr(){this.xhr_.responseType="text"}};function mf(){return xj?xj():new nU}var Kx=class{constructor(e,r,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=n,this._mappings=WS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(_i.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let i=this.isExponentialBackoffExpired();if(kj(a.status,[]))if(i)a=_j();else{this.sleepTime=Math.max(this.sleepTime*2,pfe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(_i.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,i)=>{this._resolve=a,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,n])=>{switch(this._state){case"running":e(r,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{let n=lhe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(n,mf,e,r);this._request=a,a.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((r,n)=>{let a=uhe(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(a,mf,r,n);this._request=i,i.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=wj*this._chunkMultiplier,r=new m1(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((a,i)=>{let s;try{s=che(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let o=this._ref.storage._makeRequest(s,mf,a,i,!1);this._request=o,o.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){wj*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{let n=Mj(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(n,mf,e,r);this._request=a,a.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{let n=ohe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(n,mf,e,r);this._request=a,a.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ej(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=XR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,n,a){let i=new tU(r||void 0,n||void 0,a||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(XR(this._state)){case Cl.SUCCESS:f1(this._resolve.bind(null,this.snapshot))();break;case Cl.CANCELED:case Cl.ERROR:let r=this._reject;f1(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(XR(this._state)){case Cl.RUNNING:case Cl.PAUSED:e.next&&f1(e.next.bind(e,this.snapshot))();break;case Cl.SUCCESS:e.complete&&f1(e.complete.bind(e))();break;case Cl.CANCELED:case Cl.ERROR:e.error&&f1(e.error.bind(e,this._error))();break;default:e.error&&f1(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var g1=class t{constructor(e,r){this._service=e,r instanceof eu?this._location=r:this._location=eu.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new t(e,r)}get root(){let e=new eu(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Uj(this._location.path)}get storage(){return this._service}get parent(){let e=jfe(this._location.path);if(e===null)return null;let r=new eu(this._location.bucket,e);return new t(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw iU(e)}};function dhe(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new Kx(t,new p1(e),r)}function Ahe(t){let e={prefixes:[],items:[]};return Hj(t,e).then(()=>e)}async function Hj(t,e,r){let a=await Vj(t,{pageToken:r});e.prefixes.push(...a.prefixes),e.items.push(...a.items),a.nextPageToken!=null&&await Hj(t,e,a.nextPageToken)}function Vj(t,e){e!=null&&typeof e.maxResults=="number"&&ZR("options.maxResults",1,1e3,e.maxResults);let r=e||{},n=rhe(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(n,mf)}function fhe(t){t._throwIfRoot("getMetadata");let e=Mj(t.storage,t._location,WS());return t.storage.makeRequestWithTokens(e,mf)}function hhe(t,e){t._throwIfRoot("updateMetadata");let r=ahe(t.storage,t._location,e,WS());return t.storage.makeRequestWithTokens(r,mf)}function phe(t){t._throwIfRoot("getDownloadURL");let e=nhe(t.storage,t._location,WS());return t.storage.makeRequestWithTokens(e,mf).then(r=>{if(r===null)throw Nfe();return r})}function mhe(t){t._throwIfRoot("deleteObject");let e=ihe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,mf)}function qj(t,e){let r=Kfe(t._location.path,e),n=new eu(t._location.bucket,r);return new g1(t.storage,n)}function ghe(t){return/^[A-Za-z]+:\/\//.test(t)}function yhe(t,e){return new g1(t,e)}function zj(t,e){if(t instanceof Gx){let r=t;if(r._bucket==null)throw Cfe();let n=new g1(r,r._bucket);return e!=null?zj(n,e):n}else return e!==void 0?qj(t,e):t}function vhe(t,e){if(e&&ghe(e)){if(t instanceof Gx)return yhe(t,e);throw e0("To use ref(service, url), the first argument must be a Storage instance.")}else return zj(t,e)}function Cj(t,e){let r=e?.[Bj];return r==null?null:eu.makeFromBucketSpec(r,t)}function bhe(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";let{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:LN(a,t.app.options.projectId))}var Gx=class{constructor(e,r,n,a,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._bucket=null,this._host=Sj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ffe,this._maxUploadRetryTime=hfe,this._requests=new Set,a!=null?this._bucket=eu.makeFromBucketSpec(a,this._host):this._bucket=Cj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=eu.makeFromBucketSpec(this._url,e):this._bucket=Cj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new g1(this,e)}_makeRequest(e,r,n,a,i=!0){if(this._deleted)return new JR(Lj());{let s=Ufe(e,this._appId,n,a,r,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){let[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,a).getPromise()}},Ij="@firebase/storage",Nj="0.13.2";var whe="storage";function jj(t,e,r){return t=Br(t),dhe(t,e,r)}function Kj(t){return t=Br(t),fhe(t)}function Gj(t,e){return t=Br(t),hhe(t,e)}function Wj(t,e){return t=Br(t),Vj(t,e)}function $j(t){return t=Br(t),Ahe(t)}function Yj(t){return t=Br(t),phe(t)}function Xj(t){return t=Br(t),mhe(t)}function dU(t,e){return t=Br(t),vhe(t,e)}function Jj(t,e){return qj(t,e)}function Zj(t,e,r,n={}){bhe(t,e,r,n)}function xhe(t,{instanceIdentifier:e}){let r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Gx(r,n,a,e,Ac)}function Che(){Yl(new yi(whe,xhe,"PUBLIC").setMultipleInstances(!0)),ws(Ij,Nj,""),ws(Ij,Nj,"esm2017")}Che();var v1=class{constructor(e,r,n){this._delegate=e,this.task=r,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var XS=class{constructor(e,r){this._delegate=e,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new v1(this._delegate.snapshot,this,this._ref)}then(e,r){return this._delegate.then(n=>{if(e)return e(new v1(n,this,this._ref))},r)}on(e,r,n,a){let i;return r&&(typeof r=="function"?i=s=>r(new v1(s,this,this._ref)):i={next:r.next?s=>r.next(new v1(s,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(e,i,n||void 0,a||void 0)}},JS=class{constructor(e,r){this._delegate=e,this._service=r}get prefixes(){return this._delegate.prefixes.map(e=>new t0(e,this._service))}get items(){return this._delegate.items.map(e=>new t0(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var t0=class t{constructor(e,r){this._delegate=e,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let r=Jj(this._delegate,e);return new t(r,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,r){return this._throwIfRoot("put"),new XS(jj(this._delegate,e,r),this)}putString(e,r=pc.RAW,n){this._throwIfRoot("putString");let a=oU(r,e),i=Object.assign({},n);return i.contentType==null&&a.contentType!=null&&(i.contentType=a.contentType),new XS(new Kx(this._delegate,new p1(a.data,!0),i),this)}listAll(){return $j(this._delegate).then(e=>new JS(e,this.storage))}list(e){return Wj(this._delegate,e||void 0).then(r=>new JS(r,this.storage))}getMetadata(){return Kj(this._delegate)}updateMetadata(e){return Gj(this._delegate,e)}getDownloadURL(){return Yj(this._delegate)}delete(){return this._throwIfRoot("delete"),Xj(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw iU(e)}};var ZS=class{constructor(e,r){this.app=e,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(eK(e))throw e0("ref() expected a child path but got a URL, use refFromURL instead.");return new t0(dU(this._delegate,e),this)}refFromURL(e){if(!eK(e))throw e0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{eu.makeFromUrl(e,this._delegate.host)}catch{throw e0("refFromUrl() expected a valid full URL but got an invalid one.")}return new t0(dU(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,r,n={}){Zj(this._delegate,e,r,n)}};function eK(t){return/^[A-Za-z]+:\/\//.test(t)}var Ihe="@firebase/storage-compat",Nhe="0.3.12";var She="storage-compat";function Bhe(t,{instanceIdentifier:e}){let r=t.getProvider("app-compat").getImmediate(),n=t.getProvider("storage").getImmediate({identifier:e});return new ZS(r,n)}function _he(t){let e={TaskState:Cl,TaskEvent:Qj,StringFormat:pc,Storage:ZS,Reference:t0};t.INTERNAL.registerComponent(new yi(She,Bhe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Ihe,Nhe)}_he(vi);var AU={apiKey:"AIzaSyApU57VCS5a72W0-V9F3MC54WtxpKBzjIs",authDomain:"user-management-all.firebaseapp.com",projectId:"user-management-all",storageBucket:"user-management-all.firebasestorage.app",messagingSenderId:"9549477457",appId:"1:9549477457:web:760ef803bcd9945d25aa70",measurementId:"G-QFRE2L59E0"},Ehe=vi.apps.length?vi.app():vi.initializeApp(AU),yf=vi.auth(),Ce=vi.firestore(),cr=Ehe.functions("asia-south1"),w_e=vi.storage(),zr=vi.firestore.FieldValue;Ce.enablePersistence({synchronizeTabs:!0}).catch(t=>{t.code=="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open."):t.code=="unimplemented"&&console.warn("Firestore persistence not supported in this browser.")});var tK=(t,e)=>{let r=vi.initializeApp(t,e),n=r.auth();return{app:r,auth:n}},rK=t=>t.delete();var x1=ce($t());var tB=ce($t());var nK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eB=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var Wx=ce($t());var aK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var iK=(0,Wx.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>(0,Wx.createElement)("svg",{ref:l,...aK,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:eB("lucide",a),...o},[...s.map(([u,c])=>(0,Wx.createElement)(u,c)),...Array.isArray(i)?i:[i]]));var Te=(t,e)=>{let r=(0,tB.forwardRef)(({className:n,...a},i)=>(0,tB.createElement)(iK,{ref:i,iconNode:e,className:eB(`lucide-${nK(t)}`,n),...a}));return r.displayName=`${t}`,r};var r0=Te("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var mc=Te("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);var n0=Te("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);var cs=Te("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var a0=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var vf=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var yo=Te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var Nh=Te("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var i0=Te("BaggageClaim",[["path",{d:"M22 18H6a2 2 0 0 1-2-2V7a2 2 0 0 0-2-2",key:"4irg2o"}],["path",{d:"M17 14V4a2 2 0 0 0-2-2h-1a2 2 0 0 0-2 2v10",key:"14fcyx"}],["rect",{width:"13",height:"8",x:"8",y:"6",rx:"1",key:"o6oiis"}],["circle",{cx:"18",cy:"20",r:"2",key:"t9985n"}],["circle",{cx:"9",cy:"20",r:"2",key:"e5v82j"}]]);var s0=Te("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);var Wd=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var $d=Te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);var Gs=Te("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var la=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var Ji=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var Ss=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var o0=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var dm=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var Dn=Te("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var tu=Te("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);var _a=Te("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var bf=Te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var wf=Te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var Il=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var td=Te("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);var $x=Te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);var Yd=Te("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var Yx=Te("CopyPlus",[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var Bs=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var Sh=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var Xx=Te("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);var l0=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var Jx=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var Xd=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var Jd=Te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);var gc=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var u0=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var c0=Te("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);var Zx=Te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var d0=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var A0=Te("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);var yc=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var rd=Te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var wi=Te("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);var Bh=Te("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);var _h=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var Zd=Te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);var Pu=Te("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var ku=Te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var eA=Te("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);var Pt=Te("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);var vc=Te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var bc=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var Xo=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var tA=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var rA=Te("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);var e2=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var nd=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var nA=Te("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var wc=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var f0=Te("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);var Fu=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var h0=Te("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var p0=Te("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);var m0=Te("RadioReceiver",[["path",{d:"M5 16v2",key:"g5qcv5"}],["path",{d:"M19 16v2",key:"1gbaio"}],["rect",{width:"20",height:"8",x:"2",y:"8",rx:"2",key:"vjsjur"}],["path",{d:"M18 12h.01",key:"yjnet6"}]]);var aA=Te("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var g0=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var Jo=Te("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);var t2=Te("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var ua=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var oi=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var iA=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var ru=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var Eh=Te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var xc=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var r2=Te("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var Th=Te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var y0=Te("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);var n2=Te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var Kn=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var Am=Te("SquarePercent",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);var xf=Te("SquareX",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var Cc=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var sA=Te("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var b1=Te("Tangent",[["circle",{cx:"17",cy:"4",r:"2",key:"y5j2s2"}],["path",{d:"M15.59 5.41 5.41 15.59",key:"l0vprr"}],["circle",{cx:"4",cy:"17",r:"2",key:"9p4efm"}],["path",{d:"M12 22s-4-9-1.5-11.5S22 12 22 12",key:"1twk4o"}]]);var v0=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var Ar=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var oA=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var Lh=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var wn=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var b0=Te("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var lA=Te("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);var a2=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var uA=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var w1=Te("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var ca=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var ad=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var Ph=Te("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var w0=Te("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);var x0=Te("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);var i2=Te("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var dr=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var nu=Te("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);var vo=Te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var li=ce(_e()),Uhe=({onLogin:t,onForgotPassword:e})=>{let[r,n]=(0,x1.useState)(""),[a,i]=(0,x1.useState)(""),[s,o]=(0,x1.useState)(!1),[l,u]=(0,x1.useState)(!1),[c,d]=(0,x1.useState)(!1);return(0,li.jsx)("div",{className:"flex flex-grow items-center justify-center",children:(0,li.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-xl border border-gray-200",children:[(0,li.jsxs)("div",{className:"text-center",children:[(0,li.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Portal Login"}),(0,li.jsx)("p",{className:"mt-2 text-gray-600",children:"Enter your credentials to access the portal."})]}),(0,li.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async v=>{v.preventDefault(),u(!0),await t(r,a),u(!1)},children:[(0,li.jsxs)("div",{className:"relative",children:[(0,li.jsx)(Xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,li.jsx)("input",{type:"email",value:r,onChange:v=>n(v.target.value),autoComplete:"email",required:!0,className:"w-full pl-10 pr-3 py-3 bg-white text-gray-900 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition placeholder-gray-500",placeholder:"Email Address"})]}),(0,li.jsxs)("div",{className:"relative",children:[(0,li.jsx)(Pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,li.jsx)("input",{type:s?"text":"password",value:a,onChange:v=>i(v.target.value),autoComplete:"current-password",required:!0,className:"w-full pl-10 pr-10 py-3 bg-white text-gray-900 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition placeholder-gray-500",placeholder:"Password"}),(0,li.jsx)("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?(0,li.jsx)(Jx,{size:20}):(0,li.jsx)(Xd,{size:20})})]}),(0,li.jsxs)("div",{children:[(0,li.jsx)("button",{type:"submit",disabled:l||c,className:"w-full flex justify-center items-center py-3 px-4 text-white bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition disabled:bg-blue-400",children:l?"Signing in...":(0,li.jsxs)(li.Fragment,{children:[(0,li.jsx)(vc,{className:"mr-2",size:20})," Sign In"]})}),(0,li.jsxs)("div",{className:"flex justify-around items-center text-center mt-4",children:[(0,li.jsxs)("a",{href:"/pricing",className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition inline-flex items-center gap-1",children:[(0,li.jsx)(uA,{size:14})," Sign up"]}),(0,li.jsx)("button",{type:"button",onClick:async()=>{d(!0),await e(r),d(!1)},disabled:!r||l||c,className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition disabled:text-gray-400 disabled:cursor-not-allowed",children:c?"Sending link...":"Forgot password?"})]})]})]})]})})},uK=Uhe;var Pr=ce($t());var nB,Dhe=new Uint8Array(16);function fU(){if(!nB&&(nB=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nB))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nB(Dhe)}var Zo=[];for(let t=0;t<256;++t)Zo.push((t+256).toString(16).slice(1));function cK(t,e=0){return Zo[t[e+0]]+Zo[t[e+1]]+Zo[t[e+2]]+Zo[t[e+3]]+"-"+Zo[t[e+4]]+Zo[t[e+5]]+"-"+Zo[t[e+6]]+Zo[t[e+7]]+"-"+Zo[t[e+8]]+Zo[t[e+9]]+"-"+Zo[t[e+10]]+Zo[t[e+11]]+Zo[t[e+12]]+Zo[t[e+13]]+Zo[t[e+14]]+Zo[t[e+15]]}var Mhe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hU={randomUUID:Mhe};function Ohe(t,e,r){if(hU.randomUUID&&!e&&!t)return hU.randomUUID();t=t||{};let n=t.random||(t.rng||fU)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let a=0;a<16;++a)e[r+a]=n[a];return e}return cK(n)}var we=Ohe;var fK=ce($t());var Ws=t=>{if(!t)return"N/A";try{let e=new Date(t);e.setMinutes(e.getMinutes()+e.getTimezoneOffset());let r=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${r}-${n}-${a}`}catch(e){return console.error("Could not format date:",t,e),t}},sn=t=>{if(!t)return"N/A";let e;if(typeof t.toDate=="function")try{e=t.toDate()}catch(r){return console.error("Could not convert Firestore timestamp to Date:",t,r),"Invalid Date"}else if(t instanceof Date)e=t;else if(typeof t=="string"&&new Date(t).toString()!=="Invalid Date")e=new Date(t);else return"N/A";try{return e.toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}catch(r){return console.error("Could not format timestamp:",e,r),"Invalid Date"}},aB=t=>{if(!t)return"N/A";let e;if(typeof t.toDate=="function")try{e=t.toDate()}catch(r){return console.error("Could not convert Firestore timestamp to Date:",t,r),"Invalid Time"}else if(t instanceof Date)e=t;else if(typeof t=="string"&&new Date(t).toString()!=="Invalid Date")e=new Date(t);else return"N/A";try{return e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch(r){return console.error("Could not format time:",e,r),"Invalid Time"}};var _t=ce(_e()),dK=({name:t,setting:e,used:r})=>{let n=e.usageLimit>0&&r>=e.usageLimit,i=e.expiryDate&&new Date(e.expiryDate)<new Date||n?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700",s=e.usageLimit===0?"Unlimited":`${r} / ${e.usageLimit}`;return(0,_t.jsxs)("div",{className:`p-2 rounded-md ${i} text-xs leading-tight`,children:[(0,_t.jsx)("p",{className:"font-bold",children:t}),(0,_t.jsxs)("p",{className:"text-xs mt-0.5 font-mono",children:["Usage: ",s]}),(0,_t.jsxs)("p",{className:"text-xs mt-0.5",children:["Expires: ",e.expiryDate?Ws(e.expiryDate):"Never"]})]})},pU=({columnKey:t,sortConfig:e})=>e?.key!==t?(0,_t.jsx)("div",{className:"h-3.5 w-3.5 opacity-30 group-hover:opacity-100",children:(0,_t.jsx)(cs,{size:14})}):e.direction==="ascending"?(0,_t.jsx)(yo,{className:"text-blue-600",size:14}):(0,_t.jsx)(cs,{className:"text-blue-600",size:14}),AK=({user:t})=>{let e=r=>{switch(r){case"active":return(0,_t.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Affiliate"});case"pending":return(0,_t.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Requesting"});default:return null}};return t.isAccountExpired?(0,_t.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Expired"}):t.isExpiringToday?(0,_t.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Expiring Today"}):(0,_t.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[(0,_t.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}),e(t.affiliateStatus),t.linkedConsultantName&&(0,_t.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800 items-center gap-1",children:[(0,_t.jsx)(Gs,{size:12})," Manages: ",t.linkedConsultantName]})]})},Qhe=({users:t,allUsers:e,allApps:r,usageCounts:n,onEdit:a,onDelete:i,onSortChange:s,sortConfig:o,consultants:l,affiliateProfiles:u})=>{let c=(0,fK.useMemo)(()=>{let A=new Map(r.map(b=>[b.id,b])),v=new Map(l.map(b=>[b.id,b.name])),I=new Map(u.map(b=>[b.refId,b])),w=new Map(e.map(b=>[b.id,b])),g=new Date().toISOString().split("T")[0];return t.map(b=>{let S=b.apps||{},F=Object.entries(S).map(([U,E])=>{let _=A.get(U),L=n[`${b.id}_${U}`]??0;return _?{..._,setting:E,used:L}:null}).filter(Boolean),O=b.validity||"1970-01-01",R=O<g,T=!R&&O===g,B=b.updatedAt||b.createdAt,k;if(b.referredBy){let U=I.get(b.referredBy.toLowerCase());if(U){let E=w.get(U.userId);E&&(k=E.name)}}return{...b,validity:O,assignedAppsWithDetails:F,isAccountExpired:R,isExpiringToday:T,lastModifiedTimestamp:B,linkedConsultantName:b.linkedConsultantId?v.get(b.linkedConsultantId):void 0,referrerName:k}})},[t,e,r,n,l,u]),d=A=>{let I=o.key===A&&o.direction==="ascending"?"descending":"ascending";s({key:A,direction:I})},f=[{label:"Last Modified",key:"updatedAt"},{label:"Name",key:"name"},{label:"Validity",key:"validity"}];return t.length===0?(0,_t.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 text-center text-gray-500",children:"No matching users found."}):(0,_t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,_t.jsx)("div",{className:"md:hidden px-4 pt-4 pb-2 border-b bg-gray-50",children:(0,_t.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[(0,_t.jsx)("span",{className:"text-sm font-medium text-gray-700 flex-shrink-0",children:"Sort by:"}),f.map(A=>{let v=o.key===A.key;return(0,_t.jsxs)("button",{onClick:()=>d(A.key),className:`flex-shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${v?"bg-blue-600 text-white shadow":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[A.label,v&&(o.direction==="ascending"?(0,_t.jsx)(yo,{size:14}):(0,_t.jsx)(cs,{size:14}))]},A.key)})]})}),(0,_t.jsx)("div",{className:"md:hidden bg-gray-50/50",children:(0,_t.jsx)("div",{className:"p-4 space-y-4",children:c.map(A=>(0,_t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border border-gray-200 space-y-4",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-start gap-3",children:[(0,_t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,_t.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:(0,_t.jsx)(ca,{className:"text-blue-500",size:20})}),(0,_t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_t.jsx)("p",{className:"font-bold text-gray-800 truncate flex items-center gap-2",children:A.name}),(0,_t.jsx)("p",{className:"text-sm text-gray-500 truncate",children:A.email}),A.phone&&(0,_t.jsx)("p",{className:"text-sm text-gray-500 truncate",children:A.phone})]})]}),(0,_t.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[(0,_t.jsx)("button",{onClick:()=>a(A),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors","aria-label":`Edit ${A.name}`,children:(0,_t.jsx)(Kn,{size:18})}),(0,_t.jsx)("button",{onClick:()=>i(A),className:"p-2 text-red-600 hover:bg-red-100 rounded-full transition-colors","aria-label":`Delete ${A.name}`,children:(0,_t.jsx)(Ar,{size:18})})]})]}),(0,_t.jsxs)("div",{className:"border-t pt-4 space-y-3 text-sm",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsx)("span",{className:"font-semibold text-gray-600",children:"Account Validity"}),(0,_t.jsxs)("div",{className:"text-right",children:[(0,_t.jsx)(AK,{user:A}),(0,_t.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:Ws(A.validity)})]})]}),(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsx)("span",{className:"font-semibold text-gray-600",children:"Last Modified"}),(0,_t.jsx)("span",{className:"text-gray-500 text-sm",children:sn(A.lastModifiedTimestamp)})]}),A.referredBy&&(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsx)("span",{className:"font-semibold text-gray-600",children:"Referred By"}),(0,_t.jsx)("span",{className:"text-gray-500 text-sm text-right",children:A.referrerName?(0,_t.jsxs)(_t.Fragment,{children:[A.referrerName,(0,_t.jsxs)("span",{className:"font-mono text-xs block text-gray-400",children:["(",A.referredBy,")"]})]}):(0,_t.jsx)("span",{className:"font-mono text-xs",children:A.referredBy})})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-semibold text-gray-600 mb-2",children:"Assigned Apps"}),A.assignedAppsWithDetails.length>0?(0,_t.jsx)("div",{className:"flex flex-wrap gap-2",children:A.assignedAppsWithDetails.map(v=>(0,_t.jsx)(dK,{name:v.name,setting:v.setting,used:v.used},v.id))}):(0,_t.jsx)("span",{className:"text-sm text-gray-400 italic",children:"No apps assigned"})]})]})]},A.id))})}),(0,_t.jsx)("div",{className:"overflow-x-auto hidden md:block",children:(0,_t.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,_t.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:(0,_t.jsxs)("button",{onClick:()=>d("name"),className:"group flex items-center gap-2",children:["User",(0,_t.jsx)(pU,{columnKey:"name",sortConfig:o})]})}),(0,_t.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:(0,_t.jsxs)("button",{onClick:()=>d("validity"),className:"group flex items-center gap-2",children:["Account Validity",(0,_t.jsx)(pU,{columnKey:"validity",sortConfig:o})]})}),(0,_t.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:(0,_t.jsxs)("button",{onClick:()=>d("updatedAt"),className:"group flex items-center gap-2",children:["Last Modified",(0,_t.jsx)(pU,{columnKey:"updatedAt",sortConfig:o})]})}),(0,_t.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:"Assigned Apps & Limits"}),(0,_t.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold text-right",children:"Actions"})]})}),(0,_t.jsx)("tbody",{children:c.map(A=>(0,_t.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50 transition-colors",children:[(0,_t.jsx)("td",{className:"px-4 py-4 sm:px-6 font-medium text-gray-900 whitespace-nowrap",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-4 flex-shrink-0",children:(0,_t.jsx)(ca,{className:"text-blue-500",size:20})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"font-bold flex items-center gap-2",children:A.name}),(0,_t.jsx)("div",{className:"text-sm text-gray-500",children:A.email}),A.phone&&(0,_t.jsx)("div",{className:"text-sm text-gray-500",children:A.phone}),A.referredBy&&(0,_t.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Referred by: ",(0,_t.jsx)("span",{className:"font-semibold text-gray-500",children:A.referrerName||A.referredBy}),A.referrerName&&(0,_t.jsxs)("span",{className:"font-mono text-gray-400",children:[" (",A.referredBy,")"]})]})]})]})}),(0,_t.jsx)("td",{className:"px-4 py-4 sm:px-6",children:(0,_t.jsxs)("div",{className:"flex flex-col items-start",children:[(0,_t.jsx)(AK,{user:A}),(0,_t.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:Ws(A.validity)})]})}),(0,_t.jsx)("td",{className:"px-4 py-4 sm:px-6",children:(0,_t.jsx)("span",{className:"text-gray-600",children:sn(A.lastModifiedTimestamp)})}),(0,_t.jsx)("td",{className:"px-4 py-4 sm:px-6",children:A.assignedAppsWithDetails.length>0?(0,_t.jsx)("div",{className:"flex flex-wrap gap-2 max-w-md",children:A.assignedAppsWithDetails.map(v=>(0,_t.jsx)(dK,{name:v.name,setting:v.setting,used:v.used},v.id))}):(0,_t.jsx)("span",{className:"text-gray-400 italic",children:"No apps assigned"})}),(0,_t.jsx)("td",{className:"px-4 py-4 sm:px-6 text-right",children:(0,_t.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[(0,_t.jsx)("button",{onClick:()=>a(A),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-full transition-colors","aria-label":"Edit user",children:(0,_t.jsx)(Kn,{size:18})}),(0,_t.jsx)("button",{onClick:()=>i(A),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-full transition-colors","aria-label":"Delete user",children:(0,_t.jsx)(Ar,{size:18})})]})})]},A.id))})]})})]})},hK=Qhe;var iB=ce($t());var or=ce(_e()),Hhe=({user:t,allApps:e,onClose:r,onSave:n,showNotification:a,consultants:i})=>{let[s,o]=(0,iB.useState)({name:t?.name||"",email:t?.email||"",phone:t?.phone||"",validity:t?.validity||(()=>{let v=new Date;return v.setFullYear(v.getFullYear()+25),v.toISOString().split("T")[0]})(),apps:t?.apps||{},password:"",affiliateStatus:t?.affiliateStatus||"none",referredBy:t?.referredBy||"",canWriteBlog:t?.canWriteBlog||!1}),l=(0,iB.useMemo)(()=>t?.linkedConsultantId?i.find(v=>v.id===t.linkedConsultantId):null,[t,i]),u=v=>{let{name:I,value:w,type:g,checked:b}=v.target;o(S=>({...S,[I]:g==="checkbox"?b:w}))},c=(v,I)=>{o(w=>{let g={...w.apps};return I?g[v]={usageLimit:0}:delete g[v],{...w,apps:g}})},d=(v,I,w)=>{o(g=>{let b={...g.apps},S={...b[v]};return w===void 0?delete S[I]:S[I]=w,b[v]=S,{...g,apps:b}})},f=(v,I,w)=>{o(g=>{let b=g.apps[v],S=b?.fairUsePolicy;if(I==="limit"&&Number(w)<=0){let{fairUsePolicy:F,...O}=b;return{...g,apps:{...g.apps,[v]:O}}}return{...g,apps:{...g.apps,[v]:{...b,fairUsePolicy:{...S||{limit:0,frequency:"daily"},[I]:w}}}}})};return(0,or.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,or.jsx)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:(0,or.jsxs)("form",{onSubmit:v=>{v.preventDefault(),n(s)},className:"flex flex-col h-full",children:[(0,or.jsx)("header",{className:"p-6 sm:p-8 border-b",children:(0,or.jsxs)("div",{className:"flex justify-between items-center",children:[(0,or.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit User Profile":"Create New User Profile"}),(0,or.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,or.jsx)(dr,{size:24})})]})}),(0,or.jsxs)("main",{className:"p-6 sm:p-8 space-y-6 overflow-y-auto",children:[l&&(0,or.jsxs)("div",{className:"p-3 bg-purple-50 border-l-4 border-purple-400 text-purple-800 rounded-r-lg",children:[(0,or.jsxs)("h4",{className:"font-bold flex items-center gap-2",children:[(0,or.jsx)(Gs,{size:16})," Consultant Link"]}),(0,or.jsxs)("p",{className:"text-sm mt-1",children:["This user is linked to and can manage the profile for ",(0,or.jsx)("span",{className:"font-semibold",children:l.name}),"."]}),(0,or.jsx)("p",{className:"text-xs mt-1",children:"This link can only be changed from the Consultant Dashboard."})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,or.jsx)("input",{type:"text",name:"name",value:s.name,onChange:u,placeholder:"Full Name",required:!0,className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500"}),(0,or.jsx)("input",{type:"email",name:"email",value:s.email,onChange:u,placeholder:"Email Address",required:!0,className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500",disabled:!!t}),(0,or.jsx)("input",{type:"tel",name:"phone",value:s.phone||"",onChange:u,placeholder:"Mobile Number (Optional)",className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500"}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{htmlFor:"validity",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Account Validity Until"}),(0,or.jsx)("input",{id:"validity",type:"date",name:"validity",value:s.validity,onChange:u,required:!0,className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900"})]}),!t&&(0,or.jsx)("input",{type:"password",name:"password",value:s.password,onChange:u,placeholder:"Temporary Password (min. 6 chars)",required:!0,minLength:6,className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500 md:col-span-2"}),(0,or.jsxs)("div",{className:"md:col-span-2",children:[(0,or.jsx)("label",{htmlFor:"referredBy",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Referred By (Affiliate ID)"}),(0,or.jsx)("input",{id:"referredBy",name:"referredBy",type:"text",value:s.referredBy,onChange:u,placeholder:"Enter affiliate's ref ID (optional)",className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Application Access & Usage Limits"}),(0,or.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border max-h-64 overflow-y-auto space-y-2",children:e.length>0?e.map(v=>{let I=!!s.apps[v.id],w=s.apps[v.id];return(0,or.jsxs)("div",{className:"p-2 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[(0,or.jsxs)("label",{className:"flex items-center space-x-3 mb-2 sm:mb-0 cursor-pointer",children:[(0,or.jsx)("input",{type:"checkbox",checked:I,onChange:g=>c(v.id,g.target.checked),className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,or.jsx)("span",{className:"text-gray-800 font-medium",children:v.name})]}),I&&w&&(0,or.jsxs)("div",{className:"flex flex-col items-start gap-4 sm:flex-row sm:items-center w-full sm:w-auto pl-8 sm:pl-0",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{htmlFor:`limit-${v.id}`,className:"text-sm text-gray-600",children:"Limit:"}),(0,or.jsx)("input",{id:`limit-${v.id}`,type:"number",min:"0",placeholder:"0 for unlimited",value:w.usageLimit,onChange:g=>d(v.id,"usageLimit",parseInt(g.target.value,10)||0),className:"p-1 border rounded-md focus:ring-blue-500 focus:border-blue-500 transition text-sm w-28 bg-white text-gray-900 placeholder-gray-500"})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{htmlFor:`expiry-${v.id}`,className:"text-sm text-gray-600",children:"Expiry:"}),(0,or.jsx)("input",{id:`expiry-${v.id}`,type:"date",value:w.expiryDate||"",onChange:g=>d(v.id,"expiryDate",g.target.value),className:"p-1 border rounded-md focus:ring-blue-500 focus:border-blue-500 transition text-sm w-40 bg-white text-gray-900"})]})]})]}),I&&w&&(0,or.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 w-full pl-8 space-y-3",children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{htmlFor:`maxProjects-${v.id}`,className:"text-xs font-medium text-gray-500",children:"Max Projects (Override)"}),(0,or.jsx)("input",{id:`maxProjects-${v.id}`,type:"number",min:"0",placeholder:"App Default",value:w.maxProjects??"",onChange:g=>d(v.id,"maxProjects",g.target.value===""?void 0:parseInt(g.target.value,10)),className:"p-1 border rounded-md w-full text-sm mt-1"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{htmlFor:`projExpiry-${v.id}`,className:"text-xs font-medium text-gray-500",children:"Project Expiry Days (Override)"}),(0,or.jsx)("input",{id:`projExpiry-${v.id}`,type:"number",min:"0",placeholder:"App Default",value:w.projectExpirationDays??"",onChange:g=>d(v.id,"projectExpirationDays",g.target.value===""?void 0:parseInt(g.target.value,10)),className:"p-1 border rounded-md w-full text-sm mt-1"})]})]}),w.usageLimit===0&&(0,or.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,or.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"User-Specific Fair Use Policy (Overrides App Default)"}),(0,or.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-1",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{htmlFor:`fup-limit-${v.id}`,className:"sr-only",children:"Limit"}),(0,or.jsx)("input",{id:`fup-limit-${v.id}`,type:"number",value:w.fairUsePolicy?.limit||"",onChange:g=>f(v.id,"limit",parseInt(g.target.value,10)||0),placeholder:"Limit",min:"0",className:"p-1 border rounded-md w-full text-sm"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{htmlFor:`fup-freq-${v.id}`,className:"sr-only",children:"Frequency"}),(0,or.jsxs)("select",{id:`fup-freq-${v.id}`,value:w.fairUsePolicy?.frequency||"daily",onChange:g=>f(v.id,"frequency",g.target.value),className:"p-1 border rounded-md w-full text-sm bg-white",children:[(0,or.jsx)("option",{value:"daily",children:"Daily"}),(0,or.jsx)("option",{value:"monthly",children:"Monthly"}),(0,or.jsx)("option",{value:"yearly",children:"Yearly"})]})]}),(0,or.jsxs)("div",{className:"sm:col-span-3",children:[(0,or.jsx)("label",{htmlFor:`fup-text-${v.id}`,className:"sr-only",children:"Custom Text"}),(0,or.jsx)("input",{id:`fup-text-${v.id}`,type:"text",value:w.fairUsePolicy?.customText||"",onChange:g=>f(v.id,"customText",g.target.value),placeholder:"Custom text (optional)",className:"p-1 border rounded-md w-full text-sm"})]})]}),(0,or.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Set a specific limit for this user on this unlimited plan. Leave limit blank or 0 to use the app's default policy."})]})]})]},v.id)}):(0,or.jsx)("p",{className:"text-sm text-gray-500 italic p-2",children:"No applications have been created yet. Add apps in the admin dashboard."})})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Permissions"}),(0,or.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,or.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,or.jsx)("input",{type:"checkbox",name:"canWriteBlog",checked:!!s.canWriteBlog,onChange:u,className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,or.jsx)("span",{className:"text-gray-800 font-medium",children:"Can Write Blog Posts"})]})})]})]}),(0,or.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,or.jsx)("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Cancel"}),(0,or.jsx)("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Save Profile"})]})]})})})},pK=Hhe;var id=ce(_e()),Vhe=({user:t,onClose:e,onConfirm:r})=>t?(0,id.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,id.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,id.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete User Record"}),(0,id.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,id.jsxs)("p",{children:["Are you sure you want to delete the database record for ",(0,id.jsx)("strong",{className:"font-bold",children:t.name})," (",t.email,")?"]}),(0,id.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone and only removes the profile, not the login credentials from Firebase Auth."})]}),(0,id.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,id.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,id.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})}):null,mK=Vhe;var s2=ce($t());var sB=ce($t());var gK=t=>t?t.startsWith("http")||t.startsWith("data:"):!1,au=t=>{if(!t)return null;let e=null;try{let r=new URL(t);if(r.hostname==="youtu.be"?e=r.pathname.slice(1):r.hostname.includes("youtube.com")&&(e=r.searchParams.get("v")),!e){let n=t.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?|shorts)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/);n&&n[1]&&(e=n[1])}}catch{return console.error("Invalid video URL provided for parsing:",t),null}return e};var C1=ce(_e()),qhe=({icon:t,name:e,className:r="h-10 w-10 text-xl"})=>{let[n,a]=(0,sB.useState)(!1);(0,sB.useEffect)(()=>{a(!1)},[t]);let i=()=>{a(!0)};return n||!t?(0,C1.jsx)("div",{className:`flex items-center justify-center rounded-lg bg-gray-200 text-gray-500 ${r}`,children:(0,C1.jsx)(mc,{size:"60%"})}):gK(t)?(0,C1.jsx)("img",{src:t,alt:`${e} icon`,className:`object-contain ${r}`,onError:i}):(0,C1.jsx)("div",{className:`flex items-center justify-center rounded-lg ${r}`,children:(0,C1.jsx)("span",{style:{fontSize:"150%"},children:t})})},da=qhe;var oB=ce(_e()),zhe=({rating:t,setRating:e,size:r=32,disabled:n=!1})=>(0,oB.jsx)("div",{className:"flex items-center justify-center gap-1",children:[...Array(5)].map((a,i)=>{let s=i+1;return(0,oB.jsx)("button",{type:"button",onClick:()=>!n&&e(s),className:`transition-transform duration-150 ease-in-out ${n?"cursor-default":"hover:scale-110"}`,"aria-label":`Rate ${s} out of 5 stars`,disabled:n,children:(0,oB.jsx)(Cc,{size:r,className:`transition-colors ${s<=Math.round(t)?"text-yellow-400 fill-current":"text-gray-300"} ${n?"":"cursor-pointer"}`})},s)})}),sd=zhe;var lB=ce($t());var Cf=ce($t());var yK={name:"Vastu Webinar Landing Page",backgroundImageUrlOverride:"",whatsappGroupLink:"",facebookGroupLink:"",sections:[{id:we(),type:"hero",order:0,heroContent:{id:we(),topBannerText:"2-HR Vastu Transformation Webinar",mainHeadline:'Master the <span class="text-accent">Ancient Science of Vedic Vastu</span> to Unlock Abundance, Health, and Prosperity',subHeadline:"Discover proprietary, no-demolition Vastu techniques to immediately harmonize your space and invite transformative positive energy.",coachProfilePictureUrl:"https://placehold.co/320x320/FBBF24/1e1b4b?text=DR.+VAISHALI+GUPTA",coachName:"Dr. Vaishali Gupta",coachExperience:"20+ Years of Experience",coachQualifications:`D.Sc., Ph.D. (Vedic Vastu Shastra)
World's Most Qualified Vastu Coach`,priceText:'Actual Price: <s class="text-red-500">\u20B9999</s> | You Pay: <span class="font-bold text-green-600">FREE</span>',webinarDescription:`-Zone-Activity Guide Chart for all
-Free Credits to Attentive Viewers`,webinarDescriptionTitle:"Freebies for Webinar Attendees",registrationCtaTitle:"Secure Your Spot!",registrationCtaSubtext:"Hurry Up - Limited Seats Left!"}},{id:we(),type:"featured_in",order:1,featuredInLogos:[{id:we(),imageUrl:"https://placehold.co/100x30/1e1b4b/ffffff?text=INDIA+TV",altText:"India TV"},{id:we(),imageUrl:"https://placehold.co/100x30/1e1b4b/ffffff?text=MH+ONE",altText:"MH One"},{id:we(),imageUrl:"https://placehold.co/100x30/1e1b4b/ffffff?text=NDTV",altText:"NDTV"},{id:we(),imageUrl:"https://placehold.co/100x30/1e1b4b/ffffff?text=ZEE+NEWS",altText:"Zee News"}]},{id:we(),type:"benefits",order:2,benefitsTitle:"Why Attend This Webinar",benefitsItems:[{id:we(),icon:"wallet",title:"Achieve Financial Equilibrium",description:"Determine if subtle energy blocks in your living space are undermining your professional efforts and discover corrective solutions for lasting financial flow."},{id:we(),icon:"apple",title:"Cultivate Holistic Well-being",description:"Understand the profound energetic connection between your home and your vitality, enabling you to shift from draining environments to restorative ones."},{id:we(),icon:"briefcase",title:"Accelerate Professional Trajectory",description:"Harness the directional forces within your space to support ambition, recognition, and continuous career and business advancement."},{id:we(),icon:"house",title:"Establish Domestic Harmony",description:"Learn to create a balanced energetic environment that naturally fosters understanding, strengthens bonds, and resolves interpersonal conflict effortlessly."}]},{id:we(),type:"vastu_assistant_hero",order:3,vastuAssistantHeroContent:{id:we(),title:'Analyze Any Floor Plan with <br> <span class="assistant-hero-title-text text-6xl">Vastu Assistant</span>',description:"The revolutionary tool to automatically and accurately analyze complex layouts, directly from your browser\u2014no AutoCAD required.",ctaText:"Discover the Software"}},{id:we(),type:"vastu_assistant_features",order:4,vastuAssistantFeaturesContent:{id:we(),keyBenefitsTitle:'Key Benefits of the <span class="text-accent">Vastu Assistant</span> Software',keyBenefits:[{id:we(),icon:"file-text",title:"No AutoCAD Required",description:"Our app is 100% AutoCAD-tested, providing accurate results without complex, specialized software installation."},{id:we(),icon:"clock",title:"Instant Analysis",description:"Eliminate waiting time. Generate comprehensive Vastu analysis and reports in minutes, not days, for immediate client review."},{id:we(),icon:"indian-rupee",title:"Cost Efficiency",description:"Avoid the significant expense of professional drafting fees, making high-quality Vastu analysis affordable and accessible."},{id:we(),icon:"zap",title:"Accurate & Efficient",description:"Analyze any layout, regardless of complexity, with guaranteed precision for reliable Vastu correction recommendations."}],modulesTitle:"Powerful Software Modules",modules:[{id:we(),icon:"crosshair",title:"Mass Gravity Center",description:"Accurately determine the true mass gravity center (Brahmasthan) of any complex floor plan with automated precision."},{id:we(),icon:"compass",title:"Shakti Chakra Mapping",description:"Effortlessly overlay the 16 Vastu Zones and the Shakti Chakra onto your layout for precise directional analysis and fault identification."},{id:we(),icon:"ruler",title:"Fundamental Vastu Audit",description:"Perform foundational Vastu analysis, identifying primary elemental imbalances, extensions, and cuts using easy-to-use digital tools."},{id:we(),icon:"map-pin",title:"Zone Analysis & Impact",description:"Clearly visualize the Vastu zones and understand their specific influence on wealth, relationships, and health within your space."},{id:we(),icon:"users",title:"Devtas Marking",description:"Identify and mark the specific locations of the presiding deities (Devtas) on your layout for targeted spiritual and energetic alignment."},{id:we(),icon:"graduation-cap",title:"Advanced Devtas Module",description:"For expert practitioners, this module provides granular, precise Devtas placements to execute high-level Vastu consultations."}],ctaText:"Register Now & Learn How to Use the Tool"}},{id:we(),type:"text_block",order:5,textBlockContent:{id:we(),title:"The Energy of Your Home Is Directly Connected to Your Life",content:`The **energetic resonance of your dwelling** is fundamentally linked to every aspect of your life\u2014including your health, financial stability, and relationships.

This webinar illuminates how to diagnose subtle **energetic imbalances (Vastu Dosh)** and apply precise, **non-invasive remedies**.

Move beyond the need for structural renovation and initiate powerful shifts that align your environment with your highest potential for peace and prosperity.`,ctaButtonText:"Register Now for FREE"}},{id:we(),type:"problems",order:6,problemsTitle:'If You Are Facing Any Of These Problems, Your House Probably Has <span class="text-accent">Vastu Dosh</span>',problemsItems:[{id:we(),icon:"trending-down",title:"Financial Instability & Debt Cycle",points:["Chronic debt and unpredictable income streams.","Stagnation or lack of anticipated growth in business or career.","Savings depletion despite diligent efforts toward financial stability."]},{id:we(),icon:"activity",title:"Health Issues & Low Vitality",points:["Persistent low energy or feelings of constant fatigue.","Recurring health problems resistant to conventional treatment.","Disturbed or non-restorative sleep patterns among residents."]},{id:we(),icon:"gavel",title:"Strained Interpersonal Conflicts",points:["Unresolved spousal disputes or strain in family relationships.","Unexpected delays or continuous obstacles in marriage or alliances.","Frequent emotional detachment or lack of harmonious bonding."]},{id:we(),icon:"skull",title:"Professional Blocks & Anxiety",points:["Consistent obstacles to professional or academic advancement.","A pervasive sense of anxiety, heaviness, or emotional turmoil.","Recurrent unexpected mishaps or appliance/structure malfunctions."]}]},{id:we(),type:"delineation",order:7,delineationContent:{id:we(),type:"delineation",mainHeadline:'The Delineation: Authentic Vedic Vastu vs. <span class="text-accent">Unreliable Hybrid Systems</span>',subHeadline:"We will demonstrate why mixing core Vastu principles with non-Vedic concepts creates an ineffective and often conflicting energetic system.",points:[{id:we(),title:"Authentic Vedic Foundation",description:"Vastu is based on **\u015B\u0101stric wisdom** passed down through 18 Maharishis, aligning a space with precise cosmic forces."},{id:we(),title:"Mitigating Hybrid Confusion",description:"Avoid diluted, incompatible 'Hybrid Vastu' practices that often introduce energetic conflicts and prevent genuine, lasting results."},{id:we(),title:"Holistic, Systemic Solutions",description:"Focus on a comprehensive, systemic approach to energy correction, prioritizing foundational alignment over random, superficial directional fixes."}]}},{id:we(),type:"what_you_learn",order:8,whatYouLearnTitle:'What You Will <span class="text-accent">Learn</span>',whatYouLearnItems:[{id:we(),icon:"pin",description:"A deep dive into the **Fundamental Principles of Vedic Vastu** and its deterministic influence on personal destiny and life cycles."},{id:we(),icon:"infinity",description:"The systematic correlation between the energy zones of your residence and key life areas: wealth generation, physical health, and harmonious relationships."},{id:we(),icon:"square-x",description:"Methodologies for **Pinpointing Undetected Vastu Doshas** (Energetic Fault Lines) currently contributing to stagnation and stress."},{id:we(),icon:"bag-dollar",description:"Practical implementation strategies to render your residential or commercial space Vastu-compliant, thereby maximizing prosperity and tranquility."}]},{id:we(),type:"audience",order:9,audienceTitle:"Who Must Attend This Webinar: Professional Audience Segments",audienceItems:[{id:we(),description:"<strong>Energetic Correction Seekers:</strong> Individuals seeking to resolve persistent financial instability, health challenges, or domestic stress through precise energetic correction."},{id:we(),description:"<strong>Property Investors & Home Buyers:</strong> Prospective homeowners or tenants requiring due diligence and application of Vastu compliance before property acquisition."},{id:we(),description:"<strong>Business Leaders & Entrepreneurs:</strong> Those aiming to enhance commercial opportunities by optimizing the energetic flow of their office, storefront, or industrial space."},{id:we(),description:"<strong>Design Professionals:</strong> Architects, Interior Designers, and Real Estate Builders looking to integrate high-level Vedic Vastu principles into modern project execution."},{id:we(),description:"<strong>Aspiring Vastu Consultants:</strong> Individuals seeking a path to professional expertise and financial independence by developing authentic Vastu consultation skills."},{id:we(),description:"<strong>Occult Practitioners & Healers:</strong> Existing Astrologers, Numerologists, or Energy Healers who wish to significantly expand their service portfolio with authentic Vastu solutions."}]},{id:we(),type:"about_coach",order:10,aboutCoachTitle:'Why Train with <span class="text-accent">Your Coach</span>',aboutCoachAchievements:[{id:we(),text:'<strong class="font-semibold">Two Decades of Mastery:</strong> 20+ years of verifiable expertise in Vastu, encompassing over 10,000 successful projects worldwide.'},{id:we(),text:'Holds the highest academic honors: a Ph.D. and the prestigious <strong class="font-semibold">Doctor of Science (D.Sc.)</strong> in Vedic Vastu Shastra.'},{id:we(),text:"The D.Sc. designation confirms recognition for exceptional, sustained contributions, establishing her as a pioneer in the field of authentic Vastu science."},{id:we(),text:"A recipient of the Brilliant Speaker\u2019s Award, recognized for profound conceptual understanding and exceptional clarity in communication."},{id:we(),text:"A dedicated leader who seamlessly blends academic rigor with practical, heart-centered care for impactful life transformations."}]},{id:we(),type:"faq",order:11,faqTitle:"Frequently Asked Questions",faqItems:[{id:we(),question:"I don\u2019t know where to start my Vastu journey.",answer:"This 2-hour webinar is the perfect entry point. You will acquire the fundamental, important concepts of Vedic Vastu delivered in an easy and simple manner, establishing a strong and reliable foundation."},{id:we(),question:"I reside in a rented property. Is this content still relevant?",answer:"Absolutely. The principles taught are effective for rented apartments, villas, offices, and commercial projects. They focus on precise energetic and placement shifts, eliminating the need for massive structural renovations."},{id:we(),question:"Is there a financial investment required to attend?",answer:'No, the webinar is entirely <strong class="text-accent">FREE of cost</strong>. We are committed to making this transformative knowledge accessible to all who seek personal and professional enhancement.'}]},{id:we(),type:"social_connect",order:12,socialConnectContent:{id:we(),title:"Join Our Community",whatsappGroupLink:"",facebookGroupLink:""}}]};var vK={id:"",metaTitle:"Exclusive Vastu Webinar Offers",metaDescription:"The Future of Vastu Consultancy is Here. Exclusive Offers for Our Webinar Attendees.",sections:[{id:we(),type:"intro",order:0,enabled:!0,introContent:{mainHeadline:"Ab Har Ghar Hoga Vastu Auspicious",subHeadline:"The Future of Vastu Consultancy is Here. Exclusive Offers for Our Webinar Attendees.",scrollButtonText:"Scroll Down to Unlock Your Exclusive Deals!"}},{id:we(),type:"challenge",order:1,enabled:!0,challengeContent:{title:"The Current Challenge vs. The Vastu Assistant Solution",description:"Manual calculations, slow reports, and limited reach are holding back your true income potential. We solve this by giving you the ultimate tool.",callouts:[{id:we(),icon:"\u23F1\uFE0F",title:"TIME",description:'Generate Reports in <span class="text-red-600 font-extrabold">Minutes</span>, not days.'},{id:we(),icon:"\u{1F4B0}",title:"INCOME",description:'Unlock Multiple <span class="text-green-600 font-extrabold">Revenue Streams</span>.'},{id:we(),icon:"\u2B50",title:"AUTHORITY",description:'Deliver <span class="text-[#004AAD] font-extrabold">Professional Grade</span> Reports.'}]}},{id:we(),type:"offer_card",order:2,enabled:!0,offerContent:{id:"basic",title:"Offer #1: Vastu Assistant Basic",description:"The perfect entry point to experience Vastu Assistant. Get 5 credits to perform basic Vastu analysis for your own house or one client.",creditsText:"5 Credits",price:9900,priceSubtitle:"One-Time Fee",features:[{id:we(),text:'<span class="font-bold">5 Credits-</span> for Vastu Assistant'},{id:we(),text:'<span class="font-bold">Basic Vastu Scan & Analysis</span> (Ideal for personal use).'},{id:we(),text:"Instant, Simple Recommendations & Reports."}],buttonText:"Get Basic Access",mainAppTierId:"basic-5-credits-99"}},{id:we(),type:"offer_card",order:3,enabled:!0,offerContent:{id:"pro",title:"Offer #2: Vastu Assistant Business Pro",description:"Designed for professionals managing a high volume of clients. Massive credit bundle paired with premium business tools.",price:1359900,originalPrice:1999900,priceSubtitle:"Save \u20B96,400 Instantly!",features:[{id:we(),text:'<span class="font-bold">Vastu Assistant - 2000 Credits</span>'},{id:we(),text:'<span class="font-bold">25% Affiliate Commission for Lifetime</span>',valueText:"Normal Rate: 10-15%"},{id:we(),text:'<span class="font-bold">Canva Pro Subscription for Lifetime</span>',valueText:"Worth \u20B94,000 / Year"},{id:we(),text:'<span class="font-bold">Access to VIP Groups</span> - FaceBook & WhatsApp.'}],addons:[{id:we(),key:"course",title:"Mobile Numerology Course",originalPrice:11e4,offerPrice:49900},{id:we(),key:"app",title:"Mobile Numerology App Unlimited Credits",originalPrice:599900,offerPrice:259900}],buttonText:"Go Pro Now",mainAppTierId:"pro-2000-credits-13599",addonAppTierIds:{course:"addon-num-course-499",app:"addon-num-app-2599"}}},{id:we(),type:"offer_card",order:4,enabled:!0,offerContent:{id:"unlimited",title:"Offer #3: Vastu Assistant Unlimited",description:"For Vastu consultants who want a Lifetime Assistant who can do the hard and precise work for them and generate professional-grade reports.",price:21e5,originalPrice:31e5,priceSubtitle:"Save \u20B910,000 Instantly!",isBestValue:!0,features:[{id:we(),text:'<span class="font-bold">Vastu Assistant: - Unlimited Credits</span>'},{id:we(),text:'<span class="font-bold">Personalized Consultant Page</span>',valueText:"Worth \u20B912,000 / Year"},{id:we(),text:'<span class="font-bold">Numerology Analysis Software: - 100 Credits</span>',valueText:"Reports Value: \u20B91,10,000"},{id:we(),text:'<span class="font-bold">35% Lifetime Best Affiliate Commission</span>',valueText:"Normal Rate: 10-15%"},{id:we(),text:'<span class="font-bold">Canva Pro Subscription for Lifetime</span>',valueText:"Worth \u20B94,000 / Year"},{id:we(),text:'<span class="font-bold">Access to VIP Groups</span> - FaceBook & WhatsApp.'}],addons:[{id:we(),key:"course",title:"Mobile Numerology Course",originalPrice:11e4,offerPrice:49900},{id:we(),key:"app",title:"Mobile Numerology App Unlimited Credits",originalPrice:599900,offerPrice:12e4}],buttonText:"Claim Unlimited Offer",mainAppTierId:"unlimited-lifetime-21000",addonAppTierIds:{course:"addon-num-course-499-ultd",app:"addon-num-app-1200"}}},{id:we(),type:"final_cta",order:5,enabled:!0,finalCtaContent:{urgencyHeadline:"ACT FAST: OFFER ENDS WHEN THE WEBINAR ENDS!",urgencySubheadline:'If you wait, you will miss out on the <span class="text-red-700 underline"> Lifetime Best Affiliate Commission</span> and the <span class="text-red-700 underline"> \u20B91,10,000 Numerology Credit Bonus</span>!',ctaTitle:"Choose Your Fast Track to Vastu Automation:",options:[{id:we(),type:"instant",isPrimary:!0,title:"Instant Credential Generation",steps:[{id:we(),text:'Go to the site: <a href="https://powerfultools.in/pricing" class="font-mono font-semibold text-[#0062E3] break-all">https://powerfultools.in/pricing</a>'},{id:we(),text:'Add <span class="font-bold">Vastu Assistant Unlimited Credits</span> to your cart.'},{id:we(),text:'Add the code <span class="font-mono font-semibold text-red-600">WEBINAR</span> and enter your details.'},{id:we(),text:'Make the payment \u2014 <span class="font-extrabold text-green-700">Credentials generated INSTANTLY!</span>'}],buttonText:"GO TO SITE NOW"},{id:we(),type:"qr",isPrimary:!1,title:"Easy QR Code Scan",qrText:"Scan this code with your phone camera.",note:'Credentials generated via QR code may take <span class="font-extrabold">up to 24 hours</span> to be processed and emailed.'}],footerText:"Thank you for attending the Vastu webinar!",footerContact:"Contact: support@powerfultools.in | Website: powerfultools.in"}}]};var I1=ce($t());var mt=ce(_e()),mU=[{type:"intro",label:"Intro Header"},{type:"challenge",label:"Challenge vs. Solution"},{type:"offer_card",label:"Offer Card"},{type:"final_cta",label:"Final Call to Action"}],bK={intro:"introContent",challenge:"challengeContent",offer_card:"offerContent",final_cta:"finalCtaContent"},jhe=({section:t,updateSection:e,app:r})=>{let n=bK[t.type];if((0,I1.useEffect)(()=>{if(t.type==="final_cta"&&t.finalCtaContent&&!t.finalCtaContent.options&&t.finalCtaContent.option1Title){let f=t.finalCtaContent,A=[];f.option1Title&&A.push({id:we(),type:"instant",title:f.option1Title,steps:f.option1Steps||[],buttonText:f.option1ButtonText,isPrimary:!0}),f.option2Title&&A.push({id:we(),type:"qr",title:f.option2Title,note:f.option2Note,isPrimary:!1,payeeName:"Acharya Preeti Sharma",qrImageUrl:"https://i.ibb.co/G9jP42y/google-pay-qr-code.png",qrText:f.option2QrText||"UPI ID: preeti3084@okicici"});let{option1Title:v,option1Steps:I,option1ButtonText:w,option2Title:g,option2QrText:b,option2Note:S,...F}=f;e(t.id,{finalCtaContent:{...F,options:A}})}},[t.type,t.finalCtaContent,t.id,e]),!n)return null;let a=t[n],i=(f,A)=>{let v=t[n]||{};e(t.id,{[n]:{...v,[f]:A}})},s=(f,A,v,I)=>{let w=t[n]||{},g=[...w[f]||[]];g[A]={...g[A],[v]:I},e(t.id,{[n]:{...w,[f]:g}})},o=(f,A,v,I,w,g)=>{let b=t[n]||{},S=JSON.parse(JSON.stringify(b[f]||[]));S[A]&&S[A][v]&&S[A][v][I]&&(S[A][v][I][w]=g,e(t.id,{[n]:{...b,[f]:S}}))},l=(f,A)=>{let v=t[n]||{},I=[...v[f]||[],{...A,id:we()}];e(t.id,{[n]:{...v,[f]:I}})},u=(f,A,v,I)=>{let w=t[n]||{},g=JSON.parse(JSON.stringify(w[f]||[]));g[A]&&(g[A][v]||(g[A][v]=[]),g[A][v].push({...I,id:we()}),e(t.id,{[n]:{...w,[f]:g}}))},c=(f,A)=>{let v=t[n]||{},I=(v[f]||[]).filter(w=>w.id!==A);e(t.id,{[n]:{...v,[f]:I}})},d=(f,A,v,I)=>{let w=t[n]||{},g=JSON.parse(JSON.stringify(w[f]||[]));g[A]&&g[A][v]&&(g[A][v]=g[A][v].filter(b=>b.id!==I),e(t.id,{[n]:{...w,[f]:g}}))};switch(t.type){case"intro":return(0,mt.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,mt.jsx)("input",{type:"text",value:a?.mainHeadline||"",onChange:w=>i("mainHeadline",w.target.value),placeholder:"Main Headline",className:"w-full p-2 border rounded"}),(0,mt.jsx)("input",{type:"text",value:a?.subHeadline||"",onChange:w=>i("subHeadline",w.target.value),placeholder:"Subheadline",className:"w-full p-2 border rounded"}),(0,mt.jsx)("input",{type:"text",value:a?.scrollButtonText||"",onChange:w=>i("scrollButtonText",w.target.value),placeholder:"Scroll Button Text",className:"w-full p-2 border rounded"})]});case"challenge":return(0,mt.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,mt.jsx)("input",{type:"text",value:a?.title||"",onChange:w=>i("title",w.target.value),placeholder:"Section Title",className:"w-full p-2 border rounded"}),(0,mt.jsx)("textarea",{value:a?.description||"",onChange:w=>i("description",w.target.value),placeholder:"Description",className:"w-full p-2 border rounded h-20"}),(0,mt.jsx)("h5",{className:"font-semibold text-gray-600 pt-2 border-t",children:"Callouts"}),a?.callouts.map((w,g)=>(0,mt.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1",children:[(0,mt.jsx)("input",{value:w.icon,onChange:b=>s("callouts",g,"icon",b.target.value),placeholder:"Icon (e.g., \u23F1\uFE0F)",className:"w-full p-1 border"}),(0,mt.jsx)("input",{value:w.title,onChange:b=>s("callouts",g,"title",b.target.value),placeholder:"Title",className:"w-full p-1 border"}),(0,mt.jsx)("input",{value:w.description,onChange:b=>s("callouts",g,"description",b.target.value),placeholder:"Description (HTML allowed)",className:"w-full p-1 border"}),(0,mt.jsx)("button",{type:"button",onClick:()=>c("callouts",w.id),className:"text-red-500 text-xs",children:"Remove"})]},w.id)),(0,mt.jsx)("button",{type:"button",onClick:()=>l("callouts",{icon:"",title:"",description:""}),className:"text-blue-600 text-xs",children:"+ Add Callout"})]});case"offer_card":let f=a;if(!f)return null;let A=r.pricingTiers?.filter(w=>w.isWebinarAddon)||[];return(0,mt.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,mt.jsx)("input",{type:"text",value:f.title,onChange:w=>i("title",w.target.value),placeholder:"Offer Title",className:"w-full p-2 border rounded"}),(0,mt.jsx)("textarea",{value:f.description,onChange:w=>i("description",w.target.value),placeholder:"Offer Description",className:"w-full p-2 border rounded h-20"}),(0,mt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,mt.jsx)("input",{type:"text",value:f.creditsText||"",onChange:w=>i("creditsText",w.target.value),placeholder:"Credits Text (e.g., 5 Credits)",className:"w-full p-2 border rounded"}),(0,mt.jsx)("input",{type:"number",value:f.price?f.price/100:"",onChange:w=>i("price",parseFloat(w.target.value)*100),placeholder:"Price (in Rupees)",className:"w-full p-2 border rounded"}),(0,mt.jsx)("input",{type:"number",value:f.originalPrice?f.originalPrice/100:"",onChange:w=>i("originalPrice",parseFloat(w.target.value)*100),placeholder:"Original Price (Optional)",className:"w-full p-2 border rounded"}),(0,mt.jsx)("input",{type:"text",value:f.priceSubtitle||"",onChange:w=>i("priceSubtitle",w.target.value),placeholder:"Price Subtitle",className:"w-full p-2 border rounded"})]}),(0,mt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,mt.jsx)("input",{type:"checkbox",checked:!!f.isBestValue,onChange:w=>i("isBestValue",w.target.checked)})," Mark as Best Value"]}),(0,mt.jsx)("input",{type:"text",value:f.buttonText,onChange:w=>i("buttonText",w.target.value),placeholder:"Button Text",className:"w-full p-2 border rounded"}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"font-semibold text-gray-600",children:"Main App Tier"}),(0,mt.jsxs)("select",{value:f.mainAppTierId,onChange:w=>i("mainAppTierId",w.target.value),required:!0,className:"w-full p-2 border rounded font-mono bg-white",children:[(0,mt.jsx)("option",{value:"",children:"-- Select Special Offer Tier --"}),A.map(w=>(0,mt.jsxs)("option",{value:w.id,children:[w.name," (\u20B9",w.price/100,")"]},w.id))]})]}),(0,mt.jsxs)("div",{className:"pt-2 border-t",children:[(0,mt.jsx)("h5",{className:"font-semibold text-gray-600",children:"Features"}),(f.features||[]).map((w,g)=>(0,mt.jsxs)("div",{className:"flex gap-2 items-center p-1 bg-white border rounded",children:[(0,mt.jsx)("input",{value:w.text,onChange:b=>s("features",g,"text",b.target.value),placeholder:"Feature Text (HTML allowed)",className:"w-full p-1 border"}),(0,mt.jsx)("input",{value:w.valueText||"",onChange:b=>s("features",g,"valueText",b.target.value),placeholder:"Value Tag (optional)",className:"w-1/2 p-1 border"}),(0,mt.jsx)("button",{type:"button",onClick:()=>c("features",w.id),children:(0,mt.jsx)(Ar,{size:14,className:"text-red-500"})})]},w.id)),(0,mt.jsx)("button",{type:"button",onClick:()=>l("features",{text:"",valueText:""}),children:"+ Add Feature"})]}),(0,mt.jsxs)("div",{className:"pt-2 border-t",children:[(0,mt.jsx)("h5",{className:"font-semibold text-gray-600",children:"Add-ons"}),(f.addons||[]).map((w,g)=>(0,mt.jsxs)("div",{className:"p-2 bg-white border rounded space-y-1",children:[(0,mt.jsx)("input",{value:w.title,onChange:b=>s("addons",g,"title",b.target.value),placeholder:"Add-on Title",className:"w-full p-1 border"}),(0,mt.jsx)("input",{type:"number",value:w.originalPrice/100,onChange:b=>s("addons",g,"originalPrice",parseFloat(b.target.value)*100),placeholder:"Original Price",className:"w-full p-1 border"}),(0,mt.jsx)("input",{type:"number",value:w.offerPrice/100,onChange:b=>s("addons",g,"offerPrice",parseFloat(b.target.value)*100),placeholder:"Offer Price",className:"w-full p-1 border"}),(0,mt.jsx)("button",{type:"button",onClick:()=>c("addons",w.id),children:(0,mt.jsx)(Ar,{size:14,className:"text-red-500"})})]},w.id)),(0,mt.jsx)("button",{type:"button",onClick:()=>l("addons",{key:"course",title:"",originalPrice:0,offerPrice:0}),children:"+ Add Add-on"})]})]});case"final_cta":let v=t.finalCtaContent;if(!v)return null;let I=v.options||[];return(0,mt.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,mt.jsx)("input",{value:v.urgencyHeadline,onChange:w=>i("urgencyHeadline",w.target.value),placeholder:"Urgency Headline",className:"w-full p-2 border"}),(0,mt.jsx)("textarea",{value:v.urgencySubheadline,onChange:w=>i("urgencySubheadline",w.target.value),placeholder:"Urgency Subheadline",className:"w-full p-2 border h-16"}),(0,mt.jsx)("input",{value:v.ctaTitle,onChange:w=>i("ctaTitle",w.target.value),placeholder:"CTA Title",className:"w-full p-2 border"}),(0,mt.jsxs)("div",{className:"pt-2 border-t",children:[(0,mt.jsx)("h5",{className:"font-semibold text-gray-600 mb-2",children:"CTA Options"}),I.map((w,g)=>(0,mt.jsxs)("div",{className:"p-3 border rounded bg-white space-y-2 mb-2",children:[(0,mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mt.jsxs)("h6",{className:"font-bold",children:["Option #",g+1]}),(0,mt.jsx)("button",{type:"button",onClick:()=>c("options",w.id),className:"p-1 text-red-500 hover:bg-red-50 rounded-full",children:(0,mt.jsx)(Ar,{size:14})})]}),(0,mt.jsx)("input",{value:w.title,onChange:b=>s("options",g,"title",b.target.value),placeholder:"Option Title",className:"w-full p-1 border"}),(0,mt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,mt.jsx)("input",{type:"checkbox",checked:!!w.isPrimary,onChange:b=>s("options",g,"isPrimary",b.target.checked)})," Mark as Primary"]}),(0,mt.jsxs)("select",{value:w.type,onChange:b=>s("options",g,"type",b.target.value),className:"w-full p-1 border bg-white",children:[(0,mt.jsx)("option",{value:"instant",children:"Instant Access"}),(0,mt.jsx)("option",{value:"qr",children:"QR Code"})]}),w.type==="instant"&&(0,mt.jsxs)("div",{className:"pl-2 border-l-2 mt-2 space-y-1",children:[(0,mt.jsx)("h6",{className:"font-semibold",children:"Steps"}),(w.steps||[]).map((b,S)=>(0,mt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,mt.jsx)("input",{value:b.text,onChange:F=>o("options",g,"steps",S,"text",F.target.value),className:"w-full p-1 border",placeholder:"Step text (HTML allowed)"}),(0,mt.jsx)("button",{type:"button",onClick:()=>d("options",g,"steps",b.id),children:(0,mt.jsx)(Ar,{size:12})})]},b.id)),(0,mt.jsx)("button",{type:"button",onClick:()=>u("options",g,"steps",{text:""}),children:"+ Add Step"}),(0,mt.jsx)("input",{value:w.buttonText||"",onChange:b=>s("options",g,"buttonText",b.target.value),placeholder:"Button Text",className:"w-full p-1 border mt-2"})]}),w.type==="qr"&&(0,mt.jsxs)("div",{className:"pl-2 border-l-2 mt-2 space-y-1",children:[(0,mt.jsx)("input",{value:w.payeeName||"",onChange:b=>s("options",g,"payeeName",b.target.value),placeholder:"Payee Name",className:"w-full p-1 border"}),(0,mt.jsx)("input",{value:w.qrImageUrl||"",onChange:b=>s("options",g,"qrImageUrl",b.target.value),placeholder:"QR Code Image URL",className:"w-full p-1 border"}),(0,mt.jsx)("input",{value:w.qrText||"",onChange:b=>s("options",g,"qrText",b.target.value),placeholder:"Text below QR (e.g., UPI ID)",className:"w-full p-1 border"}),(0,mt.jsx)("textarea",{value:w.note||"",onChange:b=>s("options",g,"note",b.target.value),placeholder:"Note (HTML allowed)",className:"w-full p-1 border h-16"})]})]},w.id)),(0,mt.jsx)("button",{type:"button",onClick:()=>l("options",{type:"instant",title:"New Option",isPrimary:!1,steps:[],buttonText:"",payeeName:"Payee Name",qrImageUrl:"",qrText:"UPI ID: example@upi"}),children:"+ Add Option"})]}),(0,mt.jsx)("h5",{className:"font-semibold text-gray-600 pt-2 border-t",children:"Footer"}),(0,mt.jsx)("input",{value:v.footerText,onChange:w=>i("footerText",w.target.value),placeholder:"Footer Text",className:"w-full p-2 border"}),(0,mt.jsx)("input",{value:v.footerContact,onChange:w=>i("footerContact",w.target.value),placeholder:"Footer Contact Info",className:"w-full p-2 border"})]});default:return null}},Khe=({app:t,pageDef:e,onClose:r,onSave:n,showNotification:a})=>{let[i,s]=(0,I1.useState)(e),[o,l]=(0,I1.useState)(!1),[u,c]=(0,I1.useState)(null),d=b=>{s(S=>({...S,offerPage:{...S.offerPage,sections:b(S.offerPage?.sections||[])}}))},f=(b,S)=>{d(F=>{let O=[...F],R=S==="up"?b-1:b+1;return R<0||R>=O.length||([O[b],O[R]]=[O[R],O[b]]),O})},A=b=>{let S={id:we(),type:b,order:(i.offerPage?.sections||[]).length,enabled:!0},F=bK[b];if(!F)return;let O={intro:{mainHeadline:"New Intro",subHeadline:""},challenge:{title:"New Challenge Section",description:"",callouts:[]},offer_card:{id:`offer_${we().substring(0,4)}`,title:"New Offer",description:"",price:0,features:[],buttonText:"Buy Now",mainAppTierId:""},final_cta:{urgencyHeadline:"Act Fast!",options:[],ctaTitle:"Choose Your Option"}};S[F]=O[b],d(R=>[...R,S])},v=b=>{d(S=>S.filter(F=>F.id!==b))},I=(b,S)=>{d(F=>F.map(O=>O.id===b?{...O,...S}:O))},w=(b,S)=>{s(F=>({...F,offerPage:{...F.offerPage,[b]:S}}))};return(0,mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,mt.jsxs)("form",{onSubmit:async b=>{b.preventDefault(),l(!0);try{await n(i)}catch{}finally{l(!1)}},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,mt.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mt.jsx)("h3",{className:"text-2xl font-bold",children:"Edit Offer Page"}),(0,mt.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",children:(0,mt.jsx)(dr,{size:24})})]})}),(0,mt.jsxs)("main",{className:"flex-grow p-6 grid grid-cols-1 md:grid-cols-2 gap-6 overflow-y-auto",children:[(0,mt.jsx)("div",{className:"space-y-4",children:(0,mt.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg space-y-3",children:[(0,mt.jsxs)("h4",{className:"font-semibold text-gray-700 text-sm flex items-center gap-2",children:[(0,mt.jsx)(rA,{size:16})," SEO / Sharing Settings"]}),(0,mt.jsx)("input",{type:"text",value:i.offerPage?.metaTitle||"",onChange:b=>w("metaTitle",b.target.value),placeholder:"Meta Title for Sharing",className:"w-full p-2 border rounded-md"}),(0,mt.jsx)("textarea",{value:i.offerPage?.metaDescription||"",onChange:b=>w("metaDescription",b.target.value),placeholder:"Meta Description",className:"w-full p-2 border rounded-md h-20"})]})}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"text-sm font-medium mb-1 block",children:"Page Sections"}),(0,mt.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border min-h-[300px]",children:[(0,mt.jsx)("div",{className:"space-y-2",children:(i.offerPage?.sections||[]).map((b,S)=>(0,mt.jsxs)("div",{className:"bg-white border rounded-md shadow-sm",children:[(0,mt.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,mt.jsx)("span",{className:"flex-grow font-medium text-gray-700 text-sm",children:mU.find(F=>F.type===b.type)?.label}),(0,mt.jsxs)("div",{className:"flex items-center",children:[(0,mt.jsx)("button",{type:"button",onClick:()=>f(S,"up"),disabled:S===0,className:"p-1 disabled:opacity-30",children:(0,mt.jsx)(yo,{size:16})}),(0,mt.jsx)("button",{type:"button",onClick:()=>f(S,"down"),disabled:S===(i.offerPage?.sections||[]).length-1,className:"p-1 disabled:opacity-30",children:(0,mt.jsx)(cs,{size:16})}),(0,mt.jsx)("button",{type:"button",onClick:()=>c(u===b.id?null:b.id),className:`p-1 rounded-full ${u===b.id?"bg-blue-100 text-blue-600":""}`,children:(0,mt.jsx)(ru,{size:16})}),(0,mt.jsx)("button",{type:"button",onClick:()=>v(b.id),className:"p-1 text-red-500 hover:bg-red-50 rounded-full",children:(0,mt.jsx)(Ar,{size:16})})]})]}),u===b.id&&(0,mt.jsxs)("div",{className:"p-3 border-t bg-gray-50",children:[(0,mt.jsxs)("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:["Configure '",mU.find(F=>F.type===b.type)?.label,"'"]}),(0,mt.jsx)(jhe,{section:b,updateSection:I,app:t})]})]},b.id))}),(0,mt.jsxs)("div",{className:"mt-3 relative",children:[(0,mt.jsxs)("select",{onChange:b=>A(b.target.value),value:"",className:"w-full p-2 border rounded-md bg-white appearance-none text-sm font-semibold text-center text-blue-600 hover:bg-blue-50 cursor-pointer",children:[(0,mt.jsx)("option",{value:"",disabled:!0,children:"-- Add a new section --"}),mU.map(b=>(0,mt.jsx)("option",{value:b.type,children:b.label},b.type))]}),(0,mt.jsx)(Ss,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]})]}),(0,mt.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,mt.jsx)("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:o,children:"Cancel"}),(0,mt.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:o,children:[o?(0,mt.jsx)(Pt,{className:"animate-spin mr-2"}):(0,mt.jsx)(ua,{className:"mr-2"}),o?"Saving...":"Save Changes"]})]})]})})},wK=Khe;var je=ce(_e()),gU=t=>t.toString().toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),yU=[{type:"hero",label:"Hero Section"},{type:"featured_in",label:"Featured In"},{type:"benefits",label:'Benefits ("Why Attend")'},{type:"vastu_assistant_hero",label:"Vastu Assistant (Hero)"},{type:"vastu_assistant_features",label:"Vastu Assistant (Features)"},{type:"text_block",label:'Text Block ("Energy of Home")'},{type:"problems",label:'Problems ("Vastu Dosh")'},{type:"delineation",label:'Delineation ("Vastu vs Hybrid")'},{type:"what_you_learn",label:"What You Learn (Deliverables)"},{type:"audience",label:'Audience ("Who Must Attend")'},{type:"about_coach",label:"About The Coach"},{type:"faq",label:"FAQ Section"},{type:"reviews",label:"Reviews (Testimonials)"},{type:"videoTestimonials",label:"Video Testimonials"},{type:"webinar",label:"Webinar (Simple)"},{type:"whatItDoes",label:"App: What It Does"},{type:"video",label:"App: Marketing Video"},{type:"training",label:"App: Training Videos"},{type:"pricing",label:"App: Pricing Tiers"},{type:"social_connect",label:"Social Media Connect"}],Ghe=({section:t,updateSection:e,app:r,availableWebinars:n,availableTestimonials:a})=>{let i=(c,d)=>{if(c.includes(".")){let[f,A]=c.split("."),v=t[f]||{};e(t.id,{[f]:{...v,[A]:d}})}else e(t.id,{[c]:d})},s=(c,d)=>{let f=t[c]||[],A=f.includes(d)?f.filter(v=>v!==d):[...f,d];e(t.id,{[c]:A})},o=(c,d,f,A)=>{let v=c.split("."),I=JSON.parse(JSON.stringify(t)),w=I;for(let g of v){if(!w)return;w=w[g]}Array.isArray(w)&&w[d]&&(w[d][f]=A,e(t.id,I))},l=(c,d)=>{let f=c.split("."),A=JSON.parse(JSON.stringify(t)),v=A;for(let w=0;w<f.length-1;w++)v=v[f[w]];let I=f[f.length-1];Array.isArray(v[I])||(v[I]=[]),v[I].push({...d,id:we()}),e(t.id,A)},u=(c,d)=>{let f=c.split("."),A=JSON.parse(JSON.stringify(t)),v=A;for(let w=0;w<f.length-1;w++)v=v[f[w]];let I=f[f.length-1];Array.isArray(v[I])&&(v[I]=v[I].filter(w=>w.id!==d)),e(t.id,A)};switch(t.type){case"hero":return(0,je.jsxs)("div",{className:"space-y-2 text-xs",children:[["topBannerText","mainHeadline","subHeadline","coachProfilePictureUrl","coachName","coachExperience","coachQualifications"].map(c=>(0,je.jsx)("input",{type:"text",value:t.heroContent?.[c]||"",onChange:d=>i(`heroContent.${c}`,d.target.value),placeholder:c.replace(/([A-Z])/g," $1").replace(/^./,d=>d.toUpperCase()),className:"w-full p-2 border rounded"},c)),(0,je.jsx)("h5",{className:"font-semibold text-gray-600 pt-2 border-t",children:"Registration Box"}),(0,je.jsx)("input",{type:"text",value:t.heroContent?.registrationCtaTitle||"",onChange:c=>i("heroContent.registrationCtaTitle",c.target.value),placeholder:"Registration CTA Title (e.g. Secure Your Spot!)",className:"w-full p-2 border rounded"}),(0,je.jsx)("input",{type:"text",value:t.heroContent?.registrationCtaSubtext||"",onChange:c=>i("heroContent.registrationCtaSubtext",c.target.value),placeholder:"Registration Subtext (e.g. Hurry up...)",className:"w-full p-2 border rounded"}),(0,je.jsx)("input",{type:"text",value:t.heroContent?.priceText||"",onChange:c=>i("heroContent.priceText",c.target.value),placeholder:"Price Text (e.g. FREE)",className:"w-full p-2 border rounded"}),(0,je.jsx)("h5",{className:"font-semibold text-gray-600 pt-2 border-t",children:"Webinar Description / Freebies"}),(0,je.jsx)("input",{type:"text",value:t.heroContent?.webinarDescriptionTitle||"",onChange:c=>i("heroContent.webinarDescriptionTitle",c.target.value),placeholder:"Description Title (e.g. Freebies for Attendees)",className:"w-full p-2 border rounded"}),(0,je.jsx)("textarea",{value:t.heroContent?.webinarDescription||"",onChange:c=>i("heroContent.webinarDescription",c.target.value),placeholder:"Description Content (use new lines for list)",className:"w-full p-2 border rounded h-24 text-xs"}),(0,je.jsx)("h5",{className:"font-semibold text-gray-600 pt-2 border-t",children:"Webinar Product"}),(0,je.jsxs)("select",{value:t.heroContent?.webinarId||"",onChange:c=>i("heroContent.webinarId",c.target.value),className:"w-full p-2 border rounded bg-white",children:[(0,je.jsx)("option",{value:"",children:"-- Select Webinar --"}),n.map(c=>(0,je.jsx)("option",{value:c.id,children:c.name},c.id))]})]});case"featured_in":return(0,je.jsxs)("div",{className:"space-y-2",children:[t.featuredInLogos?.map((c,d)=>(0,je.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1",children:[(0,je.jsx)("input",{value:c.imageUrl,onChange:f=>o("featuredInLogos",d,"imageUrl",f.target.value),placeholder:"Logo URL",className:"w-full p-1 border rounded text-xs"}),(0,je.jsx)("input",{value:c.altText,onChange:f=>o("featuredInLogos",d,"altText",f.target.value),placeholder:"Alt Text",className:"w-full p-1 border rounded text-xs"}),(0,je.jsx)("button",{type:"button",onClick:()=>u("featuredInLogos",c.id),className:"text-red-500 text-xs",children:"Remove"})]},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("featuredInLogos",{imageUrl:"",altText:""}),className:"text-blue-600 text-xs",children:"+ Add Logo"})]});case"benefits":return(0,je.jsxs)("div",{className:"space-y-2",children:[(0,je.jsx)("input",{value:t.benefitsTitle||"",onChange:c=>i("benefitsTitle",c.target.value),placeholder:"Section Title",className:"w-full p-2 border rounded text-xs"}),t.benefitsItems?.map((c,d)=>(0,je.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1",children:[(0,je.jsx)("input",{value:c.icon,onChange:f=>o("benefitsItems",d,"icon",f.target.value),placeholder:"Icon Name",className:"w-full p-1 border rounded text-xs"}),(0,je.jsx)("input",{value:c.title,onChange:f=>o("benefitsItems",d,"title",f.target.value),placeholder:"Title",className:"w-full p-1 border rounded text-xs"}),(0,je.jsx)("textarea",{value:c.description,onChange:f=>o("benefitsItems",d,"description",f.target.value),placeholder:"Description",className:"w-full p-1 border rounded text-xs h-16"})]},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("benefitsItems",{icon:"",title:"",description:""}),className:"text-blue-600 text-xs",children:"+ Add Benefit"})]});case"vastu_assistant_hero":return(0,je.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,je.jsx)("input",{value:t.vastuAssistantHeroContent?.title||"",onChange:c=>i("vastuAssistantHeroContent.title",c.target.value),placeholder:"Title",className:"w-full p-2 border rounded"}),(0,je.jsx)("textarea",{value:t.vastuAssistantHeroContent?.description||"",onChange:c=>i("vastuAssistantHeroContent.description",c.target.value),placeholder:"Description",className:"w-full p-2 border rounded h-24"}),(0,je.jsx)("input",{value:t.vastuAssistantHeroContent?.ctaText||"",onChange:c=>i("vastuAssistantHeroContent.ctaText",c.target.value),placeholder:"CTA Button Text",className:"w-full p-2 border rounded"})]});case"vastu_assistant_features":return(0,je.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,je.jsx)("input",{value:t.vastuAssistantFeaturesContent?.keyBenefitsTitle||"",onChange:c=>i("vastuAssistantFeaturesContent.keyBenefitsTitle",c.target.value),placeholder:"Key Benefits Title",className:"w-full p-2 border rounded"}),t.vastuAssistantFeaturesContent?.keyBenefits.map((c,d)=>(0,je.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1",children:[(0,je.jsx)("input",{value:c.icon,onChange:f=>o("vastuAssistantFeaturesContent.keyBenefits",d,"icon",f.target.value),placeholder:"Icon",className:"w-full p-1 border"}),(0,je.jsx)("input",{value:c.title,onChange:f=>o("vastuAssistantFeaturesContent.keyBenefits",d,"title",f.target.value),placeholder:"Title",className:"w-full p-1 border"}),(0,je.jsx)("textarea",{value:c.description,onChange:f=>o("vastuAssistantFeaturesContent.keyBenefits",d,"description",f.target.value),placeholder:"Description",className:"w-full p-1 border h-16"})]},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("vastuAssistantFeaturesContent.keyBenefits",{icon:"",title:"",description:""}),children:"+ Add Benefit"}),(0,je.jsx)("input",{value:t.vastuAssistantFeaturesContent?.modulesTitle||"",onChange:c=>i("vastuAssistantFeaturesContent.modulesTitle",c.target.value),placeholder:"Modules Title",className:"w-full p-2 border rounded mt-2"}),t.vastuAssistantFeaturesContent?.modules.map((c,d)=>(0,je.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1",children:[(0,je.jsx)("input",{value:c.icon,onChange:f=>o("vastuAssistantFeaturesContent.modules",d,"icon",f.target.value),placeholder:"Icon",className:"w-full p-1 border"}),(0,je.jsx)("input",{value:c.title,onChange:f=>o("vastuAssistantFeaturesContent.modules",d,"title",f.target.value),placeholder:"Title",className:"w-full p-1 border"}),(0,je.jsx)("textarea",{value:c.description,onChange:f=>o("vastuAssistantFeaturesContent.modules",d,"description",f.target.value),placeholder:"Description",className:"w-full p-1 border h-16"})]},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("vastuAssistantFeaturesContent.modules",{icon:"",title:"",description:""}),children:"+ Add Module"}),(0,je.jsx)("input",{value:t.vastuAssistantFeaturesContent?.ctaText||"",onChange:c=>i("vastuAssistantFeaturesContent.ctaText",c.target.value),placeholder:"CTA Text",className:"w-full p-2 border rounded mt-2"})]});case"text_block":return(0,je.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,je.jsx)("input",{value:t.textBlockContent?.title||"",onChange:c=>i("textBlockContent.title",c.target.value),placeholder:"Title",className:"w-full p-2 border rounded"}),(0,je.jsx)("textarea",{value:t.textBlockContent?.content||"",onChange:c=>i("textBlockContent.content",c.target.value),placeholder:"Content",className:"w-full p-2 border rounded h-24"}),(0,je.jsx)("input",{value:t.textBlockContent?.ctaButtonText||"",onChange:c=>i("textBlockContent.ctaButtonText",c.target.value),placeholder:"CTA Button Text",className:"w-full p-2 border rounded"})]});case"problems":return(0,je.jsxs)("div",{className:"space-y-2",children:[(0,je.jsx)("input",{value:t.problemsTitle||"",onChange:c=>i("problemsTitle",c.target.value),placeholder:"Section Title",className:"w-full p-2 border rounded text-xs"}),t.problemsItems?.map((c,d)=>(0,je.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1",children:[(0,je.jsx)("input",{value:c.icon,onChange:f=>o("problemsItems",d,"icon",f.target.value),placeholder:"Icon Name",className:"w-full p-1 border rounded text-xs"}),(0,je.jsx)("input",{value:c.title,onChange:f=>o("problemsItems",d,"title",f.target.value),placeholder:"Title",className:"w-full p-1 border rounded text-xs"}),(0,je.jsx)("textarea",{value:(c.points||[]).join(`
`),onChange:f=>o("problemsItems",d,"points",f.target.value.split(`
`)),placeholder:"Points (one per line)",className:"w-full p-1 border rounded text-xs h-16"})]},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("problemsItems",{icon:"",title:"",points:[]}),className:"text-blue-600 text-xs",children:"+ Add Problem"})]});case"delineation":return(0,je.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,je.jsx)("input",{value:t.delineationContent?.mainHeadline||"",onChange:c=>i("delineationContent.mainHeadline",c.target.value),placeholder:"Main Headline (HTML allowed)",className:"w-full p-2 border rounded"}),(0,je.jsx)("input",{value:t.delineationContent?.subHeadline||"",onChange:c=>i("delineationContent.subHeadline",c.target.value),placeholder:"Sub Headline",className:"w-full p-2 border rounded"}),(0,je.jsxs)("div",{className:"pt-2 border-t",children:[(0,je.jsx)("h6",{className:"font-semibold text-gray-600 mb-1",children:"Points"}),t.delineationContent?.points?.map((c,d)=>(0,je.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1 mb-2",children:[(0,je.jsx)("input",{value:c.title,onChange:f=>o("delineationContent.points",d,"title",f.target.value),placeholder:"Point Title",className:"w-full p-1 border rounded"}),(0,je.jsx)("textarea",{value:c.description,onChange:f=>o("delineationContent.points",d,"description",f.target.value),placeholder:"Description",className:"w-full p-1 border rounded h-16"}),(0,je.jsx)("button",{type:"button",onClick:()=>u("delineationContent.points",c.id),className:"text-red-500 text-xs",children:"Remove Point"})]},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("delineationContent.points",{title:"",description:""}),className:"text-blue-600 text-xs",children:"+ Add Point"})]})]});case"what_you_learn":return(0,je.jsxs)("div",{className:"space-y-2",children:[(0,je.jsx)("input",{value:t.whatYouLearnTitle||"",onChange:c=>i("whatYouLearnTitle",c.target.value),placeholder:"Section Title",className:"w-full p-2 border rounded text-xs"}),t.whatYouLearnItems?.map((c,d)=>(0,je.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1",children:[(0,je.jsx)("input",{value:c.icon,onChange:f=>o("whatYouLearnItems",d,"icon",f.target.value),placeholder:"Icon Name",className:"w-full p-1 border rounded text-xs"}),(0,je.jsx)("textarea",{value:c.description,onChange:f=>o("whatYouLearnItems",d,"description",f.target.value),placeholder:"Description",className:"w-full p-1 border rounded text-xs h-16"})]},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("whatYouLearnItems",{icon:"",description:""}),className:"text-blue-600 text-xs",children:"+ Add Item"})]});case"audience":return(0,je.jsxs)("div",{className:"space-y-2",children:[(0,je.jsx)("input",{value:t.audienceTitle||"",onChange:c=>i("audienceTitle",c.target.value),placeholder:"Section Title",className:"w-full p-2 border rounded text-xs"}),t.audienceItems?.map((c,d)=>(0,je.jsx)("div",{className:"p-2 border rounded bg-white space-y-1",children:(0,je.jsx)("textarea",{value:c.description,onChange:f=>o("audienceItems",d,"description",f.target.value),placeholder:"Description (HTML allowed)",className:"w-full p-1 border rounded text-xs h-16"})},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("audienceItems",{description:""}),className:"text-blue-600 text-xs",children:"+ Add Audience"})]});case"about_coach":return(0,je.jsxs)("div",{className:"space-y-2",children:[(0,je.jsx)("input",{value:t.aboutCoachTitle||"",onChange:c=>i("aboutCoachTitle",c.target.value),placeholder:"Section Title",className:"w-full p-2 border rounded text-xs"}),t.aboutCoachAchievements?.map((c,d)=>(0,je.jsx)("div",{className:"p-2 border rounded bg-white space-y-1",children:(0,je.jsx)("textarea",{value:c.text,onChange:f=>o("aboutCoachAchievements",d,"text",f.target.value),placeholder:"Achievement text",className:"w-full p-1 border rounded text-xs h-16"})},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("aboutCoachAchievements",{text:""}),className:"text-blue-600 text-xs",children:"+ Add Achievement"})]});case"faq":return(0,je.jsxs)("div",{className:"space-y-2",children:[(0,je.jsx)("input",{value:t.faqTitle||"",onChange:c=>i("faqTitle",c.target.value),placeholder:"Section Title",className:"w-full p-2 border rounded text-xs"}),t.faqItems?.map((c,d)=>(0,je.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1",children:[(0,je.jsx)("input",{value:c.question,onChange:f=>o("faqItems",d,"question",f.target.value),placeholder:"Question",className:"w-full p-1 border rounded text-xs"}),(0,je.jsx)("textarea",{value:c.answer,onChange:f=>o("faqItems",d,"answer",f.target.value),placeholder:"Answer",className:"w-full p-1 border rounded text-xs h-16"})]},c.id)),(0,je.jsx)("button",{type:"button",onClick:()=>l("faqItems",{question:"",answer:""}),className:"text-blue-600 text-xs",children:"+ Add FAQ"})]});case"whatItDoes":return(0,je.jsx)("textarea",{value:t.whatItDoesOverride||"",onChange:c=>e(t.id,{whatItDoesOverride:c.target.value}),placeholder:"Override 'What it Does' content (HTML allowed)",className:"w-full p-2 border rounded-md h-24 resize-y font-mono text-sm"});case"webinar":return(0,je.jsxs)("select",{value:t.webinarProductId||"",onChange:c=>e(t.id,{webinarProductId:c.target.value}),className:"w-full p-2 border rounded-md bg-white",children:[(0,je.jsx)("option",{value:"",children:"-- Select a Webinar --"}),n.map(c=>(0,je.jsx)("option",{value:c.id,children:c.name},c.id))]});case"training":return!r.trainingVideos||r.trainingVideos.length===0?(0,je.jsx)("p",{className:"text-xs text-gray-500 italic",children:"No training videos available on the app to select."}):(0,je.jsx)("div",{className:"p-2 border bg-white rounded-md max-h-40 overflow-y-auto space-y-1",children:r.trainingVideos.map(c=>(0,je.jsxs)("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-gray-100 cursor-pointer",children:[(0,je.jsx)("input",{type:"checkbox",checked:(t.trainingVideoUrlsOverride||[]).includes(c.url),onChange:()=>s("trainingVideoUrlsOverride",c.url),className:"h-4 w-4"}),(0,je.jsx)("span",{className:"text-sm",children:c.name})]},c.url))});case"pricing":return!r.pricingTiers||r.pricingTiers.length===0?(0,je.jsx)("p",{className:"text-xs text-gray-500 italic",children:"No pricing tiers available on the app to select."}):(0,je.jsx)("div",{className:"p-2 border bg-white rounded-md max-h-40 overflow-y-auto space-y-1",children:r.pricingTiers.map(c=>(0,je.jsxs)("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-gray-100 cursor-pointer",children:[(0,je.jsx)("input",{type:"checkbox",checked:(t.pricingTierIdsOverride||[]).includes(c.id),onChange:()=>s("pricingTierIdsOverride",c.id),className:"h-4 w-4"}),(0,je.jsx)("span",{className:"text-sm",children:c.name})]},c.id))});case"videoTestimonials":return a.length===0?(0,je.jsx)("p",{className:"text-xs text-gray-500 italic",children:"No video testimonials available."}):(0,je.jsx)("div",{className:"p-2 border bg-white rounded-md max-h-40 overflow-y-auto space-y-1",children:a.map(c=>(0,je.jsxs)("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-gray-100 cursor-pointer",children:[(0,je.jsx)("input",{type:"checkbox",checked:(t.videoTestimonialIds||[]).includes(c.id),onChange:()=>s("videoTestimonialIds",c.id),className:"h-4 w-4"}),(0,je.jsx)("span",{className:"text-sm",children:c.name})]},c.id))});case"social_connect":return(0,je.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,je.jsx)("input",{type:"text",value:t.socialConnectContent?.title||"",onChange:c=>i("socialConnectContent.title",c.target.value),placeholder:"Section Title (e.g., Join Our Community)",className:"w-full p-2 border rounded"}),(0,je.jsx)("input",{type:"url",value:t.socialConnectContent?.whatsappGroupLink||"",onChange:c=>i("socialConnectContent.whatsappGroupLink",c.target.value),placeholder:"WhatsApp Group URL",className:"w-full p-2 border rounded"}),(0,je.jsx)("input",{type:"url",value:t.socialConnectContent?.facebookGroupLink||"",onChange:c=>i("socialConnectContent.facebookGroupLink",c.target.value),placeholder:"Facebook Group URL",className:"w-full p-2 border rounded"})]});default:return(0,je.jsx)("p",{className:"text-xs text-gray-500 italic",children:"This section uses default app content and has no specific settings."})}},Whe=({app:t,page:e,onClose:r,showNotification:n})=>{let[a,i]=(0,Cf.useState)({}),[s,o]=(0,Cf.useState)(null),[l,u]=(0,Cf.useState)(!1),[c,d]=(0,Cf.useState)([]),[f,A]=(0,Cf.useState)([]),[v,I]=(0,Cf.useState)(!1);(0,Cf.useEffect)(()=>{(async()=>{try{let U=await Ce.collection("webinar_products").orderBy("createdAt","desc").get();d(U.docs.map(_=>({..._.data(),id:_.id})));let E=await Ce.collection("site_content").doc("live").get();E.exists&&A(E.data()?.videoTestimonials||[])}catch{n("Could not load dependencies.","error")}})()},[n]),(0,Cf.useEffect)(()=>{if(e){let k=e.sections||[];(!e.sections||e.sections.length===0)&&e.sectionOrder&&(k=e.sectionOrder.map((U,E)=>({id:we(),order:E,type:U,whatItDoesOverride:U==="whatItDoes"?e.whatItDoesOverride:void 0,trainingVideoUrlsOverride:U==="training"?e.trainingVideoUrlsOverride:void 0,pricingTierIdsOverride:U==="pricing"?e.pricingTierIdsOverride:void 0,videoTestimonialIds:U==="videoTestimonials"?e.videoTestimonialIdsOverride:void 0,webinarProductId:U==="webinar"?e.webinarProductId:void 0}))),i({...e,sections:k})}else i({appId:t.id,appName:t.name,name:`New ${t.name} Page`,slug:`new-${gU(t.name)}`,...yK})},[e,t]);let w=k=>{let{name:U,value:E,type:_}=k.target,L=k.target.checked;if(U==="name"&&!e)i(D=>({...D,name:E,slug:gU(E)}));else if(U==="hasOfferPage"){let D=L&&(!a.offerPage||Object.keys(a.offerPage).length===0);i(D?z=>({...z,hasOfferPage:!0,offerPage:{...vK,id:e?.id||""}}):z=>({...z,hasOfferPage:L}))}else i(D=>({...D,[U]:_==="checkbox"?L:E}))},g=k=>{i(U=>({...U,sections:k(U.sections||[])}))},b=(k,U)=>{g(E=>{let _=[...E],L=U==="up"?k-1:k+1;return L<0||L>=_.length||([_[k],_[L]]=[_[L],_[k]]),_})},S=k=>{let U={id:we(),type:k,order:(a.sections||[]).length};k==="social_connect"&&(U.socialConnectContent={id:we(),title:"Join Our Community",whatsappGroupLink:"",facebookGroupLink:""}),g(E=>[...E,U])},F=k=>g(U=>U.filter(E=>E.id!==k)),O=(k,U)=>g(E=>E.map(_=>_.id===k?{..._,...U}:_)),R=async k=>{I(!0);try{let{sectionOrder:U,whatItDoesOverride:E,trainingVideoUrlsOverride:_,pricingTierIdsOverride:L,videoTestimonialIdsOverride:D,webinarProductId:z,...ee}=k,Y=(ee.sections||[]).map((j,K)=>{let{...oe}=j,q={id:oe.id,type:oe.type,order:K};return Object.keys(oe).forEach(X=>{let te=oe[X];te!=null&&(Array.isArray(te)?te.length>0:te!=="")&&(q[X]=te)}),q}),$={...ee,appId:t.id,appName:t.name,slug:gU(ee.slug||""),sections:Y,updatedAt:zr.serverTimestamp()};if($.offerPage&&Array.isArray($.offerPage.sections)&&($.offerPage.sections=$.offerPage.sections.map((j,K)=>({...j,order:K}))),e)$.offerPage&&($.offerPage.id=e.id),await Ce.collection("landingPages").doc(e.id).set($,{merge:!0});else{let j=Ce.collection("landingPages").doc();$.id=j.id,$.offerPage&&($.offerPage.id=j.id),await j.set({...$,createdAt:zr.serverTimestamp()})}return n("Landing page saved successfully!","success"),!0}catch(U){return n(`Error saving page: ${U.message}`,"error"),!1}finally{I(!1)}},T=async k=>{k.preventDefault(),await R(a)&&r()},B=async k=>{await R(k)&&(i(k),u(!1))};return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[60] p-4",children:(0,je.jsxs)("form",{onSubmit:T,className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,je.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,je.jsxs)("div",{className:"flex justify-between items-center",children:[(0,je.jsx)("h3",{className:"text-2xl font-bold",children:e?"Edit Landing Page":"Create Landing Page"}),(0,je.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",children:(0,je.jsx)(dr,{size:24})})]})}),(0,je.jsxs)("main",{className:"flex-grow p-6 grid grid-cols-1 md:grid-cols-2 gap-6 overflow-y-auto",children:[(0,je.jsxs)("div",{className:"space-y-4",children:[(0,je.jsx)("input",{type:"text",name:"name",value:a.name||"",onChange:w,placeholder:"Internal Name",required:!0,className:"w-full p-3 border rounded-lg"}),(0,je.jsx)("input",{type:"text",name:"slug",value:a.slug||"",onChange:w,placeholder:"URL Slug",required:!0,className:"w-full p-2 border rounded-lg bg-gray-100 font-mono text-sm"}),(0,je.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg space-y-3",children:[(0,je.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,je.jsx)("input",{type:"checkbox",name:"hasOfferPage",checked:!!a.hasOfferPage,onChange:w,className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,je.jsxs)("div",{children:[(0,je.jsx)("span",{className:"font-medium text-gray-700",children:"Enable Special Offer Page"}),a.hasOfferPage&&(0,je.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:["/app/",a.slug,"/offers"]})]})]}),a.hasOfferPage&&(0,je.jsx)("button",{type:"button",onClick:()=>u(!0),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Edit Offer Page"}),(0,je.jsxs)("div",{className:"pt-3 border-t",children:[(0,je.jsx)("label",{htmlFor:"offerPageDisabledMessage",className:"text-sm font-medium text-gray-700 mb-1 block",children:'"Offer Not Available" Message'}),(0,je.jsx)("textarea",{id:"offerPageDisabledMessage",name:"offerPageDisabledMessage",value:a.offerPageDisabledMessage||"",onChange:w,placeholder:"e.g., This special offer has expired. Check back during our next webinar!",className:"w-full p-2 border rounded-md h-20 text-xs"}),(0,je.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This message is shown to users if they visit the offer URL when this page is disabled. Basic HTML is allowed."})]})]}),(0,je.jsx)("input",{type:"url",name:"backgroundImageUrlOverride",value:a.backgroundImageUrlOverride||"",onChange:w,placeholder:"Background Image URL (Optional)",className:"w-full p-2 border rounded-md"}),(0,je.jsx)("input",{type:"url",name:"whatsappGroupLink",value:a.whatsappGroupLink||"",onChange:w,placeholder:"WhatsApp Group Link (Optional)",className:"w-full p-2 border rounded-md"}),(0,je.jsx)("input",{type:"url",name:"facebookGroupLink",value:a.facebookGroupLink||"",onChange:w,placeholder:"Facebook Group Link (Optional)",className:"w-full p-2 border rounded-md"}),(0,je.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg space-y-3",children:[(0,je.jsxs)("h4",{className:"font-semibold text-gray-700 text-sm flex items-center gap-2",children:[(0,je.jsx)(rA,{size:16})," SEO / Sharing Settings"]}),(0,je.jsx)("input",{type:"text",name:"metaTitle",value:a.metaTitle||"",onChange:w,placeholder:"Meta Title for Sharing",className:"w-full p-2 border rounded-md"}),(0,je.jsx)("textarea",{name:"metaDescription",value:a.metaDescription||"",onChange:w,placeholder:"Meta Description (for sharing preview)",className:"w-full p-2 border rounded-md h-20"}),(0,je.jsx)("input",{type:"url",name:"featuredImageUrl",value:a.featuredImageUrl||"",onChange:w,placeholder:"Featured Image URL (for sharing)",className:"w-full p-2 border rounded-md"})]})]}),(0,je.jsxs)("div",{children:[(0,je.jsx)("label",{className:"text-sm font-medium mb-1 block",children:"Page Sections"}),(0,je.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border min-h-[300px]",children:[(0,je.jsxs)("div",{className:"space-y-2",children:[(a.sections||[]).map((k,U)=>(0,je.jsxs)("div",{className:"bg-white border rounded-md shadow-sm",children:[(0,je.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,je.jsx)("span",{className:"flex-grow font-medium text-gray-700 text-sm",children:yU.find(E=>E.type===k.type)?.label}),(0,je.jsxs)("div",{className:"flex items-center",children:[(0,je.jsx)("button",{type:"button",onClick:()=>b(U,"up"),disabled:U===0,className:"p-1 disabled:opacity-30",children:(0,je.jsx)(yo,{size:16})}),(0,je.jsx)("button",{type:"button",onClick:()=>b(U,"down"),disabled:U===(a.sections||[]).length-1,className:"p-1 disabled:opacity-30",children:(0,je.jsx)(cs,{size:16})}),(0,je.jsx)("button",{type:"button",onClick:()=>o(s===k.id?null:k.id),className:`p-1 rounded-full ${s===k.id?"bg-blue-100 text-blue-600":""}`,children:(0,je.jsx)(ru,{size:16})}),(0,je.jsx)("button",{type:"button",onClick:()=>F(k.id),className:"p-1 text-red-500 hover:bg-red-50 rounded-full",children:(0,je.jsx)(Ar,{size:16})})]})]}),s===k.id&&(0,je.jsxs)("div",{className:"p-3 border-t bg-gray-50",children:[(0,je.jsxs)("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:["Configure '",yU.find(E=>E.type===k.type)?.label,"'"]}),(0,je.jsx)(Ghe,{section:k,updateSection:O,app:t,availableWebinars:c,availableTestimonials:f})]})]},k.id)),(a.sections||[]).length===0&&(0,je.jsx)("p",{className:"text-center text-xs text-gray-400 italic py-4",children:"No sections added yet."})]}),(0,je.jsxs)("div",{className:"mt-3 relative",children:[(0,je.jsxs)("select",{onChange:k=>S(k.target.value),value:"",className:"w-full p-2 border rounded-md bg-white appearance-none text-sm font-semibold text-center text-blue-600 hover:bg-blue-50 cursor-pointer",children:[(0,je.jsx)("option",{value:"",disabled:!0,children:"-- Add a new section --"}),yU.map(k=>(0,je.jsx)("option",{value:k.type,children:k.label},k.type))]}),(0,je.jsx)(Ss,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]})]}),(0,je.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,je.jsx)("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:v,children:"Cancel"}),(0,je.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:v,children:[v?(0,je.jsx)(Pt,{className:"animate-spin mr-2"}):(0,je.jsx)(ua,{className:"mr-2"}),v?"Saving...":"Save Page"]})]})]})}),l&&a.offerPage&&(0,je.jsx)(wK,{app:t,pageDef:a,onClose:()=>u(!1),onSave:B,showNotification:n})]})},xK=Whe;var Ru=ce(_e()),$he=({page:t,onClose:e,showNotification:r})=>{let n=async()=>{try{await Ce.collection("landingPages").doc(t.id).delete(),r(`Landing page '${t.name}' deleted.`,"success"),e()}catch(a){r(`Error deleting page: ${a.message}`,"error")}};return(0,Ru.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,Ru.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Ru.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Ru.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Ru.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Landing Page"}),(0,Ru.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,Ru.jsxs)("p",{children:["Are you sure you want to delete the landing page ",(0,Ru.jsxs)("strong",{className:"font-bold",children:['"',t.name,'"']}),"?"]}),(0,Ru.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone."})]}),(0,Ru.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Ru.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Ru.jsx)("button",{type:"button",onClick:n,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})})},CK=$he;var Tn=ce(_e());var Yhe=({app:t,landingPages:e,onClose:r,showNotification:n})=>{let[a,i]=(0,lB.useState)(!1),[s,o]=(0,lB.useState)(null),[l,u]=(0,lB.useState)(null),c=(A=null)=>{o(A),i(!0)},d=A=>{let v=`${window.location.origin}/app/${A}`;navigator.clipboard.writeText(v),n("Landing page link copied!","success")},f=async A=>{if(!window.confirm(`Are you sure you want to duplicate the page "${A.name}"?`))return;let{id:v,...I}=A,w={...I,name:`Copy of ${A.name}`,slug:`copy-of-${A.slug}-${we().substring(0,4)}`,createdAt:zr.serverTimestamp(),updatedAt:zr.serverTimestamp()};try{await Ce.collection("landingPages").add(w),n("Landing page duplicated successfully!","success")}catch(g){n(`Error duplicating page: ${g.message}`,"error"),console.error("Duplicate Page Error: ",g)}};return(0,Tn.jsxs)(Tn.Fragment,{children:[(0,Tn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,Tn.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[(0,Tn.jsxs)("header",{className:"p-6 border-b flex-shrink-0",children:[(0,Tn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Tn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Manage Landing Pages"}),(0,Tn.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Tn.jsx)(dr,{size:24})})]}),(0,Tn.jsxs)("p",{className:"text-gray-500 mt-1",children:["For ",(0,Tn.jsx)("span",{className:"font-semibold",children:t.name})]})]}),(0,Tn.jsx)("main",{className:"flex-grow p-6 space-y-4 overflow-y-auto bg-gray-50/50",children:e.length>0?(0,Tn.jsx)("div",{className:"space-y-3",children:e.map(A=>(0,Tn.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[(0,Tn.jsxs)("div",{className:"flex-1",children:[(0,Tn.jsx)("p",{className:"font-bold text-gray-800",children:A.name}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500 font-mono",children:["/app/",A.slug]}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Last updated: ",sn(A.updatedAt)]})]}),(0,Tn.jsxs)("div",{className:"flex items-center gap-1 self-end sm:self-center",children:[(0,Tn.jsx)("a",{href:`/app/${A.slug}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-gray-100 rounded-full",title:"Open Page",children:(0,Tn.jsx)(ku,{size:16})}),(0,Tn.jsx)("button",{onClick:()=>d(A.slug),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-gray-100 rounded-full",title:"Copy Link",children:(0,Tn.jsx)(Bs,{size:16})}),(0,Tn.jsx)("button",{onClick:()=>f(A),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-gray-100 rounded-full",title:"Duplicate Page",children:(0,Tn.jsx)(Yx,{size:16})}),(0,Tn.jsx)("button",{onClick:()=>c(A),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:(0,Tn.jsx)(Kn,{size:16})}),(0,Tn.jsx)("button",{onClick:()=>u(A),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:(0,Tn.jsx)(Ar,{size:16})})]})]},A.id))}):(0,Tn.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Tn.jsx)($d,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,Tn.jsx)("h4",{className:"text-xl font-semibold",children:"No Custom Landing Pages"}),(0,Tn.jsx)("p",{children:"Create a custom landing page to get started."})]})}),(0,Tn.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row justify-between items-center rounded-b-xl border-t",children:[(0,Tn.jsxs)("p",{className:"text-xs text-gray-500 mt-2 sm:mt-0",children:["Legacy landing page (if enabled): ",(0,Tn.jsx)("a",{href:`/app/${t.slug}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-blue-600 hover:underline",children:t.slug})]}),(0,Tn.jsxs)("button",{onClick:()=>c(),className:"w-full sm:w-auto flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Tn.jsx)(_a,{className:"mr-2 h-5 w-5"})," Create New Landing Page"]})]})]})}),a&&(0,Tn.jsx)(xK,{app:t,page:s,onClose:()=>i(!1),showNotification:n}),l&&(0,Tn.jsx)(CK,{page:l,onClose:()=>u(null),showNotification:n})]})},IK=Yhe;var Lr=ce(_e()),Xhe=({apps:t,landingPages:e,appUsageTotals:r,appRatingStats:n,onEdit:a,onDelete:i,onAddNew:s,showNotification:o})=>{let[l,u]=(0,s2.useState)(null),[c,d]=(0,s2.useState)(""),f=(0,s2.useMemo)(()=>{if(!c)return t;let I=c.toLowerCase();return t.filter(w=>w.name.toLowerCase().includes(I))},[t,c]),A=I=>{u(I)},v=I=>{if(!I)return;let w=`${window.location.origin}/app/${I}`;navigator.clipboard.writeText(w),o("Landing page link copied!","success")};return(0,Lr.jsxs)(Lr.Fragment,{children:[(0,Lr.jsxs)("section",{className:"space-y-4",children:[(0,Lr.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[(0,Lr.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,Lr.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Lr.jsx)("input",{type:"text",placeholder:"Search by app name...",value:c,onChange:I=>d(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,Lr.jsxs)("button",{onClick:s,className:"flex items-center justify-center bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors w-full sm:w-auto",children:[(0,Lr.jsx)(_a,{className:"mr-2 h-5 w-5"})," Add New App"]})]}),f.length===0?(0,Lr.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:(0,Lr.jsxs)("div",{className:"text-center py-8 text-gray-500 flex flex-col items-center",children:[(0,Lr.jsx)(da,{icon:"",name:"No Apps",className:"h-12 w-12 text-gray-300 mb-2"}),(0,Lr.jsx)("p",{children:t.length>0?"No apps match your search.":"No applications have been added yet."}),t.length===0&&(0,Lr.jsx)("p",{className:"text-sm",children:'Click "Add New App" to get started.'})]})}):(0,Lr.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:(0,Lr.jsx)("div",{className:"overflow-x-auto",children:(0,Lr.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,Lr.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,Lr.jsxs)("tr",{children:[(0,Lr.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:"Application"}),(0,Lr.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:"URL"}),(0,Lr.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:"Total Usage"}),(0,Lr.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:"Rating"}),(0,Lr.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:"Landing Pages"}),(0,Lr.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold text-right",children:"Actions"})]})}),(0,Lr.jsx)("tbody",{children:f.map(I=>{let w=r[I.id]??0,g=n[I.id];return(0,Lr.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50 transition-colors",children:[(0,Lr.jsx)("td",{className:"px-4 py-4 sm:px-6 font-medium text-gray-900 whitespace-nowrap",children:(0,Lr.jsxs)("div",{className:"flex items-center",children:[(0,Lr.jsx)(da,{icon:I.icon,name:I.name,className:"h-10 w-10 mr-4 rounded-lg flex-shrink-0"}),(0,Lr.jsxs)("div",{children:[(0,Lr.jsx)("div",{className:"font-bold",children:I.name}),(0,Lr.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:I.description||"No description"})]})]})}),(0,Lr.jsx)("td",{className:"px-4 py-4 sm:px-6",children:(0,Lr.jsxs)("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline max-w-xs truncate",children:[(0,Lr.jsx)(ku,{size:14,className:"mr-1 flex-shrink-0"}),(0,Lr.jsx)("span",{className:"truncate",children:I.url})]})}),(0,Lr.jsx)("td",{className:"px-4 py-4 sm:px-6",children:(0,Lr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,Lr.jsx)(Wd,{size:16,className:"mr-2 text-indigo-500 flex-shrink-0"}),(0,Lr.jsx)("span",{className:"font-semibold",children:w})]})}),(0,Lr.jsx)("td",{className:"px-4 py-4 sm:px-6",children:g?(0,Lr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lr.jsx)(sd,{rating:g.averageRating,setRating:()=>{},size:16,disabled:!0}),(0,Lr.jsx)("span",{className:"font-semibold text-gray-700",children:g.averageRating.toFixed(1)}),(0,Lr.jsxs)("span",{className:"text-gray-500 text-xs",children:["(",g.totalReviews,")"]})]}):(0,Lr.jsx)("span",{className:"text-gray-400 italic text-xs",children:"No reviews"})}),(0,Lr.jsx)("td",{className:"px-4 py-4 sm:px-6",children:(0,Lr.jsxs)("div",{className:"flex items-center gap-1",children:[I.hasLandingPage&&I.slug&&(0,Lr.jsxs)("div",{className:"flex items-center",title:"Default Landing Page",children:[(0,Lr.jsx)("a",{href:`/app/${I.slug}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-gray-100 rounded-full",title:"Open Default Landing Page",children:(0,Lr.jsx)(ku,{size:16})}),(0,Lr.jsx)("button",{onClick:()=>v(I.slug),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-gray-100 rounded-full",title:"Copy Default Link",children:(0,Lr.jsx)(Bs,{size:16})})]}),(0,Lr.jsx)("button",{onClick:()=>A(I),className:"p-2 text-gray-500 hover:text-purple-600 hover:bg-gray-100 rounded-full",title:"Manage Landing Pages",children:(0,Lr.jsx)($d,{size:16})})]})}),(0,Lr.jsx)("td",{className:"px-4 py-4 sm:px-6 text-right",children:(0,Lr.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[(0,Lr.jsx)("button",{onClick:()=>a(I),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-full transition-colors","aria-label":"Edit app",children:(0,Lr.jsx)(Kn,{size:18})}),(0,Lr.jsx)("button",{onClick:()=>i(I),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-full transition-colors","aria-label":"Delete app",children:(0,Lr.jsx)(Ar,{size:18})})]})})]},I.id)})})]})})})]}),l&&(0,Lr.jsx)(IK,{app:l,landingPages:e.filter(I=>I.appId===l.id),onClose:()=>u(null),showNotification:o})]})},NK=Xhe;var N1=ce($t());var Ze=ce(_e()),bU=t=>{if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(r=>bU(r));let e={};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let n=t[r];if(n!==void 0){let a=bU(n);a!==void 0&&(e[r]=a)}}return e},Jhe=t=>t?t.toString().toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""):"",vU={name:"",url:"",icon:"",description:"",totalUsage:0,trainingVideos:[],pricingTiers:[],marketingVideoUrl:"",coupons:[],comingSoon:!1,hasLandingPage:!1,slug:"",whatItDoes:"",landingPageBackgroundImageUrl:"",faqs:[],maxProjects:void 0,projectExpirationDays:void 0},Zhe=({app:t,onClose:e,onSave:r,showNotification:n})=>{let[a,i]=(0,N1.useState)(vU),[s,o]=(0,N1.useState)(""),[l,u]=(0,N1.useState)(!1);(0,N1.useEffect)(()=>{if(t){let{id:_,...L}=t,D=(L.pricingTiers||[]).map(j=>({...j,id:j.id||we()})),z=(L.coupons||[]).map(j=>({...j,id:j.id||we()})),ee=(L.trainingVideos||[]).map(j=>typeof j=="string"?{name:"",url:j}:j),Y=(L.faqs||[]).map(j=>({...j,id:j.id||we()})),$=L.fairUsePolicy;!$&&L.fairUseDailyLimit&&($={limit:L.fairUseDailyLimit,frequency:"daily",customText:""}),i({...vU,...L,pricingTiers:D,coupons:z,trainingVideos:ee,faqs:Y,fairUsePolicy:$}),o(t.icon)}else i(vU),o("")},[t]);let c=_=>{let{name:L,value:D,type:z}=_.target,ee=_.target.checked;i(L==="name"?Y=>({...Y,name:D,slug:Jhe(D)}):Y=>({...Y,[L]:z==="checkbox"?ee:D}))},d=(_,L)=>{i(D=>({...D,[_]:L===""?void 0:Number(L)}))},f=(_,L)=>{let D=a.fairUsePolicy;if(_==="limit"&&Number(L)<=0){let{fairUsePolicy:z,...ee}=a;i(ee);return}i(z=>({...z,fairUsePolicy:{...D||{limit:0,frequency:"daily"},[_]:L}}))},A=(_,L)=>{let D=[...a.pricingTiers||[]];D[_]={...D[_],...L},i(z=>({...z,pricingTiers:D}))},v=(_,L,D)=>{let z=[...a.trainingVideos||[]];z[_]={...z[_],[L]:D},i(ee=>({...ee,trainingVideos:z}))},I=(_,L,D)=>{let z=[...a.pricingTiers||[]],ee={...z[_]};if(L==="isWebinarAddon"||L==="isPublic")ee[L]=D;else if(L==="name")ee[L]=D;else if(L==="price"||L==="originalPrice"){let Y=parseFloat(D)*100;ee[L]=isNaN(Y)?0:Y}else if(L==="credits"||L==="validityInDays"){let Y=parseInt(D,10);ee[L]=isNaN(Y)?void 0:Y}z[_]=ee,i(Y=>({...Y,pricingTiers:z}))},w=()=>{let _={id:we(),name:"",credits:0,price:0,isWebinarAddon:!1,originalPrice:0};i(L=>({...L,pricingTiers:[...L.pricingTiers||[],_]}))},g=_=>{let L=[...a.pricingTiers||[]];L.splice(_,1),i(D=>({...D,pricingTiers:L}))},b=(_,L,D)=>{let z=[...a.coupons||[]];z[_]={...z[_],[L]:D},i(ee=>({...ee,coupons:z}))},S=()=>{let _={id:we(),code:"",discountPercentage:10,expiryDate:""};i(L=>({...L,coupons:[...L.coupons||[],_]}))},F=_=>{let L=[...a.coupons||[]];L.splice(_,1),i(D=>({...D,coupons:L}))},O=()=>{if((a.trainingVideos||[]).length<10){let _={name:"",url:""};i(L=>({...L,trainingVideos:[...L.trainingVideos||[],_]}))}},R=_=>{let L=[...a.trainingVideos||[]];L.splice(_,1),i(D=>({...D,trainingVideos:L}))},T=_=>{let L=_.target.files?.[0];if(!L)return;if(!["image/png","image/jpeg","image/svg+xml","image/webp"].includes(L.type)){n("Invalid file type. Please upload a PNG, JPG, SVG, or WEBP file.","error");return}if(L.size>200*1024){n("File is too large. Please upload an icon under 200KB.","error");return}let D=new FileReader;D.onload=()=>{let z=D.result;o(z),i(ee=>({...ee,icon:z}))},D.onerror=()=>{n("Failed to read the icon file.","error")},D.readAsDataURL(L)},B=(_,L,D)=>{let z=[...a.faqs||[]];z[_]={...z[_],[L]:D},i(ee=>({...ee,faqs:z}))},k=()=>{let _={id:we(),question:"",answer:""};i(L=>({...L,faqs:[...L.faqs||[],_]}))},U=_=>{let L=[...a.faqs||[]];L.splice(_,1),i(D=>({...D,faqs:L}))};return(0,Ze.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,Ze.jsxs)("form",{onSubmit:async _=>{_.preventDefault(),u(!0);let L=(a.trainingVideos||[]).filter(oe=>oe.name.trim()!==""&&oe.url.trim()!==""),D=(a.pricingTiers||[]).filter(oe=>oe.name.trim()&&oe.credits>=0&&oe.price>0),z=(a.coupons||[]).filter(oe=>oe.code.trim()&&oe.discountPercentage>0&&oe.expiryDate),ee=(a.faqs||[]).filter(oe=>oe.question.trim()!==""&&oe.answer.trim()!==""),{fairUseDailyLimit:Y,...$}=a,j={...$,trainingVideos:L,pricingTiers:D,coupons:z,faqs:ee,maxProjects:a.maxProjects?Number(a.maxProjects):void 0,projectExpirationDays:a.projectExpirationDays?Number(a.projectExpirationDays):void 0};if(j.comingSoon&&(j.url=""),!t&&!j.icon&&j.url)try{let oe=new URL(j.url).hostname;j.icon=`https://www.google.com/s2/favicons?sz=128&domain=${oe}`}catch{console.error("Invalid URL provided for favicon generation:",j.url),j.icon=""}t||(j.totalUsage=j.totalUsage||0);let K=bU(j);await r(K),u(!1)},className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[(0,Ze.jsx)("header",{className:"p-6 sm:p-8 border-b flex-shrink-0",children:(0,Ze.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ze.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Application":"Add New Application"}),(0,Ze.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Ze.jsx)(dr,{size:24})})]})}),(0,Ze.jsxs)("main",{className:"flex-grow p-6 sm:p-8 space-y-6 overflow-y-auto min-h-0",children:[(0,Ze.jsx)("input",{type:"text",name:"name",value:a.name,onChange:c,placeholder:"Application Name",required:!0,className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500"}),(0,Ze.jsx)("input",{type:"url",name:"url",value:a.url,onChange:c,placeholder:a.comingSoon?"URL is optional for 'Coming Soon' apps":"Application URL (https://...)",required:!a.comingSoon,disabled:!!a.comingSoon,className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition disabled:bg-gray-200 disabled:cursor-not-allowed bg-white text-gray-900 placeholder-gray-500"}),(0,Ze.jsx)("textarea",{name:"description",value:a.description||"",onChange:c,placeholder:"App Description (optional, max 150 chars)",maxLength:150,className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-none h-24 bg-white text-gray-900 placeholder-gray-500"}),(0,Ze.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[(0,Ze.jsx)("input",{type:"checkbox",id:"comingSoon",name:"comingSoon",checked:!!a.comingSoon,onChange:c,className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Ze.jsx)("label",{htmlFor:"comingSoon",className:"text-sm font-medium text-gray-700",children:"Mark as 'Coming Soon' (app will be visible but not purchasable/launchable)"})]}),(0,Ze.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border space-y-3",children:[(0,Ze.jsx)("h4",{className:"text-md font-semibold text-gray-700",children:"Global App Settings"}),(0,Ze.jsx)("p",{className:"text-xs text-gray-500 -mt-2",children:"These are the default settings for all pricing tiers. You can override them within each tier below."}),(0,Ze.jsxs)("div",{className:"pt-3 border-t",children:[(0,Ze.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Project & Data Settings (Global Default)"}),(0,Ze.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1",children:[(0,Ze.jsx)("input",{type:"number",name:"maxProjects",value:a.maxProjects??"",onChange:_=>d("maxProjects",_.target.value),placeholder:"Max Projects",className:"p-1 border rounded-md text-sm"}),(0,Ze.jsx)("input",{type:"number",name:"projectExpirationDays",value:a.projectExpirationDays??"",onChange:_=>d("projectExpirationDays",_.target.value),placeholder:"Expiration (Days)",className:"p-1 border rounded-md text-sm"})]}),(0,Ze.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Leave blank to let child app use its own internal defaults."})]}),(0,Ze.jsxs)("div",{className:"pt-3 border-t",children:[(0,Ze.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Fair Use Policy (for Unlimited Tiers)"}),(0,Ze.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1",children:[(0,Ze.jsx)("input",{type:"number",value:a.fairUsePolicy?.limit||"",onChange:_=>f("limit",Number(_.target.value)),placeholder:"Usage Limit",min:"0",className:"p-1 border rounded-md text-sm"}),(0,Ze.jsxs)("select",{value:a.fairUsePolicy?.frequency||"daily",onChange:_=>f("frequency",_.target.value),className:"p-1 border rounded-md text-sm bg-white",children:[(0,Ze.jsx)("option",{value:"daily",children:"Daily"}),(0,Ze.jsx)("option",{value:"monthly",children:"Monthly"}),(0,Ze.jsx)("option",{value:"yearly",children:"Yearly"})]}),(0,Ze.jsx)("div",{className:"sm:col-span-2",children:(0,Ze.jsx)("input",{type:"text",value:a.fairUsePolicy?.customText||"",onChange:_=>f("customText",_.target.value),placeholder:"Custom text (e.g., ~90 maps in a month)",className:"p-1 border rounded-md w-full text-sm"})})]}),(0,Ze.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Set a usage cap for 'unlimited' tiers to prevent abuse. Leave limit empty or 0 for no policy."})]})]}),(0,Ze.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border space-y-3",children:[(0,Ze.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Ze.jsx)("input",{type:"checkbox",name:"hasLandingPage",checked:!!a.hasLandingPage,onChange:c,className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Ze.jsx)("span",{className:"font-medium text-gray-700",children:"Enable dedicated Landing Page for sales"})]}),a.hasLandingPage&&(0,Ze.jsxs)("div",{className:"space-y-3 pt-3 border-t",children:[(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{htmlFor:"slug",className:"text-sm font-medium text-gray-700 mb-1 block",children:"URL Slug"}),(0,Ze.jsx)("input",{id:"slug",type:"text",name:"slug",value:a.slug,onChange:c,placeholder:"URL Slug (auto-generated)",required:a.hasLandingPage,className:"w-full p-2 border rounded-lg bg-white font-mono text-sm"})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{htmlFor:"whatItDoes",className:"text-sm font-medium text-gray-700 mb-1 block",children:'Features / "What it does"'}),(0,Ze.jsx)("textarea",{id:"whatItDoes",name:"whatItDoes",value:a.whatItDoes||"",onChange:c,placeholder:"Describe what this app does. This content will appear on the landing page. You can use HTML for formatting.",className:"w-full p-2 border rounded-lg h-24 resize-y bg-white font-mono text-sm"})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{htmlFor:"landingPageBackgroundImageUrl",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Background Image URL"}),(0,Ze.jsx)("input",{id:"landingPageBackgroundImageUrl",type:"url",name:"landingPageBackgroundImageUrl",value:a.landingPageBackgroundImageUrl||"",onChange:c,placeholder:"https://example.com/background.jpg",className:"w-full p-2 border rounded-lg bg-white font-mono text-sm"})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Frequently Asked Questions (FAQs)"}),(0,Ze.jsxs)("div",{className:"space-y-3 p-3 bg-gray-100 border rounded-lg",children:[(a.faqs||[]).map((_,L)=>(0,Ze.jsxs)("div",{className:"p-3 bg-white border rounded-md space-y-2",children:[(0,Ze.jsx)("div",{className:"flex justify-end",children:(0,Ze.jsx)("button",{type:"button",onClick:()=>U(L),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:(0,Ze.jsx)(Ar,{size:16})})}),(0,Ze.jsx)("input",{type:"text",placeholder:"Question",value:_.question,onChange:D=>B(L,"question",D.target.value),className:"w-full p-2 border rounded-md"}),(0,Ze.jsx)("textarea",{placeholder:"Answer",value:_.answer,onChange:D=>B(L,"answer",D.target.value),className:"w-full p-2 border rounded-md h-24 resize-y"})]},_.id)),(0,Ze.jsxs)("button",{type:"button",onClick:k,className:"text-sm text-blue-600 hover:underline font-semibold flex items-center gap-1 mt-2",children:[(0,Ze.jsx)(Fu,{size:14})," Add FAQ"]})]})]})]})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Application Icon"}),(0,Ze.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[(0,Ze.jsx)(da,{icon:s,name:a.name||"App",className:"w-16 h-16 rounded-xl flex-shrink-0"}),(0,Ze.jsxs)("div",{className:"flex-grow w-full",children:[(0,Ze.jsx)("input",{type:"file",id:"icon-upload",className:"hidden",accept:"image/png, image/jpeg, image/svg+xml, image/webp",onChange:T,disabled:l}),(0,Ze.jsxs)("label",{htmlFor:"icon-upload",className:"w-full flex items-center justify-center p-3 border-2 border-dashed rounded-lg text-gray-600 hover:bg-gray-100 hover:border-gray-400 transition cursor-pointer",children:[(0,Ze.jsx)(td,{className:"mr-2 text-gray-500",size:20}),(0,Ze.jsx)("span",{children:"Upload Custom Icon"})]}),(0,Ze.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Or leave blank to auto-detect the website's favicon. (Max 200KB)"})]})]})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Marketing Video"}),(0,Ze.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ze.jsx)(nu,{className:"text-gray-400 flex-shrink-0",size:20}),(0,Ze.jsx)("input",{type:"url",name:"marketingVideoUrl",value:a.marketingVideoUrl||"",onChange:c,placeholder:"Public YouTube Video URL for Marketing (optional)",className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500"})]})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Credit Pricing Tiers"}),(0,Ze.jsxs)("div",{className:"space-y-3 p-3 bg-gray-50 border rounded-lg",children:[(a.pricingTiers||[]).map((_,L)=>(0,Ze.jsxs)("div",{className:`p-3 bg-white border rounded-md space-y-3 ${_.isWebinarAddon?"border-purple-400 border-2":""}`,children:[(0,Ze.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ze.jsx)("input",{type:"text",placeholder:"Tier Name (e.g., Starter)",value:_.name,onChange:D=>I(L,"name",D.target.value),className:"p-2 border rounded-md text-sm font-semibold flex-grow",required:!0}),(0,Ze.jsx)("button",{type:"button",onClick:()=>g(L),className:"p-2 text-red-500 hover:bg-red-100 rounded-full transition-colors ml-2",children:(0,Ze.jsx)(Ar,{size:18})})]}),(0,Ze.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 items-end",children:[(0,Ze.jsx)("input",{type:"number",placeholder:"Credits (0 for unlimited)",value:_.credits,onChange:D=>I(L,"credits",D.target.value),className:"p-2 border rounded-md text-sm w-full",min:"0",required:!0}),(0,Ze.jsx)("input",{type:"number",placeholder:"Validity (days)",value:_.validityInDays||"",onChange:D=>I(L,"validityInDays",D.target.value),className:"p-2 border rounded-md text-sm w-full",min:"0"}),_.isWebinarAddon?(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsxs)("div",{className:"relative",children:[(0,Ze.jsx)("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-500",children:"\u20B9"}),(0,Ze.jsx)("input",{type:"number",placeholder:"Original",value:_.originalPrice?_.originalPrice/100:"",onChange:D=>I(L,"originalPrice",D.target.value),className:"p-2 pl-6 border rounded-md text-sm w-full",min:"0.01",step:"0.01"})]}),(0,Ze.jsxs)("div",{className:"relative",children:[(0,Ze.jsx)("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-500",children:"\u20B9"}),(0,Ze.jsx)("input",{type:"number",placeholder:"Offered",value:_.price>0?_.price/100:"",onChange:D=>I(L,"price",D.target.value),className:"p-2 pl-6 border rounded-md text-sm w-full",min:"0.01",step:"0.01",required:!0})]})]}):(0,Ze.jsxs)("div",{className:"relative sm:col-span-2",children:[(0,Ze.jsx)("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-500",children:"\u20B9"}),(0,Ze.jsx)("input",{type:"number",placeholder:"Price",value:_.price>0?_.price/100:"",onChange:D=>I(L,"price",D.target.value),className:"p-2 pl-6 border rounded-md text-sm w-full",min:"0.01",step:"0.01",required:!0})]})]}),(0,Ze.jsxs)("div",{className:"pt-2 border-t",children:[(0,Ze.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Ze.jsx)("input",{type:"checkbox",checked:!!_.isWebinarAddon,onChange:D=>I(L,"isWebinarAddon",D.target.checked),className:"h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,Ze.jsx)("span",{className:"text-sm font-medium text-purple-700",children:"Special Offer Tier (for Offer Pages)"})]}),_.isWebinarAddon&&(0,Ze.jsx)("div",{className:"pt-2 pl-6",children:(0,Ze.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Ze.jsx)("input",{type:"checkbox",checked:!!_.isPublic,onChange:D=>I(L,"isPublic",D.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Ze.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Show on public pricing pages"})]})})]}),_.credits===0&&(0,Ze.jsxs)("div",{className:"pt-3 border-t",children:[(0,Ze.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Fair Use Policy (Tier Override)"}),(0,Ze.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1",children:[(0,Ze.jsx)("input",{type:"number",value:_.fairUsePolicy?.limit||"",onChange:D=>A(L,{fairUsePolicy:{..._.fairUsePolicy||{frequency:"daily"},limit:parseInt(D.target.value,10)||0}}),placeholder:"Global Default",min:"0",className:"p-1 border rounded-md text-sm"}),(0,Ze.jsxs)("select",{value:_.fairUsePolicy?.frequency||"daily",onChange:D=>A(L,{fairUsePolicy:{..._.fairUsePolicy||{limit:0},frequency:D.target.value}}),className:"p-1 border rounded-md text-sm bg-white",children:[(0,Ze.jsx)("option",{value:"daily",children:"Daily"}),(0,Ze.jsx)("option",{value:"monthly",children:"Monthly"}),(0,Ze.jsx)("option",{value:"yearly",children:"Yearly"})]}),(0,Ze.jsx)("div",{className:"sm:col-span-2",children:(0,Ze.jsx)("input",{type:"text",value:_.fairUsePolicy?.customText||"",onChange:D=>A(L,{fairUsePolicy:{..._.fairUsePolicy||{limit:0,frequency:"daily"},customText:D.target.value}}),placeholder:"Custom text (optional)",className:"p-1 border rounded-md w-full text-sm"})})]}),(0,Ze.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Leave blank to use the global app setting."})]}),(0,Ze.jsxs)("div",{className:"pt-3 border-t",children:[(0,Ze.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Project & Data Settings (Tier Override)"}),(0,Ze.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1",children:[(0,Ze.jsx)("input",{type:"number",value:_.maxProjects??"",onChange:D=>A(L,{maxProjects:D.target.value===""?void 0:Number(D.target.value)}),placeholder:"Max Projects",min:"0",className:"p-1 border rounded-md text-sm"}),(0,Ze.jsx)("input",{type:"number",value:_.projectExpirationDays??"",onChange:D=>A(L,{projectExpirationDays:D.target.value===""?void 0:Number(D.target.value)}),placeholder:"Expiration (Days)",min:"0",className:"p-1 border rounded-md text-sm"})]}),(0,Ze.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Leave blank to use the global app setting."})]})]},_.id)),(0,Ze.jsxs)("button",{type:"button",onClick:w,className:"text-sm text-blue-600 hover:underline font-semibold flex items-center gap-1 mt-2",disabled:l,children:[(0,Ze.jsx)(Fu,{size:14})," Add Pricing Tier"]})]})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Coupons"}),(0,Ze.jsxs)("div",{className:"space-y-3 p-3 bg-gray-50 border rounded-lg",children:[(a.coupons||[]).map((_,L)=>(0,Ze.jsxs)("div",{className:"p-3 bg-white border rounded-md grid grid-cols-1 sm:grid-cols-[1fr,auto,auto,auto] gap-3 items-center",children:[(0,Ze.jsxs)("div",{className:"relative",children:[(0,Ze.jsx)(sA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Ze.jsx)("input",{type:"text",placeholder:"CODE",value:_.code,onChange:D=>b(L,"code",D.target.value.toUpperCase()),className:"w-full p-2 pl-9 border rounded-md focus:ring-blue-500 focus:border-blue-500 transition text-sm bg-white text-gray-900 placeholder-gray-500",required:!0})]}),(0,Ze.jsxs)("div",{className:"relative",children:[(0,Ze.jsx)("input",{type:"number",placeholder:"%",value:_.discountPercentage,onChange:D=>b(L,"discountPercentage",parseInt(D.target.value,10)),className:"w-24 p-2 pr-6 border rounded-md focus:ring-blue-500 focus:border-blue-500 transition text-sm bg-white text-gray-900 placeholder-gray-500",required:!0,min:"1",max:"100"}),(0,Ze.jsx)(nA,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",size:14})]}),(0,Ze.jsxs)("div",{className:"relative",children:[(0,Ze.jsx)(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Ze.jsx)("input",{type:"date",value:_.expiryDate,onChange:D=>b(L,"expiryDate",D.target.value),className:"w-full p-2 pl-9 border rounded-md focus:ring-blue-500 focus:border-blue-500 transition text-sm bg-white text-gray-900",required:!0})]}),(0,Ze.jsx)("button",{type:"button",onClick:()=>F(L),className:"p-2 text-red-500 hover:bg-red-100 rounded-full transition-colors justify-self-end",children:(0,Ze.jsx)(Ar,{size:18})})]},_.id)),(0,Ze.jsxs)("button",{type:"button",onClick:S,className:"text-sm text-blue-600 hover:underline font-semibold flex items-center gap-1 mt-2",disabled:l,children:[(0,Ze.jsx)(Fu,{size:14})," Add Coupon"]})]})]}),(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Training Videos (Max 10)"}),(0,Ze.jsxs)("div",{className:"space-y-3",children:[(a.trainingVideos||[]).map((_,L)=>(0,Ze.jsxs)("div",{className:"flex items-start gap-2 p-3 border rounded-md bg-gray-50",children:[(0,Ze.jsxs)("div",{className:"flex-grow space-y-2",children:[(0,Ze.jsx)("input",{type:"text",value:_.name,onChange:D=>v(L,"name",D.target.value),placeholder:"Video Name (e.g., Introduction)",className:"w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500",required:!0}),(0,Ze.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ze.jsx)(nu,{className:"text-gray-400 flex-shrink-0",size:20}),(0,Ze.jsx)("input",{type:"url",value:_.url,onChange:D=>v(L,"url",D.target.value),placeholder:"YouTube Video URL",className:"w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500",required:!0})]})]}),(0,Ze.jsx)("button",{type:"button",onClick:()=>R(L),className:"p-2 text-red-500 hover:bg-red-100 rounded-full transition-colors flex-shrink-0",children:(0,Ze.jsx)(Ar,{size:18})})]},L)),(a.trainingVideos||[]).length<10&&(0,Ze.jsxs)("button",{type:"button",onClick:O,className:"text-sm text-blue-600 hover:underline font-semibold flex items-center gap-1 mt-2",disabled:l,children:[(0,Ze.jsx)(Fu,{size:14})," Add Video Link"]})]})]})]}),(0,Ze.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t flex-shrink-0",children:[(0,Ze.jsx)("button",{type:"button",onClick:e,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",disabled:l,children:"Cancel"}),(0,Ze.jsxs)("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:bg-blue-400",disabled:l,children:[l&&(0,Ze.jsx)(Pt,{className:"animate-spin mr-2",size:20}),l?"Saving...":"Save Application"]})]})]})})},SK=Zhe;var Uu=ce(_e()),epe=({app:t,onClose:e,onConfirm:r})=>t?(0,Uu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,Uu.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Uu.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Uu.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Uu.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Application"}),(0,Uu.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,Uu.jsxs)("p",{children:["Are you sure you want to delete the application ",(0,Uu.jsx)("strong",{className:"font-bold",children:t.name}),"?"]}),(0,Uu.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone and will remove the app from the portal. It will not remove it from users' assigned app lists."})]}),(0,Uu.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Uu.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Uu.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})}):null,BK=epe;var Ic=ce(_e()),tpe=({isOpen:t,onClose:e,onConfirm:r})=>t?(0,Ic.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[100] p-4",children:(0,Ic.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Ic.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:(0,Ic.jsx)(wn,{className:"h-6 w-6 text-yellow-600","aria-hidden":"true"})}),(0,Ic.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Are you sure you want to logout?"}),(0,Ic.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:(0,Ic.jsx)("p",{children:"All your data in the current session will be lost."})}),(0,Ic.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Ic.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Ic.jsxs)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 flex items-center justify-center gap-2",children:[(0,Ic.jsx)(bc,{size:16})," Yes, Logout"]})]})]})}):null,S1=tpe;var _K=ce($t());var Ro=ce(_e()),rpe=({isOpen:t,onClose:e,email:r,password:n})=>{let[a,i]=(0,_K.useState)(!1);if(!t)return null;let s=`Welcome! Your portal account has been created.

Step 1: Go to: https://powerfultools.in/login
Step 2: Enter your credentials:
   Email: ${r}
   Temp Password: ${n}
Step 3: The system will ask you to change your password for your own security.
Step 4: Login with your new password; you will be redirected to the Home Page.
Step 5: Watch the tutorials on the Home Page before using any app.

Enjoy!`;return(0,Ro.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,Ro.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",children:[(0,Ro.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ro.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ro.jsx)(Dn,{className:"h-8 w-8 text-green-500"}),(0,Ro.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"User Created Successfully!"})]}),(0,Ro.jsx)("button",{onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Ro.jsx)(dr,{size:24})})]}),(0,Ro.jsx)("p",{className:"text-gray-600 mb-4",children:"Copy the instructions below and send them to the new user."}),(0,Ro.jsxs)("div",{className:"relative bg-gray-100 p-4 rounded-lg border border-gray-200",children:[(0,Ro.jsx)("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-sans",children:s}),(0,Ro.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(s).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)})},className:"absolute top-2 right-2 p-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors","aria-label":"Copy instructions",children:a?(0,Ro.jsx)(Dn,{size:18,className:"text-green-600"}):(0,Ro.jsx)(Bs,{size:18})})]}),(0,Ro.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Ro.jsx)("button",{type:"button",onClick:e,className:"w-full sm:w-auto rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Done"})})]})})},EK=rpe;var $s=ce($t());var fm=ce(_e()),npe=({title:t,value:e,icon:r,description:n})=>(0,fm.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 flex items-start gap-4",children:[(0,fm.jsx)("div",{className:"bg-blue-100 text-blue-600 rounded-full p-3 flex-shrink-0",children:r}),(0,fm.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,fm.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider truncate",children:t}),(0,fm.jsx)("p",{className:"text-xl font-bold text-gray-900 mt-1 truncate",children:e}),n&&(0,fm.jsx)("p",{className:"text-sm text-gray-500 mt-2 truncate",children:n})]})]}),bo=npe;var ot=ce(_e()),ape=({users:t,apps:e,allReviews:r,appUsageTotals:n,appRatingStats:a,pageViews:i,selectedPageIds:s,setSelectedPageIds:o})=>{let[l,u]=(0,$s.useState)(""),[c,d]=(0,$s.useState)("all"),[f,A]=(0,$s.useState)({key:"updatedAt",direction:"descending"}),[v,I]=(0,$s.useState)(!1),w=(0,$s.useRef)(null),[g,b]=(0,$s.useState)(""),S=(0,$s.useMemo)(()=>new Map(e.map($=>[$.id,$])),[e]),F=(0,$s.useMemo)(()=>{let $=r.reduce((K,oe)=>K+oe.rating,0),j=r.length>0?($/r.length).toFixed(1):"0.0";return{totalUsers:t.length,totalApps:e.length,totalReviews:r.length,averageRating:j}},[t,e,r]),O=(0,$s.useMemo)(()=>{if(Object.keys(n).length===0)return null;let $=Object.entries(n).reduce((j,K)=>j[1]>K[1]?j:K)[0];return S.get($)||null},[n,S]),R=(0,$s.useMemo)(()=>{let $=Object.entries(a);if($.length===0)return null;let j=$.reduce((K,oe)=>K[1].averageRating>oe[1].averageRating?K:oe);return S.get(j[0])||null},[a,S]),T=(0,$s.useMemo)(()=>{let $={};return e.forEach(j=>$[j.id]=0),t.forEach(j=>{j.apps&&Object.keys(j.apps).forEach(K=>{$[K]!==void 0&&$[K]++})}),Object.entries($).map(([j,K])=>({app:S.get(j),count:K})).filter(j=>j.app).sort((j,K)=>K.count-j.count)},[t,e,S]),B=(0,$s.useMemo)(()=>{let $=[...r];if(c!=="all"&&($=$.filter(j=>j.appId===c)),l){let j=l.toLowerCase();$=$.filter(K=>K.appName.toLowerCase().includes(j)||K.userName.toLowerCase().includes(j)||K.review.toLowerCase().includes(j))}return $.sort((j,K)=>{let{key:oe,direction:q}=f,X=q==="ascending"?1:-1,te=j[oe],ue=K[oe];if(oe==="appName"||oe==="userName")return(te||"").localeCompare(ue||"")*X;if(oe==="updatedAt"){let be=te instanceof Date?te.getTime():te?.toMillis()??0,ge=ue instanceof Date?ue.getTime():ue?.toMillis()??0;return be<ge?-1*X:be>ge?1*X:0}return(te||0)<(ue||0)?-1*X:(te||0)>(ue||0)?1*X:0}),$},[r,l,f,c]),k=(0,$s.useMemo)(()=>i?[...i].sort(($,j)=>$.pageId.localeCompare(j.pageId)):[],[i]),U=(0,$s.useMemo)(()=>!i||!s?[]:k.filter(j=>s.has(j.id)).sort((j,K)=>K.count-j.count),[k,i,s]),E=$=>{o(j=>{if(!j)return new Set([$]);let K=new Set(j);return K.has($)?K.delete($):K.add($),K})},_=()=>o(new Set(k.map($=>$.id))),L=()=>o(new Set);(0,$s.useEffect)(()=>{let $=j=>{w.current&&!w.current.contains(j.target)&&I(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]);let D=(0,$s.useMemo)(()=>g?k.filter($=>$.pageId.toLowerCase().includes(g.toLowerCase())):k,[k,g]),z=$=>{A(j=>({key:$,direction:j.key===$&&j.direction==="descending"?"ascending":"descending"}))},ee=({columnKey:$})=>f.key!==$?(0,ot.jsx)("div",{className:"h-3.5 w-3.5 opacity-30 group-hover:opacity-100",children:(0,ot.jsx)(cs,{size:14})}):f.direction==="ascending"?(0,ot.jsx)(yo,{className:"text-blue-600",size:14}):(0,ot.jsx)(cs,{className:"text-blue-600",size:14}),Y=[{label:"Date",key:"updatedAt"},{label:"Rating",key:"rating"},{label:"App",key:"appName"},{label:"User",key:"userName"}];return(0,ot.jsxs)("div",{className:"space-y-8",children:[(0,ot.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Portal Analytics"}),(0,ot.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,ot.jsx)(bo,{title:"Total Users",value:F.totalUsers,icon:(0,ot.jsx)(ad,{size:24})}),(0,ot.jsx)(bo,{title:"Total Apps",value:F.totalApps,icon:(0,ot.jsx)(mc,{size:24})}),(0,ot.jsx)(bo,{title:"Total Reviews",value:F.totalReviews,icon:(0,ot.jsx)(nd,{size:24})}),(0,ot.jsx)(bo,{title:"Overall Rating",value:F.averageRating,icon:(0,ot.jsx)(Cc,{size:24}),description:`from ${F.totalReviews} reviews`})]}),(0,ot.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ot.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,ot.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,ot.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"User Distribution per App"}),T.length>0?(0,ot.jsx)("div",{className:"space-y-4",children:T.map(({app:$,count:j})=>(0,ot.jsxs)("div",{className:"flex flex-col md:grid md:grid-cols-[200px,1fr,auto] md:items-center gap-2 md:gap-4",children:[(0,ot.jsxs)("div",{className:"flex justify-between items-center md:block",children:[(0,ot.jsx)("p",{className:"font-medium text-gray-800 truncate",title:$.name,children:$.name}),(0,ot.jsxs)("p",{className:"font-semibold text-gray-600 text-sm md:hidden",children:[j," User",j!==1&&"s"]})]}),(0,ot.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 md:h-4",children:(0,ot.jsx)("div",{className:"bg-blue-600 h-2.5 md:h-4 rounded-full",style:{width:`${t.length>0?j/t.length*100:0}%`},title:`${t.length>0?(j/t.length*100).toFixed(1):0}%`})}),(0,ot.jsxs)("p",{className:"hidden md:block font-semibold text-gray-600 text-sm w-20 text-right",children:[j," User",j!==1&&"s"]})]},$.id))}):(0,ot.jsx)("p",{className:"text-gray-500 italic",children:"No app assignment data available."})]}),(0,ot.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,ot.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ot.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 flex items-center gap-2",children:[(0,ot.jsx)(Xd,{size:20})," Page Views"]}),(0,ot.jsxs)("div",{className:"relative",ref:w,children:[(0,ot.jsxs)("button",{onClick:()=>I($=>!$),className:"flex items-center gap-2 text-sm font-semibold text-blue-600 hover:bg-blue-50 p-2 rounded-md transition-colors",children:[(0,ot.jsx)(u0,{size:16}),"Filter Pages (",(s||new Set).size," / ",k.length,")",(0,ot.jsx)(Ss,{size:16,className:`transition-transform ${v?"rotate-180":""}`})]}),v&&(0,ot.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border z-10",children:[(0,ot.jsxs)("div",{className:"p-2 border-b flex justify-between items-center",children:[(0,ot.jsx)("button",{onClick:_,className:"text-xs font-semibold text-blue-600 hover:underline",children:"Select All"}),(0,ot.jsx)("button",{onClick:L,className:"text-xs font-semibold text-blue-600 hover:underline",children:"Deselect All"})]}),(0,ot.jsx)("div",{className:"p-2 border-b",children:(0,ot.jsx)("input",{type:"text",value:g,onChange:$=>b($.target.value),placeholder:"Search pages...",className:"w-full text-xs p-1 border rounded"})}),(0,ot.jsx)("div",{className:"p-2 max-h-60 overflow-y-auto space-y-1",children:D.map($=>(0,ot.jsxs)("label",{className:"flex items-center gap-2 text-sm cursor-pointer p-1.5 rounded hover:bg-gray-100",children:[(0,ot.jsx)("input",{type:"checkbox",checked:(s||new Set).has($.id),onChange:()=>E($.id),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,ot.jsxs)("span",{className:"font-mono text-xs text-gray-700 truncate",title:`/${$.pageId}`,children:["/",$.pageId]})]},$.id))})]})]})]}),(0,ot.jsxs)("div",{className:"overflow-x-auto max-h-96",children:[(0,ot.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,ot.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0",children:(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Page Path"}),(0,ot.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:"Views"})]})}),(0,ot.jsx)("tbody",{children:U.map($=>(0,ot.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,ot.jsxs)("td",{className:"px-6 py-4 font-mono text-xs text-gray-800",children:["/",$.pageId]}),(0,ot.jsx)("td",{className:"px-6 py-4 text-right font-bold text-lg text-blue-600",children:$.count.toLocaleString()})]},$.id))})]}),U.length===0&&(0,ot.jsx)("p",{className:"text-center p-4",children:"No page views match the current filter."})]})]})]}),(0,ot.jsxs)("div",{className:"space-y-6",children:[(0,ot.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,ot.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Most Popular App"}),O?(0,ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ot.jsx)(da,{icon:O.icon,name:O.name,className:"h-16 w-16 rounded-lg flex-shrink-0"}),(0,ot.jsxs)("div",{children:[(0,ot.jsx)("p",{className:"text-xl font-bold text-gray-900",children:O.name}),(0,ot.jsxs)("p",{className:"text-gray-500 flex items-center gap-2 mt-1",children:[(0,ot.jsx)(Lh,{size:16,className:"text-indigo-500"})," ",(0,ot.jsx)("span",{className:"font-bold",children:n[O.id]||0})," total uses"]})]})]}):(0,ot.jsx)("p",{className:"text-gray-500 italic",children:"No usage data available."})]}),(0,ot.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,ot.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Highest Rated App"}),R?(0,ot.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ot.jsx)(da,{icon:R.icon,name:R.name,className:"h-16 w-16 rounded-lg flex-shrink-0"}),(0,ot.jsxs)("div",{children:[(0,ot.jsx)("p",{className:"text-xl font-bold text-gray-900",children:R.name}),(0,ot.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,ot.jsx)(sd,{rating:a[R.id]?.averageRating||0,setRating:()=>{},size:20,disabled:!0}),(0,ot.jsxs)("p",{className:"text-gray-500",children:[(0,ot.jsx)("span",{className:"font-bold",children:(a[R.id]?.averageRating||0).toFixed(1)})," from ",a[R.id]?.totalReviews||0," reviews"]})]})]})]}):(0,ot.jsx)("p",{className:"text-gray-500 italic",children:"No review data available."})]})]})]}),(0,ot.jsxs)("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[(0,ot.jsxs)("div",{className:"p-4 sm:p-6 border-b",children:[(0,ot.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"User Reviews"}),(0,ot.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[(0,ot.jsxs)("select",{value:c,onChange:$=>d($.target.value),className:"w-full p-2 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500 transition",children:[(0,ot.jsx)("option",{value:"all",children:"Filter by App: All Apps"}),e.map($=>(0,ot.jsx)("option",{value:$.id,children:$.name},$.id))]}),(0,ot.jsxs)("div",{className:"relative",children:[(0,ot.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,ot.jsx)("input",{type:"text",placeholder:"Search reviews...",value:l,onChange:$=>u($.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]})]})]}),(0,ot.jsx)("div",{className:"md:hidden px-4 pt-4 pb-2 border-b bg-gray-50",children:(0,ot.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[(0,ot.jsx)("span",{className:"text-sm font-medium text-gray-700 flex-shrink-0",children:"Sort by:"}),Y.map($=>{let j=f.key===$.key;return(0,ot.jsxs)("button",{onClick:()=>z($.key),className:`flex-shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${j?"bg-blue-600 text-white shadow":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[$.label,j&&(f.direction==="ascending"?(0,ot.jsx)(yo,{size:14}):(0,ot.jsx)(cs,{size:14}))]},$.key)})]})}),B.length===0?(0,ot.jsx)("p",{className:"text-gray-500 italic text-center py-8",children:"No matching reviews found."}):(0,ot.jsxs)("div",{children:[(0,ot.jsx)("div",{className:"md:hidden p-4 space-y-4 bg-gray-50/50",children:B.map($=>(0,ot.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 space-y-3",children:[(0,ot.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ot.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ot.jsx)(da,{icon:S.get($.appId)?.icon||"",name:$.appName,className:"h-10 w-10 rounded-md flex-shrink-0"}),(0,ot.jsxs)("div",{children:[(0,ot.jsx)("p",{className:"font-bold text-gray-800",children:$.appName}),(0,ot.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-1.5",children:[(0,ot.jsx)(ca,{size:14})," ",$.userName]})]})]}),(0,ot.jsx)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:sn($.updatedAt)})]}),(0,ot.jsxs)("div",{className:"border-t pt-3 space-y-2",children:[(0,ot.jsx)(sd,{rating:$.rating,setRating:()=>{},size:20,disabled:!0}),(0,ot.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',$.review||"No comment provided",'"']})]})]},`${$.userId}_${$.appId}`))}),(0,ot.jsx)("div",{className:"overflow-x-auto hidden md:block",children:(0,ot.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,ot.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,ot.jsxs)("tr",{children:[(0,ot.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6",children:(0,ot.jsxs)("button",{onClick:()=>z("appName"),className:"group flex items-center gap-2 font-semibold",children:["App ",(0,ot.jsx)(ee,{columnKey:"appName"})]})}),(0,ot.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6",children:(0,ot.jsxs)("button",{onClick:()=>z("userName"),className:"group flex items-center gap-2 font-semibold",children:["User ",(0,ot.jsx)(ee,{columnKey:"userName"})]})}),(0,ot.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6",children:(0,ot.jsxs)("button",{onClick:()=>z("rating"),className:"group flex items-center gap-2 font-semibold",children:["Rating ",(0,ot.jsx)(ee,{columnKey:"rating"})]})}),(0,ot.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6 font-semibold",children:"Comment"}),(0,ot.jsx)("th",{scope:"col",className:"px-4 py-3 sm:px-6",children:(0,ot.jsxs)("button",{onClick:()=>z("updatedAt"),className:"group flex items-center gap-2 font-semibold",children:["Date ",(0,ot.jsx)(ee,{columnKey:"updatedAt"})]})})]})}),(0,ot.jsx)("tbody",{children:B.map($=>(0,ot.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50 transition-colors",children:[(0,ot.jsx)("td",{className:"px-4 py-4 sm:px-6 font-medium text-gray-900",children:$.appName}),(0,ot.jsx)("td",{className:"px-4 py-4 sm:px-6",children:$.userName}),(0,ot.jsx)("td",{className:"px-4 py-4 sm:px-6",children:(0,ot.jsx)(sd,{rating:$.rating,setRating:()=>{},size:16,disabled:!0})}),(0,ot.jsx)("td",{className:"px-4 py-4 sm:px-6",children:(0,ot.jsx)("p",{className:"max-w-sm truncate",title:$.review,children:$.review||(0,ot.jsx)("span",{className:"italic text-gray-400",children:"No comment"})})}),(0,ot.jsx)("td",{className:"px-4 py-4 sm:px-6 whitespace-nowrap",children:sn($.updatedAt)})]},`${$.userId}_${$.appId}`))})]})})]})]})]})},TK=ape;var uB=ce($t());var Ys=ce(_e()),cB=({onClose:t})=>(0,Ys.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md",role:"alert",children:(0,Ys.jsxs)("div",{className:"flex items-start",children:[(0,Ys.jsx)("div",{className:"py-1 flex-shrink-0",children:(0,Ys.jsx)(wn,{className:"h-5 w-5 text-yellow-500 mr-3"})}),(0,Ys.jsxs)("div",{className:"flex-grow",children:[(0,Ys.jsx)("p",{className:"font-bold",children:"Account expiring soon"}),(0,Ys.jsx)("p",{className:"text-sm",children:"Your account access expires today. Please contact an administrator to renew your access to avoid service interruption."})]}),(0,Ys.jsx)("button",{onClick:t,className:"ml-4 -mt-1 -mr-1 p-1 rounded-full text-yellow-500 hover:bg-yellow-200 transition-colors","aria-label":"Close",children:(0,Ys.jsx)(dr,{className:"h-5 w-5"})})]})}),ipe=({message:t,type:e,onClose:r})=>{let[n,a]=(0,uB.useState)(!1);(0,uB.useEffect)(()=>{let o=setTimeout(()=>a(!0),50);return()=>clearTimeout(o)},[]);let i={success:{bg:"bg-green-600",icon:(0,Ys.jsx)(Dn,{className:"h-6 w-6"})},error:{bg:"bg-red-600",icon:(0,Ys.jsx)(wn,{className:"h-6 w-6"})},info:{bg:"bg-blue-600",icon:(0,Ys.jsx)(_h,{className:"h-6 w-6"})}},s=i[e]||i.info;return(0,Ys.jsx)("div",{className:"fixed top-6 right-6 z-[9999] pointer-events-none",role:"alert","aria-live":"assertive",children:(0,Ys.jsx)("div",{className:`pointer-events-auto transition-all duration-300 ease-in-out ${n?"opacity-100 translate-x-0":"opacity-0 translate-x-12"}`,children:(0,Ys.jsxs)("div",{className:`flex items-center gap-4 text-white font-semibold px-5 py-3 rounded-lg shadow-2xl ${s.bg}`,children:[s.icon,(0,Ys.jsx)("span",{children:t}),(0,Ys.jsx)("button",{onClick:r,className:"ml-4 p-1 rounded-full hover:bg-black/20 transition-colors","aria-label":"Close",children:(0,Ys.jsx)(dr,{className:"h-5 w-5"})})]})})})},LK=ipe;var hm=ce($t());var el=ce($t());var Ln=ce(_e()),spe=({isOpen:t,onClose:e,users:r,apps:n,showNotification:a,existingOrder:i=null})=>{let[s,o]=(0,el.useState)(""),[l,u]=(0,el.useState)(""),[c,d]=(0,el.useState)(!1),[f,A]=(0,el.useState)(""),[v,I]=(0,el.useState)(""),[w,g]=(0,el.useState)(""),[b,S]=(0,el.useState)(new Date().toISOString().split("T")[0]),[F,O]=(0,el.useState)(""),[R,T]=(0,el.useState)(!1),B=!!i;(0,el.useEffect)(()=>{if(B&&i){o(i.userId||"");let D=r.find($=>$.id===i.userId);D&&u(`${D.name} (${D.email})`);let z=i.items[0];z&&(A(z.appId),setTimeout(()=>I(z.tierId),0)),g((i.totalAmount/100).toString());let Y=i.createdAt.toDate().toISOString().split("T")[0];S(Y),O((i.notes||"").replace(/^\(Edited\) /,""))}else o(""),u(""),A(""),I(""),g(""),S(new Date().toISOString().split("T")[0]),O("")},[i,B,r]);let k=(0,el.useMemo)(()=>f?n.find(z=>z.id===f)?.pricingTiers||[]:[],[f,n]),U=(0,el.useMemo)(()=>{if(!l||s)return[];let D=l.toLowerCase();return r.filter(z=>z.name.toLowerCase().includes(D)||z.email&&z.email.toLowerCase().includes(D)||z.phone&&z.phone.includes(l)).slice(0,100)},[l,r,s]);(0,el.useEffect)(()=>{if(!B)if(v){let D=k.find(z=>z.id===v);D&&g((D.price/100).toString())}else g("")},[v,k,B]),(0,el.useEffect)(()=>{B||I("")},[f,B]);let E=D=>{u(D.target.value),o(""),d(!0)},_=D=>{o(D.id),u(`${D.name} (${D.email})`),d(!1)},L=async D=>{D.preventDefault();let z=parseFloat(w)*100;if(!s||!f||!v||isNaN(z)||z<0){a("Please fill all required fields correctly.","error");return}T(!0);try{B?(await cr.httpsCallable("updateManualSale")({orderId:i.id,amount:z,paymentDate:b,notes:F}),a("Manual sale updated!","success")):(await cr.httpsCallable("logManualSale")({userId:s,appId:f,tierId:v,amount:z,paymentDate:b,notes:F}),a("Manual sale logged successfully!","success")),e()}catch(ee){console.error("Error saving manual sale:",ee),a(ee.message||"An unknown error occurred.","error")}finally{T(!1)}};return t?(0,Ln.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[100] p-4",children:(0,Ln.jsx)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:(0,Ln.jsxs)("form",{onSubmit:L,className:"flex flex-col h-full",children:[(0,Ln.jsxs)("header",{className:"p-6 border-b flex-shrink-0",children:[(0,Ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ln.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:B?"Edit Manual Sale":"Log Manual Sale"}),(0,Ln.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Ln.jsx)(dr,{size:24})})]}),(0,Ln.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:B?"Correct the details of a previously logged sale.":"Record an offline payment and automatically update user credits."})]}),(0,Ln.jsxs)("main",{className:"p-6 space-y-4 overflow-y-auto",children:[(0,Ln.jsxs)("div",{className:"relative",children:[(0,Ln.jsx)(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Ln.jsx)("input",{type:"text",value:l,onChange:E,onFocus:()=>d(!0),onBlur:()=>setTimeout(()=>d(!1),200),placeholder:"Search for a user by name, email, or phone...",required:!0,disabled:B,className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500 transition disabled:bg-gray-100 disabled:cursor-not-allowed"}),c&&U.length>0&&(0,Ln.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:U.map(D=>(0,Ln.jsxs)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onMouseDown:()=>_(D),children:[(0,Ln.jsx)("p",{className:"font-semibold",children:D.name}),(0,Ln.jsxs)("p",{className:"text-xs text-gray-500",children:[D.email," - ",D.phone||"No phone"]})]},D.id))})]}),(0,Ln.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Ln.jsxs)("div",{className:"relative",children:[(0,Ln.jsx)(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Ln.jsxs)("select",{value:f,onChange:D=>A(D.target.value),required:!0,disabled:B,className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-white appearance-none focus:ring-blue-500 focus:border-blue-500 transition disabled:bg-gray-100 disabled:cursor-not-allowed",children:[(0,Ln.jsx)("option",{value:"",disabled:!0,children:"Select an App"}),n.map(D=>(0,Ln.jsx)("option",{value:D.id,children:D.name},D.id))]})]}),(0,Ln.jsxs)("div",{className:"relative",children:[(0,Ln.jsx)(sA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Ln.jsxs)("select",{value:v,onChange:D=>I(D.target.value),required:!0,disabled:!f||B,className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-white appearance-none focus:ring-blue-500 focus:border-blue-500 transition disabled:bg-gray-100 disabled:cursor-not-allowed",children:[(0,Ln.jsx)("option",{value:"",disabled:!0,children:"Select Tier"}),k.map(D=>(0,Ln.jsxs)("option",{value:D.id,children:[D.name," (",D.credits===0?"Unlimited":`${D.credits} credits`,")"]},D.id))]})]})]}),(0,Ln.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Ln.jsxs)("div",{className:"relative",children:[(0,Ln.jsx)(wi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Ln.jsx)("input",{type:"number",value:w,onChange:D=>g(D.target.value),required:!0,min:"0",step:"0.01",placeholder:"Amount (\u20B9)",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,Ln.jsxs)("div",{className:"relative",children:[(0,Ln.jsx)(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Ln.jsx)("input",{type:"date",value:b,onChange:D=>S(D.target.value),required:!0,className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500 transition"})]})]}),(0,Ln.jsx)("div",{children:(0,Ln.jsx)("textarea",{value:F,onChange:D=>O(D.target.value),placeholder:"Notes (e.g., Transaction ID, payment method)",className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-none h-24 bg-white text-gray-900 placeholder-gray-500"})})]}),(0,Ln.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t flex-shrink-0",children:[(0,Ln.jsx)("button",{type:"button",onClick:e,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",disabled:R,children:"Cancel"}),(0,Ln.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:bg-blue-400",disabled:R,children:[R&&(0,Ln.jsx)(Pt,{className:"animate-spin mr-2",size:20}),R?"Saving...":B?"Update Sale":"Log Sale"]})]})]})})}):null},dB=spe;var o2=ce($t());var tl=ce(_e()),ope=({order:t,onClose:e,onConfirm:r})=>(0,tl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[100] p-4",children:(0,tl.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md text-center",children:[(0,tl.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,tl.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,tl.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Manual Sale Record"}),(0,tl.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,tl.jsxs)("p",{children:["Are you sure you want to delete this manual sale record for ",(0,tl.jsx)("strong",{className:"font-bold",children:t.userName}),"?"]}),(0,tl.jsxs)("div",{className:"mt-4 p-3 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 rounded-r-lg text-left",children:[(0,tl.jsx)("p",{className:"font-bold",children:"Important Warning:"}),(0,tl.jsxs)("p",{className:"text-xs mt-1",children:["This action will ",(0,tl.jsx)("strong",{className:"underline",children:"NOT"})," automatically deduct credits from the user's account. You must go to the user's profile and manually adjust their credits after deleting this record."]})]})]}),(0,tl.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,tl.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,tl.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})}),PK=ope;var In=ce(_e()),lpe=t=>`\u20B9${((t||0)/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,upe=({isOpen:t,onClose:e,month:r,orders:n,expenses:a,users:i,apps:s,showNotification:o})=>{if(!t)return null;let[l,u]=(0,o2.useState)(null),[c,d]=(0,o2.useState)(null),A=new Date(`${r}-01T00:00:00`).toLocaleString("default",{month:"long",year:"numeric"}),v=(0,o2.useMemo)(()=>{let w=n.map(S=>({id:S.id,date:S.createdAt,type:"Sale",description:S.userName,details:(S.items||[]).map(F=>F?F.isWebinar?`${F.appName} (Webinar)`:F.isConsultation?`${F.appName} (${F.consultantName})`:`${F.appName} - ${F.tierName}`:"Unknown Item").join(", "),amount:S.totalAmount,isManual:S.status==="completed_manual",originalOrder:S})),g=a.map(S=>({id:S.id,date:new Date(S.date),type:"Expense",description:S.description,details:S.category.replace(/_/g," "),amount:-S.amount,isManual:!1,originalOrder:S})),b=[...w,...g];return b.sort((S,F)=>{let O=S.date instanceof Date?S.date.getTime():S.date?.toMillis()||0;return(F.date instanceof Date?F.date.getTime():F.date?.toMillis()||0)-O}),b},[n,a]),I=async()=>{if(c)try{await cr.httpsCallable("deleteManualSale")({orderId:c.id}),o("Manual sale record deleted. Remember to adjust user credits if needed.","success",6e3),e()}catch(w){o(w.message,"error")}finally{d(null)}};return(0,In.jsxs)(In.Fragment,{children:[(0,In.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,In.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,In.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,In.jsxs)("div",{className:"flex justify-between items-center",children:[(0,In.jsxs)("div",{children:[(0,In.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Transaction Details"}),(0,In.jsxs)("p",{className:"text-gray-500 mt-1",children:["Showing all transactions for ",(0,In.jsx)("span",{className:"font-semibold",children:A})]})]}),(0,In.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,In.jsx)(dr,{size:24})})]})}),(0,In.jsx)("main",{className:"flex-grow p-6 overflow-y-auto",children:(0,In.jsx)("div",{className:"overflow-x-auto",children:(0,In.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,In.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,In.jsxs)("tr",{children:[(0,In.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Date"}),(0,In.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Type"}),(0,In.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Description"}),(0,In.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Details"}),(0,In.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:"Amount"}),(0,In.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,In.jsx)("tbody",{children:v.map(w=>(0,In.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,In.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:sn(w.date)}),(0,In.jsx)("td",{className:"px-6 py-4",children:(0,In.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w.type==="Sale"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.type})}),(0,In.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:w.description}),(0,In.jsx)("td",{className:"px-6 py-4 text-gray-500 capitalize",children:w.details}),(0,In.jsx)("td",{className:`px-6 py-4 text-right font-bold ${w.amount>=0?"text-green-600":"text-red-600"}`,children:lpe(w.amount)}),(0,In.jsx)("td",{className:"px-6 py-4 text-right",children:w.type==="Sale"&&w.isManual&&(0,In.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[(0,In.jsx)("button",{onClick:()=>u(w.originalOrder),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit Sale",children:(0,In.jsx)(Kn,{size:16})}),(0,In.jsx)("button",{onClick:()=>d(w.originalOrder),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",title:"Delete Sale",children:(0,In.jsx)(Ar,{size:16})})]})})]},`${w.type}-${w.id}`))})]})})}),(0,In.jsx)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end rounded-b-xl border-t",children:(0,In.jsx)("button",{type:"button",onClick:e,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Close"})})]})}),l&&(0,In.jsx)(dB,{isOpen:!!l,onClose:()=>{u(null),e()},users:i,apps:s,showNotification:o,existingOrder:l}),c&&(0,In.jsx)(PK,{order:c,onClose:()=>d(null),onConfirm:I})]})},kK=upe;var gr=ce(_e()),If=t=>`\u20B9${((t||0)/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,cpe=({paymentOrders:t,apps:e,users:r,showNotification:n,expenses:a})=>{let[i,s]=(0,hm.useState)({key:"month",direction:"descending"}),[o,l]=(0,hm.useState)(!1),[u,c]=(0,hm.useState)(!1),[d,f]=(0,hm.useState)(null),A=(0,hm.useMemo)(()=>{let S=new Date,F=new Date(S.getFullYear(),S.getMonth(),S.getDate()),O=new Date(F.getTime()-1440*60*1e3),R=S.getDay(),T=S.getDate()-R+(R===0?-6:1),B=new Date(S.getFullYear(),S.getMonth(),T);B.setHours(0,0,0,0);let k=new Date(B.getTime()-10080*60*1e3),U=new Date(B.getTime()-1),E=new Date(S.getFullYear(),S.getMonth(),1),_=0,L=0,D=0,z=0,ee=0,Y=0,$={},j={};t.filter(ge=>ge.status==="completed"||ge.status==="completed_manual").forEach(ge=>{if(!ge.createdAt||!ge.items||!Array.isArray(ge.items))return;let Ne=ge.createdAt?.toDate?ge.createdAt.toDate():new Date(ge.createdAt),Le=ge.totalAmount||0;Y+=Le;let Ie=`${Ne.getFullYear()}-${String(Ne.getMonth()+1).padStart(2,"0")}`;if(j[Ie]||(j[Ie]={sales:0,transactions:0}),j[Ie].sales+=Le,j[Ie].transactions++,Ne>=E&&(ee+=Le),Ne>=B&&(D+=Le),Ne>=k&&Ne<=U&&(z+=Le),Ne>=O&&Ne<F&&(L+=Le),Ne>=F){_+=Le;let de=ge.subtotal||ge.items.reduce((xe,qe)=>xe+(qe.price||0),0);ge.items.forEach(xe=>{let qe=xe.price||0,wt=qe;if(de>0&&ge.totalAmount!==de){let Kt=qe/de;wt=ge.totalAmount*Kt}let Re="",Ae="Unknown Item";xe.isWebinar?(Re=`webinar_${xe.appId}`,Ae=xe.webinarDate?`${xe.appName} (${Ws(xe.webinarDate)})`:xe.appName):xe.isConsultation?(Re=`package_${xe.packageId}`,Ae=xe.consultantName?`${xe.appName} (${xe.consultantName})`:xe.appName):(Re=`app_${xe.appId}`,Ae=xe.appName),$[Re]||($[Re]={name:Ae,sales:0}),$[Re].sales+=wt})}});let oe=0,q=0,X=0,te=new Date().toLocaleDateString("en-CA");a.forEach(ge=>{let Ne=ge.amount||0;X+=Ne;let Le=ge.date.substring(0,7),Ie=te.substring(0,7);Le===Ie&&(q+=Ne),ge.date===te&&(oe+=Ne),j[Le]||(j[Le]={sales:0,transactions:0,expenses:0}),j[Le].expenses=(j[Le].expenses||0)+Ne});let ue=Object.entries(j).map(([ge,Ne])=>({month:ge,...Ne}));ue.forEach(ge=>{ge.profit=ge.sales-(ge.expenses||0)}),ue.sort((ge,Ne)=>{let{key:Le,direction:Ie}=i,de=Ie==="ascending"?1:-1;if(Le==="month")return ge[Le].localeCompare(Ne[Le])*de;let xe=ge[Le]||0,qe=Ne[Le]||0;return xe<qe?-1*de:xe>qe?1*de:0});let be=Object.entries($).sort(([,ge],[,Ne])=>Ne.sales-ge.sales);return{todaySales:_,yesterdaySales:L,weekSales:D,lastWeekSales:z,monthSales:ee,totalSales:Y,sortedTodaySalesByItem:be,sortedMonthlyReport:ue,todayExpenses:oe,monthExpenses:q,totalExpenses:X,todayProfit:_-oe,monthProfit:ee-q,totalProfit:Y-X}},[t,a,i]),v=A.sortedTodaySalesByItem[0]?.[1]?.sales||0,I=(0,hm.useMemo)(()=>[...t].filter(S=>(S.status==="completed"||S.status==="completed_manual")&&S.createdAt).sort((S,F)=>(F.createdAt?.toMillis?F.createdAt.toMillis():new Date(F.createdAt).getTime())-(S.createdAt?.toMillis?S.createdAt.toMillis():new Date(S.createdAt).getTime())).slice(0,5),[t]),w=S=>{let O=i.key===S&&i.direction==="ascending"?"descending":"ascending";s({key:S,direction:O})},g=S=>{let F=t.filter(R=>{if(!R.createdAt||R.status!=="completed"&&R.status!=="completed_manual")return!1;let T;if(typeof R.createdAt.toDate=="function")T=R.createdAt.toDate();else if(R.createdAt instanceof Date)T=R.createdAt;else if(typeof R.createdAt=="string")T=new Date(R.createdAt);else return!1;return`${T.getFullYear()}-${String(T.getMonth()+1).padStart(2,"0")}`===S}),O=a.filter(R=>R.date.substring(0,7)===S);f({month:S,orders:F,expenses:O}),c(!0)},b=({columnKey:S})=>i.key!==S?(0,gr.jsx)("div",{className:"h-3.5 w-3.5 opacity-30 group-hover:opacity-100",children:(0,gr.jsx)(cs,{size:14})}):i.direction==="ascending"?(0,gr.jsx)(yo,{className:"text-blue-600",size:14}):(0,gr.jsx)(cs,{className:"text-blue-600",size:14});return(0,gr.jsxs)("div",{className:"space-y-8",children:[(0,gr.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,gr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Commercial Overview"}),(0,gr.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors w-full sm:w-auto",children:[(0,gr.jsx)(_a,{className:"mr-2 h-5 w-5"})," Log Manual Sale"]})]}),(0,gr.jsxs)("section",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:[(0,gr.jsx)(bo,{title:"Today's Sales",value:If(A.todaySales),icon:(0,gr.jsx)(wi,{size:24})}),(0,gr.jsx)(bo,{title:"Yesterday's Sales",value:If(A.yesterdaySales),icon:(0,gr.jsx)(wi,{size:24})}),(0,gr.jsx)(bo,{title:"This Month's Sales",value:If(A.monthSales),icon:(0,gr.jsx)(la,{size:24})}),(0,gr.jsx)(bo,{title:"This Month's Profit",value:If(A.monthProfit),icon:(0,gr.jsx)(Lh,{size:24})}),(0,gr.jsx)(bo,{title:"All-Time Profit",value:If(A.totalProfit),icon:(0,gr.jsx)(s0,{size:24})})]}),(0,gr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,gr.jsxs)("section",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,gr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Today's Sales by Product"}),A.sortedTodaySalesByItem.length>0?(0,gr.jsx)("div",{className:"space-y-4",children:A.sortedTodaySalesByItem.map(([S,{name:F,sales:O}])=>(0,gr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,gr.jsx)("p",{className:"w-1/2 md:w-1/3 truncate text-sm font-medium text-gray-600",title:F,children:F}),(0,gr.jsx)("div",{className:"flex-grow bg-gray-200 rounded-full h-6",children:(0,gr.jsx)("div",{className:"bg-blue-600 h-6 rounded-full flex items-center justify-end px-2 text-white text-xs font-bold",style:{width:`${v>0?O/v*100:0}%`,minWidth:"4rem"},children:If(O)})})]},S))}):(0,gr.jsx)("p",{className:"text-gray-500 italic text-center py-8",children:"No sales recorded today."})]}),(0,gr.jsxs)("section",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,gr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Recent Transactions"}),I.length>0?(0,gr.jsx)("ul",{className:"space-y-3",children:I.map(S=>(0,gr.jsxs)("li",{className:"flex items-center justify-between text-sm border-b pb-2 last:border-b-0",children:[(0,gr.jsxs)("div",{className:"flex-grow truncate",children:[(0,gr.jsx)("p",{className:"font-medium text-gray-800 truncate",children:S.userName}),(0,gr.jsx)("p",{className:"text-xs text-gray-500",children:sn(S.createdAt)})]}),(0,gr.jsx)("p",{className:"font-bold text-green-600 ml-4",children:If(S.totalAmount)})]},S.id))}):(0,gr.jsx)("p",{className:"text-gray-500 italic text-center py-8",children:"No transactions found."})]})]}),(0,gr.jsxs)("section",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,gr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Monthly Profit & Loss Statement"}),A.sortedMonthlyReport.length>0?(0,gr.jsx)("div",{className:"overflow-x-auto",children:(0,gr.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,gr.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,gr.jsxs)("tr",{children:[(0,gr.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,gr.jsxs)("button",{onClick:()=>w("month"),className:"group flex items-center gap-2 font-semibold",children:["Month ",(0,gr.jsx)(b,{columnKey:"month"})]})}),(0,gr.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:(0,gr.jsxs)("button",{onClick:()=>w("sales"),className:"group flex items-center gap-2 font-semibold float-right",children:["Total Sales ",(0,gr.jsx)(b,{columnKey:"sales"})]})}),(0,gr.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:(0,gr.jsxs)("button",{onClick:()=>w("expenses"),className:"group flex items-center gap-2 font-semibold float-right",children:["Total Expenses ",(0,gr.jsx)(b,{columnKey:"expenses"})]})}),(0,gr.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:(0,gr.jsxs)("button",{onClick:()=>w("profit"),className:"group flex items-center gap-2 font-semibold float-right",children:["Profit / Loss ",(0,gr.jsx)(b,{columnKey:"profit"})]})}),(0,gr.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:(0,gr.jsxs)("button",{onClick:()=>w("transactions"),className:"group flex items-center gap-2 font-semibold float-right",children:["Transactions ",(0,gr.jsx)(b,{columnKey:"transactions"})]})})]})}),(0,gr.jsx)("tbody",{children:A.sortedMonthlyReport.map(({month:S,sales:F,transactions:O,expenses:R,profit:T})=>(0,gr.jsxs)("tr",{className:"bg-white border-b hover:bg-blue-50 cursor-pointer",onClick:()=>g(S),children:[(0,gr.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:S}),(0,gr.jsx)("td",{className:"px-6 py-4 text-right font-semibold text-green-600",children:If(F)}),(0,gr.jsx)("td",{className:"px-6 py-4 text-right font-semibold text-orange-600",children:If(R)}),(0,gr.jsx)("td",{className:`px-6 py-4 text-right font-bold ${(T||0)>=0?"text-blue-700":"text-red-600"}`,children:If(T)}),(0,gr.jsx)("td",{className:"px-6 py-4 text-right",children:O})]},S))})]})}):(0,gr.jsx)("p",{className:"text-gray-500 italic text-center py-8",children:"No monthly sales data available."})]}),o&&(0,gr.jsx)(dB,{isOpen:o,onClose:()=>l(!1),users:r.filter(S=>S.role==="user"),apps:e,showNotification:n}),u&&d&&(0,gr.jsx)(kK,{isOpen:u,onClose:()=>c(!1),month:d.month,orders:d.orders,expenses:d.expenses,users:r,apps:e,showNotification:n})]})},FK=cpe;var wo=ce($t());var wU=ce($t());var $a=ce(_e()),dpe=t=>`\u20B9${(t/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ape=({payout:t,onClose:e,showNotification:r})=>{let[n,a]=(0,wU.useState)(""),[i,s]=(0,wU.useState)(!1),o=async()=>{s(!0);try{await cr.httpsCallable("processAffiliatePayout")({payoutId:t.id,transactionId:n}),r("Payout marked as completed!","success"),e()}catch(l){r(`Error: ${l.message}`,"error")}finally{s(!1)}};return(0,$a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,$a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,$a.jsxs)("header",{className:"p-6 border-b flex justify-between items-center",children:[(0,$a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Process Payout"}),(0,$a.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,$a.jsx)(dr,{size:24})})]}),(0,$a.jsxs)("main",{className:"p-6 space-y-4",children:[(0,$a.jsxs)("div",{children:[(0,$a.jsx)("p",{className:"text-sm text-gray-500",children:"User"}),(0,$a.jsx)("p",{className:"font-semibold",children:t.userName})]}),(0,$a.jsxs)("div",{children:[(0,$a.jsx)("p",{className:"text-sm text-gray-500",children:"Amount"}),(0,$a.jsx)("p",{className:"font-bold text-2xl text-green-600",children:dpe(t.amount)})]}),(0,$a.jsxs)("div",{children:[(0,$a.jsx)("p",{className:"text-sm text-gray-500",children:"Payout Details"}),(0,$a.jsx)("p",{className:"whitespace-pre-wrap bg-gray-100 p-2 rounded-md",children:t.details})]}),(0,$a.jsxs)("div",{children:[(0,$a.jsx)("label",{htmlFor:"transactionId",className:"text-sm font-medium text-gray-700",children:"Transaction ID (Optional)"}),(0,$a.jsx)("input",{id:"transactionId",type:"text",value:n,onChange:l=>a(l.target.value),className:"w-full mt-1 p-2 border rounded-md bg-white text-gray-900 placeholder-gray-500",placeholder:"Enter payment reference ID"})]})]}),(0,$a.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-lg border-t",children:[(0,$a.jsx)("button",{onClick:e,disabled:i,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Cancel"}),(0,$a.jsx)("button",{onClick:o,disabled:i,className:"w-48 flex justify-center items-center gap-2 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:bg-blue-400",children:i?(0,$a.jsx)(Pt,{className:"animate-spin"}):(0,$a.jsxs)($a.Fragment,{children:[(0,$a.jsx)(Ji,{size:18})," Mark as Completed"]})})]})]})})},RK=Ape;var gt=ce(_e()),AB=t=>`\u20B9${(t/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,fpe=({referrals:t})=>(0,gt.jsxs)("div",{className:"bg-blue-50 p-4",children:[(0,gt.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"Referral History"}),t.length>0?(0,gt.jsx)("div",{className:"overflow-x-auto max-h-60",children:(0,gt.jsxs)("table",{className:"w-full text-xs",children:[(0,gt.jsx)("thead",{className:"text-blue-900 bg-blue-100",children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{className:"px-3 py-2 text-left",children:"Date"}),(0,gt.jsx)("th",{className:"px-3 py-2 text-left",children:"Customer"}),(0,gt.jsx)("th",{className:"px-3 py-2 text-left",children:"Purchase"}),(0,gt.jsx)("th",{className:"px-3 py-2 text-right",children:"Commission"})]})}),(0,gt.jsx)("tbody",{children:t.map(e=>(0,gt.jsxs)("tr",{className:"border-b border-blue-200 last:border-b-0",children:[(0,gt.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:sn(e.createdAt)}),(0,gt.jsx)("td",{className:"px-3 py-2",children:e.newCustomerName}),(0,gt.jsx)("td",{className:"px-3 py-2",children:e.items.map(r=>r.appName).join(", ")}),(0,gt.jsx)("td",{className:"px-3 py-2 text-right font-semibold text-green-700",children:AB(e.commissionAmount)})]},e.id))})]})}):(0,gt.jsx)("p",{className:"text-center italic text-gray-500 py-3",children:"No referral history for this affiliate."})]}),hpe=({affiliateProfiles:t,payouts:e,users:r,showNotification:n})=>{let[a,i]=(0,wo.useState)(""),[s,o]=(0,wo.useState)(null),[l,u]=(0,wo.useState)(null),[c,d]=(0,wo.useState)(""),[f,A]=(0,wo.useState)(!0),[v,I]=(0,wo.useState)({}),[w,g]=(0,wo.useState)({}),[b,S]=(0,wo.useState)(null),[F,O]=(0,wo.useState)({}),[R,T]=(0,wo.useState)(null),B=(0,wo.useMemo)(()=>new Map(r.map(j=>[j.id,j])),[r]),k=async()=>{A(!0);try{let oe=(await cr.httpsCallable("getAffiliateConfiguration")()).data;d(String(oe.commissionRate)),t.forEach(q=>{q.status==="pending"&&I(X=>({...X,[q.userId]:String(oe.commissionRate)}))})}catch{n("Failed to load affiliate settings.","error")}finally{A(!1)}};(0,wo.useEffect)(()=>{k()},[n,t]);let U=async j=>{let K=b===j?null:j;if(S(K),K&&!F[K]){T(K);try{let X=(await Ce.collection("affiliate_profiles").doc(K).collection("referrals").orderBy("createdAt","desc").get()).docs.map(te=>({id:te.id,...te.data()}));O(te=>({...te,[K]:X}))}catch(oe){console.error("Failed to fetch referral details:",oe),n("Could not load referral details.","error")}finally{T(null)}}},E=async()=>{let j=parseFloat(c);if(isNaN(j)||j<0||j>100){n("Please enter a valid commission rate between 0 and 100.","error");return}A(!0);try{await cr.httpsCallable("updateAffiliateSettings")({commissionRate:j}),n("Affiliate settings updated successfully!","success")}catch(K){n(`Error: ${K.message}`,"error")}finally{A(!1)}},_=async j=>{o(j);try{let K=v[j],oe=K?parseFloat(K):void 0;if(oe!==void 0&&(isNaN(oe)||oe<0||oe>100))throw new Error("Invalid commission rate provided.");await cr.httpsCallable("approveAffiliateRequest")({userId:j,commissionRate:oe}),n("User has been approved.","success")}catch(K){n(`Error: ${K.message}`,"error")}finally{o(null)}},L=async j=>{o(j);try{await cr.httpsCallable("rejectAffiliateRequest")({userId:j}),n("User has been rejected.","success")}catch(K){n(`Error: ${K.message}`,"error")}finally{o(null)}},D=async j=>{o(j);try{let K=cr.httpsCallable("updateAffiliateProfile"),oe=w[j],q=null;if(oe===""||oe==null)q=null;else if(q=parseFloat(oe),isNaN(q)||q<0||q>100)throw new Error("Invalid commission rate. Must be between 0 and 100.");await K({userId:j,commissionRate:q}),n("Commission rate updated!","success"),g(X=>{let te={...X};return delete te[j],te})}catch(K){n(`Error: ${K.message}`,"error")}finally{o(null)}},z=async j=>{if(window.confirm("Are you sure you want to deactivate this affiliate? They will stop earning new commissions.")){o(j);try{await cr.httpsCallable("deactivateAffiliate")({userId:j}),n("Affiliate has been deactivated.","success")}catch(K){n(`Error: ${K.message}`,"error")}finally{o(null)}}},ee=(0,wo.useMemo)(()=>{let j=a.toLowerCase();return t.map(K=>({...K,user:B.get(K.userId)})).filter(K=>K.user&&(K.user.name.toLowerCase().includes(j)||K.user.email?.toLowerCase().includes(j)||K.refId?.toLowerCase().includes(j))).sort((K,oe)=>(oe.createdAt?.toMillis()||0)-(K.createdAt?.toMillis()||0))},[a,t,B]),Y=(0,wo.useMemo)(()=>e.filter(j=>j.status==="pending").sort((j,K)=>(j.requestedAt?.toMillis()||0)-(K.requestedAt?.toMillis()||0)),[e]),$=j=>{let K=s===j.userId;switch(j.status){case"pending":case"left":case"rejected":return(0,gt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,gt.jsxs)("div",{className:"relative w-20",children:[(0,gt.jsx)("input",{type:"number",value:v[j.userId]||"",onChange:oe=>I(q=>({...q,[j.userId]:oe.target.value})),className:"w-full p-1.5 pr-6 border rounded-md text-xs bg-white text-gray-900 placeholder-gray-500",placeholder:"Rate",disabled:K}),(0,gt.jsx)(nA,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",size:12})]}),(0,gt.jsx)("button",{onClick:()=>_(j.userId),disabled:K,className:"p-2 text-green-600 hover:bg-green-100 rounded-full",title:"Approve",children:K?(0,gt.jsx)(Pt,{className:"animate-spin",size:18}):(0,gt.jsx)(a2,{size:18})}),j.status==="pending"&&(0,gt.jsx)("button",{onClick:()=>L(j.userId),disabled:K,className:"p-2 text-red-600 hover:bg-red-100 rounded-full",title:"Reject",children:(0,gt.jsx)(w1,{size:18})})]});case"active":return(0,gt.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,gt.jsx)("button",{onClick:()=>D(j.userId),disabled:K||w[j.userId]===void 0,className:"p-2 text-green-600 hover:bg-green-100 rounded-full disabled:text-gray-300 disabled:hover:bg-transparent",title:"Save Commission Rate",children:K?(0,gt.jsx)(Pt,{className:"animate-spin",size:18}):(0,gt.jsx)(ua,{size:18})}),(0,gt.jsx)("button",{onClick:()=>z(j.userId),disabled:K,className:"p-2 text-red-600 hover:bg-red-100 rounded-full",title:"Deactivate Affiliate",children:(0,gt.jsx)(w1,{size:18})})]});default:return"N/A"}};return(0,gt.jsxs)("div",{className:"space-y-8",children:[(0,gt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Affiliate Management"}),(0,gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,gt.jsxs)("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,gt.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Pending Payouts"}),(0,gt.jsxs)("div",{className:"overflow-x-auto",children:[(0,gt.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,gt.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{className:"px-6 py-3",children:"Date Requested"}),(0,gt.jsx)("th",{className:"px-6 py-3",children:"User"}),(0,gt.jsx)("th",{className:"px-6 py-3",children:"Payout Details"}),(0,gt.jsx)("th",{className:"px-6 py-3 text-right",children:"Amount"}),(0,gt.jsx)("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),(0,gt.jsx)("tbody",{children:Y.map(j=>(0,gt.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,gt.jsx)("td",{className:"px-6 py-4",children:sn(j.requestedAt)}),(0,gt.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:j.userName}),(0,gt.jsx)("td",{className:"px-6 py-4 whitespace-pre-wrap max-w-xs",children:j.details}),(0,gt.jsx)("td",{className:"px-6 py-4 text-right font-bold text-green-600",children:AB(j.amount)}),(0,gt.jsx)("td",{className:"px-6 py-4 text-center",children:(0,gt.jsxs)("button",{onClick:()=>u(j),className:"px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-xs font-semibold flex items-center gap-2",children:[(0,gt.jsx)(iA,{size:14})," Process"]})})]},j.id))})]}),Y.length===0&&(0,gt.jsx)("p",{className:"text-center text-gray-500 py-4 italic",children:"No pending payouts."})]})]}),(0,gt.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,gt.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Affiliate Settings"}),(0,gt.jsx)("button",{onClick:k,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",title:"Refresh settings",children:(0,gt.jsx)(g0,{size:16})})]}),f&&!c?(0,gt.jsx)("div",{className:"flex justify-center items-center h-24",children:(0,gt.jsx)(Pt,{className:"animate-spin text-blue-500"})}):(0,gt.jsxs)("div",{className:"space-y-3",children:[(0,gt.jsxs)("div",{children:[(0,gt.jsx)("label",{htmlFor:"commissionRate",className:"text-sm font-medium text-gray-700 block mb-1",children:"Global Commission Rate"}),(0,gt.jsxs)("div",{className:"relative",children:[(0,gt.jsx)("input",{id:"commissionRate",type:"number",value:c,onChange:j=>d(j.target.value),className:"w-full p-2 pr-8 border rounded-md bg-white text-gray-900 placeholder-gray-500",placeholder:"e.g., 20",min:"0",max:"100"}),(0,gt.jsx)(nA,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),(0,gt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This is the default rate for new affiliates."})]}),(0,gt.jsxs)("button",{onClick:E,disabled:f,className:"w-full flex justify-center items-center gap-2 py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-green-400",children:[f?(0,gt.jsx)(Pt,{className:"animate-spin"}):(0,gt.jsx)(ua,{size:16}),"Save Global Rate"]})]})]})]}),(0,gt.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,gt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[(0,gt.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Affiliate Profiles"}),(0,gt.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,gt.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,gt.jsx)("input",{type:"text",placeholder:"Search by name, email, ref ID...",value:a,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500"})]})]}),(0,gt.jsxs)("div",{className:"overflow-x-auto",children:[(0,gt.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,gt.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,gt.jsxs)("tr",{children:[(0,gt.jsx)("th",{className:"px-6 py-3 w-px"}),(0,gt.jsx)("th",{className:"px-6 py-3",children:"User"}),(0,gt.jsx)("th",{className:"px-6 py-3",children:"Status"}),(0,gt.jsx)("th",{className:"px-6 py-3",children:"Referral ID"}),(0,gt.jsx)("th",{className:"px-6 py-3",children:"Commission Rate"}),(0,gt.jsx)("th",{className:"px-6 py-3 text-right",children:"Balance"}),(0,gt.jsx)("th",{className:"px-6 py-3 text-right",children:"Total Earnings"}),(0,gt.jsx)("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),(0,gt.jsx)("tbody",{children:ee.map(j=>(0,gt.jsxs)(wo.Fragment,{children:[(0,gt.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,gt.jsx)("td",{className:"px-6 py-4",children:(0,gt.jsx)("button",{onClick:()=>U(j.id),className:"p-1 rounded-full hover:bg-gray-200",children:b===j.id?(0,gt.jsx)(Ss,{size:16}):(0,gt.jsx)(o0,{size:16})})}),(0,gt.jsxs)("td",{className:"px-6 py-4 font-medium text-gray-900",children:[(0,gt.jsx)("div",{children:j.user?.name}),(0,gt.jsx)("div",{className:"text-xs text-gray-500",children:j.user?.email})]}),(0,gt.jsx)("td",{className:"px-6 py-4 capitalize",children:j.status}),(0,gt.jsx)("td",{className:"px-6 py-4 font-mono",children:j.refId||"N/A"}),(0,gt.jsx)("td",{className:"px-6 py-4",children:j.status==="active"?(0,gt.jsxs)("div",{className:"relative w-24",children:[(0,gt.jsx)("input",{type:"number",value:w[j.userId]??j.commissionRate??"",onChange:K=>g(oe=>({...oe,[j.userId]:K.target.value})),className:"w-full p-1.5 pr-6 border rounded-md text-xs bg-white",placeholder:String(c),disabled:s===j.userId}),(0,gt.jsx)(nA,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",size:12})]}):j.commissionRate!==void 0?`${j.commissionRate}%`:"N/A"}),(0,gt.jsx)("td",{className:"px-6 py-4 text-right font-semibold",children:AB(j.balance)}),(0,gt.jsx)("td",{className:"px-6 py-4 text-right",children:AB(j.totalEarnings)}),(0,gt.jsx)("td",{className:"px-6 py-4 text-center",children:$(j)})]}),b===j.id&&(0,gt.jsx)("tr",{children:(0,gt.jsx)("td",{colSpan:8,className:"p-0",children:R===j.id?(0,gt.jsx)("div",{className:"flex justify-center items-center p-4",children:(0,gt.jsx)(Pt,{className:"animate-spin text-blue-500"})}):(0,gt.jsx)(fpe,{referrals:F[j.id]||[]})})})]},j.id))})]}),ee.length===0&&(0,gt.jsx)("p",{className:"text-center text-gray-500 py-4 italic",children:"No matching affiliate profiles found."})]})]}),l&&(0,gt.jsx)(RK,{payout:l,onClose:()=>u(null),showNotification:n})]})},UK=hpe;var eb=ce($t());var Xs=ce(_e()),ppe=({user:t,summary:e,onClick:r})=>(0,Xs.jsxs)("button",{onClick:r,className:"w-full text-left p-5 bg-white rounded-xl shadow-lg border border-gray-200 hover:border-blue-500 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 space-y-3",children:[(0,Xs.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Xs.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:(0,Xs.jsx)(ca,{className:"text-blue-500",size:20})}),(0,Xs.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xs.jsx)("p",{className:"font-bold text-gray-800 truncate",title:t.name,children:t.name}),(0,Xs.jsx)("p",{className:"text-sm text-gray-500 truncate",title:t.email||"",children:t.email})]})]}),(0,Xs.jsxs)("div",{className:"border-t pt-3 space-y-2 text-sm",children:[(0,Xs.jsxs)("div",{className:"flex justify-between items-center text-gray-600",children:[(0,Xs.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Xs.jsx)(oA,{size:14,className:"text-red-500"}),(0,Xs.jsx)("span",{children:"Total Credits Used"})]}),(0,Xs.jsx)("span",{className:"font-mono font-bold text-red-600",children:e.totalCredits})]}),(0,Xs.jsxs)("div",{className:"flex justify-between items-center text-gray-600",children:[(0,Xs.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Xs.jsx)(Il,{size:14,className:"text-gray-400"}),(0,Xs.jsx)("span",{children:"Last Activity"})]}),(0,Xs.jsx)("span",{className:"font-mono text-xs",children:sn(e.lastActivity)})]})]})]}),DK=ppe;var Z1=ce($t());gE();var vte=ce(yte());var Sn=ce(_e()),QIe=({user:t,logs:e,apps:r,onBack:n})=>{let a=new Date().toISOString().split("T")[0],[i,s]=(0,Z1.useState)(""),[o,l]=(0,Z1.useState)(""),[u,c]=(0,Z1.useState)("all"),d=(0,Z1.useMemo)(()=>e.filter(A=>{let v=A.timestamp?.toDate();if(!v)return!1;let I=u==="all"||A.appId===u,w=(()=>{if(!i&&!o)return!0;let g=i?new Date(i):null,b=o?new Date(o):null;return g&&g.setHours(0,0,0,0),b&&b.setHours(23,59,59,999),g&&b?v>=g&&v<=b:g?v>=g:b?v<=b:!0})();return I&&w}),[e,i,o,u]),f=()=>{let A=new IM,v=["Date & Time","Application Name","Credits Deducted"],I=[];d.forEach(O=>{let R=[sn(O.timestamp),O.appName,O.creditsDeducted];I.push(R)});let w=A.internal.pageSize.getWidth(),g=A.internal.pageSize.getHeight();A.setFontSize(20).setFont(void 0,"bold"),A.text("Powerful Tools",w/2,15,{align:"center"}),A.setFontSize(12).setFont(void 0,"normal"),A.text(`Credit Usage Report for ${t.name}`,w/2,23,{align:"center"});let b=new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\//g,"-");A.text(b,w-15,15,{align:"right"}),(0,vte.default)(A,{head:[v],body:I,startY:35,theme:"striped",headStyles:{fillColor:[37,99,235]}});let S="Contact @ 7891474105";A.setFontSize(10),A.text(S,w/2,g-10,{align:"center"});let F=new Date().toISOString().split("T")[0];A.save(`Credit_Report_${t.name.replace(/ /g,"_")}_${F}.pdf`)};return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("button",{onClick:n,className:"flex items-center gap-2 text-blue-600 font-semibold hover:underline",children:[(0,Sn.jsx)(a0,{size:18}),"Back to All Users"]}),(0,Sn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,Sn.jsxs)("div",{className:"border-b pb-4 mb-4",children:[(0,Sn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Credit Usage Log"}),(0,Sn.jsxs)("p",{className:"text-gray-500 mt-1",children:["Showing records for ",(0,Sn.jsx)("span",{className:"font-medium text-gray-700",children:t.name})]})]}),(0,Sn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center gap-2 font-semibold text-gray-700",children:[(0,Sn.jsx)(u0,{size:16}),(0,Sn.jsx)("span",{children:"Filter Report"})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Sn.jsx)("input",{type:"date",value:i,onChange:A=>s(A.target.value),max:o||a,className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Sn.jsx)("input",{type:"date",value:o,onChange:A=>l(A.target.value),min:i,max:a,className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)(mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Sn.jsxs)("select",{value:u,onChange:A=>c(A.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 appearance-none focus:ring-blue-500 focus:border-blue-500 transition",children:[(0,Sn.jsx)("option",{value:"all",children:"All Applications"}),r.map(A=>(0,Sn.jsx)("option",{value:A.id,children:A.name},A.id))]})]})]})]}),(0,Sn.jsx)("div",{className:"flex justify-end mt-4",children:(0,Sn.jsxs)("button",{onClick:f,disabled:d.length===0,className:"flex items-center justify-center bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[(0,Sn.jsx)(l0,{size:18,className:"mr-2"}),"Download PDF"]})}),(0,Sn.jsxs)("div",{className:"mt-6 overflow-x-auto",children:[(0,Sn.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,Sn.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,Sn.jsxs)("tr",{children:[(0,Sn.jsx)("th",{className:"px-6 py-3",children:"Date & Time"}),(0,Sn.jsx)("th",{className:"px-6 py-3",children:"Application"}),(0,Sn.jsx)("th",{className:"px-6 py-3 text-right",children:"Credits Used"})]})}),(0,Sn.jsx)("tbody",{children:d.map(A=>(0,Sn.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,Sn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:sn(A.timestamp)}),(0,Sn.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:A.appName}),(0,Sn.jsxs)("td",{className:"px-6 py-4 text-right font-mono font-semibold text-red-600",children:["-",A.creditsDeducted]})]},A.id))})]}),d.length===0&&(0,Sn.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Sn.jsx)(gc,{size:32,className:"mx-auto text-gray-300 mb-2"}),(0,Sn.jsx)("p",{children:"No credit usage records found for the selected filters."})]})]})]})]})},bte=QIe;var rl=ce(_e()),HIe=({users:t,apps:e,creditLogs:r})=>{let[n,a]=(0,eb.useState)(null),[i,s]=(0,eb.useState)(""),o=(0,eb.useMemo)(()=>{let u={};return t.forEach(c=>{u[c.id]={totalCredits:0}}),r.forEach(c=>{u[c.userId]&&(u[c.userId].totalCredits+=c.creditsDeducted,(!u[c.userId].lastActivity||c.timestamp>u[c.userId].lastActivity)&&(u[c.userId].lastActivity=c.timestamp))}),u},[t,r]),l=(0,eb.useMemo)(()=>{if(!i)return t;let u=i.toLowerCase();return t.filter(c=>c.name.toLowerCase().includes(u)||c.email&&c.email.toLowerCase().includes(u)||c.phone&&c.phone.includes(i))},[t,i]);return n?(0,rl.jsx)(bte,{user:n,logs:r.filter(u=>u.userId===n.id),apps:e,onBack:()=>a(null)}):(0,rl.jsxs)("div",{className:"space-y-8",children:[(0,rl.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,rl.jsxs)("div",{children:[(0,rl.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Credit Usage Reports"}),(0,rl.jsx)("p",{className:"text-gray-500 mt-1",children:"Select a user to view their detailed credit usage log and generate reports."})]}),(0,rl.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,rl.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,rl.jsx)("input",{type:"text",placeholder:"Search by name, email, or phone...",value:i,onChange:u=>s(u.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]})]}),l.length>0?(0,rl.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(u=>(0,rl.jsx)(DK,{user:u,summary:o[u.id]||{totalCredits:0},onClick:()=>a(u)},u.id))}):(0,rl.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-12 text-center text-gray-500",children:[(0,rl.jsx)(wf,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,rl.jsx)("h3",{className:"text-xl font-semibold",children:"No Users Found"}),(0,rl.jsx)("p",{children:"No users match your search criteria."})]})]})},wte=HIe;var Em=ce($t());var Ea=ce(_e()),VIe=[{key:"about",label:"About Us"},{key:"contact",label:"Contact Us"},{key:"pricing",label:"Pricing Page"},{key:"privacy",label:"Privacy Policy"},{key:"terms",label:"Terms & Conditions"},{key:"refund",label:"Refund Policy"},{key:"shipping",label:"Shipping Policy"}],qIe=({showNotification:t})=>{let[e,r]=(0,Em.useState)({title:"",keywords:"",description:"",featuredImageUrl:"",staticPages:{}}),[n,a]=(0,Em.useState)(!0),[i,s]=(0,Em.useState)(!1),o=(0,Em.useCallback)(async()=>{a(!0);try{let f=await Ce.collection("site_content").doc("seo").get();if(f.exists){let A=f.data();r({title:A?.title||"",keywords:A?.keywords||"",description:A?.description||"",featuredImageUrl:A?.featuredImageUrl||"",staticPages:A?.staticPages||{}})}}catch(d){console.error("Error fetching SEO data:",d),t("Failed to load SEO data.","error")}finally{a(!1)}},[t]);(0,Em.useEffect)(()=>{o()},[o]);let l=d=>{let{name:f,value:A}=d.target;r(v=>({...v,[f]:A}))},u=(d,f,A)=>{r(v=>({...v,staticPages:{...v.staticPages,[d]:{...v.staticPages?.[d]||{title:"",description:""},[f]:A}}}))},c=async()=>{s(!0);try{await Ce.collection("site_content").doc("seo").set(e,{merge:!0}),t("SEO settings updated successfully!","success")}catch(d){console.error("Error saving SEO data:",d),t("Failed to save SEO settings.","error")}finally{s(!1)}};return n?(0,Ea.jsx)("div",{className:"flex items-center justify-center p-10",children:(0,Ea.jsx)(Pt,{className:"animate-spin text-blue-500",size:48})}):(0,Ea.jsxs)("div",{className:"space-y-8",children:[(0,Ea.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,Ea.jsxs)("div",{children:[(0,Ea.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"SEO Settings"}),(0,Ea.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage meta keywords and description for search engines."})]}),(0,Ea.jsxs)("button",{onClick:c,disabled:i,className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 w-full sm:w-auto",children:[i?(0,Ea.jsx)(Pt,{className:"animate-spin mr-2",size:20}):(0,Ea.jsx)(ua,{className:"mr-2",size:20}),i?"Saving...":"Save All Changes"]})]}),(0,Ea.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 space-y-6",children:[(0,Ea.jsxs)("div",{children:[(0,Ea.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Global SEO Settings"}),(0,Ea.jsx)("div",{className:"p-4 bg-gray-50 border rounded-lg space-y-4",children:(0,Ea.jsxs)("div",{children:[(0,Ea.jsx)("label",{htmlFor:"keywords",className:"text-md font-semibold text-gray-700 block mb-2",children:"Global Meta Keywords"}),(0,Ea.jsx)("textarea",{id:"keywords",name:"keywords",value:e.keywords,onChange:l,placeholder:"powerful tools, user management, admin dashboard, saas",className:"w-full h-24 p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-y bg-white text-gray-900 placeholder-gray-500"}),(0,Ea.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a comma-separated list of keywords relevant to your entire site. These are used as a fallback."})]})})]}),(0,Ea.jsxs)("div",{children:[(0,Ea.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Static Page SEO"}),(0,Ea.jsxs)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-r-lg mb-4",children:[(0,Ea.jsx)("p",{className:"font-bold",children:"Note:"}),(0,Ea.jsxs)("p",{className:"text-sm",children:["SEO for the main homepage is managed in the ",(0,Ea.jsx)("strong",{children:"Homepage Builder"})," tab. Use this section for other static pages like 'About Us', 'Pricing', etc."]})]}),(0,Ea.jsx)("div",{className:"p-4 bg-gray-50 border rounded-lg space-y-4",children:VIe.map(d=>(0,Ea.jsxs)("div",{className:"p-3 border-b last:border-b-0",children:[(0,Ea.jsxs)("h4",{className:"font-semibold text-gray-700 mb-2",children:[d.label," Page"]}),(0,Ea.jsxs)("div",{className:"space-y-3",children:[(0,Ea.jsx)("input",{type:"text",value:e.staticPages?.[d.key]?.title||"",onChange:f=>u(d.key,"title",f.target.value),placeholder:"Meta Title",maxLength:70,className:"w-full p-2 border rounded-lg bg-white"}),(0,Ea.jsx)("textarea",{value:e.staticPages?.[d.key]?.description||"",onChange:f=>u(d.key,"description",f.target.value),placeholder:"Meta Description",maxLength:160,className:"w-full p-2 border rounded-lg bg-white h-20 resize-y"})]})]},d.key))})]})]})]})},xte=qIe;var yE=ce($t());var fa=ce(_e()),zIe=({posts:t,onEdit:e,onDelete:r,onAddNew:n})=>{let[a,i]=(0,yE.useState)(""),s=(0,yE.useMemo)(()=>{if(!a)return t;let o=a.toLowerCase();return t.filter(l=>l.title.toLowerCase().includes(o)||l.authorName.toLowerCase().includes(o))},[t,a]);return(0,fa.jsxs)("section",{className:"space-y-4",children:[(0,fa.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[(0,fa.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,fa.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,fa.jsx)("input",{type:"text",placeholder:"Search by title or author...",value:a,onChange:o=>i(o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,fa.jsxs)("button",{onClick:n,className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors w-full sm:w-auto",children:[(0,fa.jsx)(_a,{className:"mr-2 h-5 w-5"})," Create New Post"]})]}),(0,fa.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:(0,fa.jsx)("div",{className:"overflow-x-auto",children:(0,fa.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,fa.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,fa.jsxs)("tr",{children:[(0,fa.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Title"}),(0,fa.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Author"}),(0,fa.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Status"}),(0,fa.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Last Updated"}),(0,fa.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold text-right",children:"Actions"})]})}),(0,fa.jsx)("tbody",{children:s.length>0?s.map(o=>(0,fa.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50 transition-colors",children:[(0,fa.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:o.title}),(0,fa.jsx)("td",{className:"px-6 py-4",children:o.authorName}),(0,fa.jsx)("td",{className:"px-6 py-4",children:(0,fa.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})}),(0,fa.jsx)("td",{className:"px-6 py-4",children:sn(o.updatedAt)}),(0,fa.jsx)("td",{className:"px-6 py-4 text-right",children:(0,fa.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[(0,fa.jsx)("button",{onClick:()=>e(o),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-full","aria-label":"Edit post",children:(0,fa.jsx)(Kn,{size:18})}),(0,fa.jsx)("button",{onClick:()=>r(o),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-full","aria-label":"Delete post",children:(0,fa.jsx)(Ar,{size:18})})]})})]},o.id)):(0,fa.jsx)("tr",{children:(0,fa.jsxs)("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:[(0,fa.jsx)(Jo,{size:32,className:"mx-auto text-gray-300 mb-2"}),"No blog posts found."]})})})]})})})]})},Cte=zIe;var tb=ce($t());var Pn=ce(_e()),jIe=t=>t.toString().toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),KIe=({post:t,onClose:e,onSave:r,showNotification:n})=>{let[a,i]=(0,tb.useState)({title:"",slug:"",content:"",excerpt:"",featuredImageUrl:"",status:"draft",metaTitle:"",metaDescription:"",tags:""}),[s,o]=(0,tb.useState)(!1),[l,u]=(0,tb.useState)("visual");(0,tb.useEffect)(()=>{i(t?{title:t.title,slug:t.slug,content:t.content,excerpt:t.excerpt,featuredImageUrl:t.featuredImageUrl||"",status:t.status,metaTitle:t.metaTitle||"",metaDescription:t.metaDescription||"",tags:(t.tags||[]).join(", ")}:{title:"",slug:"",content:"",excerpt:"",featuredImageUrl:"",status:"draft",metaTitle:"",metaDescription:"",tags:""})},[t]);let c=f=>{let{name:A,value:v}=f.target;i(A==="title"?I=>({...I,title:v,slug:jIe(v)}):I=>({...I,[A]:v}))};return(0,Pn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,Pn.jsxs)("form",{onSubmit:async f=>{f.preventDefault(),o(!0);let A={...a,tags:a.tags.split(",").map(v=>v.trim()).filter(Boolean)};await r(A),o(!1)},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,Pn.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,Pn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Blog Post":"Create New Blog Post"}),(0,Pn.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Pn.jsx)(dr,{size:24})})]})}),(0,Pn.jsxs)("main",{className:"flex-grow p-6 space-y-4 overflow-y-auto",children:[(0,Pn.jsx)("input",{type:"text",name:"title",value:a.title,onChange:c,placeholder:"Post Title",required:!0,className:"w-full p-3 border rounded-lg text-lg font-semibold"}),(0,Pn.jsx)("input",{type:"text",name:"slug",value:a.slug,onChange:c,placeholder:"URL Slug (auto-generated)",required:!0,className:"w-full p-2 border rounded-lg bg-gray-100 font-mono text-sm"}),(0,Pn.jsxs)("div",{children:[(0,Pn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Content"}),(0,Pn.jsxs)("div",{className:"border border-gray-300 rounded-lg",children:[(0,Pn.jsxs)("div",{className:"flex border-b bg-gray-50 rounded-t-lg",children:[(0,Pn.jsx)("button",{type:"button",onClick:()=>u("visual"),className:`py-2 px-4 text-sm font-semibold rounded-tl-lg ${l==="visual"?"bg-white border-b-0 border-t-2 border-t-blue-500 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,children:"Visual Preview"}),(0,Pn.jsx)("button",{type:"button",onClick:()=>u("code"),className:`py-2 px-4 text-sm font-semibold ${l==="code"?"bg-white border-b-0 border-t-2 border-t-blue-500 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,children:"Code (HTML)"})]}),l==="visual"?(0,Pn.jsx)("div",{className:"prose max-w-none w-full p-3 h-64 overflow-y-auto bg-white rounded-b-lg",dangerouslySetInnerHTML:{__html:a.content||'<p class="text-gray-400">This is a preview. Switch to the Code (HTML) tab to write your post.</p>'}}):(0,Pn.jsx)("textarea",{name:"content",value:a.content,onChange:c,placeholder:"Write your HTML code here...",required:!0,className:"w-full p-3 border-0 rounded-b-lg h-64 resize-y focus:ring-0 font-mono bg-gray-800 text-green-400 selection:bg-green-800"})]})]}),(0,Pn.jsx)("textarea",{name:"excerpt",value:a.excerpt,onChange:c,placeholder:"Short excerpt for blog list (max 200 chars)",required:!0,maxLength:200,className:"w-full p-3 border rounded-lg h-24 resize-y"}),(0,Pn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pn.jsxs)("div",{children:[(0,Pn.jsx)("label",{htmlFor:"featuredImageUrl",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Featured Image URL"}),(0,Pn.jsx)("input",{id:"featuredImageUrl",name:"featuredImageUrl",type:"text",value:a.featuredImageUrl,onChange:c,placeholder:"https://example.com/image.jpg",className:"w-full p-3 border rounded-lg"}),a.featuredImageUrl&&(0,Pn.jsxs)("div",{className:"mt-2 relative group",children:[(0,Pn.jsx)("img",{src:a.featuredImageUrl,alt:"Preview",className:"w-full h-32 object-cover rounded-lg border"}),(0,Pn.jsx)("button",{type:"button",onClick:()=>i(f=>({...f,featuredImageUrl:""})),className:"absolute top-2 right-2 p-1.5 bg-black bg-opacity-50 text-white rounded-full",title:"Remove Image URL",children:(0,Pn.jsx)(Ar,{size:16})})]}),(0,Pn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Paste a direct link to an image. The image must be publicly hosted online."})]}),(0,Pn.jsxs)("select",{name:"status",value:a.status,onChange:c,className:"w-full p-3 border rounded-lg bg-white self-start",children:[(0,Pn.jsx)("option",{value:"draft",children:"Draft"}),(0,Pn.jsx)("option",{value:"published",children:"Published"})]})]}),(0,Pn.jsxs)("div",{children:[(0,Pn.jsx)("h4",{className:"font-semibold text-gray-600 mb-2",children:"SEO Settings"}),(0,Pn.jsxs)("div",{className:"space-y-3 p-4 bg-gray-50 border rounded-lg",children:[(0,Pn.jsx)("input",{type:"text",name:"metaTitle",value:a.metaTitle,onChange:c,placeholder:"Meta Title (for search engines)",className:"w-full p-2 border rounded-md"}),(0,Pn.jsx)("textarea",{name:"metaDescription",value:a.metaDescription,onChange:c,placeholder:"Meta Description (for search engines, max 160 chars)",maxLength:160,className:"w-full p-2 border rounded-md h-20 resize-y"}),(0,Pn.jsx)("input",{type:"text",name:"tags",value:a.tags,onChange:c,placeholder:"Tags (comma-separated)",className:"w-full p-2 border rounded-md"})]})]})]}),(0,Pn.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,Pn.jsx)("button",{type:"button",onClick:e,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:s,children:"Cancel"}),(0,Pn.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:s,children:[s&&(0,Pn.jsx)(Pt,{className:"animate-spin mr-2",size:20}),s?"Saving...":"Save Post"]})]})]})})},vE=KIe;var Qu=ce(_e()),GIe=({post:t,onClose:e,onConfirm:r})=>t?(0,Qu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,Qu.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Qu.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Qu.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Qu.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Blog Post"}),(0,Qu.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,Qu.jsxs)("p",{children:["Are you sure you want to delete the post ",(0,Qu.jsxs)("strong",{className:"font-bold",children:['"',t.title,'"']}),"?"]}),(0,Qu.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone."})]}),(0,Qu.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Qu.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Qu.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})}):null,bE=GIe;var Ite=ce($t());var Mn=ce(_e()),WIe=t=>`\u20B9${(t/100).toFixed(2)}`,$Ie=({leads:t,showNotification:e})=>{let[r,n]=(0,Ite.useState)(""),a=t.filter(o=>o.name.toLowerCase().includes(r.toLowerCase())||o.email.toLowerCase().includes(r.toLowerCase())),i=async(o,l)=>{try{await Ce.collection("leads").doc(o).update({status:l}),e("Lead status updated.","success")}catch(u){console.error("Error updating lead status:",u),e("Failed to update status.","error")}},s=async o=>{if(window.confirm("Are you sure you want to delete this lead? This cannot be undone."))try{await Ce.collection("leads").doc(o).delete(),e("Lead deleted.","success")}catch(l){console.error("Error deleting lead:",l),e("Failed to delete lead.","error")}};return(0,Mn.jsxs)("section",{className:"space-y-4",children:[(0,Mn.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,Mn.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Mn.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:r,onChange:o=>n(o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,Mn.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:(0,Mn.jsx)("div",{className:"overflow-x-auto",children:(0,Mn.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,Mn.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,Mn.jsxs)("tr",{children:[(0,Mn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Date Captured"}),(0,Mn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Time"}),(0,Mn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Name"}),(0,Mn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Email"}),(0,Mn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Phone"}),(0,Mn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Cart Content"}),(0,Mn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Status"}),(0,Mn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold text-right",children:"Actions"})]})}),(0,Mn.jsx)("tbody",{children:a.length>0?a.map(o=>(0,Mn.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,Mn.jsx)("td",{className:"px-6 py-4",children:sn(o.createdAt)}),(0,Mn.jsx)("td",{className:"px-6 py-4",children:aB(o.createdAt)}),(0,Mn.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:o.name}),(0,Mn.jsx)("td",{className:"px-6 py-4",children:o.email}),(0,Mn.jsx)("td",{className:"px-6 py-4",children:o.phone||"N/A"}),(0,Mn.jsx)("td",{className:"px-6 py-4",children:(0,Mn.jsx)("ul",{className:"text-xs",children:(o.cart||[]).map((l,u)=>(0,Mn.jsxs)("li",{children:["- ",l.appName," (",l.tierName,") @ ",WIe(l.price)]},u))})}),(0,Mn.jsx)("td",{className:"px-6 py-4",children:(0,Mn.jsxs)("select",{value:o.status,onChange:l=>i(o.id,l.target.value),className:"p-1 border rounded-md text-xs bg-white focus:ring-blue-500 focus:border-blue-500",children:[(0,Mn.jsx)("option",{value:"new",children:"New"}),(0,Mn.jsx)("option",{value:"contacted",children:"Contacted"}),(0,Mn.jsx)("option",{value:"converted",children:"Converted"}),(0,Mn.jsx)("option",{value:"lost",children:"Lost"})]})}),(0,Mn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Mn.jsx)("button",{onClick:()=>s(o.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full","aria-label":"Delete lead",children:(0,Mn.jsx)(Ar,{size:18})})})]},o.id)):(0,Mn.jsx)("tr",{children:(0,Mn.jsxs)("td",{colSpan:8,className:"text-center py-8 text-gray-500",children:[(0,Mn.jsx)(wf,{size:32,className:"mx-auto text-gray-300 mb-2"}),"No leads found."]})})})]})})})]})},Nte=$Ie;var j0=ce($t());var z0=ce($t());var Bn=ce(_e()),YIe=({webinar:t,apps:e,onClose:r,showNotification:n})=>{let[a,i]=(0,z0.useState)({name:"",description:"",link:"",webinarDate:"",webinarTime:"",expiryDate:"",price:"",addOnAppId:"",language:"",venue:"",zoomWebinarId:"",passcode:"",webhookUrl:""}),[s,o]=(0,z0.useState)(!1);(0,z0.useEffect)(()=>{t&&i({name:t.name,description:t.description,link:t.link,webinarDate:t.webinarDate,webinarTime:t.webinarTime,expiryDate:t.expiryDate,price:(t.price/100).toString(),addOnAppId:t.addOnAppId||"",language:t.language||"",venue:t.venue||"",zoomWebinarId:t.zoomWebinarId||"",passcode:t.passcode||"",webhookUrl:t.webhookUrl||""})},[t]);let l=d=>{let{name:f,value:A}=d.target;i(v=>({...v,[f]:A}))},u=async d=>{d.preventDefault(),o(!0);try{let f=Math.round(parseFloat(a.price)*100);if(isNaN(f)||f<0)throw new Error("Invalid price entered.");let{...A}=a,v={...A,price:f,updatedAt:zr.serverTimestamp()};t?(await Ce.collection("webinar_products").doc(t.id).update(v),n("Webinar updated successfully!","success")):(await Ce.collection("webinar_products").add({...v,createdAt:zr.serverTimestamp()}),n("Webinar created successfully!","success")),r()}catch(f){n(`Error saving webinar: ${f.message}`,"error")}finally{o(!1)}},c=(0,z0.useMemo)(()=>a.addOnAppId&&e.find(f=>f.id===a.addOnAppId)?.pricingTiers?.some(f=>f.isWebinarAddon)||!1,[a.addOnAppId,e]);return(0,Bn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,Bn.jsxs)("form",{onSubmit:u,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[(0,Bn.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,Bn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Bn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Webinar":"Create Webinar"}),(0,Bn.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Bn.jsx)(dr,{size:24})})]})}),(0,Bn.jsxs)("main",{className:"flex-grow p-6 space-y-4 overflow-y-auto",children:[(0,Bn.jsx)("input",{type:"text",name:"name",value:a.name,onChange:l,placeholder:"Webinar Name",required:!0,className:"w-full p-3 border rounded-lg"}),(0,Bn.jsx)("textarea",{name:"description",value:a.description,onChange:l,placeholder:"Description",required:!0,className:"w-full p-3 border rounded-lg h-24 resize-y"}),(0,Bn.jsx)("input",{type:"url",name:"link",value:a.link,onChange:l,placeholder:"Webinar Link (e.g., Zoom, Meet)",required:!0,className:"w-full p-3 border rounded-lg"}),(0,Bn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Bn.jsx)("input",{type:"text",name:"zoomWebinarId",value:a.zoomWebinarId,onChange:l,placeholder:"Zoom Webinar ID (for auto-registration)",className:"w-full p-3 border rounded-lg"}),(0,Bn.jsx)("input",{type:"text",name:"passcode",value:a.passcode,onChange:l,placeholder:"Webinar Passcode",className:"w-full p-3 border rounded-lg"})]}),(0,Bn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Bn.jsx)("input",{type:"date",name:"webinarDate",value:a.webinarDate,onChange:l,required:!0,className:"w-full p-3 border rounded-lg",title:"Webinar Date"}),(0,Bn.jsx)("input",{type:"time",name:"webinarTime",value:a.webinarTime,onChange:l,required:!0,className:"w-full p-3 border rounded-lg",title:"Webinar Time"})]}),(0,Bn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Bn.jsx)("input",{type:"text",name:"language",value:a.language,onChange:l,placeholder:"Language (e.g., Hindi)",className:"w-full p-3 border rounded-lg"}),(0,Bn.jsx)("input",{type:"text",name:"venue",value:a.venue,onChange:l,placeholder:"Venue (e.g., Live)",className:"w-full p-3 border rounded-lg"})]}),(0,Bn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Bn.jsx)("input",{type:"date",name:"expiryDate",value:a.expiryDate,onChange:l,required:!0,className:"w-full p-3 border rounded-lg",title:"Purchase Expiry Date"}),(0,Bn.jsx)("input",{type:"number",name:"price",value:a.price,onChange:l,placeholder:"Price (\u20B9)",required:!0,min:"0",step:"0.01",className:"w-full p-3 border rounded-lg"})]}),(0,Bn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border space-y-3",children:[(0,Bn.jsx)("h4",{className:"font-semibold text-gray-700",children:"Automation & Integration"}),(0,Bn.jsxs)("div",{children:[(0,Bn.jsx)("label",{htmlFor:"webhookUrl",className:"text-sm font-medium text-gray-600",children:"Specific Webhook URL (Optional)"}),(0,Bn.jsx)("input",{id:"webhookUrl",type:"url",name:"webhookUrl",value:a.webhookUrl,onChange:l,placeholder:"https://your-crm.com/webinar-a-flow",className:"w-full p-2 mt-1 border rounded-md font-mono text-sm"}),(0,Bn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"If filled, purchases of THIS webinar will go to this URL, overriding the global setting."})]})]}),(0,Bn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border space-y-3",children:[(0,Bn.jsx)("h4",{className:"font-semibold text-gray-700",children:"Optional App Add-on"}),(0,Bn.jsx)("p",{className:"text-xs text-gray-500 -mt-2",children:`Select an app to offer its "Webinar Add-on" tiers during this webinar's checkout.`}),(0,Bn.jsx)("div",{className:"grid grid-cols-1",children:(0,Bn.jsxs)("select",{name:"addOnAppId",value:a.addOnAppId,onChange:l,className:"w-full p-2 border rounded-lg bg-white appearance-none",children:[(0,Bn.jsx)("option",{value:"",children:"No Add-on"}),e.map(d=>(0,Bn.jsx)("option",{value:d.id,children:d.name},d.id))]})}),!c&&a.addOnAppId&&(0,Bn.jsx)("p",{className:"text-xs text-red-500",children:"Warning: The selected app has no 'Webinar Add-on' tiers configured in the App Manager."})]})]}),(0,Bn.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,Bn.jsx)("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:s,children:"Cancel"}),(0,Bn.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:s,children:[s?(0,Bn.jsx)(Pt,{className:"animate-spin mr-2",size:20}):(0,Bn.jsx)(ua,{className:"mr-2",size:20}),s?"Saving...":"Save Webinar"]})]})]})})},Ste=YIe;var Hu=ce(_e()),XIe=({webinar:t,onClose:e,showNotification:r})=>{let n=async()=>{try{await Ce.collection("webinar_products").doc(t.id).delete(),r(`Webinar '${t.name}' deleted.`,"success"),e()}catch(a){r(`Error deleting webinar: ${a.message}`,"error")}};return(0,Hu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,Hu.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Hu.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Hu.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Hu.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Webinar"}),(0,Hu.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,Hu.jsxs)("p",{children:["Are you sure you want to delete the webinar ",(0,Hu.jsxs)("strong",{className:"font-bold",children:['"',t.name,'"']}),"?"]}),(0,Hu.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone."})]}),(0,Hu.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Hu.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Hu.jsx)("button",{type:"button",onClick:n,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})})},Bte=XIe;var Gn=ce(_e()),JIe=({webinarProducts:t,apps:e,showNotification:r})=>{let[n,a]=(0,j0.useState)(""),[i,s]=(0,j0.useState)(!1),[o,l]=(0,j0.useState)(null),[u,c]=(0,j0.useState)(null),d=(0,j0.useMemo)(()=>{if(!n)return t;let v=n.toLowerCase();return t.filter(I=>I.name.toLowerCase().includes(v))},[t,n]),f=(v=null)=>{l(v),s(!0)},A=v=>{c(v)};return(0,Gn.jsxs)("section",{className:"space-y-4",children:[(0,Gn.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[(0,Gn.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,Gn.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Gn.jsx)("input",{type:"text",placeholder:"Search by webinar name...",value:n,onChange:v=>a(v.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,Gn.jsxs)("button",{onClick:()=>f(),className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors w-full sm:w-auto",children:[(0,Gn.jsx)(_a,{className:"mr-2 h-5 w-5"})," Create New Webinar"]})]}),(0,Gn.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:(0,Gn.jsx)("div",{className:"overflow-x-auto",children:(0,Gn.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,Gn.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,Gn.jsxs)("tr",{children:[(0,Gn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Webinar Name"}),(0,Gn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Date & Time"}),(0,Gn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Price"}),(0,Gn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Link"}),(0,Gn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Expires On"}),(0,Gn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold text-right",children:"Actions"})]})}),(0,Gn.jsx)("tbody",{children:d.length>0?d.map(v=>(0,Gn.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50 transition-colors",children:[(0,Gn.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:v.name}),(0,Gn.jsxs)("td",{className:"px-6 py-4",children:[Ws(v.webinarDate)," @ ",v.webinarTime]}),(0,Gn.jsxs)("td",{className:"px-6 py-4 font-semibold",children:["\u20B9",(v.price/100).toFixed(2)]}),(0,Gn.jsx)("td",{className:"px-6 py-4",children:(0,Gn.jsx)("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate max-w-xs block",children:v.link})}),(0,Gn.jsx)("td",{className:"px-6 py-4",children:Ws(v.expiryDate)}),(0,Gn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Gn.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[(0,Gn.jsx)("button",{onClick:()=>f(v),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full","aria-label":"Edit webinar",children:(0,Gn.jsx)(Kn,{size:18})}),(0,Gn.jsx)("button",{onClick:()=>A(v),className:"p-2 text-red-600 hover:bg-red-100 rounded-full","aria-label":"Delete webinar",children:(0,Gn.jsx)(Ar,{size:18})})]})})]},v.id)):(0,Gn.jsx)("tr",{children:(0,Gn.jsxs)("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:[(0,Gn.jsx)(Ph,{size:32,className:"mx-auto text-gray-300 mb-2"}),"No webinar products found."]})})})]})})}),i&&(0,Gn.jsx)(Ste,{webinar:o,apps:e,onClose:()=>s(!1),showNotification:r}),u&&(0,Gn.jsx)(Bte,{webinar:u,onClose:()=>c(null),showNotification:r})]})},_te=JIe;var Pf=ce($t());var du=ce(_e()),ZIe=({purchase:t,onClose:e,onConfirm:r})=>t?(0,du.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,du.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,du.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,du.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,du.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Webinar Purchase"}),(0,du.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,du.jsxs)("p",{children:["Are you sure you want to delete the purchase record for ",(0,du.jsx)("strong",{className:"font-bold",children:t.userName})," for the webinar ",(0,du.jsxs)("strong",{className:"font-bold",children:['"',t.webinarName,'"']}),"?"]}),(0,du.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone and will remove the user's record of attending this webinar."})]}),(0,du.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,du.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,du.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})}):null,Ete=ZIe;var Vu=ce(_e()),eNe=({count:t,isOpen:e,onClose:r,onConfirm:n})=>!e||t===0?null:(0,Vu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,Vu.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Vu.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Vu.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Vu.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Webinar Purchases"}),(0,Vu.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,Vu.jsxs)("p",{children:["Are you sure you want to delete ",(0,Vu.jsx)("strong",{className:"font-bold",children:t})," selected purchase record(s)?"]}),(0,Vu.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone."})]}),(0,Vu.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Vu.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Vu.jsx)("button",{type:"button",onClick:n,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})}),Tte=eNe;var un=ce(_e()),tNe=({purchases:t,showNotification:e})=>{let[r,n]=(0,Pf.useState)(""),[a,i]=(0,Pf.useState)(null),[s,o]=(0,Pf.useState)(new Set),[l,u]=(0,Pf.useState)(!1),[c,d]=(0,Pf.useState)(new Set),f=(0,Pf.useMemo)(()=>{let S=r?t.filter(R=>R.userName.toLowerCase().includes(r.toLowerCase())||R.userEmail.toLowerCase().includes(r.toLowerCase())||R.webinarName.toLowerCase().includes(r.toLowerCase())):t,F={},O=[...S].sort((R,T)=>{let B=new Date(R.webinarDate).getTime(),k=new Date(T.webinarDate).getTime();return B!==k?k-B:R.webinarName.localeCompare(T.webinarName)});for(let R of O){let T=`${R.webinarName} (${Ws(R.webinarDate)})`;F[T]||(F[T]=[]),F[T].push(R)}return F},[t,r]);(0,Pf.useEffect)(()=>{let S=Object.keys(f);S.length>0&&!S.some(F=>c.has(F))?d(new Set([S[0]])):S.length===0&&d(new Set)},[r,f]);let A=S=>{d(F=>{let O=new Set(F);return O.has(S)?O.delete(S):O.add(S),O})},v=S=>{o(F=>{let O=new Set(F);return O.has(S)?O.delete(S):O.add(S),O})},I=S=>{let F=S.map(R=>R.id),O=F.every(R=>s.has(R));o(R=>{let T=new Set(R);return O?F.forEach(B=>T.delete(B)):F.forEach(B=>T.add(B)),T})},w=async()=>{if(a)try{await Ce.collection("webinar_purchases").doc(a.id).delete(),e("Webinar purchase record deleted.","success"),o(S=>{let F=new Set(S);return F.delete(a.id),F})}catch{e("Failed to delete record.","error")}finally{i(null)}},g=async()=>{let S=Array.from(s);if(S.length===0)return;u(!1);let F=[];for(let O=0;O<S.length;O+=500){let R=Ce.batch();S.slice(O,O+500).forEach(B=>R.delete(Ce.collection("webinar_purchases").doc(B))),F.push(R)}try{await Promise.all(F.map(O=>O.commit())),e(`${S.length} record(s) deleted successfully.`,"success"),o(new Set)}catch{e("An error occurred during bulk deletion.","error")}},b=(S,F)=>{if(F.length===0){e("No data to export for this group.","info");return}let O=["Name","Phone","Email"],R=_=>{if(_==null)return"";let L=String(_);return L.includes(",")||L.includes('"')||L.includes(`
`)?`"${L.replace(/"/g,'""')}"`:L},T=[O.join(","),...F.map(_=>[R(_.userName),R(_.userPhone),R(_.userEmail)].join(","))].join(`
`),B=new Blob([T],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),U=URL.createObjectURL(B);k.setAttribute("href",U);let E=`${S.replace(/[^a-z0-9]/gi,"_")}_attendees.csv`;k.setAttribute("download",E),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(U)};return(0,un.jsxs)("section",{className:"space-y-4",children:[(0,un.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[(0,un.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,un.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,un.jsx)("input",{type:"text",placeholder:"Search by user or webinar...",value:r,onChange:S=>n(S.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg"})]}),s.size>0&&(0,un.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center justify-center bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition-colors w-full sm:w-auto",children:[(0,un.jsx)(Ar,{className:"mr-2 h-5 w-5"})," Delete Selected (",s.size,")"]})]}),(0,un.jsx)("div",{className:"space-y-3",children:Object.keys(f).length>0?Object.entries(f).map(([S,F])=>{let O=c.has(S),R=F.map(U=>U.id),T=R.filter(U=>s.has(U)).length,B=T===R.length,k=T>0&&!B;return(0,un.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,un.jsxs)("div",{className:"flex items-center p-3 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>A(S),children:[O?(0,un.jsx)(Ss,{size:20,className:"text-gray-500"}):(0,un.jsx)(o0,{size:20,className:"text-gray-500"}),(0,un.jsx)("input",{type:"checkbox",className:"h-4 w-4 mx-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:B,ref:U=>{U&&(U.indeterminate=k)},onChange:()=>I(F),onClick:U=>U.stopPropagation()}),(0,un.jsx)("h3",{className:"font-bold text-gray-800",children:S}),(0,un.jsxs)("span",{className:"ml-2 text-sm text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:[F.length," users"]}),(0,un.jsxs)("button",{onClick:U=>{U.stopPropagation(),b(S,F)},className:"ml-auto text-xs font-semibold text-blue-600 bg-blue-100 hover:bg-blue-200 rounded-md px-2 py-1 flex items-center gap-1",title:"Export this group to CSV",children:[(0,un.jsx)(l0,{size:14}),"Export"]})]}),O&&(0,un.jsx)("div",{className:"overflow-x-auto",children:(0,un.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,un.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,un.jsxs)("tr",{children:[(0,un.jsx)("th",{className:"p-4 w-4"}),(0,un.jsx)("th",{className:"px-6 py-3",children:"Purchase Date"}),(0,un.jsx)("th",{className:"px-6 py-3",children:"Time"}),(0,un.jsx)("th",{className:"px-6 py-3",children:"User Name"}),(0,un.jsx)("th",{className:"px-6 py-3",children:"Email / Phone"}),(0,un.jsx)("th",{className:"px-6 py-3 text-right",children:"Amount Paid"}),(0,un.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,un.jsx)("tbody",{children:F.map(U=>(0,un.jsxs)("tr",{className:`border-t ${s.has(U.id)?"bg-blue-50":"bg-white"}`,children:[(0,un.jsx)("td",{className:"px-4 py-4",children:(0,un.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:s.has(U.id),onChange:()=>v(U.id)})}),(0,un.jsx)("td",{className:"px-6 py-4",children:sn(U.purchaseDate)}),(0,un.jsx)("td",{className:"px-6 py-4",children:aB(U.purchaseDate)}),(0,un.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:U.userName}),(0,un.jsxs)("td",{className:"px-6 py-4",children:[(0,un.jsx)("div",{children:U.userEmail}),(0,un.jsx)("div",{className:"text-xs text-gray-500",children:U.userPhone})]}),(0,un.jsxs)("td",{className:"px-6 py-4 text-right font-semibold",children:["\u20B9",(U.amountPaid/100).toFixed(2)]}),(0,un.jsx)("td",{className:"px-6 py-4 text-right",children:(0,un.jsx)("button",{onClick:()=>i(U),className:"p-2 text-red-600 hover:bg-red-100 rounded-full","aria-label":"Delete purchase",children:(0,un.jsx)(Ar,{size:18})})})]},U.id))})]})})]},S)}):(0,un.jsxs)("div",{className:"text-center py-16 text-gray-500 bg-white rounded-xl shadow-lg border border-gray-200",children:[(0,un.jsx)(ad,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,un.jsx)("h3",{className:"text-xl font-semibold",children:"No Webinar Purchases Found"}),(0,un.jsx)("p",{children:"No records match your current search criteria."})]})}),a&&(0,un.jsx)(Ete,{purchase:a,onClose:()=>i(null),onConfirm:w}),(0,un.jsx)(Tte,{count:s.size,onClose:()=>u(!1),onConfirm:g,isOpen:l})]})},Lte=tNe;var Tm=ce($t());var rb=ce($t());var Jt=ce(_e()),rNe=()=>(0,Jt.jsxs)("div",{className:"space-y-3 text-xs text-gray-600 bg-gray-100 p-3 rounded-md",children:[(0,Jt.jsx)("h4",{className:"font-bold text-sm text-gray-800",children:"Available Variables"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold",children:"OTP Verification:"}),(0,Jt.jsxs)("code",{children:["{userName}",", ","{otp}"]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold",children:"New Purchase / Sign Up (Guest):"}),(0,Jt.jsxs)("code",{className:"block break-words",children:["{userName}",", ","{userEmail}",", ","{userPhone}",", ","{password}",", ","{itemsList}",", ","{totalAmount}",", ","{orderId}",", ","{loginLink}"]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold",children:"Existing User Credit Purchase:"}),(0,Jt.jsxs)("code",{className:"block break-words",children:["{userName}",", ","{userEmail}",", ","{userPhone}",", ","{itemsList}",", ","{totalAmount}",", ","{orderId}",", ","{loginLink}"]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold",children:"Webinar Purchase (Success/Auto-Registered):"}),(0,Jt.jsxs)("code",{className:"block break-words",children:["{userName}",", ","{webinarName}",", ","{webinarDate}",", ","{webinarTime}",",",(0,Jt.jsxs)("strong",{className:"text-blue-600",children:[" ","{joiningLink}"]})," (unique),",(0,Jt.jsxs)("strong",{className:"text-blue-600",children:[" ","{webinarPasscode}"]}),",",(0,Jt.jsxs)("strong",{className:"text-blue-600",children:[" ","{webinarId}"]})]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold mt-2",children:"Webinar Purchase (Fallback/Manual):"}),(0,Jt.jsxs)("code",{className:"block break-words",children:["{userName}",", ","{userEmail}",", ","{userPhone}",", ","{webinarName}",", ","{webinarDate}",", ","{webinarTime}",", ","{webinarLink}"," (pre-filled),",(0,Jt.jsxs)("strong",{className:"text-blue-600",children:[" ","{webinarPasscode}"]}),",",(0,Jt.jsxs)("strong",{className:"text-blue-600",children:[" ","{webinarId}"]})]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold",children:"New Appointment Booked (for User):"}),(0,Jt.jsxs)("code",{className:"block break-words",children:["{userName}",", ","{consultantName}",", ","{appointmentDate}",", ","{appointmentTime}",", ","{meetingLink}",", ","{rescheduleLink}"]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold",children:"New Appointment Booked (for Consultant):"}),(0,Jt.jsxs)("code",{className:"block break-words",children:["{userName}",", ","{userEmail}",", ","{userPhone}",", ","{consultantName}",", ","{appointmentDate}",", ","{appointmentTime}",", ","{meetingLink}",", ","{rescheduleLink}"]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold",children:"Appointment Rescheduled (for User):"}),(0,Jt.jsxs)("code",{className:"block break-words",children:["{userName}",", ","{consultantName}",", ","{oldAppointmentDate}",", ","{oldAppointmentTime}",", ","{newAppointmentDate}",", ","{newAppointmentTime}",", ","{meetingLink}",", ","{rescheduleLink}"]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold",children:"Appointment Rescheduled (for Consultant):"}),(0,Jt.jsxs)("code",{className:"block break-words",children:["{userName}",", ","{userEmail}",", ","{userPhone}",", ","{consultantName}",", ","{oldAppointmentDate}",", ","{oldAppointmentTime}",", ","{newAppointmentDate}",", ","{newAppointmentTime}",", ","{meetingLink}",", ","{rescheduleLink}"]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("p",{className:"font-semibold",children:"Global Site Variables:"}),(0,Jt.jsxs)("code",{className:"block break-words",children:["{facebookLink}",", ","{instagramLink}",", ","{youtubeLink}",", ","{xLink}",", ","{linkedinLink}"]}),(0,Jt.jsx)("p",{className:"mt-1 text-gray-500 italic",children:"Note: These variables will be replaced with colorful social media icons linked to the URLs you set in Site Content."})]}),(0,Jt.jsxs)("p",{className:"mt-2 pt-2 border-t text-gray-500 italic",children:["Note: ",(0,Jt.jsx)("code",{children:"{itemsList}"})," renders an HTML list with the app name, tier, and credits for each purchased item."]}),(0,Jt.jsxs)("p",{className:"mt-1 text-gray-500 italic",children:["Note: ",(0,Jt.jsx)("code",{children:"{meetingLink}"}),' is the raw URL for the Google Meet call. You should use it in an HTML anchor tag like: <a href="',"{meetingLink}",'">Join Meeting</a>']})]}),nNe=(t,e)=>`<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Email Preview</title>
  <style>
    body, table, td, a { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
    table, td { mso-table-lspace: 0pt; mso-table-rspace: 0pt; }
    img { -ms-interpolation-mode: bicubic; border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; }
    table { border-collapse: collapse !important; }
    body { margin: 0 !important; padding: 0 !important; width: 100% !important; background-color: #f4f4f4; font-family: sans-serif; }
  </style>
</head>
<body style="margin: 0 !important; padding: 0 !important; background-color: #f4f4f4;">
  <table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
      <td bgcolor="#f4f4f4" align="center" style="padding: 20px 10px;">
        <table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
          <tr>
            <td bgcolor="#ffffff" align="left" style="padding: 0; border-radius: 8px; overflow: hidden;">
              <table border="0" cellpadding="0" cellspacing="0" width="100%">
                ${e?`
                <tr>
                  <td align="center" style="font-size: 0; line-height: 0;">
                    <a href="#" target="_blank">
                      <img src="${e}" alt="Banner" style="display: block; width: 100%; max-width: 600px; height: auto; border: 0;">
                    </a>
                  </td>
                </tr>
                `:""}
                <tr>
                  <td align="left" style="padding: 20px 30px; font-size: 16px; line-height: 24px; color: #333; text-align: left;">
                    ${t}
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>`,aNe=({template:t,onClose:e,showNotification:r})=>{let[n,a]=(0,rb.useState)({name:"",subject:"",body:"",bannerImageUrl:""}),[i,s]=(0,rb.useState)(!1),[o,l]=(0,rb.useState)("code");(0,rb.useEffect)(()=>{t&&a({name:t.name,subject:t.subject,body:t.body,bannerImageUrl:t.bannerImageUrl||""})},[t]);let u=f=>{a(A=>({...A,[f.target.name]:f.target.value}))},c=()=>{a(f=>({...f,bannerImageUrl:""})),r("Banner URL removed.","info")};return(0,Jt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[60] p-4",children:(0,Jt.jsxs)("form",{onSubmit:async f=>{f.preventDefault(),s(!0);try{let A={...n,updatedAt:zr.serverTimestamp()};t?(await Ce.collection("email_templates").doc(t.id).update(A),r("Template updated successfully!","success")):(await Ce.collection("email_templates").add({...A,createdAt:zr.serverTimestamp()}),r("Template created successfully!","success")),e()}catch(A){r(`Error saving template: ${A.message}`,"error")}finally{s(!1)}},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,Jt.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,Jt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Jt.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Email Template":"Create New Template"}),(0,Jt.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Jt.jsx)(dr,{size:24})})]})}),(0,Jt.jsxs)("main",{className:"flex-grow p-6 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-y-auto",children:[(0,Jt.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,Jt.jsx)("input",{type:"text",name:"name",value:n.name,onChange:u,placeholder:"Template Name (for your reference)",required:!0,className:"w-full p-3 border rounded-lg text-lg font-semibold"}),(0,Jt.jsx)("input",{type:"text",name:"subject",value:n.subject,onChange:u,placeholder:"Email Subject",required:!0,className:"w-full p-3 border rounded-lg"}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsx)("label",{htmlFor:"bannerImageUrl",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Banner Image URL (Optional)"}),(0,Jt.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg space-y-2",children:[(0,Jt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Jt.jsx)(ku,{className:"text-gray-400 flex-shrink-0",size:20}),(0,Jt.jsx)("input",{id:"bannerImageUrl",name:"bannerImageUrl",type:"url",value:n.bannerImageUrl,onChange:u,placeholder:"https://example.com/banner.png",className:"w-full p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),n.bannerImageUrl&&(0,Jt.jsxs)("div",{className:"relative group",children:[(0,Jt.jsx)("img",{src:n.bannerImageUrl,alt:"Banner Preview",className:"w-full h-auto max-h-40 object-contain rounded-md border"}),(0,Jt.jsx)("button",{type:"button",onClick:c,className:"absolute top-2 right-2 p-1.5 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove Banner",children:(0,Jt.jsx)(Ar,{size:16})})]}),(0,Jt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Paste a direct link to a publicly hosted image. Recommended width: 600px."})]})]}),(0,Jt.jsxs)("div",{children:[(0,Jt.jsxs)("div",{className:"flex border-b",children:[(0,Jt.jsxs)("button",{type:"button",onClick:()=>l("code"),className:`flex items-center gap-2 py-2 px-4 text-sm font-semibold ${o==="code"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"}`,children:[(0,Jt.jsx)($x,{size:16})," Code (HTML)"]}),(0,Jt.jsxs)("button",{type:"button",onClick:()=>l("visual"),className:`flex items-center gap-2 py-2 px-4 text-sm font-semibold ${o==="visual"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"}`,children:[(0,Jt.jsx)(Xd,{size:16})," Visual Preview"]})]}),o==="code"?(0,Jt.jsx)("textarea",{name:"body",value:n.body,onChange:u,placeholder:"Enter email body HTML here...",required:!0,className:"w-full p-3 border-0 rounded-b-lg h-96 resize-y font-mono bg-gray-800 text-green-400"}):(0,Jt.jsx)("div",{className:"p-3 border rounded-b-lg h-96 overflow-y-auto bg-gray-50",children:(0,Jt.jsx)("iframe",{srcDoc:nNe(n.body,n.bannerImageUrl),title:"Email Preview",className:"w-full h-full border-0 bg-white"})})]})]}),(0,Jt.jsx)("div",{className:"md:col-span-1",children:(0,Jt.jsx)(rNe,{})})]}),(0,Jt.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,Jt.jsx)("button",{type:"button",onClick:e,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:i,children:"Cancel"}),(0,Jt.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:i,children:[i&&(0,Jt.jsx)(Pt,{className:"animate-spin mr-2",size:20}),i?"Saving...":"Save Template"]})]})]})})},Pte=aNe;var qu=ce(_e()),iNe=({template:t,onClose:e,showNotification:r})=>{let n=async()=>{try{await Ce.collection("email_templates").doc(t.id).delete(),r(`Template '${t.name}' deleted.`,"success"),e()}catch(a){r(`Error deleting template: ${a.message}`,"error")}};return(0,qu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,qu.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,qu.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,qu.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,qu.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Email Template"}),(0,qu.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,qu.jsxs)("p",{children:["Are you sure you want to delete the template ",(0,qu.jsxs)("strong",{className:"font-bold",children:['"',t.name,'"']}),"?"]}),(0,qu.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone. Any trigger assigned to this template will stop sending emails."})]}),(0,qu.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,qu.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,qu.jsx)("button",{type:"button",onClick:n,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})})},kte=iNe;var pn=ce(_e()),sNe=[{key:"onNewPurchase",label:"New Purchase / Sign Up (Guest)"},{key:"onCreditPurchase",label:"Existing User Credit Purchase"},{key:"onNewWebinarPurchase",label:"New Webinar Purchase (Fallback/Manual)"},{key:"onNewWebinarPurchaseSuccess",label:"New Webinar Purchase (Auto-Registered)"},{key:"onOtpVerification",label:"OTP Verification"},{key:"onNewAppointmentBooked",label:"New Appointment Booked (for User)"},{key:"onNewAppointmentBookedForConsultant",label:"New Appointment Booked (for Consultant)"},{key:"onAppointmentRescheduled",label:"Appointment Rescheduled (for User)"},{key:"onAppointmentRescheduledForConsultant",label:"Appointment Rescheduled (for Consultant)"}],oNe=({templates:t,assignments:e,showNotification:r})=>{let[n,a]=(0,Tm.useState)({}),[i,s]=(0,Tm.useState)(!1),[o,l]=(0,Tm.useState)(!1),[u,c]=(0,Tm.useState)(null),[d,f]=(0,Tm.useState)(null);(0,Tm.useEffect)(()=>{a(e||{})},[e]);let A=(w,g)=>{a(b=>({...b,[w]:g}))},v=async()=>{s(!0);try{await Ce.collection("site_content").doc("email_assignments").set(n,{merge:!0}),r("Email assignments saved!","success")}catch(w){r(`Error saving assignments: ${w.message}`,"error")}finally{s(!1)}},I=w=>{c(w),l(!0)};return(0,pn.jsxs)("div",{className:"space-y-8",children:[(0,pn.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,pn.jsxs)("div",{children:[(0,pn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Email Template Management"}),(0,pn.jsx)("p",{className:"text-gray-500 mt-1",children:"Configure automated emails sent to users."})]})}),(0,pn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 space-y-6",children:[(0,pn.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Trigger Assignments"}),(0,pn.jsx)("p",{className:"text-sm text-gray-500 -mt-4",children:"Assign a template to each automated email trigger."}),(0,pn.jsx)("div",{className:"space-y-4",children:sNe.map(({key:w,label:g})=>(0,pn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 items-center gap-2",children:[(0,pn.jsxs)("label",{htmlFor:w,className:"font-semibold text-gray-700",children:[g,":"]}),(0,pn.jsxs)("select",{id:w,value:n[w]||"",onChange:b=>A(w,b.target.value),className:"w-full sm:col-span-2 p-2 border rounded-lg bg-white appearance-none focus:ring-blue-500 focus:border-blue-500",children:[(0,pn.jsx)("option",{value:"",children:"-- No Template (Email Disabled) --"}),t.map(b=>(0,pn.jsx)("option",{value:b.id,children:b.name},b.id))]})]},w))}),(0,pn.jsx)("div",{className:"flex justify-end",children:(0,pn.jsxs)("button",{onClick:v,disabled:i,className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:[i?(0,pn.jsx)(Pt,{className:"animate-spin mr-2"}):(0,pn.jsx)(ua,{className:"mr-2"}),i?"Saving...":"Save Assignments"]})})]}),(0,pn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 space-y-4",children:[(0,pn.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3",children:[(0,pn.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Email Templates"}),(0,pn.jsxs)("button",{onClick:()=>I(null),className:"flex items-center justify-center bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 w-full sm:w-auto",children:[(0,pn.jsx)(_a,{className:"mr-2 h-5 w-5"})," Create New Template"]})]}),(0,pn.jsxs)("div",{className:"overflow-x-auto",children:[(0,pn.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,pn.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,pn.jsxs)("tr",{children:[(0,pn.jsx)("th",{className:"px-6 py-3",children:"Template Name"}),(0,pn.jsx)("th",{className:"px-6 py-3",children:"Subject"}),(0,pn.jsx)("th",{className:"px-6 py-3",children:"Last Updated"}),(0,pn.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,pn.jsx)("tbody",{children:t.map(w=>(0,pn.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,pn.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:w.name}),(0,pn.jsx)("td",{className:"px-6 py-4",children:w.subject}),(0,pn.jsx)("td",{className:"px-6 py-4",children:sn(w.updatedAt)}),(0,pn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,pn.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[(0,pn.jsx)("button",{onClick:()=>I(w),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:(0,pn.jsx)(Kn,{size:18})}),(0,pn.jsx)("button",{onClick:()=>f(w),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:(0,pn.jsx)(Ar,{size:18})})]})})]},w.id))})]}),t.length===0&&(0,pn.jsx)("p",{className:"text-center text-gray-500 py-8 italic",children:"No email templates created yet."})]})]}),o&&(0,pn.jsx)(Pte,{template:u,onClose:()=>l(!1),showNotification:r}),d&&(0,pn.jsx)(kte,{template:d,onClose:()=>f(null),showNotification:r})]})},Fte=oNe;var wA=ce($t());var Ll=ce(_e()),lNe=({file:t,onClose:e,onConfirm:r})=>t?(0,Ll.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,Ll.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Ll.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Ll.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Ll.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Media File"}),(0,Ll.jsx)("div",{className:"mt-4",children:(0,Ll.jsx)("img",{src:t.url,alt:t.name,className:"max-h-24 mx-auto rounded-md border"})}),(0,Ll.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,Ll.jsxs)("p",{children:["Are you sure you want to delete ",(0,Ll.jsx)("strong",{className:"font-bold",children:t.name}),"?"]}),(0,Ll.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone and will break any links using this image URL."})]}),(0,Ll.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Ll.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Ll.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})}):null,Rte=lNe;var _n=ce(_e()),Ute=({file:t,onDelete:e,onCopy:r,view:n})=>{let[a,i]=(0,wA.useState)(!1),s=()=>{r(t.url),i(!0),setTimeout(()=>i(!1),2e3)};return(0,_n.jsxs)("div",{className:"bg-white rounded-lg shadow border overflow-hidden group",children:[(0,_n.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,_n.jsx)("img",{src:t.url,alt:t.name,className:"w-full h-full object-contain",loading:"lazy"})}),(0,_n.jsxs)("div",{className:"p-3",children:[(0,_n.jsx)("p",{className:"text-sm font-semibold text-gray-800 truncate",title:t.name,children:t.name}),(0,_n.jsxs)("p",{className:"text-xs text-gray-500",children:[(t.size/1024).toFixed(1)," KB"]}),n==="consultant"&&t.consultantName&&(0,_n.jsxs)("p",{className:"text-xs text-purple-600 mt-1 truncate",title:`Uploaded by: ${t.consultantName}`,children:["by ",t.consultantName]}),(0,_n.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,_n.jsxs)("button",{onClick:s,className:"flex-1 text-xs flex items-center justify-center gap-1.5 py-1.5 px-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors font-semibold",children:[a?(0,_n.jsx)(Ji,{size:14,className:"text-green-600"}):(0,_n.jsx)(Bs,{size:14}),a?"Copied!":"Copy URL"]}),(0,_n.jsx)("button",{onClick:()=>e(t),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-full transition-colors",children:(0,_n.jsx)(Ar,{size:16})})]})]})]})},uNe=({mediaFiles:t,showNotification:e})=>{let[r,n]=(0,wA.useState)(!1),[a,i]=(0,wA.useState)(null),s=(0,wA.useRef)(null),[o,l]=(0,wA.useState)("admin"),[u,c]=(0,wA.useState)([]),[d,f]=(0,wA.useState)(!1);(0,wA.useEffect)(()=>{o==="consultant"&&(f(!0),(async()=>{try{let O=await Ce.collection("consultants").get(),R=new Map(O.docs.map(k=>[k.id,k.data().name])),B=(await Ce.collectionGroup("media_files").get()).docs.map(k=>{let U=k.data(),E=k.ref.parent.parent?.id;return E?{...U,id:k.id,consultantId:E,consultantName:R.get(E)||"Unknown Consultant"}:null}).filter(Boolean);B.sort((k,U)=>(U.createdAt?.toMillis()||0)-(k.createdAt?.toMillis()||0)),c(B)}catch(O){console.error("Error fetching consultant media:",O),e("Could not load consultant media. A Firestore index might be required.","error",5e3)}finally{f(!1)}})())},[o,e]);let A=()=>{s.current?.click()},v=async(F,O,R,T)=>{if(!F){e("Could not read file data.","error");return}n(!0);try{await cr.httpsCallable("uploadMediaFile")({fileDataUrl:F,fileName:O,fileType:R,fileSize:T}),e("Image uploaded successfully!","success")}catch(B){console.error("Upload failed:",B),e(`Image upload failed: ${B.message}`,"error")}finally{n(!1)}},I=F=>{let O=F.target.files?.[0];if(!O)return;if(!["image/png","image/jpeg","image/svg+xml","image/webp","image/gif"].includes(O.type)){e("Invalid file type. Please upload an image.","error");return}if(O.size>5*1024*1024){e("File is too large. Max size is 5MB.","error");return}if(["image/jpeg","image/png","image/webp"].includes(O.type)){let T=new FileReader;T.onload=B=>{let k=new Image;k.onload=()=>{let U=document.createElement("canvas"),E=1920,_=1080,{width:L,height:D}=k;L>D?L>E&&(D*=E/L,L=E):D>_&&(L*=_/D,D=_),U.width=L,U.height=D;let z=U.getContext("2d");if(!z){e("Could not process image for compression.","error");return}z.drawImage(k,0,0,L,D);let ee=U.toDataURL("image/jpeg",.8),Y=ee.length-(ee.indexOf(",")+1),$=ee.slice(-2)==="=="?2:ee.slice(-1)==="="?1:0,j=Y*.75-$,oe=`${O.name.substring(0,O.name.lastIndexOf(".")||O.name.length)}.jpeg`;v(ee,oe,"image/jpeg",j)},k.onerror=()=>{e("Could not load image for compression.","error"),n(!1)},k.src=B.target?.result},T.onerror=()=>{e("Failed to read the file for compression.","error")},T.readAsDataURL(O)}else{let T=new FileReader;T.onload=B=>{let k=B.target?.result;v(k,O.name,O.type,O.size)},T.onerror=()=>{e("Failed to read the file.","error")},T.readAsDataURL(O)}s.current&&(s.current.value="")},w=async()=>{if(a)try{a.consultantId?await cr.httpsCallable("deleteConsultantMediaFile")({consultantId:a.consultantId,mediaFileId:a.id}):await cr.httpsCallable("deleteAdminMediaFile")({mediaFileId:a.id}),e("Image deleted successfully.","success")}catch(F){console.error("Deletion failed:",F),e(F.message||"Failed to delete image.","error")}finally{i(null)}},g=F=>{navigator.clipboard.writeText(F),e("URL copied to clipboard!","success")},b=()=>{if(o==="admin")return t.length>0?(0,_n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:t.map(F=>(0,_n.jsx)(Ute,{file:F,onDelete:i,onCopy:g,view:o},F.id))}):(0,_n.jsxs)("div",{className:"text-center py-16 text-gray-500 bg-gray-50 rounded-lg",children:[(0,_n.jsx)(rd,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,_n.jsx)("h3",{className:"text-xl font-semibold",children:"Your Media Library is Empty"}),(0,_n.jsx)("p",{children:'Click "Upload Image" to add your first file.'})]});if(o==="consultant")return d?(0,_n.jsx)("div",{className:"flex justify-center py-16",children:(0,_n.jsx)(Pt,{className:"animate-spin text-blue-500"})}):u.length>0?(0,_n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:u.map(F=>(0,_n.jsx)(Ute,{file:F,onDelete:i,onCopy:g,view:o},F.id))}):(0,_n.jsxs)("div",{className:"text-center py-16 text-gray-500 bg-gray-50 rounded-lg",children:[(0,_n.jsx)(rd,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,_n.jsx)("h3",{className:"text-xl font-semibold",children:"No Consultant Uploads"}),(0,_n.jsx)("p",{children:"Consultants have not uploaded any media files yet."})]})},S=F=>`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${o===F?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-200"}`;return(0,_n.jsxs)("div",{className:"space-y-6",children:[(0,_n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,_n.jsxs)("div",{children:[(0,_n.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Media Library"}),(0,_n.jsx)("p",{className:"text-gray-500 mt-1",children:"Upload and manage images to get public URLs for use across your site."})]}),(0,_n.jsx)("input",{type:"file",ref:s,onChange:I,className:"hidden",accept:"image/*"}),(0,_n.jsxs)("button",{onClick:A,disabled:r,className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 w-full sm:w-auto",children:[r?(0,_n.jsx)(Pt,{className:"animate-spin mr-2",size:20}):(0,_n.jsx)(td,{className:"mr-2 h-5 w-5"}),r?"Uploading...":"Upload Image"]})]}),(0,_n.jsxs)("div",{className:"flex items-center gap-2 p-1 bg-gray-100 rounded-lg self-start",children:[(0,_n.jsxs)("button",{onClick:()=>l("admin"),className:S("admin"),children:[(0,_n.jsx)(xc,{size:16,className:"mr-2"})," Admin Library"]}),(0,_n.jsxs)("button",{onClick:()=>l("consultant"),className:S("consultant"),children:[(0,_n.jsx)(ca,{size:16,className:"mr-2"})," Consultant Uploads"]})]}),b(),a&&(0,_n.jsx)(Rte,{file:a,onClose:()=>i(null),onConfirm:w})]})},Dte=uNe;var Sc=ce($t());var ei=ce($t());var It=ce(_e()),Mte=t=>t.toString().toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),uC=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],cNe=({consultant:t,onClose:e,showNotification:r,adminMediaFiles:n,consultantMediaFiles:a,onSave:i,users:s,isUserManaged:o=!1,consultants:l})=>{let[u,c]=(0,ei.useState)(""),[d,f]=(0,ei.useState)(""),[A,v]=(0,ei.useState)(""),[I,w]=(0,ei.useState)(""),[g,b]=(0,ei.useState)(""),[S,F]=(0,ei.useState)(""),[O,R]=(0,ei.useState)(""),[T,B]=(0,ei.useState)(""),[k,U]=(0,ei.useState)([]),[E,_]=(0,ei.useState)(!1),[L,D]=(0,ei.useState)(""),[z,ee]=(0,ei.useState)(""),[Y,$]=(0,ei.useState)(!1),[j,K]=(0,ei.useState)(""),[oe,q]=(0,ei.useState)(""),[X,te]=(0,ei.useState)(""),[ue,be]=(0,ei.useState)(""),[ge,Ne]=(0,ei.useState)({}),[Le,Ie]=(0,ei.useState)(Array.from({length:7},()=>({startTime:"10:00",endTime:"18:00",duration:"30",breaks:[{id:we(),start:"13:00",end:"14:00"}]}))),[de,xe]=(0,ei.useState)(null),[qe,wt]=(0,ei.useState)(1),Re=(0,ei.useRef)();(0,ei.useEffect)(()=>{let Qe=Re.current,tt=t?.id;if(Qe!==tt)if(t){c(t.name),f(t.slug),v(t.profilePictureUrl||""),w(t.bio||""),b(t.experience||""),F(t.qualifications||""),R(t.tagline1||""),B(t.tagline2||""),U(t.achievements||[]),Ne(t.availability||{}),D(t.linkedUserId||""),q(t.metaTitle||""),te(t.metaDescription||""),be(t.featuredImageUrl||""),K(t.commissionRate!=null?String(t.commissionRate):"");let rt=s.find(Ct=>Ct.id===t.linkedUserId);ee(rt?`${rt.name} (${rt.email})`:"")}else c(""),f(""),v(""),w(""),b(""),F(""),R(""),B(""),U([]),Ne({}),D(""),ee(""),q(""),te(""),be(""),K("");Re.current=t?.id},[t,s]);let Ae=Qe=>{let tt=Qe.target.value;c(tt),t||f(Mte(tt))},Kt=Qe=>{ee(Qe.target.value),D(""),$(!0)},zt=Qe=>{D(Qe.id),ee(`${Qe.name} (${Qe.email})`),$(!1)},pt=(0,ei.useMemo)(()=>{if(!z||L)return[];let Qe=z.toLowerCase(),tt=l.filter(rt=>rt.id!==t?.id).map(rt=>rt.linkedUserId).filter(Boolean);return s.filter(rt=>!tt.includes(rt.id)&&(rt.name.toLowerCase().includes(Qe)||rt.email&&rt.email.toLowerCase().includes(Qe)||rt.phone&&rt.phone.includes(z))).slice(0,100)},[z,s,L,l,t]),Oe=(Qe,tt,rt)=>{Ie(Ct=>{let Nr=[...Ct];return Nr[Qe]={...Nr[Qe],[tt]:rt},Nr})},me=(Qe,tt,rt,Ct)=>{Ie(Nr=>{let nr=[...Nr],jr={...nr[Qe]};return jr.breaks=jr.breaks.map(Zt=>Zt.id===tt?{...Zt,[rt]:Ct}:Zt),nr[Qe]=jr,nr})},Ue=Qe=>{Ie(tt=>{let rt=[...tt];return rt[Qe].breaks.push({id:we(),start:"",end:""}),rt})},it=(Qe,tt)=>{Ie(rt=>{let Ct=[...rt];return Ct[Qe].breaks=Ct[Qe].breaks.filter(Nr=>Nr.id!==tt),Ct})},At=Qe=>{let[tt,rt]=Qe.split(":").map(Number);return tt*60+rt},ct=Qe=>{let tt=Math.floor(Qe/60),rt=Qe%60;return`${String(tt).padStart(2,"0")}:${String(rt).padStart(2,"0")}`},Tt=Qe=>{let tt=Le[Qe],rt=parseInt(tt.duration,10);if(!tt.startTime||!tt.endTime||!rt||rt<=0){r("Please fill in start time, end time, and a valid duration.","error");return}let Ct=At(tt.startTime),Nr=At(tt.endTime),nr=tt.breaks.filter(Zt=>Zt.start&&Zt.end).map(Zt=>({start:At(Zt.start),end:At(Zt.end)})),jr=[];for(let Zt=Ct;Zt<Nr;Zt+=rt){let en=Zt+rt;nr.some(Sr=>Zt<Sr.end&&en>Sr.start)||jr.push(ct(Zt))}Ne(Zt=>({...Zt,[Qe]:jr})),r(`Generated ${jr.length} slots for ${uC[Qe]}.`,"success")},Ot=Qe=>{let tt=ge[qe]||[];Ne(rt=>({...rt,[Qe]:[...tt]})),r(`Copied slots from ${uC[qe]} to ${uC[Qe]}`,"success")},vr=Qe=>{let tt=document.getElementById(`time-input-${Qe}`);if(tt&&tt.value){let rt=tt.value;Ne(Ct=>{let Nr=Ct[Qe]||[],nr=[...new Set([...Nr,rt])].sort();return{...Ct,[Qe]:nr}}),tt.value=""}},rr=(Qe,tt)=>{Ne(rt=>({...rt,[Qe]:(rt[Qe]||[]).filter(Ct=>Ct!==tt)}))},Er=Qe=>{if(!Qe)return"";let[tt,rt]=Qe.split(":"),Ct=parseInt(tt,10),Nr=Ct>=12?"PM":"AM";return`${Ct%12||12}:${rt} ${Nr}`},Nt=(Qe,tt)=>{U(rt=>rt.map(Ct=>Ct.id===Qe?{...Ct,text:tt}:Ct))},gn=()=>{U(Qe=>[...Qe,{id:we(),text:""}])},dt=Qe=>{U(tt=>tt.filter(rt=>rt.id!==Qe))};return(0,It.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[60] p-4",children:(0,It.jsxs)("form",{onSubmit:async Qe=>{if(Qe.preventDefault(),!u||!d){r("Name and URL Slug are required.","error");return}_(!0);try{let tt={id:t?.id,name:u,slug:Mte(d),profilePictureUrl:A,bio:I,experience:g,qualifications:S,tagline1:O,tagline2:T,achievements:k.filter(rt=>rt.text.trim()),availability:ge,linkedUserId:L||null,metaTitle:oe,metaDescription:X,featuredImageUrl:ue,updatedAt:zr.serverTimestamp()};if(j.trim()==="")tt.commissionRate=zr.delete();else{let rt=parseFloat(j);if(isNaN(rt)||rt<0||rt>100){r("Commission rate must be a valid number between 0 and 100.","error"),_(!1);return}tt.commissionRate=rt}await i(tt),e()}catch{}finally{_(!1)}},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,It.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,It.jsxs)("div",{className:"flex justify-between items-center",children:[(0,It.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Consultant":"Add New Consultant"}),(0,It.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",children:(0,It.jsx)(dr,{size:24})})]})}),(0,It.jsxs)("main",{className:"flex-grow p-6 grid md:grid-cols-2 gap-6 overflow-y-auto",children:[(0,It.jsxs)("div",{className:"space-y-4",children:[(0,It.jsx)("input",{type:"text",value:u,onChange:Ae,placeholder:"Full Name",required:!0,className:"w-full p-3 border rounded-lg"}),(0,It.jsx)("input",{type:"text",value:d,onChange:Qe=>f(Qe.target.value),placeholder:"URL Slug",required:!0,className:"w-full p-2 border rounded-lg bg-gray-100 font-mono text-sm"}),!o&&(0,It.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg space-y-3",children:[(0,It.jsx)("h4",{className:"font-semibold text-gray-700 text-sm",children:"Admin Controls"}),(0,It.jsxs)("div",{children:[(0,It.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-1 block flex items-center gap-2",children:[(0,It.jsx)(ca,{size:14})," Linked User Account"]}),(0,It.jsxs)("div",{className:"relative",children:[(0,It.jsx)("input",{type:"text",value:z,onChange:Kt,onFocus:()=>$(!0),onBlur:()=>setTimeout(()=>$(!1),200),placeholder:"Search by name, email, or phone to link...",className:"w-full p-2 border rounded-lg bg-white"}),Y&&pt.length>0&&(0,It.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:pt.map(Qe=>(0,It.jsxs)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onMouseDown:()=>zt(Qe),children:[(0,It.jsx)("p",{className:"font-semibold",children:Qe.name}),(0,It.jsxs)("p",{className:"text-xs text-gray-500",children:[Qe.email," - ",Qe.phone||"No phone"]})]},Qe.id))})]}),(0,It.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Linking a user allows them to manage this consultant profile from their dashboard."})]}),(0,It.jsxs)("div",{children:[(0,It.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-1 block flex items-center gap-2",children:[(0,It.jsx)(nA,{size:14})," Platform Commission Rate"]}),(0,It.jsx)("input",{type:"number",value:j,onChange:Qe=>K(Qe.target.value),placeholder:"Default (e.g., 3%)",min:"0",max:"100",step:"0.1",className:"w-full p-2 border rounded-md"}),(0,It.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to use the global default rate. This is the percentage the platform charges on sales from this consultant's page."})]})]}),(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Profile Picture"}),(0,It.jsxs)("select",{value:A,onChange:Qe=>v(Qe.target.value),className:"w-full p-2 border rounded-lg bg-white appearance-none",children:[(0,It.jsx)("option",{value:"",children:"-- Select an Image --"}),a&&a.length>0&&(0,It.jsx)("optgroup",{label:o?"My Uploads":"Consultant's Uploads",children:a.map(Qe=>(0,It.jsx)("option",{value:Qe.url,children:Qe.name},Qe.id))}),n&&n.length>0&&(0,It.jsx)("optgroup",{label:"Admin Library",children:n.map(Qe=>(0,It.jsx)("option",{value:Qe.url,children:Qe.name},Qe.id))})]}),(0,It.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Upload images in the Media Library first."}),A&&(0,It.jsx)("img",{src:A,alt:"Preview",className:"mt-2 h-24 w-24 rounded-full object-cover border-2 border-gray-200"})]}),(0,It.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg space-y-3",children:[(0,It.jsx)("h4",{className:"font-semibold text-gray-700 text-sm",children:"Header/Card Details"}),(0,It.jsx)("p",{className:"text-xs text-gray-500 -mt-2",children:"Used in the hero section and other profile cards."}),(0,It.jsx)("input",{type:"text",value:g,onChange:Qe=>b(Qe.target.value),placeholder:"Experience (e.g., 20+ Years)",className:"w-full p-2 border rounded-md"}),(0,It.jsx)("input",{type:"text",value:S,onChange:Qe=>F(Qe.target.value),placeholder:"Qualifications (e.g., PhD in Vastu)",className:"w-full p-2 border rounded-md"}),(0,It.jsx)("input",{type:"text",value:O,onChange:Qe=>R(Qe.target.value),placeholder:"Tagline 1 (e.g., World's Most Qualified)",className:"w-full p-2 border rounded-md"}),(0,It.jsx)("input",{type:"text",value:T,onChange:Qe=>B(Qe.target.value),placeholder:"Tagline 2 (e.g., Doctor of Science)",className:"w-full p-2 border rounded-md"})]}),(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Biography / About Section"}),(0,It.jsx)("textarea",{value:I,onChange:Qe=>w(Qe.target.value),placeholder:"Write a detailed bio... (HTML is supported)",className:"w-full p-3 border rounded-lg h-32 resize-y font-mono text-sm"})]}),(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Key Achievements"}),(0,It.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg space-y-2",children:[k.map(Qe=>(0,It.jsxs)("div",{className:"flex items-center gap-2",children:[(0,It.jsx)(Nh,{size:16,className:"text-amber-500 flex-shrink-0"}),(0,It.jsx)("input",{type:"text",value:Qe.text,onChange:tt=>Nt(Qe.id,tt.target.value),placeholder:"e.g., Two Decades of Mastery...",className:"flex-grow p-2 border rounded-md text-sm"}),(0,It.jsx)("button",{type:"button",onClick:()=>dt(Qe.id),className:"p-1.5 text-red-500 hover:bg-red-50 rounded-full",children:(0,It.jsx)(Ar,{size:14})})]},Qe.id)),(0,It.jsxs)("button",{type:"button",onClick:gn,className:"text-sm font-semibold text-blue-600 hover:underline flex items-center gap-1",children:[(0,It.jsx)(Fu,{size:14})," Add Achievement"]})]})]}),(0,It.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg space-y-3",children:[(0,It.jsxs)("h4",{className:"font-semibold text-gray-700 text-sm flex items-center gap-2",children:[(0,It.jsx)(rA,{size:16})," SEO / Sharing Settings"]}),(0,It.jsx)("input",{type:"text",value:oe,onChange:Qe=>q(Qe.target.value),placeholder:"Meta Title for Sharing",className:"w-full p-2 border rounded-md"}),(0,It.jsx)("textarea",{value:X,onChange:Qe=>te(Qe.target.value),placeholder:"Meta Description (for sharing preview)",className:"w-full p-2 border rounded-md h-20"}),(0,It.jsxs)("select",{value:ue,onChange:Qe=>be(Qe.target.value),className:"w-full p-2 border rounded-lg bg-white appearance-none",children:[(0,It.jsx)("option",{value:"",children:"-- Select a Featured Image --"}),a&&a.length>0&&(0,It.jsx)("optgroup",{label:o?"My Uploads":"Consultant's Uploads",children:a.map(Qe=>(0,It.jsx)("option",{value:Qe.url,children:Qe.name},Qe.id))}),n&&n.length>0&&(0,It.jsx)("optgroup",{label:"Admin Library",children:n.map(Qe=>(0,It.jsx)("option",{value:Qe.url,children:Qe.name},Qe.id))})]})]})]}),(0,It.jsxs)("div",{children:[(0,It.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Weekly Availability"}),(0,It.jsx)("div",{className:"p-3 bg-gray-50 border rounded-lg space-y-4 max-h-[60vh] overflow-y-auto",children:uC.map((Qe,tt)=>(0,It.jsxs)("div",{className:"border-b pb-4 last:border-b-0",children:[(0,It.jsxs)("div",{className:"flex justify-between items-center",children:[(0,It.jsx)("h5",{className:"font-semibold text-gray-800",children:Qe}),(0,It.jsx)("button",{type:"button",onClick:()=>xe(de===tt?null:tt),className:"text-xs font-semibold text-blue-600 hover:underline",children:"Generator"})]}),de===tt&&(0,It.jsxs)("div",{className:"p-3 bg-blue-50 border-l-4 border-blue-400 space-y-3 mt-2",children:[(0,It.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,It.jsx)("input",{type:"time",value:Le[tt].startTime,onChange:rt=>Oe(tt,"startTime",rt.target.value),className:"p-1 border rounded text-xs"}),(0,It.jsx)("input",{type:"time",value:Le[tt].endTime,onChange:rt=>Oe(tt,"endTime",rt.target.value),className:"p-1 border rounded text-xs"})]}),(0,It.jsx)("input",{type:"number",placeholder:"Duration (mins)",value:Le[tt].duration,onChange:rt=>Oe(tt,"duration",rt.target.value),className:"w-full p-1 border rounded text-xs"}),(0,It.jsxs)("div",{className:"space-y-1",children:[(0,It.jsx)("p",{className:"text-xs font-medium",children:"Breaks:"}),Le[tt].breaks.map(rt=>(0,It.jsxs)("div",{className:"flex items-center gap-1",children:[(0,It.jsx)("input",{type:"time",value:rt.start,onChange:Ct=>me(tt,rt.id,"start",Ct.target.value),className:"p-1 border rounded text-xs w-full"}),(0,It.jsx)("span",{children:"-"}),(0,It.jsx)("input",{type:"time",value:rt.end,onChange:Ct=>me(tt,rt.id,"end",Ct.target.value),className:"p-1 border rounded text-xs w-full"}),(0,It.jsx)("button",{type:"button",onClick:()=>it(tt,rt.id),className:"p-1 text-red-500",children:(0,It.jsx)(Ar,{size:12})})]},rt.id)),(0,It.jsx)("button",{type:"button",onClick:()=>Ue(tt),className:"text-xs text-green-600 font-semibold",children:"+ Add Break"})]}),(0,It.jsx)("button",{type:"button",onClick:()=>Tt(tt),className:"w-full py-1 bg-blue-500 text-white text-xs font-bold rounded hover:bg-blue-600",children:"Generate & Overwrite Slots"})]}),(0,It.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:(ge[tt]||[]).map((rt,Ct)=>(0,It.jsxs)("div",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full flex items-center gap-1",children:[Er(rt),(0,It.jsx)("button",{type:"button",onClick:()=>rr(tt,rt),className:"text-blue-500 hover:text-blue-800",children:(0,It.jsx)(dr,{size:12})})]},rt))}),(0,It.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,It.jsx)("input",{type:"time",id:`time-input-${tt}`,className:"p-1 border rounded-md text-sm"}),(0,It.jsx)("button",{type:"button",onClick:()=>vr(tt),className:"px-3 py-1 bg-green-500 text-white text-xs font-bold rounded-md hover:bg-green-600",children:"Add"}),(0,It.jsxs)("div",{className:"flex items-center gap-1 ml-auto",children:[(0,It.jsx)("span",{className:"text-xs text-gray-500",children:"Copy from:"}),(0,It.jsx)("select",{value:qe,onChange:rt=>wt(Number(rt.target.value)),className:"text-xs border rounded p-1",children:uC.map((rt,Ct)=>(0,It.jsx)("option",{value:Ct,children:rt},Ct))}),(0,It.jsx)("button",{type:"button",onClick:()=>Ot(tt),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Copy",children:(0,It.jsx)(Bs,{size:14})})]})]})]},Qe))})]})]}),(0,It.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,It.jsx)("button",{type:"button",onClick:e,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:E,children:"Cancel"}),(0,It.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:E,children:[E?(0,It.jsx)(Pt,{className:"animate-spin mr-2",size:20}):(0,It.jsx)(ua,{className:"mr-2",size:20}),E?"Saving...":"Save Consultant"]})]})]})})},wE=cNe;var zu=ce(_e()),dNe=({consultant:t,onClose:e,showNotification:r})=>{let n=async()=>{try{let a=Ce.batch(),i=Ce.collection("consultants").doc(t.id);if(a.delete(i),t.linkedUserId){let s=Ce.collection("users").doc(t.linkedUserId);a.update(s,{linkedConsultantId:zr.delete()})}await a.commit(),r(`Consultant '${t.name}' and any user links have been deleted successfully.`,"success"),e()}catch(a){r(`Error deleting consultant: ${a.message}`,"error")}};return(0,zu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,zu.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,zu.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,zu.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,zu.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Consultant"}),(0,zu.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,zu.jsxs)("p",{children:["Are you sure you want to delete ",(0,zu.jsxs)("strong",{className:"font-bold",children:['"',t.name,'"']}),"?"]}),(0,zu.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action will permanently delete their profile and unlink any associated user. This cannot be undone."})]}),(0,zu.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,zu.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,zu.jsx)("button",{type:"button",onClick:n,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})})},Ote=dNe;var nb=ce($t());var Qte=[{name:"Foundational Vastu Check",description:"Ideal for addressing single, immediate concerns.",price:15e5,priceText:"",isPopular:!1,order:0,durationInMinutes:60,ctaText:"Select Foundational",features:[{id:we(),text:"Floor Plan Analysis (1 zone focus)",type:"included"},{id:we(),text:"60-Min 1:1 Video Consultation",type:"included"},{id:we(),text:"3 Core, Non-Demolition Remedies",type:"included"},{id:we(),text:"Detailed Energy Map Report",type:"excluded"},{id:we(),text:"3 Months Post-Consultation Support",type:"excluded"}]},{name:"Comprehensive Alignment",description:"The definitive solution for total home and life balance.",price:45e5,priceText:"",isPopular:!0,order:1,durationInMinutes:90,ctaText:"Select Comprehensive",features:[{id:we(),text:"**Full Property Vastu Audit (All Zones)**",type:"premium"},{id:we(),text:"90-Min In-Depth 1:1 Session",type:"premium"},{id:we(),text:"Custom Non-Demolition Remedial Plan",type:"premium"},{id:we(),text:"Detailed Energy Map Report",type:"included"},{id:we(),text:"**3 Months Post-Consultation Support**",type:"included"}]},{name:"Enterprise & Annual Vastu",description:"For business spaces or long-term, continuous support.",price:0,priceText:"Contact for Price",isPopular:!1,order:2,durationInMinutes:120,ctaText:"Inquire Now",features:[{id:we(),text:"Commercial/Industrial Vastu Audit",type:"included"},{id:we(),text:"Dedicated Project Consultation",type:"included"},{id:we(),text:"Advanced Branding & Directional Advice",type:"included"},{id:we(),text:"Detailed Energy Map Report",type:"premium"},{id:we(),text:"**12 Months Quarterly Review Support**",type:"premium"}]}];var yr=ce(_e()),ANe=({consultant:t,packages:e,onClose:r,showNotification:n})=>{let[a,i]=(0,nb.useState)(null),[s,o]=(0,nb.useState)(!1),[l,u]=(0,nb.useState)(!1);(0,nb.useEffect)(()=>{let g=async()=>{if(t){u(!0);try{let b=Ce.collection("consultants").doc(t.id).collection("consultant_packages"),S=Ce.batch();Qte.forEach(F=>{let O=b.doc();S.set(O,{...F,consultantId:t.id,createdAt:zr.serverTimestamp(),updatedAt:zr.serverTimestamp()})}),await S.commit(),n("Sample packages have been added for this consultant.","success",4e3)}catch(b){n(`Failed to create default packages: ${b.message}`,"error")}finally{u(!1)}}};t&&e.length===0&&!l&&g()},[t,e,n,l]);let c=(g=null)=>{i(g?{...g,price:(g.price/100).toString(),order:g.order||0,isPopular:g.isPopular||!1,durationInMinutes:g.durationInMinutes||30,ctaText:g.ctaText||"Select Plan"}:{name:"",price:"",features:[],order:e.length,isPopular:!1,durationInMinutes:30,ctaText:"Select Plan"})},d=g=>{if(!a)return;let{name:b,value:S,type:F,checked:O}=g.target;i(F==="checkbox"?R=>({...R,[b]:O}):R=>({...R,[b]:S}))},f=(g,b,S)=>{if(!a||!a.features)return;let F=[...a.features],O={...F[g],[b]:S};F[g]=O,i(R=>({...R,features:F}))},A=()=>{if(!a)return;let g={id:we(),text:"",type:"included"};i(b=>({...b,features:[...b?.features||[],g]}))},v=g=>{if(!a||!a.features)return;let b=[...a.features];b.splice(g,1),i(S=>({...S,features:b}))},I=async()=>{if(!a||!a.name){n("Package name is required.","error");return}let g=Math.round(Number(a.price)*100);if(isNaN(g)&&!a.priceText){n("Please enter a valid price or price text.","error");return}let b=Number(a.order)||0,S=Number(a.durationInMinutes)||30;o(!0);try{let F=Ce.collection("consultants").doc(t.id).collection("consultant_packages"),O={name:a.name,description:a.description||"",features:(a.features||[]).filter(R=>R.text.trim()),price:g||0,priceText:a.priceText||"",order:b,isPopular:a.isPopular||!1,durationInMinutes:S,ctaText:a.ctaText||"Select Plan",ctaLink:a.ctaLink||"",updatedAt:zr.serverTimestamp()};a.id?(await F.doc(a.id).update(O),n("Package updated!","success")):(await F.add({...O,consultantId:t.id,createdAt:zr.serverTimestamp()}),n("Package created!","success")),i(null)}catch(F){n(`Error: ${F.message}`,"error")}finally{o(!1)}},w=async g=>{if(window.confirm("Are you sure you want to delete this package?"))try{await Ce.collection("consultants").doc(t.id).collection("consultant_packages").doc(g).delete(),n("Package deleted.","success")}catch(b){n(`Error deleting package: ${b.message}`,"error")}};return(0,yr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[60] p-4",children:(0,yr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[(0,yr.jsxs)("header",{className:"p-6 border-b flex-shrink-0",children:[(0,yr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,yr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Manage Packages"}),(0,yr.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,yr.jsx)(dr,{size:24})})]}),(0,yr.jsxs)("p",{className:"text-gray-500 mt-1",children:["For ",(0,yr.jsx)("span",{className:"font-semibold",children:t.name})]})]}),(0,yr.jsxs)("main",{className:"flex-grow p-6 space-y-4 overflow-y-auto",children:[a?(0,yr.jsxs)("div",{className:"p-4 bg-gray-50 border rounded-lg space-y-3",children:[(0,yr.jsx)("h4",{className:"font-semibold text-lg",children:a.id?"Edit Package":"New Package"}),(0,yr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,yr.jsx)("input",{type:"text",name:"name",value:a.name||"",onChange:d,placeholder:"Package Name (e.g., Basic)",required:!0,className:"w-full p-2 border rounded-md"}),(0,yr.jsx)("input",{type:"text",name:"description",value:a.description||"",onChange:d,placeholder:"Short description",className:"w-full p-2 border rounded-md"})]}),(0,yr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,yr.jsx)("input",{type:"number",name:"price",value:a.price||"",onChange:d,placeholder:"Price (\u20B9)",min:"0",step:"0.01",className:"w-full p-2 border rounded-md"}),(0,yr.jsx)("input",{type:"text",name:"priceText",value:a.priceText||"",onChange:d,placeholder:"Price Text (e.g., Contact for Price)",className:"w-full p-2 border rounded-md"})]}),(0,yr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,yr.jsx)("input",{type:"number",name:"durationInMinutes",value:a.durationInMinutes||"",onChange:d,placeholder:"Duration (mins)",className:"w-full p-2 border rounded-md"}),(0,yr.jsx)("input",{type:"number",name:"order",value:a.order||"",onChange:d,placeholder:"Display Order",className:"w-full p-2 border rounded-md"})]}),(0,yr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,yr.jsx)("input",{type:"text",name:"ctaText",value:a.ctaText||"",onChange:d,placeholder:"Button Text (e.g., Select Plan)",className:"w-full p-2 border rounded-md"}),(0,yr.jsx)("input",{type:"url",name:"ctaLink",value:a.ctaLink||"",onChange:d,placeholder:"Button Link (optional)",className:"w-full p-2 border rounded-md"})]}),(0,yr.jsx)("div",{children:(0,yr.jsxs)("label",{className:"flex items-center gap-2 p-2 border rounded-md bg-white cursor-pointer",children:[(0,yr.jsx)("input",{type:"checkbox",name:"isPopular",checked:!!a.isPopular,onChange:d,className:"h-4 w-4 text-amber-500 border-gray-300 rounded focus:ring-amber-400"}),(0,yr.jsx)("span",{className:"text-sm font-medium",children:"Mark as Most Popular"})]})}),(0,yr.jsxs)("div",{children:[(0,yr.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Features Included"}),(0,yr.jsx)("div",{className:"space-y-2",children:(a.features||[]).map((g,b)=>(0,yr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,yr.jsx)("input",{type:"text",value:g.text,onChange:S=>f(b,"text",S.target.value),placeholder:"Feature description",className:"flex-grow p-2 border rounded-md"}),(0,yr.jsxs)("select",{value:g.type,onChange:S=>f(b,"type",S.target.value),className:"p-2 border rounded-md bg-white",children:[(0,yr.jsx)("option",{value:"included",children:"Included"}),(0,yr.jsx)("option",{value:"premium",children:"Premium"}),(0,yr.jsx)("option",{value:"excluded",children:"Excluded"})]}),(0,yr.jsx)("button",{type:"button",onClick:()=>v(b),className:"p-2 text-red-500 hover:bg-red-50 rounded-full",children:(0,yr.jsx)(Ar,{size:16})})]},g.id||b))}),(0,yr.jsxs)("button",{type:"button",onClick:A,className:"text-sm mt-2 text-blue-600 font-semibold flex items-center gap-1",children:[(0,yr.jsx)(_a,{size:14})," Add Feature"]})]}),(0,yr.jsxs)("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[(0,yr.jsx)("button",{type:"button",onClick:()=>i(null),className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:s,children:"Cancel"}),(0,yr.jsxs)("button",{type:"button",onClick:I,className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:s,children:[s?(0,yr.jsx)(Pt,{className:"animate-spin mr-2"}):(0,yr.jsx)(ua,{className:"mr-2"})," Save"]})]})]}):(0,yr.jsxs)("button",{onClick:()=>c(),className:"w-full flex items-center justify-center gap-2 py-2 px-4 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700",children:[(0,yr.jsx)(_a,{size:20})," Add New Package"]}),(0,yr.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,yr.jsx)("h4",{className:"font-semibold text-lg",children:"Existing Packages"}),l?(0,yr.jsx)("div",{className:"flex justify-center py-4",children:(0,yr.jsx)(Pt,{className:"animate-spin"})}):e.length>0?e.map(g=>(0,yr.jsxs)("div",{className:"bg-white p-3 border rounded-md",children:[(0,yr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,yr.jsxs)("div",{children:[(0,yr.jsxs)("p",{className:"font-bold",children:[g.name," - ",(0,yr.jsx)("span",{className:"text-green-600",children:g.priceText||`\u20B9${(g.price/100).toFixed(2)}`})]}),(0,yr.jsxs)("p",{className:"text-xs text-gray-500",children:["Order: ",g.order||"N/A"," ",g.isPopular?" (Popular)":""]})]}),(0,yr.jsxs)("div",{className:"flex items-center flex-shrink-0 ml-4",children:[(0,yr.jsx)("button",{onClick:()=>c(g),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:(0,yr.jsx)(Kn,{size:16})}),(0,yr.jsx)("button",{onClick:()=>w(g.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:(0,yr.jsx)(Ar,{size:16})})]})]}),(0,yr.jsx)("ul",{className:"text-xs list-none mt-2 space-y-1",children:(g.features||[]).map(b=>(0,yr.jsxs)("li",{className:"flex items-center gap-1.5",children:[b.type==="premium"?(0,yr.jsx)(Cc,{size:12,className:"text-amber-500"}):b.type==="included"?(0,yr.jsx)(Ji,{size:12,className:"text-green-500"}):(0,yr.jsx)(dr,{size:12,className:"text-red-500"})," ",b.text]},b.id))})]},g.id)):(0,yr.jsx)("p",{className:"text-center text-gray-500 italic py-4",children:"No packages created yet."})]})]})]})})},ab=ANe;var Lm=ce($t());var Hte={id:"",consultantId:"",brandName:"VastuHub Consulting",footerDisclaimer:"Disclaimer: Results may vary. Vastu is an ancient science and should be used as a supplementary tool for life improvement.",updatedAt:new Date,whatsappGroupLink:"",facebookGroupLink:"",sections:[{id:we(),type:"hero",order:0,heroContent:{id:we(),type:"hero",topBannerText:"Personalized Vedic Vastu Consulting",mainHeadline:'Achieve <span class="text-accent">Total Life Alignment</span> through Expert, Scientific Vastu Correction',subHeadline:"Receive customized, non-demolition solutions tailored to your specific life challenges, delivered by the World's Most Qualified Vastu Coach.",processSteps:[{id:we(),title:"1. Data Submission & Audit",description:"You provide your floor plan and personal details for an initial energetic diagnosis."},{id:we(),title:"2. Personalized Consultation",description:"A dedicated 1:1 session to discuss your specific challenges and review the Vastu findings."},{id:we(),title:"3. Remedial Action Plan",description:"You receive a detailed, non-demolition action plan with customized solutions for immediate application."}]}},{id:we(),type:"featured_in",order:1,featuredInLogos:[{id:we(),imageUrl:"https://placehold.co/100x30/1e1b4b/ffffff?text=INDIA+TV",altText:"India TV"},{id:we(),imageUrl:"https://placehold.co/100x30/1e1b4b/ffffff?text=MH+ONE",altText:"MH One"},{id:we(),imageUrl:"https://placehold.co/100x30/1e1b4b/ffffff?text=NDTV",altText:"NDTV"},{id:we(),imageUrl:"https://placehold.co/100x30/1e1b4b/ffffff?text=ZEE+NEWS",altText:"Zee News"}]},{id:we(),type:"packages",order:2,packagesTitle:'Select Your <span class="text-accent">Vastu Transformation Package</span>',packagesSubTitle:"Choose the level of support that best aligns with your needs, whether you are seeking a foundational check or a comprehensive, year-long energetic alignment."},{id:we(),type:"benefits",order:3,benefitsTitle:'What You Gain From A <span class="text-accent">Consultation</span>',benefitsItems:[{id:we(),icon:"wallet",title:"Achieve Financial Equilibrium",description:"Determine if subtle energy blocks in your living space are undermining your professional efforts and discover corrective solutions for lasting financial flow."},{id:we(),icon:"apple",title:"Cultivate Holistic Well-being",description:"Understand the profound energetic connection between your home and your vitality, enabling you to shift from draining environments to restorative ones."},{id:we(),icon:"briefcase",title:"Accelerate Professional Trajectory",description:"Harness the directional forces within your space to support ambition, recognition, and continuous career and business advancement."},{id:we(),icon:"house",title:"Establish Domestic Harmony",description:"Learn to create a balanced energetic environment that naturally fosters understanding, strengthens bonds, and resolves interpersonal conflict effortlessly."}]},{id:we(),type:"problems",order:4,problemsTitle:'If You Are Facing Any Of These Problems, Your House Probably Has <span class="text-accent">Vastu Dosh</span>',problemsItems:[{id:we(),icon:"trending-down",title:"Financial Instability & Debt Cycle",points:["Chronic debt and unpredictable income streams.","Stagnation or lack of anticipated growth in business or career.","Savings depletion despite diligent efforts toward financial stability."]},{id:we(),icon:"activity",title:"Health Issues & Low Vitality",points:["Persistent low energy or feelings of constant fatigue.","Recurring health problems resistant to conventional treatment.","Disturbed or non-restorative sleep patterns among residents."]},{id:we(),icon:"gavel",title:"Strained Interpersonal Conflicts",points:["Unresolved spousal disputes or strain in family relationships.","Unexpected delays or continuous obstacles in marriage or alliances.","Frequent emotional detachment or lack of harmonious bonding."]},{id:we(),icon:"skull",title:"Professional Blocks & Anxiety",points:["Consistent obstacles to professional or academic advancement.","A pervasive sense of anxiety, heaviness, or emotional turmoil.","Recurrent unexpected mishaps or appliance/structure malfunctions."]}]},{id:we(),type:"delineation",order:5,delineationContent:{id:we(),type:"delineation",mainHeadline:'The Delineation: Authentic Vedic Vastu vs. <span class="text-accent">Unreliable Hybrid Systems</span>',subHeadline:"We will demonstrate why mixing core Vastu principles with non-Vedic concepts creates an ineffective and often conflicting energetic system.",points:[{id:we(),title:"Authentic Vedic Foundation",description:"Vastu is based on **\u015B\u0101stric wisdom** passed down through 18 Maharishis, aligning a space with precise cosmic forces."},{id:we(),title:"Mitigating Hybrid Confusion",description:"Avoid diluted, incompatible 'Hybrid Vastu' practices that often introduce energetic conflicts and prevent genuine, lasting results."},{id:we(),title:"Holistic, Systemic Solutions",description:"Focus on a comprehensive, systemic approach to energy correction, prioritizing foundational alignment over random, superficial directional fixes."}]}},{id:we(),type:"deliverables",order:6,deliverablesTitle:'What The Consultation <span class="text-accent">Delivers</span>',deliverablesItems:[{id:we(),icon:"pin",description:"A **Customized Vastu Blueprint** derived from a deep analysis of your property's energy map and your life objectives."},{id:we(),icon:"infinity",description:"Clear identification of the energy zones impacting your finances, health, and relationships, providing a root-cause diagnosis."},{id:we(),icon:"square-x",description:"Detailed, non-invasive **Remedial Action Strategies**\u2014no major construction required\u2014for immediate stress and stagnation relief."},{id:we(),icon:"bag-dollar",description:"A path to **Maximizing Prosperity and Tranquility** by harmonizing your space to align with universal principles of abundance."}]},{id:we(),type:"audience",order:7,audienceTitle:"Who Should Invest in This Consultancy: Professional Audience Segments",audienceItems:[{id:we(),description:"<strong>Energetic Correction Seekers:</strong> Individuals seeking to resolve persistent financial instability, health challenges, or domestic stress through precise energetic correction."},{id:we(),description:"<strong>Property Investors & Home Buyers:</strong> Prospective homeowners or tenants requiring due diligence and application of Vastu compliance before property acquisition."},{id:we(),description:"<strong>Business Leaders & Entrepreneurs:</strong> Those aiming to enhance commercial opportunities by optimizing the energetic flow of their office, storefront, or industrial space."},{id:we(),description:"<strong>Design Professionals:</strong> Architects, Interior Designers, and Real Estate Builders looking to integrate high-level Vedic Vastu principles into modern project execution."}]},{id:we(),type:"about_coach",order:8,aboutCoachTitle:'Why Train with <span class="text-accent">Your Coach</span>'},{id:we(),type:"faq",order:9,faqTitle:"Frequently Asked Questions",faqItems:[{id:we(),question:"What materials do I need to prepare before the consultation?",answer:"We require a detailed, scaled floor plan (digital preferred) of the property to be analyzed, along with the precise address and birth details of the primary occupants for a personalized energetic reading."},{id:we(),question:"I reside in a rented property. Are the remedies permanent?",answer:"Our solutions focus on precise energetic and placement shifts, eliminating the need for structural renovations. These non-demolition remedies are effective and applicable to rented homes, offices, and commercial spaces."},{id:we(),question:"How quickly can I expect to see results?",answer:"While the depth of transformation varies by individual and commitment to the remedial plan, many clients report a distinct shift in emotional clarity and financial flow within **7 to 21 days** of implementation."}]},{id:we(),type:"social_connect",order:10,socialConnectContent:{id:we(),title:"Join Our Community",whatsappGroupLink:"",facebookGroupLink:""}}]};var Vt=ce(_e());var Vte=[{type:"hero",label:"Hero Section"},{type:"featured_in",label:"Featured In"},{type:"packages",label:"Pricing Packages"},{type:"benefits",label:'Benefits ("What You Gain")'},{type:"problems",label:'Problems ("Vastu Dosh")'},{type:"delineation",label:'Delineation ("Vastu vs Hybrid")'},{type:"deliverables",label:"Deliverables"},{type:"audience",label:'Audience ("Who Should Attend")'},{type:"about_coach",label:"About The Coach"},{type:"faq",label:"FAQ Section"},{type:"webinar",label:"Webinar"},{type:"video_testimonials",label:"Video Testimonials"},{type:"social_connect",label:"Social Media Connect"}],fNe=({consultant:t,onClose:e,showNotification:r,isUserManaged:n,consultantPackages:a,adminMediaFiles:i,consultantMediaFiles:s,videoTestimonials:o})=>{let[l,u]=(0,Lm.useState)({brandName:"",sections:[],footerDisclaimer:"",whatsappGroupLink:"",facebookGroupLink:""}),[c,d]=(0,Lm.useState)(!0),[f,A]=(0,Lm.useState)(!1),[v,I]=(0,Lm.useState)([]);(0,Lm.useEffect)(()=>{(async()=>{try{let _=await Ce.collection("webinar_products").orderBy("createdAt","desc").get();I(_.docs.map(L=>({...L.data(),id:L.id})))}catch{r("Could not load available webinars.","error")}})()},[r]),(0,Lm.useEffect)(()=>{(async()=>{d(!0);try{let L=await Ce.collection("consultant_pages").doc(t.id).get();L.exists&&L.data()?.sections?.length>0?u(L.data()):u({...Hte,whatsappGroupLink:"",facebookGroupLink:""})}catch{r("Failed to load page definition.","error")}finally{d(!1)}})()},[t.id,r]);let w=E=>{u(_=>({..._,sections:E(_.sections||[])}))},g=(E,_,L,D,z)=>{w(ee=>ee.map(Y=>{if(Y.id===E){let $=JSON.parse(JSON.stringify(Y)),j=_.split("."),K=$;for(let oe of j){if(K[oe]===void 0)return console.error(`Path ${_} not found in section`,Y),Y;K=K[oe]}if(Array.isArray(K)&&K[L])return K[L][D]=z,$}return Y}))},b=(E,_,L,D)=>{w(z=>z.map(ee=>{if(ee.id===E){let Y=JSON.parse(JSON.stringify(ee)),$=_.split("."),j=Y;for(let K of $)j=j[K];if(Array.isArray(j)&&j[L])return j[L].points=D.split(`
`),Y}return ee}))},S=(E,_,L)=>{w(D=>D.map(z=>{if(z.id===E){let ee=JSON.parse(JSON.stringify(z)),Y=_.split("."),$=ee;for(let K=0;K<Y.length-1;K++)$[Y[K]]||($[Y[K]]={}),$=$[Y[K]];let j=Y[Y.length-1];return Array.isArray($[j])||($[j]=[]),$[j].push({...L,id:we()}),ee}return z}))},F=(E,_,L)=>{w(D=>D.map(z=>{if(z.id===E){let ee=JSON.parse(JSON.stringify(z)),Y=_.split("."),$=ee;for(let K=0;K<Y.length-1;K++)$=$[Y[K]];let j=$[Y[Y.length-1]];return Array.isArray(j)&&($[Y[Y.length-1]]=j.filter(K=>K.id!==L)),ee}return z}))},O=(E,_)=>{w(L=>{let D=[...L],z=_==="up"?E-1:E+1;return z<0||z>=D.length||([D[E],D[z]]=[D[z],D[E]]),D})},R=E=>{let _={id:we(),type:E,order:(l.sections||[]).length};E==="hero"&&(_.heroContent={id:we(),type:"hero",processSteps:[{id:we(),title:"Step 1",description:""}]}),E==="delineation"&&(_.delineationContent={id:we(),type:"delineation",mainHeadline:"",subHeadline:"",points:[{id:we(),title:"Point 1",description:""}]}),E==="social_connect"&&(_.socialConnectContent={id:we(),title:"Join Our Community",whatsappGroupLink:"",facebookGroupLink:""}),w(L=>[...L,_])},T=E=>{w(_=>_.filter(L=>L.id!==E))},B=async E=>{E.preventDefault(),A(!0);try{let _=Ce.collection("consultant_pages").doc(t.id),L={consultantId:t.id,brandName:l.brandName||"",footerDisclaimer:l.footerDisclaimer||"",whatsappGroupLink:l.whatsappGroupLink||"",facebookGroupLink:l.facebookGroupLink||"",sections:(l.sections||[]).map((D,z)=>({...D,order:z})),updatedAt:zr.serverTimestamp()};await _.set(L,{merge:!0}),r("Page layout saved!","success"),e()}catch(_){r(`Error: ${_.message}`,"error")}finally{A(!1)}},k=(E,_)=>{w(L=>L.map(D=>D.id===E?{...D,..._}:D))},U=E=>{let L={hero:{path:"heroContent.processSteps",newItem:{title:"",description:""},fields:[{name:"title",ph:"Step Title"},{name:"description",ph:"Description",type:"textarea"}]},featured_in:{path:"featuredInLogos",newItem:{imageUrl:"",altText:""},fields:[{name:"imageUrl",ph:"Image URL"},{name:"altText",ph:"Alt Text"}]},benefits:{path:"benefitsItems",newItem:{icon:"",title:"",description:""},fields:[{name:"icon",ph:"Lucide Icon Name"},{name:"title",ph:"Title"},{name:"description",ph:"Description",type:"textarea"}]},problems:{path:"problemsItems",newItem:{icon:"",title:"",points:[]},fields:[{name:"icon",ph:"Lucide Icon Name"},{name:"title",ph:"Title"},{name:"points",ph:"Points (one per line)",type:"textarea-special"}]},delineation:{path:"delineationContent.points",newItem:{title:"",description:""},fields:[{name:"title",ph:"Point Title"},{name:"description",ph:"Description",type:"textarea"}]},deliverables:{path:"deliverablesItems",newItem:{icon:"",description:""},fields:[{name:"icon",ph:"Lucide Icon Name"},{name:"description",ph:"Description",type:"textarea"}]},audience:{path:"audienceItems",newItem:{description:""},fields:[{name:"description",ph:"Description (HTML allowed)",type:"textarea"}]},faq:{path:"faqItems",newItem:{question:"",answer:""},fields:[{name:"question",ph:"Question"},{name:"answer",ph:"Answer",type:"textarea"}]}}[E.type],D=[];if(L){let Y=L.path.split("."),$=E;for(let j of Y)$=$?$[j]:void 0;D=$||[]}let z=(Y,$,j)=>{if($.includes(".")){let[K,oe]=$.split(".");k(Y,{[K]:{...E[K]||{},[oe]:j}})}else k(Y,{[$]:j})};return(0,Vt.jsxs)("div",{className:"p-3 border-t bg-gray-50 space-y-3",children:[(()=>{let $={hero:[{name:"heroContent.topBannerText",ph:"Top Banner Text"},{name:"heroContent.mainHeadline",ph:"Main Headline (HTML)"},{name:"heroContent.subHeadline",ph:"Sub Headline"}],packages:[{name:"packagesTitle",ph:"Section Title (HTML)"},{name:"packagesSubTitle",ph:"Section Subtitle"}],benefits:[{name:"benefitsTitle",ph:"Section Title (HTML)"}],problems:[{name:"problemsTitle",ph:"Section Title (HTML)"}],delineation:[{name:"delineationContent.mainHeadline",ph:"Main Headline (HTML)"},{name:"delineationContent.subHeadline",ph:"Sub Headline"}],deliverables:[{name:"deliverablesTitle",ph:"Section Title (HTML)"}],audience:[{name:"audienceTitle",ph:"Section Title"}],about_coach:[{name:"aboutCoachTitle",ph:"Section Title (HTML)"}],faq:[{name:"faqTitle",ph:"Section Title"}],webinar:[{name:"webinarTitle",ph:"Section Title (e.g., Join Our Exclusive Webinar)"}]}[E.type];return E.type==="webinar"?(0,Vt.jsxs)("div",{className:"space-y-2",children:[(0,Vt.jsx)("input",{type:"text",value:E.webinarTitle||"",onChange:j=>z(E.id,"webinarTitle",j.target.value),placeholder:"Section Title (e.g., Join Our Exclusive Webinar)",className:"w-full p-2 border rounded text-xs"}),(0,Vt.jsxs)("select",{value:E.webinarProductId||"",onChange:j=>k(E.id,{webinarProductId:j.target.value}),className:"w-full p-2 border rounded text-xs bg-white",children:[(0,Vt.jsx)("option",{value:"",children:"-- Select a Webinar --"}),v.map(j=>(0,Vt.jsx)("option",{value:j.id,children:j.name},j.id))]})]}):E.type==="video_testimonials"?(0,Vt.jsxs)("div",{className:"space-y-4",children:[(0,Vt.jsx)("input",{type:"text",value:E.videoTestimonialsTitle||"",onChange:j=>z(E.id,"videoTestimonialsTitle",j.target.value),placeholder:"Section Title (e.g., Hear from Our Clients)",className:"w-full p-2 border rounded text-xs"}),!n&&(0,Vt.jsxs)("div",{className:"pt-2",children:[(0,Vt.jsx)("h5",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Select from Admin-Managed Testimonials"}),(0,Vt.jsxs)("div",{className:"p-2 border bg-white rounded-md max-h-40 overflow-y-auto space-y-1",children:[o.map(j=>(0,Vt.jsxs)("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-gray-100 cursor-pointer",children:[(0,Vt.jsx)("input",{type:"checkbox",checked:(E.videoTestimonialIds||[]).includes(j.id),onChange:()=>{let K=E.videoTestimonialIds||[],oe=K.includes(j.id)?K.filter(q=>q!==j.id):[...K,j.id];k(E.id,{videoTestimonialIds:oe})},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Vt.jsxs)("span",{className:"text-sm text-gray-800",children:[j.name," - ",j.place]})]},j.id)),o.length===0&&(0,Vt.jsx)("p",{className:"text-xs text-gray-500 italic",children:"No video testimonials found in the admin library."})]})]}),(0,Vt.jsxs)("div",{className:"pt-2 border-t",children:[(0,Vt.jsx)("h5",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Your Custom Testimonials (YouTube Links)"}),(0,Vt.jsx)("div",{className:"space-y-2",children:(E.customVideoTestimonials||[]).map((j,K)=>(0,Vt.jsxs)("div",{className:"p-3 bg-white border rounded-md space-y-2",children:[(0,Vt.jsx)("div",{className:"flex justify-end",children:(0,Vt.jsx)("button",{type:"button",onClick:()=>F(E.id,"customVideoTestimonials",j.id),className:"p-1 text-red-500",children:(0,Vt.jsx)(Ar,{size:14})})}),(0,Vt.jsx)("input",{type:"text",value:j.name,onChange:oe=>g(E.id,"customVideoTestimonials",K,"name",oe.target.value),placeholder:"Client Name",className:"w-full p-1 border rounded text-xs"}),(0,Vt.jsx)("input",{type:"text",value:j.place,onChange:oe=>g(E.id,"customVideoTestimonials",K,"place",oe.target.value),placeholder:"Client Place (e.g., City, Country)",className:"w-full p-1 border rounded text-xs"}),(0,Vt.jsx)("input",{type:"url",value:j.url,onChange:oe=>g(E.id,"customVideoTestimonials",K,"url",oe.target.value),placeholder:"YouTube Video URL",className:"w-full p-1 border rounded text-xs"})]},j.id))}),(0,Vt.jsx)("button",{type:"button",onClick:()=>S(E.id,"customVideoTestimonials",{name:"",place:"",url:""}),className:"text-xs font-semibold text-blue-600",children:"+ Add Custom Testimonial"})]})]}):E.type==="social_connect"?(0,Vt.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Vt.jsx)("input",{type:"text",value:E.socialConnectContent?.title||"",onChange:j=>z(E.id,"socialConnectContent.title",j.target.value),placeholder:"Section Title (e.g., Join Our Community)",className:"w-full p-2 border rounded"}),(0,Vt.jsx)("input",{type:"url",value:E.socialConnectContent?.whatsappGroupLink||"",onChange:j=>z(E.id,"socialConnectContent.whatsappGroupLink",j.target.value),placeholder:"WhatsApp Group URL",className:"w-full p-2 border rounded"}),(0,Vt.jsx)("input",{type:"url",value:E.socialConnectContent?.facebookGroupLink||"",onChange:j=>z(E.id,"socialConnectContent.facebookGroupLink",j.target.value),placeholder:"Facebook Group URL",className:"w-full p-2 border rounded"})]}):$?(0,Vt.jsx)("div",{className:"space-y-2",children:$.map(j=>{let K=j.name.includes(".")?E[j.name.split(".")[0]]?.[j.name.split(".")[1]]||"":E[j.name]||"";return(0,Vt.jsx)("input",{type:"text",value:K,onChange:oe=>z(E.id,j.name,oe.target.value),placeholder:j.ph,className:"w-full p-2 border rounded text-xs"},j.name)})}):null})(),L&&(0,Vt.jsxs)("div",{className:"space-y-2 pt-2 border-t",children:[D.map((Y,$)=>(0,Vt.jsxs)("div",{className:"p-2 bg-white border rounded-md space-y-2",children:[(0,Vt.jsx)("div",{className:"flex justify-end",children:(0,Vt.jsx)("button",{type:"button",onClick:()=>F(E.id,L.path,Y.id),className:"p-1 text-red-500",children:(0,Vt.jsx)(Ar,{size:14})})}),L.fields.map(j=>j.type==="textarea"?(0,Vt.jsx)("textarea",{value:Y[j.name]||"",onChange:K=>g(E.id,L.path,$,j.name,K.target.value),placeholder:j.ph,className:"w-full p-1 border rounded text-xs h-20"},j.name):j.type==="textarea-special"&&j.name==="points"?(0,Vt.jsx)("textarea",{value:Array.isArray(Y[j.name])?Y[j.name].join(`
`):"",onChange:K=>b(E.id,L.path,$,K.target.value),placeholder:j.ph,className:"w-full p-1 border rounded text-xs h-20"},j.name):(0,Vt.jsx)("input",{type:"text",value:Y[j.name]||"",onChange:K=>g(E.id,L.path,$,j.name,K.target.value),placeholder:j.ph,className:"w-full p-1 border rounded text-xs"},j.name))]},Y.id)),(0,Vt.jsx)("button",{type:"button",onClick:()=>S(E.id,L.path,L.newItem),className:"text-xs font-semibold text-blue-600",children:"+ Add Item"})]})]})};return(0,Vt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[60] p-4",children:(0,Vt.jsxs)("form",{onSubmit:B,className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,Vt.jsxs)("header",{className:"p-6 border-b flex-shrink-0",children:[(0,Vt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vt.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Edit Consultant Page"}),(0,Vt.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",children:(0,Vt.jsx)(dr,{size:24})})]}),(0,Vt.jsxs)("p",{className:"text-gray-500 mt-1",children:["For ",(0,Vt.jsx)("span",{className:"font-semibold",children:t.name})]})]}),(0,Vt.jsx)("main",{className:"flex-grow p-6 grid md:grid-cols-2 gap-6 overflow-y-auto",children:c?(0,Vt.jsx)("div",{className:"md:col-span-2 flex justify-center items-center",children:(0,Vt.jsx)(Pt,{className:"animate-spin"})}):(0,Vt.jsxs)(Vt.Fragment,{children:[(0,Vt.jsxs)("div",{className:"space-y-4",children:[(0,Vt.jsxs)("div",{children:[(0,Vt.jsx)("label",{className:"font-semibold text-gray-700 text-sm mb-1 block",children:"Brand Name"}),(0,Vt.jsx)("input",{type:"text",value:l.brandName||"",onChange:E=>u(_=>({..._,brandName:E.target.value})),placeholder:"Brand name for header/footer",className:"w-full p-2 border rounded-md"})]}),(0,Vt.jsxs)("div",{children:[(0,Vt.jsx)("label",{className:"font-semibold text-gray-700 text-sm mb-1 block",children:"WhatsApp Group Link"}),(0,Vt.jsx)("input",{type:"url",value:l.whatsappGroupLink||"",onChange:E=>u(_=>({..._,whatsappGroupLink:E.target.value})),placeholder:"https://chat.whatsapp.com/...",className:"w-full p-2 border rounded-md"})]}),(0,Vt.jsxs)("div",{children:[(0,Vt.jsx)("label",{className:"font-semibold text-gray-700 text-sm mb-1 block",children:"Facebook Group Link"}),(0,Vt.jsx)("input",{type:"url",value:l.facebookGroupLink||"",onChange:E=>u(_=>({..._,facebookGroupLink:E.target.value})),placeholder:"https://www.facebook.com/groups/...",className:"w-full p-2 border rounded-md"})]}),(0,Vt.jsxs)("div",{children:[(0,Vt.jsx)("label",{className:"font-semibold text-gray-700 text-sm mb-1 block",children:"Footer Disclaimer"}),(0,Vt.jsx)("textarea",{value:l.footerDisclaimer||"",onChange:E=>u(_=>({..._,footerDisclaimer:E.target.value})),className:"w-full p-2 border rounded-md h-20 text-sm"})]})]}),(0,Vt.jsxs)("div",{children:[(0,Vt.jsx)("h4",{className:"font-semibold mb-2",children:"Page Sections"}),(0,Vt.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border min-h-[200px] space-y-2",children:[(l.sections||[]).map((E,_)=>(0,Vt.jsxs)("div",{className:"bg-white border rounded-md shadow-sm",children:[(0,Vt.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,Vt.jsx)("span",{className:"flex-grow font-medium text-sm",children:Vte.find(L=>L.type===E.type)?.label||"Unknown Section"}),(0,Vt.jsxs)("div",{className:"flex items-center",children:[(0,Vt.jsx)("button",{type:"button",onClick:()=>O(_,"up"),disabled:_===0,className:"p-1 disabled:opacity-30",children:(0,Vt.jsx)(yo,{size:16})}),(0,Vt.jsx)("button",{type:"button",onClick:()=>O(_,"down"),disabled:_===(l.sections||[]).length-1,className:"p-1 disabled:opacity-30",children:(0,Vt.jsx)(cs,{size:16})}),(0,Vt.jsx)("button",{type:"button",onClick:()=>T(E.id),className:"p-1 text-red-500 hover:bg-red-50 rounded-full",children:(0,Vt.jsx)(Ar,{size:16})})]})]}),U(E)]},E.id)),(0,Vt.jsxs)("div",{className:"mt-3 relative",children:[(0,Vt.jsxs)("select",{onChange:E=>R(E.target.value),value:"",className:"w-full p-2 border rounded-md bg-white appearance-none text-sm font-semibold text-center text-blue-600 hover:bg-blue-50 cursor-pointer",children:[(0,Vt.jsx)("option",{value:"",disabled:!0,children:"-- Add a new section --"}),Vte.map(E=>(0,Vt.jsx)("option",{value:E.type,children:E.label},E.type))]}),(0,Vt.jsx)(Ss,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]})]})}),(0,Vt.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,Vt.jsx)("button",{type:"button",onClick:e,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:f,children:"Cancel"}),(0,Vt.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:f,children:[f?(0,Vt.jsx)(Pt,{className:"animate-spin mr-2"}):(0,Vt.jsx)(ua,{className:"mr-2"}),f?"Saving...":"Save Page"]})]})]})})},xE=fNe;var ib=ce($t());var ju=ce(_e()),hNe=({appointment:t,onClose:e,onConfirm:r})=>(0,ju.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-[70] p-4",children:(0,ju.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,ju.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,ju.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,ju.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Appointment"}),(0,ju.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,ju.jsxs)("p",{children:["Are you sure you want to delete the appointment for ",(0,ju.jsx)("strong",{className:"font-bold",children:t.userName}),"?"]}),(0,ju.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This will also mark the original purchase as 'cancelled'. This action cannot be undone."})]}),(0,ju.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,ju.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,ju.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})}),qte=hNe;var nn=ce(_e()),pNe=({consultant:t,onClose:e,showNotification:r})=>{let[n,a]=(0,ib.useState)([]),[i,s]=(0,ib.useState)(!0),[o,l]=(0,ib.useState)(null);(0,ib.useEffect)(()=>{s(!0);let A=Ce.collection("appointments").where("consultantId","==",t.id).onSnapshot(v=>{let I=v.docs.map(w=>({...w.data(),id:w.id}));I.sort((w,g)=>{let b=w.appointmentStart?.toMillis()||0;return(g.appointmentStart?.toMillis()||0)-b}),a(I),s(!1)},v=>{console.error("Error fetching appointments in modal:",v),r("Failed to load appointment data.","error"),s(!1)});return()=>A()},[t.id,r]);let u=f=>{let A=null;return!f||(f instanceof Date?A=f:typeof f.toDate=="function"&&(A=f.toDate()),!A)?"N/A":A.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},c=async f=>{if(window.confirm("Are you sure you want to mark this appointment as complete?"))try{let A=Ce.batch(),v=Ce.collection("appointments").doc(f.id),I=Ce.collection("consultation_purchases").doc(f.purchaseId);A.update(v,{status:"completed"}),A.update(I,{status:"completed"}),await A.commit(),r("Appointment marked as complete!","success")}catch(A){console.error("Error marking appointment as complete:",A),r(`Failed to update: ${A.message}`,"error")}},d=async()=>{if(o)try{let f=Ce.batch(),A=Ce.collection("appointments").doc(o.id),v=Ce.collection("consultation_purchases").doc(o.purchaseId);f.delete(A),f.update(v,{status:"cancelled"}),await f.commit(),r("Appointment deleted successfully!","success")}catch(f){console.error("Error deleting appointment:",f),r(`Failed to delete: ${f.message}`,"error")}finally{l(null)}};return(0,nn.jsxs)(nn.Fragment,{children:[(0,nn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[60] p-4",children:(0,nn.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,nn.jsxs)("header",{className:"p-6 border-b flex-shrink-0",children:[(0,nn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,nn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"View Appointments"}),(0,nn.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",children:(0,nn.jsx)(dr,{size:24})})]}),(0,nn.jsxs)("p",{className:"text-gray-500 mt-1",children:["For ",(0,nn.jsx)("span",{className:"font-semibold",children:t.name})]})]}),(0,nn.jsx)("main",{className:"flex-grow p-6 overflow-y-auto",children:i?(0,nn.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,nn.jsx)(Pt,{className:"animate-spin text-blue-500",size:32})}):(0,nn.jsx)("div",{className:"overflow-x-auto",children:(0,nn.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,nn.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,nn.jsxs)("tr",{children:[(0,nn.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Client"}),(0,nn.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Date"}),(0,nn.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Time"}),(0,nn.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Status"}),(0,nn.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,nn.jsx)("tbody",{children:n.length>0?n.map(f=>(0,nn.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,nn.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:(0,nn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,nn.jsx)(ca,{size:16,className:"text-gray-400"}),(0,nn.jsxs)("div",{children:[(0,nn.jsx)("div",{children:f.userName}),(0,nn.jsx)("div",{className:"text-xs text-gray-500",children:f.userEmail})]})]})}),(0,nn.jsx)("td",{className:"px-6 py-4",children:(0,nn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,nn.jsx)(la,{size:16,className:"text-gray-400"}),sn(f.appointmentStart)]})}),(0,nn.jsx)("td",{className:"px-6 py-4",children:(0,nn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,nn.jsx)(Il,{size:16,className:"text-gray-400"}),u(f.appointmentStart)," - ",u(f.appointmentEnd)]})}),(0,nn.jsx)("td",{className:"px-6 py-4",children:(0,nn.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f.status==="completed"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:f.status||"scheduled"})}),(0,nn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,nn.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[f.status!=="completed"&&(0,nn.jsx)("button",{onClick:()=>c(f),className:"p-2 text-green-600 hover:bg-green-100 rounded-full",title:"Mark as Complete",children:(0,nn.jsx)(Dn,{size:16})}),(0,nn.jsx)("button",{onClick:()=>l(f),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",title:"Delete Appointment",children:(0,nn.jsx)(Ar,{size:16})})]})})]},f.id)):(0,nn.jsx)("tr",{children:(0,nn.jsx)("td",{colSpan:5,className:"text-center py-12 text-gray-500 italic",children:"No appointments scheduled for this consultant."})})})]})})}),(0,nn.jsx)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end rounded-b-xl border-t",children:(0,nn.jsx)("button",{onClick:e,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",children:"Close"})})]})}),o&&(0,nn.jsx)(qte,{appointment:o,onClose:()=>l(null),onConfirm:d})]})},CE=pNe;var Vr=ce(_e()),mNe=({consultants:t,packages:e,appointments:r,mediaFiles:n,videoTestimonials:a,showNotification:i,users:s,onSaveConsultant:o,setEditingConsultant:l})=>{let[u,c]=(0,Sc.useState)(""),[d,f]=(0,Sc.useState)(!1),[A,v]=(0,Sc.useState)(null),[I,w]=(0,Sc.useState)(null),[g,b]=(0,Sc.useState)(null),[S,F]=(0,Sc.useState)(null),[O,R]=(0,Sc.useState)(null),[T,B]=(0,Sc.useState)(null);(0,Sc.useEffect)(()=>{let z=new URLSearchParams(window.location.search).get("gcal_error");if(z){i(`Google Calendar error: ${z}`,"error",8e3);let ee=window.location.pathname;window.history.replaceState({},document.title,ee)}},[i]);let k=(0,Sc.useMemo)(()=>t.filter(D=>D.name.toLowerCase().includes(u.toLowerCase())),[t,u]),U=(D=null)=>{v(D),l(D),f(!0)},E=D=>{w(D)},_=async D=>{B(D);try{let Y=(await cr.httpsCallable("googleAuthInit")({consultantId:D,finalRedirectUrl:window.location.href})).data.authUrl;window.location.href=Y}catch(z){i(`Error starting calendar connection: ${z.message}`,"error"),B(null)}},L=async D=>{if(window.confirm("Are you sure you want to disconnect this calendar? Future appointments will not be synced automatically.")){B(D);try{await cr.httpsCallable("googleAuthDisconnect")({consultantId:D}),i("Google Calendar disconnected successfully.","success")}catch(z){i(`Error disconnecting calendar: ${z.message}`,"error")}finally{B(null)}}};return(0,Vr.jsxs)(Vr.Fragment,{children:[(0,Vr.jsxs)("section",{className:"space-y-4",children:[(0,Vr.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[(0,Vr.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,Vr.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Vr.jsx)("input",{type:"text",placeholder:"Search by name...",value:u,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,Vr.jsxs)("button",{onClick:()=>U(),className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors w-full sm:w-auto",children:[(0,Vr.jsx)(_a,{className:"mr-2 h-5 w-5"})," Add New Consultant"]})]}),(0,Vr.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:(0,Vr.jsx)("div",{className:"overflow-x-auto",children:(0,Vr.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,Vr.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,Vr.jsxs)("tr",{children:[(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Consultant"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Google Calendar"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Created On"}),(0,Vr.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold text-center",children:"Actions"})]})}),(0,Vr.jsx)("tbody",{children:k.length>0?k.map(D=>(0,Vr.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,Vr.jsxs)("td",{className:"px-6 py-4 font-medium text-gray-900 flex items-center gap-3",children:[(0,Vr.jsx)("img",{src:D.profilePictureUrl||`https://ui-avatars.com/api/?name=${D.name}&background=random`,alt:D.name,className:"h-10 w-10 rounded-full object-cover"}),(0,Vr.jsxs)("div",{children:[(0,Vr.jsx)("span",{children:D.name}),(0,Vr.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:["/consultants/",D.slug]})]})]}),(0,Vr.jsx)("td",{className:"px-6 py-4",children:T===D.id?(0,Vr.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,Vr.jsx)(Pt,{className:"animate-spin",size:16}),(0,Vr.jsx)("span",{children:"Processing..."})]}):D.googleCalendarConnected?(0,Vr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Vr.jsxs)("div",{className:"flex-grow",children:[(0,Vr.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Connected"}),(0,Vr.jsx)("p",{className:"text-xs text-gray-500 truncate mt-1",title:D.googleCalendarEmail,children:D.googleCalendarEmail})]}),(0,Vr.jsx)("button",{onClick:()=>L(D.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",title:"Disconnect Calendar",children:(0,Vr.jsx)(h0,{size:16})})]}):(0,Vr.jsxs)("button",{onClick:()=>_(D.id),className:"flex items-center gap-1.5 text-sm font-semibold text-blue-600 hover:underline",children:[(0,Vr.jsx)(ku,{size:14})," Connect"]})}),(0,Vr.jsx)("td",{className:"px-6 py-4",children:sn(D.createdAt)}),(0,Vr.jsx)("td",{className:"px-6 py-4",children:(0,Vr.jsxs)("div",{className:"flex justify-center items-center gap-1",children:[(0,Vr.jsx)("button",{onClick:()=>b(D),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-gray-100 rounded-full",title:"Manage Packages",children:(0,Vr.jsx)(wi,{size:16})}),(0,Vr.jsx)("button",{onClick:()=>F(D),className:"p-2 text-gray-500 hover:text-purple-600 hover:bg-gray-100 rounded-full",title:"Manage Page",children:(0,Vr.jsx)($d,{size:16})}),(0,Vr.jsx)("button",{onClick:()=>R(D),className:"p-2 text-gray-500 hover:text-yellow-600 hover:bg-gray-100 rounded-full",title:"View Appointments",children:(0,Vr.jsx)(la,{size:16})}),(0,Vr.jsx)("button",{onClick:()=>U(D),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit Profile",children:(0,Vr.jsx)(Kn,{size:16})}),(0,Vr.jsx)("button",{onClick:()=>E(D),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:(0,Vr.jsx)(Ar,{size:16})})]})})]},D.id)):(0,Vr.jsx)("tr",{children:(0,Vr.jsxs)("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:[(0,Vr.jsx)(Gs,{size:32,className:"mx-auto text-gray-300 mb-2"}),"No consultants found. Add one to get started."]})})})]})})})]}),d&&(0,Vr.jsx)(wE,{consultant:A,onClose:()=>{f(!1),v(null),l(null)},showNotification:i,adminMediaFiles:n,consultantMediaFiles:[],onSave:o,users:s,consultants:t}),I&&(0,Vr.jsx)(Ote,{consultant:I,onClose:()=>w(null),showNotification:i}),g&&(0,Vr.jsx)(ab,{consultant:g,packages:e.filter(D=>D.consultantId===g.id),onClose:()=>b(null),showNotification:i}),S&&(0,Vr.jsx)(xE,{consultant:S,consultantPackages:e.filter(D=>D.consultantId===S.id),adminMediaFiles:n,consultantMediaFiles:[],videoTestimonials:a,onClose:()=>F(null),showNotification:i}),O&&(0,Vr.jsx)(CE,{consultant:O,onClose:()=>R(null),showNotification:i})]})},zte=mNe;var Hh=ce($t());var jte={id:"homepage",metaTitle:"Powerful Tools - Vastu and Numerology Analysis Software",metaDescription:"Harness the precision of technology to unlock and apply ancient wisdom in Vastu, Numerology, and beyond. Instant analysis, profound insights.",featuredImageUrl:"",sections:[{id:we(),type:"hero",enabled:!0,title:'Powerful Tools for <span class="text-accent">Vedic Science Mastery</span>',subtitle:"Harness the precision of technology to unlock and apply ancient wisdom in Vastu, Numerology, and beyond. Instant analysis, profound insights.",ctaText:"Explore All Applications",ctaLink:"#applications"},{id:we(),type:"expert",enabled:!0,title:'The Expert Behind <span class="text-accent">Powerful Tools</span>',imageUrl:"https://placehold.co/300x300/FBBF24/1e1b4b?text=DR.+VAISHALI+GUPTA",name:"Dr. Vaishali Gupta",role:"Founder & Chief Vastu Scientist",qualifications:"D.Sc., Ph.D. (Vedic Vastu Shastra)",subheading:"Visionary & Thought Leader in Vedic Sciences",achievements:[{id:we(),text:'<strong class="font-semibold">Two Decades of Mastery:</strong> 20+ years of verifiable expertise in Vastu, encompassing over 10,000 successful projects worldwide.'},{id:we(),text:'Holds the highest academic honors: a Ph.D. and the prestigious <strong class="font-semibold">Doctor of Science (D.Sc.)</strong> in Vedic Vastu Shastra.'},{id:we(),text:"The D.Sc. designation confirms sustained contributions, establishing her as a pioneer in the field of authentic Vastu science."}]},{id:we(),type:"app_showcase_title",enabled:!0,title:'Our Core <span class="text-accent">Digital Applications</span>'},{id:we(),type:"app_item",enabled:!0,appId:"",customTitle:"Vastu Assistant: Floor Plan Analyzer",customDescription:"The revolutionary tool for **Vastu consultants, architects, and homeowners** to automatically and accurately analyze complex layouts. Instantly determine directional alignments, zonal impacts, and Mass Gravity Center.",customFeatures:[{id:we(),icon:"crosshair",title:"Mass Gravity Center:",description:"Automated precision for complex floor plans."},{id:we(),icon:"compass",title:"Shakti Chakra Mapping:",description:"Effortlessly overlay the 16 Vastu Zones."},{id:we(),icon:"ruler",title:"No AutoCAD Required:",description:"Get professional, reliable results directly in your browser."}],customCtaText:"Learn More about Vastu Assistant",customCtaLink:"#",imageOverrideUrls:["svg"],layout:"image_left",imageCarouselSpeed:1e3},{id:we(),type:"app_item",enabled:!0,appId:"",customTitle:"Personalized Numerology Profile",customDescription:"Uncover the profound influence of your date, time, and place of birth on your destiny. Our Numerology Analysis tool generates a detailed, customized profile in mere seconds.",customFeatures:[{id:we(),icon:"user-plus",title:"Instant Calculation:",description:"Profile generated from Name, DOB, Time, and Place of Birth."},{id:we(),icon:"infinity",title:"Core Numbers:",description:"Discover your Life Path, Destiny, and Soul Urge Numbers."},{id:we(),icon:"eye",title:"Destiny Insights:",description:"Clear, actionable insights into personality, career, and relationships."}],customCtaText:"Get Your Numerology Report",customCtaLink:"#",imageOverrideUrls:["https://placehold.co/400x300/FBBF24/1e1b4b?text=NUMEROLOGY+ANALYSIS+SCREEN"],layout:"image_right",imageCarouselSpeed:1e3},{id:we(),type:"app_item",enabled:!0,appId:"",customTitle:"Mobile Number Compatibility Check",customDescription:"Your mobile number's energy significantly impacts your financial and professional life. Use our specialized tool to check the **compatibility** of your number with your personal numerological profile and profession.",customFeatures:[{id:we(),icon:"smartphone",title:"Instant Compatibility:",description:"Analyze your mobile number's alignment with your name and DOB."},{id:we(),icon:"briefcase",title:"Career Focus:",description:"See if your number supports your specific profession and goals."},{id:we(),icon:"percent-square",title:"Detailed Report:",description:"Receive a comprehensive numerological report in seconds."}],customCtaText:"Analyze Your Mobile Number",customCtaLink:"#",imageOverrideUrls:["https://placehold.co/400x300/1e1b4b/FBBF24?text=MOBILE+NUMEROLOGY+SCREEN"],layout:"image_left",imageCarouselSpeed:1e3},{id:we(),type:"stats",enabled:!0,title:"Our Impact in Numbers",metrics:[{id:we(),value:"50K+",label:"Happy Clients Served"},{id:we(),value:"100K+",label:"Total Reports Generated"},{id:we(),value:"40K+",label:"Vastu Assistant Reports"},{id:we(),value:"30K+",label:"Numerology Profiles"}]},{id:we(),type:"upcoming_apps",enabled:!0,title:'Future <span class="text-accent">Innovations</span>',subtitle:"We are continuously expanding our suite of tools to provide even deeper insights into Vedic Sciences.",apps:[{id:we(),icon:"star",title:"Advanced Astrology Charting",description:"Detailed astrological readings combined with Vastu correlation."},{id:we(),icon:"hand-heart",title:"Relationship Compatibility Matrix",description:"Analyzing partner's Vastu and Numerology for harmony prediction."},{id:we(),icon:"gem",title:"Gemstone Recommendation Tool",description:"Personalized stone selection based on birth charts and Vastu needs."}]},{id:we(),type:"video_testimonials",enabled:!0,title:'Client <span class="text-accent">Video Testimonials</span>',testimonialIds:[]},{id:we(),type:"text_reviews",enabled:!0,title:"What Our Clients Say",reviewIds:[]},{id:we(),type:"blog",enabled:!0,title:'Insights from Our <span class="text-accent">Expert Blog</span>',postIds:[]}]};var lt=ce(_e()),gNe=({section:t,updateSection:e,availableApps:r,availablePosts:n,availableReviews:a,availableTestimonials:i})=>{let s=(d,f)=>{e(t.id,{[d]:f})},o=(d,f,A,v)=>{let I=t[d]?[...t[d]]:[];I[f]={...I[f],[A]:v},e(t.id,{[d]:I})},l=(d,f)=>{let A=t[d]?[...t[d]]:[];A.push({...f,id:we()}),e(t.id,{[d]:A})},u=(d,f)=>{let A=t[d]?[...t[d]]:[];e(t.id,{[d]:A.filter(v=>v.id!==f)})},c=(d,f)=>{let A=t[d]||[],v=A.includes(f)?A.filter(I=>I!==f):[...A,f];e(t.id,{[d]:v})};switch(t.type){case"hero":return(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("input",{type:"text",value:t.title,onChange:d=>s("title",d.target.value),placeholder:"Title (HTML allowed)",className:"w-full p-1 border rounded"}),(0,lt.jsx)("textarea",{value:t.subtitle,onChange:d=>s("subtitle",d.target.value),placeholder:"Subtitle",className:"w-full p-1 border rounded h-20"}),(0,lt.jsx)("input",{type:"text",value:t.ctaText,onChange:d=>s("ctaText",d.target.value),placeholder:"CTA Button Text",className:"w-full p-1 border rounded"}),(0,lt.jsx)("input",{type:"text",value:t.ctaLink,onChange:d=>s("ctaLink",d.target.value),placeholder:"CTA Button Link",className:"w-full p-1 border rounded"})]});case"expert":return(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("input",{value:t.title,onChange:d=>s("title",d.target.value),placeholder:"Section Title",className:"w-full p-1 border rounded"}),(0,lt.jsx)("input",{value:t.imageUrl,onChange:d=>s("imageUrl",d.target.value),placeholder:"Image URL",className:"w-full p-1 border rounded"}),(0,lt.jsx)("input",{value:t.name,onChange:d=>s("name",d.target.value),placeholder:"Name",className:"w-full p-1 border rounded"}),(0,lt.jsx)("input",{value:t.role,onChange:d=>s("role",d.target.value),placeholder:"Role",className:"w-full p-1 border rounded"}),(0,lt.jsx)("input",{value:t.qualifications,onChange:d=>s("qualifications",d.target.value),placeholder:"Qualifications",className:"w-full p-1 border rounded"}),(0,lt.jsx)("input",{value:t.subheading,onChange:d=>s("subheading",d.target.value),placeholder:"Subheading",className:"w-full p-1 border rounded"}),(0,lt.jsxs)("div",{children:[t.achievements.map((d,f)=>(0,lt.jsxs)("div",{className:"flex gap-1 mb-1",children:[(0,lt.jsx)("textarea",{value:d.text,onChange:A=>o("achievements",f,"text",A.target.value),className:"w-full p-1 border rounded text-xs h-16"}),(0,lt.jsx)("button",{type:"button",onClick:()=>u("achievements",d.id),className:"p-1 text-red-500",children:(0,lt.jsx)(Ar,{size:14})})]},d.id)),(0,lt.jsx)("button",{type:"button",onClick:()=>l("achievements",{text:""}),className:"text-blue-600 text-xs",children:"+ Add Achievement"})]})]});case"app_showcase_title":return(0,lt.jsx)("input",{type:"text",value:t.title,onChange:d=>s("title",d.target.value),placeholder:"Section Title (HTML allowed)",className:"w-full p-1 border rounded"});case"app_item":return(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsxs)("select",{value:t.appId,onChange:d=>s("appId",d.target.value),className:"w-full p-1 border rounded bg-white",children:[(0,lt.jsx)("option",{value:"",children:"-- Select App to Feature --"}),r.map(d=>(0,lt.jsx)("option",{value:d.id,children:d.name},d.id))]}),(0,lt.jsx)("input",{value:t.customTitle,onChange:d=>s("customTitle",d.target.value),placeholder:"Custom Title (optional)",className:"w-full p-1 border rounded"}),(0,lt.jsx)("textarea",{value:t.customDescription,onChange:d=>s("customDescription",d.target.value),placeholder:"Custom Description (HTML)",className:"w-full p-1 border rounded h-20"}),(0,lt.jsx)("input",{value:t.customCtaText,onChange:d=>s("customCtaText",d.target.value),placeholder:"Custom Button Text",className:"w-full p-1 border rounded"}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h5",{className:"text-xs font-semibold mt-2",children:"Image URLs (for carousel)"}),(t.imageOverrideUrls||[]).map((d,f)=>(0,lt.jsxs)("div",{className:"flex gap-1 mb-1",children:[(0,lt.jsx)("input",{value:d,onChange:A=>{let v=[...t.imageOverrideUrls||[]];v[f]=A.target.value,s("imageOverrideUrls",v)},placeholder:"Image URL or 'svg'",className:"w-full p-1 border rounded"}),(0,lt.jsx)("button",{type:"button",onClick:()=>{let A=(t.imageOverrideUrls||[]).filter((v,I)=>I!==f);s("imageOverrideUrls",A)},className:"p-1 text-red-500",children:(0,lt.jsx)(Ar,{size:14})})]},f)),(0,lt.jsx)("button",{type:"button",onClick:()=>{let d=[...t.imageOverrideUrls||[],""];s("imageOverrideUrls",d)},className:"text-blue-600 text-xs",children:"+ Add Image URL"})]}),(0,lt.jsxs)("select",{value:t.layout,onChange:d=>s("layout",d.target.value),className:"w-full p-1 border rounded bg-white",children:[(0,lt.jsx)("option",{value:"image_left",children:"Image Left"}),(0,lt.jsx)("option",{value:"image_right",children:"Image Right"})]}),(0,lt.jsxs)("div",{className:"pt-2 border-t",children:[(0,lt.jsx)("label",{htmlFor:`speed-${t.id}`,className:"text-xs font-semibold text-gray-600 block mb-1",children:"Image Carousel Speed (ms)"}),(0,lt.jsx)("input",{id:`speed-${t.id}`,type:"number",value:t.imageCarouselSpeed||1e3,onChange:d=>s("imageCarouselSpeed",parseInt(d.target.value,10)||1e3),className:"w-full p-1 border rounded",step:"100",min:"100"}),(0,lt.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Time in milliseconds between image changes (e.g., 1000 = 1 second)."})]}),(0,lt.jsxs)("div",{children:[(0,lt.jsx)("h5",{className:"text-xs font-semibold mt-2",children:"Features"}),t.customFeatures.map((d,f)=>(0,lt.jsxs)("div",{className:"p-2 border rounded bg-gray-100 space-y-1 mt-1",children:[(0,lt.jsxs)("div",{className:"flex gap-1",children:[(0,lt.jsx)("input",{value:d.icon,onChange:A=>o("customFeatures",f,"icon",A.target.value),placeholder:"Icon Name",className:"w-1/3 p-1 border rounded"}),(0,lt.jsx)("input",{value:d.title,onChange:A=>o("customFeatures",f,"title",A.target.value),placeholder:"Feature Title",className:"w-2/3 p-1 border rounded"}),(0,lt.jsx)("button",{type:"button",onClick:()=>u("customFeatures",d.id),className:"p-1 text-red-500",children:(0,lt.jsx)(Ar,{size:14})})]}),(0,lt.jsx)("textarea",{value:d.description,onChange:A=>o("customFeatures",f,"description",A.target.value),placeholder:"Feature Description",className:"w-full p-1 border rounded h-12 text-xs"})]},d.id)),(0,lt.jsx)("button",{type:"button",onClick:()=>l("customFeatures",{icon:"",title:"",description:""}),className:"text-blue-600 text-xs mt-1",children:"+ Add Feature"})]})]});case"stats":return(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("input",{value:t.title,onChange:d=>s("title",d.target.value),placeholder:"Section Title",className:"w-full p-1 border rounded"}),(0,lt.jsxs)("div",{children:[t.metrics.map((d,f)=>(0,lt.jsxs)("div",{className:"flex gap-1 mb-1",children:[(0,lt.jsx)("input",{value:d.value,onChange:A=>o("metrics",f,"value",A.target.value),placeholder:"Value",className:"w-1/2 p-1 border rounded"}),(0,lt.jsx)("input",{value:d.label,onChange:A=>o("metrics",f,"label",A.target.value),placeholder:"Label",className:"w-1/2 p-1 border rounded"}),(0,lt.jsx)("button",{type:"button",onClick:()=>u("metrics",d.id),children:(0,lt.jsx)(Ar,{size:14})})]},d.id)),(0,lt.jsx)("button",{type:"button",onClick:()=>l("metrics",{value:"",label:""}),className:"text-blue-600 text-xs",children:"+ Add Metric"})]})]});case"upcoming_apps":return(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("input",{value:t.title,onChange:d=>s("title",d.target.value),placeholder:"Section Title (HTML)",className:"w-full p-1 border rounded"}),(0,lt.jsx)("input",{value:t.subtitle,onChange:d=>s("subtitle",d.target.value),placeholder:"Subtitle",className:"w-full p-1 border rounded"}),(0,lt.jsxs)("div",{children:[t.apps.map((d,f)=>(0,lt.jsxs)("div",{className:"p-2 border rounded bg-white space-y-1 mb-1",children:[(0,lt.jsx)("input",{value:d.icon,onChange:A=>o("apps",f,"icon",A.target.value),placeholder:"Icon",className:"w-full p-1 border"}),(0,lt.jsx)("input",{value:d.title,onChange:A=>o("apps",f,"title",A.target.value),placeholder:"Title",className:"w-full p-1 border"}),(0,lt.jsx)("textarea",{value:d.description,onChange:A=>o("apps",f,"description",A.target.value),placeholder:"Description",className:"w-full p-1 border h-16"}),(0,lt.jsx)("button",{type:"button",onClick:()=>u("apps",d.id),children:(0,lt.jsx)(Ar,{size:14})})]},d.id)),(0,lt.jsx)("button",{type:"button",onClick:()=>l("apps",{icon:"",title:"",description:""}),className:"text-blue-600 text-xs",children:"+ Add App"})]})]});case"video_testimonials":{let d=t.testimonialIds||[];return i?(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("input",{value:t.title,onChange:f=>s("title",f.target.value),placeholder:"Section Title (HTML)",className:"w-full p-1 border rounded"}),(0,lt.jsx)("div",{className:"p-2 border bg-white rounded-md max-h-40 overflow-y-auto space-y-1",children:i.map(f=>(0,lt.jsxs)("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[(0,lt.jsx)("input",{type:"checkbox",checked:d.includes(f.id),onChange:()=>c("testimonialIds",f.id)}),f.name," - ",f.place]},f.id))})]}):(0,lt.jsx)("p",{className:"text-xs text-gray-500 italic",children:"Loading testimonials..."})}case"text_reviews":{let d=t.reviewIds||[];return a?(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("input",{value:t.title,onChange:f=>s("title",f.target.value),placeholder:"Section Title (HTML)",className:"w-full p-1 border rounded"}),(0,lt.jsx)("div",{className:"p-2 border bg-white rounded-md max-h-40 overflow-y-auto space-y-1",children:a.map(f=>(0,lt.jsxs)("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[(0,lt.jsx)("input",{type:"checkbox",checked:d.includes(f.id),onChange:()=>c("reviewIds",f.id)}),'"',f.review.substring(0,30),'..." - ',f.userName]},f.id))})]}):(0,lt.jsx)("p",{className:"text-xs text-gray-500 italic",children:"Loading reviews..."})}case"blog":{let d=t.postIds||[];return n?(0,lt.jsxs)("div",{className:"space-y-2",children:[(0,lt.jsx)("input",{value:t.title,onChange:f=>s("title",f.target.value),placeholder:"Section Title (HTML)",className:"w-full p-1 border rounded"}),(0,lt.jsx)("div",{className:"p-2 border bg-white rounded-md max-h-40 overflow-y-auto space-y-1",children:n.map(f=>(0,lt.jsxs)("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[(0,lt.jsx)("input",{type:"checkbox",checked:d.includes(f.id),onChange:()=>c("postIds",f.id)}),f.title]},f.id))})]}):(0,lt.jsx)("p",{className:"text-xs text-gray-500 italic",children:"Loading posts..."})}default:{let d=t;return(0,lt.jsx)("p",{className:"text-xs text-gray-500 italic",children:"This section type has no specific configuration options."})}}},yNe=({showNotification:t,apps:e,blogPosts:r,allReviews:n,videoTestimonials:a})=>{let[i,s]=(0,Hh.useState)(null),[o,l]=(0,Hh.useState)(!0),[u,c]=(0,Hh.useState)(!1),[d,f]=(0,Hh.useState)(null),A=(0,Hh.useCallback)(async()=>{l(!0);try{let T=Ce.collection("site_content").doc("homepage"),B=await T.get();if(B.exists)s(B.data());else{let k={id:"homepage",sections:[]};await T.set(k),s(k)}}catch(T){console.error("Error fetching homepage content:",T),t("Failed to load homepage content.","error")}finally{l(!1)}},[t]);(0,Hh.useEffect)(()=>{A()},[A]);let v=async()=>{if(window.confirm("Are you sure you want to restore the default homepage layout? All your current changes will be lost and replaced with the sample data.")){c(!0);try{s(jte),t('Default layout restored. Click "Save Homepage" to apply changes.',"info",4e3)}catch(T){console.error("Error restoring defaults:",T),t("Failed to restore default homepage.","error")}finally{c(!1)}}},I=async()=>{if(i){c(!0);try{let T=Ce.collection("site_content").doc("homepage"),B={...i,sections:i.sections.map((k,U)=>({...k,order:U})),updatedAt:zr.serverTimestamp()};await T.set(B,{merge:!0}),t("Homepage updated successfully!","success")}catch(T){console.error("Error saving homepage content:",T),t("Failed to save homepage content.","error")}finally{c(!1)}}},w=T=>{i&&s(B=>({...B,sections:T(B.sections||[])}))},g=(T,B)=>{w(k=>{let U=[...k],E=B==="up"?T-1:T+1;return E<0||E>=U.length||([U[T],U[E]]=[U[E],U[T]]),U})},b=T=>{let B=we(),k=!0;switch(T){case"hero":return{id:B,enabled:k,type:"hero",title:"",subtitle:"",ctaText:"",ctaLink:""};case"expert":return{id:B,enabled:k,type:"expert",title:"",imageUrl:"",name:"",role:"",qualifications:"",subheading:"",achievements:[]};case"app_showcase_title":return{id:B,enabled:k,type:"app_showcase_title",title:"Our Core Digital Applications"};case"app_item":return{id:B,enabled:k,type:"app_item",appId:"",customTitle:"",customDescription:"",customFeatures:[],customCtaText:"",customCtaLink:"",imageOverrideUrls:[],layout:"image_left",imageCarouselSpeed:1e3};case"stats":return{id:B,enabled:k,type:"stats",title:"Our Impact in Numbers",metrics:[]};case"upcoming_apps":return{id:B,enabled:k,type:"upcoming_apps",title:"Future Innovations",subtitle:"",apps:[]};case"video_testimonials":return{id:B,enabled:k,type:"video_testimonials",title:"Client Video Testimonials",testimonialIds:[]};case"text_reviews":return{id:B,enabled:k,type:"text_reviews",title:"What Our Clients Say",reviewIds:[]};case"blog":return{id:B,enabled:k,type:"blog",title:"Insights from Our Expert Blog",postIds:[]};default:{let U=T;throw new Error(`Unhandled section type: ${U}`)}}},S=T=>{let B=b(T);w(k=>[...k,B])},F=T=>w(B=>B.filter(k=>k.id!==T)),O=(T,B)=>w(k=>k.map(U=>U.id===T?{...U,...B}:U));if(o)return(0,lt.jsx)("div",{className:"flex items-center justify-center p-10",children:(0,lt.jsx)(Pt,{className:"animate-spin text-blue-500",size:48})});if(!i)return(0,lt.jsx)("div",{className:"p-10 text-center",children:"Could not load homepage data."});let R=["hero","expert","app_showcase_title","app_item","stats","upcoming_apps","video_testimonials","text_reviews","blog"];return(0,lt.jsxs)("div",{className:"space-y-8",children:[(0,lt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,lt.jsx)(yc,{size:24})," Homepage Builder"]}),(0,lt.jsx)("p",{className:"text-gray-500 mt-1",children:"Drag, drop, and edit the sections of your main landing page."})]}),(0,lt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[(0,lt.jsxs)("button",{onClick:v,disabled:u,className:"flex items-center justify-center bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:bg-yellow-300",children:[(0,lt.jsx)(aA,{className:"mr-2",size:20}),"Restore Default"]}),(0,lt.jsxs)("button",{onClick:I,disabled:u,className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400",children:[u?(0,lt.jsx)(Pt,{className:"animate-spin mr-2"}):(0,lt.jsx)(ua,{className:"mr-2"})," ",u?"Saving...":"Save Homepage"]})]})]}),(0,lt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,lt.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold",children:"Page Sections"}),(0,lt.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border min-h-[300px] space-y-2",children:i.sections.map((T,B)=>(0,lt.jsxs)("div",{className:"bg-white border rounded-md shadow-sm",children:[(0,lt.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,lt.jsx)("span",{className:"flex-grow font-medium text-gray-700 text-sm",children:T.type.replace(/_/g," ").replace(/\b\w/g,k=>k.toUpperCase())}),(0,lt.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,lt.jsx)("input",{type:"checkbox",checked:T.enabled,onChange:k=>O(T.id,{enabled:k.target.checked}),className:"h-4 w-4"}),(0,lt.jsx)("span",{className:"text-xs ml-1",children:"On"})]}),(0,lt.jsxs)("div",{className:"flex items-center border-l ml-2 pl-2",children:[(0,lt.jsx)("button",{type:"button",onClick:()=>g(B,"up"),disabled:B===0,className:"p-1 disabled:opacity-30",children:(0,lt.jsx)(yo,{size:16})}),(0,lt.jsx)("button",{type:"button",onClick:()=>g(B,"down"),disabled:B===i.sections.length-1,className:"p-1 disabled:opacity-30",children:(0,lt.jsx)(cs,{size:16})}),(0,lt.jsx)("button",{type:"button",onClick:()=>f(d===T.id?null:T.id),className:`p-1 rounded-full ${d===T.id?"bg-blue-100 text-blue-600":""}`,children:(0,lt.jsx)(ru,{size:16})}),(0,lt.jsx)("button",{type:"button",onClick:()=>F(T.id),className:"p-1 text-red-500 hover:bg-red-50 rounded-full",children:(0,lt.jsx)(Ar,{size:16})})]})]}),d===T.id&&(0,lt.jsx)("div",{className:"p-3 border-t bg-gray-50 text-xs",children:(0,lt.jsx)(gNe,{section:T,updateSection:O,availableApps:e,availablePosts:r,availableReviews:n,availableTestimonials:a})})]},T.id))}),(0,lt.jsxs)("div",{className:"mt-3 relative",children:[(0,lt.jsxs)("select",{onChange:T=>S(T.target.value),value:"",className:"w-full p-2 border rounded-md bg-white appearance-none text-sm font-semibold text-center text-blue-600 hover:bg-blue-50 cursor-pointer",children:[(0,lt.jsx)("option",{value:"",disabled:!0,children:"-- Add a new section --"}),R.map(T=>(0,lt.jsx)("option",{value:T,children:T.replace(/_/g," ").replace(/\b\w/g,B=>B.toUpperCase())},T))]}),(0,lt.jsx)(Ss,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),(0,lt.jsxs)("div",{className:"space-y-4",children:[(0,lt.jsx)("h3",{className:"text-lg font-semibold",children:"SEO & Sharing"}),(0,lt.jsxs)("div",{className:"p-4 bg-gray-50 border rounded-lg space-y-3",children:[(0,lt.jsx)("input",{type:"text",value:i.metaTitle||"",onChange:T=>s(B=>({...B,metaTitle:T.target.value})),placeholder:"Meta Title for Sharing",className:"w-full p-2 border rounded-md"}),(0,lt.jsx)("textarea",{value:i.metaDescription||"",onChange:T=>s(B=>({...B,metaDescription:T.target.value})),placeholder:"Meta Description",className:"w-full p-2 border rounded-md h-24"}),(0,lt.jsx)("input",{type:"url",value:i.featuredImageUrl||"",onChange:T=>s(B=>({...B,featuredImageUrl:T.target.value})),placeholder:"Featured Image URL (for sharing)",className:"w-full p-2 border rounded-md"})]})]})]})]})},Kte=yNe;var xA=ce($t());var cC=ce($t());var Ya=ce(_e()),vNe=()=>(0,Ya.jsxs)("div",{className:"space-y-3 text-xs text-gray-600 bg-gray-100 p-3 rounded-md",children:[(0,Ya.jsx)("h4",{className:"font-bold text-sm text-gray-800",children:"How Variables Work"}),(0,Ya.jsxs)("p",{children:["Your message body should match your Meta-approved template. Use curly braces for variables (e.g., ","{userName}",")."]}),(0,Ya.jsxs)("p",{children:["The system will automatically find these variables and send them to WhatsApp in the required ","{{1}}",", ","{{2}}"," format based on their order in the text."]}),(0,Ya.jsx)("p",{className:"font-semibold",children:"Example:"}),(0,Ya.jsxs)("code",{className:"block bg-gray-200 p-2 rounded text-black",children:["Hi ","{userName}",", your OTP is ","{otp}","."]}),(0,Ya.jsxs)("p",{children:["This will be sent to WhatsApp with `","{{1}}","` as the user's name and `","{{2}}","` as the OTP."]}),(0,Ya.jsx)("p",{className:"font-bold mt-2",children:"Available Variables:"}),(0,Ya.jsx)("p",{children:"See the full list in the Email Template manager. Most variables are shared."})]}),bNe=({template:t,onClose:e,showNotification:r})=>{let[n,a]=(0,cC.useState)({name:"",templateName:"",body:""}),[i,s]=(0,cC.useState)(!1);(0,cC.useEffect)(()=>{a(t?{name:t.name,templateName:t.templateName,body:t.body}:{name:"",templateName:"",body:""})},[t]);let o=u=>{a(c=>({...c,[u.target.name]:u.target.value}))};return(0,Ya.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,Ya.jsxs)("form",{onSubmit:async u=>{u.preventDefault(),s(!0);try{let c={...n,updatedAt:zr.serverTimestamp()};t?(await Ce.collection("whatsApp_templates").doc(t.id).update(c),r("Template updated successfully!","success")):(await Ce.collection("whatsApp_templates").add({...c,createdAt:zr.serverTimestamp()}),r("Template created successfully!","success")),e()}catch(c){r(`Error saving template: ${c.message}`,"error")}finally{s(!1)}},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,Ya.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,Ya.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ya.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit WhatsApp Template":"Create New WhatsApp Template"}),(0,Ya.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Ya.jsx)(dr,{size:24})})]})}),(0,Ya.jsxs)("main",{className:"flex-grow p-6 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-y-auto",children:[(0,Ya.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,Ya.jsx)("input",{type:"text",name:"name",value:n.name,onChange:o,placeholder:"Template Name (for your reference)",required:!0,className:"w-full p-3 border rounded-lg text-lg font-semibold"}),(0,Ya.jsx)("input",{type:"text",name:"templateName",value:n.templateName,onChange:o,placeholder:"Meta Template Name (e.g., order_confirmation)",required:!0,className:"w-full p-3 border rounded-lg font-mono text-sm"}),(0,Ya.jsx)("textarea",{name:"body",value:n.body,onChange:o,placeholder:"Enter message body with {variables}...",required:!0,className:"w-full p-3 border rounded-lg h-64 resize-y font-mono"})]}),(0,Ya.jsx)("div",{className:"md:col-span-1",children:(0,Ya.jsx)(vNe,{})})]}),(0,Ya.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,Ya.jsx)("button",{type:"button",onClick:e,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:i,children:"Cancel"}),(0,Ya.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:i,children:[i&&(0,Ya.jsx)(Pt,{className:"animate-spin mr-2",size:20}),i?"Saving...":"Save Template"]})]})]})})},Gte=bNe;var Ku=ce(_e()),wNe=({template:t,onClose:e,showNotification:r})=>{let n=async()=>{try{await Ce.collection("whatsApp_templates").doc(t.id).delete(),r(`Template '${t.name}' deleted.`,"success"),e()}catch(a){r(`Error deleting template: ${a.message}`,"error")}};return(0,Ku.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[80] p-4",children:(0,Ku.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Ku.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Ku.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Ku.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete WhatsApp Template"}),(0,Ku.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,Ku.jsxs)("p",{children:["Are you sure you want to delete the template ",(0,Ku.jsxs)("strong",{className:"font-bold",children:['"',t.name,'"']}),"?"]}),(0,Ku.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone. Any trigger assigned to this template will stop sending messages."})]}),(0,Ku.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Ku.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Ku.jsx)("button",{type:"button",onClick:n,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})})},Wte=wNe;var Rr=ce(_e()),xNe=[{key:"onNewPurchase",label:"New Purchase / Sign Up (Guest)"},{key:"onCreditPurchase",label:"Existing User Credit Purchase"},{key:"onNewWebinarPurchase",label:"New Webinar Purchase (Fallback/Manual)"},{key:"onNewWebinarPurchaseSuccess",label:"New Webinar Purchase (Auto-Registered)"},{key:"onOtpVerification",label:"OTP Verification"},{key:"onNewAppointmentBooked",label:"New Appointment Booked (for User)"},{key:"onNewAppointmentBookedForConsultant",label:"New Appointment Booked (for Consultant)"},{key:"onAppointmentRescheduled",label:"Appointment Rescheduled (for User)"},{key:"onAppointmentRescheduledForConsultant",label:"Appointment Rescheduled (for Consultant)"}],CNe=({templates:t,assignments:e,showNotification:r})=>{let[n,a]=(0,xA.useState)({}),[i,s]=(0,xA.useState)({enabled:!0,otpService:"fallback"}),[o,l]=(0,xA.useState)(!1),[u,c]=(0,xA.useState)(!1),[d,f]=(0,xA.useState)(!1),[A,v]=(0,xA.useState)(null),[I,w]=(0,xA.useState)(null);(0,xA.useEffect)(()=>{a(e||{})},[e]),(0,xA.useEffect)(()=>{let R=Ce.collection("site_content").doc("whatsApp_settings"),T=R.onSnapshot(B=>{B.exists?s(B.data()):R.set({enabled:!0,otpService:"fallback"})});return()=>T()},[]);let g=(R,T)=>{a(B=>({...B,[R]:T}))},b=async()=>{l(!0);try{await Ce.collection("site_content").doc("whatsApp_assignments").set(n,{merge:!0}),r("WhatsApp assignments saved!","success")}catch(R){r(`Error saving assignments: ${R.message}`,"error")}finally{l(!1)}},S=(R,T)=>{s(B=>({...B,[R]:T}))},F=async()=>{c(!0);try{await Ce.collection("site_content").doc("whatsApp_settings").set(i,{merge:!0}),r("WhatsApp settings saved!","success")}catch(R){r(`Error saving settings: ${R.message}`,"error")}finally{c(!1)}},O=R=>{v(R),f(!0)};return(0,Rr.jsxs)("div",{className:"space-y-8",children:[(0,Rr.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"WhatsApp Template Management"}),(0,Rr.jsx)("p",{className:"text-gray-500 mt-1",children:"Configure automated WhatsApp messages sent to users."})]})}),(0,Rr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 space-y-6",children:[(0,Rr.jsxs)("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,Rr.jsx)(ru,{size:20})," Global WhatsApp Settings"]}),(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 rounded-lg",children:[(0,Rr.jsx)("span",{className:"font-medium text-gray-800",children:"Enable WhatsApp Messaging"}),(0,Rr.jsx)("button",{type:"button",onClick:()=>S("enabled",!i.enabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i.enabled?"bg-blue-600":"bg-gray-300"}`,"aria-pressed":i.enabled,children:(0,Rr.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i.enabled?"translate-x-6":"translate-x-1"}`})})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"font-medium text-gray-800",children:"Send OTP via:"}),(0,Rr.jsx)("div",{className:"mt-2 flex flex-col sm:flex-row gap-4",children:["whatsapp","sms","fallback"].map(R=>(0,Rr.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Rr.jsx)("input",{type:"radio",name:"otpService",value:R,checked:i.otpService===R,onChange:()=>S("otpService",R),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,Rr.jsx)("span",{className:"text-sm",children:R==="whatsapp"?"WhatsApp Only":R==="sms"?"SMS Only":"WhatsApp then SMS (Fallback)"})]},R))})]})]}),(0,Rr.jsx)("div",{className:"flex justify-end",children:(0,Rr.jsxs)("button",{onClick:F,disabled:u,className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:[u?(0,Rr.jsx)(Pt,{className:"animate-spin mr-2"}):(0,Rr.jsx)(ua,{className:"mr-2"}),u?"Saving...":"Save Settings"]})})]}),(0,Rr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 space-y-6",children:[(0,Rr.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Trigger Assignments"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500 -mt-4",children:"Assign a template to each automated WhatsApp message trigger."}),(0,Rr.jsx)("div",{className:"space-y-4",children:xNe.map(({key:R,label:T})=>(0,Rr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 items-center gap-2",children:[(0,Rr.jsxs)("label",{htmlFor:`wa-${R}`,className:"font-semibold text-gray-700",children:[T,":"]}),(0,Rr.jsxs)("select",{id:`wa-${R}`,value:n[R]||"",onChange:B=>g(R,B.target.value),className:"w-full sm:col-span-2 p-2 border rounded-lg bg-white appearance-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Rr.jsx)("option",{value:"",children:"-- No Template (Message Disabled) --"}),t.map(B=>(0,Rr.jsx)("option",{value:B.id,children:B.name},B.id))]})]},R))}),(0,Rr.jsx)("div",{className:"flex justify-end",children:(0,Rr.jsxs)("button",{onClick:b,disabled:o,className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:[o?(0,Rr.jsx)(Pt,{className:"animate-spin mr-2"}):(0,Rr.jsx)(ua,{className:"mr-2"}),o?"Saving...":"Save Assignments"]})})]}),(0,Rr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 space-y-4",children:[(0,Rr.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3",children:[(0,Rr.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"WhatsApp Templates"}),(0,Rr.jsxs)("button",{onClick:()=>O(null),className:"flex items-center justify-center bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 w-full sm:w-auto",children:[(0,Rr.jsx)(_a,{className:"mr-2 h-5 w-5"})," Create New Template"]})]}),(0,Rr.jsxs)("div",{className:"overflow-x-auto",children:[(0,Rr.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,Rr.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,Rr.jsxs)("tr",{children:[(0,Rr.jsx)("th",{className:"px-6 py-3",children:"Template Name (Internal)"}),(0,Rr.jsx)("th",{className:"px-6 py-3",children:"Meta Template Name"}),(0,Rr.jsx)("th",{className:"px-6 py-3",children:"Last Updated"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,Rr.jsx)("tbody",{children:t.map(R=>(0,Rr.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,Rr.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:R.name}),(0,Rr.jsx)("td",{className:"px-6 py-4 font-mono text-xs",children:R.templateName}),(0,Rr.jsx)("td",{className:"px-6 py-4",children:sn(R.updatedAt)}),(0,Rr.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Rr.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[(0,Rr.jsx)("button",{onClick:()=>O(R),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:(0,Rr.jsx)(Kn,{size:18})}),(0,Rr.jsx)("button",{onClick:()=>w(R),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:(0,Rr.jsx)(Ar,{size:18})})]})})]},R.id))})]}),t.length===0&&(0,Rr.jsx)("p",{className:"text-center text-gray-500 py-8 italic",children:"No WhatsApp templates created yet."})]})]}),d&&(0,Rr.jsx)(Gte,{template:A,onClose:()=>f(!1),showNotification:r}),I&&(0,Rr.jsx)(Wte,{template:I,onClose:()=>w(null),showNotification:r})]})},$te=CNe;var Pm=ce($t());var Va=ce(_e()),INe=[{category:"Sales",events:[{id:"sale.success",name:"Sale Success (Immediate)",description:"Triggered for ANY successful payment. Good for general order confirmation."},{id:"sale.success.followup",name:"Sale Success (Follow-up)",description:'Sends the same data as "Immediate", but to a different URL. Use this for reminder/drip sequences in your CRM.'},{id:"sale.app",name:"App Purchase (Immediate)",description:"Triggered specifically for an app or credit purchase."},{id:"sale.app.followup",name:"App Purchase (Follow-up)",description:"Use this for app-specific onboarding or follow-up sequences."},{id:"sale.package",name:"Package Purchase (Immediate)",description:"Triggered for a consultation package. Contains appointment details if booked during checkout."},{id:"sale.package.followup",name:"Package Purchase (Follow-up)",description:"Use this to set up appointment reminders in your CRM."},{id:"sale.webinar",name:"Webinar Purchase (Immediate)",description:"Triggered for a webinar ticket. Contains webinar details."},{id:"sale.webinar.followup",name:"Webinar Purchase (Follow-up)",description:"Use this to set up webinar reminders in your CRM."}]},{category:"Leads",events:[{id:"lead.captured",name:"Lead Captured (Immediate)",description:"Triggered when a user provides details but abandons checkout. Good for instant follow-up."},{id:"lead.captured.followup",name:"Lead Captured (Follow-up)",description:"Use this for long-term lead nurturing sequences in your CRM."}]}],Yte=Ce.collection("site_content").doc("webhook_config"),NNe=({showNotification:t})=>{let[e,r]=(0,Pm.useState)({eventEndpoints:{}}),[n,a]=(0,Pm.useState)(!0),[i,s]=(0,Pm.useState)(!1),o=(0,Pm.useCallback)(async()=>{a(!0);try{let d=await Yte.get();if(d.exists){let f=d.data();if(f.eventEndpoints)r({eventEndpoints:f.eventEndpoints||{}});else if(f.endpointUrl||f.subscribedEvents){let A={};f.subscribedEvents&&Array.isArray(f.subscribedEvents)&&f.subscribedEvents.forEach(v=>{A[v]=f.endpointUrl||""}),r({eventEndpoints:A})}else r({eventEndpoints:{}})}else r({eventEndpoints:{}})}catch(d){console.error("Error fetching webhook config:",d),t("Failed to load webhook configuration.","error")}finally{a(!1)}},[t]);(0,Pm.useEffect)(()=>{o()},[o]);let l=(d,f)=>{r(A=>({...A,eventEndpoints:{...A.eventEndpoints,[d]:f}}))},u=(d,f)=>{r(A=>{let v={...A.eventEndpoints};return f?v[d]===void 0&&(v[d]=""):v[d]||delete v[d],{...A,eventEndpoints:v}})},c=async()=>{s(!0);let d={...e.eventEndpoints};for(let f in d){let A=d[f];if(A&&!A.startsWith("https://")){t(`URL for ${f} must be a secure HTTPS URL.`,"error"),s(!1);return}}try{await Yte.set({eventEndpoints:d,endpointUrl:zr.delete(),subscribedEvents:zr.delete()},{merge:!0}),t("Webhook subscriptions updated successfully!","success")}catch(f){console.error("Error saving webhook config:",f),t(`Failed to save subscriptions: ${f.message}`,"error")}finally{s(!1)}};return n?(0,Va.jsx)("div",{className:"flex justify-center items-center p-10",children:(0,Va.jsx)(Pt,{className:"animate-spin text-blue-500",size:32})}):(0,Va.jsxs)("div",{className:"space-y-6",children:[(0,Va.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,Va.jsx)(x0,{size:24})," Webhooks"]}),(0,Va.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,Va.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Event Catalog"}),(0,Va.jsx)("p",{className:"text-gray-500 mt-1",children:"Select events and provide a destination URL for each notification."})]}),(0,Va.jsxs)("button",{onClick:c,disabled:i,className:"bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg flex items-center gap-2 disabled:bg-blue-300 w-full mt-3 sm:mt-0 sm:w-auto justify-center",children:[i?(0,Va.jsx)(Pt,{className:"animate-spin",size:16}):(0,Va.jsx)(ua,{size:16}),i?"Saving...":"Save Subscriptions"]})]}),(0,Va.jsx)("div",{className:"space-y-6",children:INe.map(d=>(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:d.category}),(0,Va.jsx)("div",{className:"mt-3 space-y-3",children:d.events.map(f=>{let A=e.eventEndpoints?.hasOwnProperty(f.id)??!1,v=e.eventEndpoints?.[f.id]||"";return(0,Va.jsxs)("div",{className:`p-4 border rounded-lg transition-all ${A?"bg-blue-50/50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[(0,Va.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Va.jsx)("input",{type:"checkbox",id:f.id,checked:A,onChange:I=>u(f.id,I.target.checked),className:"h-5 w-5 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Va.jsxs)("label",{htmlFor:f.id,className:"flex-1 cursor-pointer",children:[(0,Va.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Va.jsx)("span",{className:"font-semibold font-mono text-sm text-gray-700",children:f.name}),A&&(0,Va.jsx)("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:"Subscribed"})]}),(0,Va.jsx)("p",{className:"text-sm text-gray-500",children:f.description})]})]}),A&&(0,Va.jsxs)("div",{className:"mt-3 pl-8",children:[(0,Va.jsx)("label",{htmlFor:`url-${f.id}`,className:"text-xs font-semibold text-gray-600",children:"Webhook URL"}),(0,Va.jsx)("input",{id:`url-${f.id}`,type:"url",value:v,onChange:I=>l(f.id,I.target.value),placeholder:"https://your-crm.com/webhook/...",className:"w-full p-2 mt-1 border rounded-md font-mono text-sm"})]})]},f.id)})})]},d.category))})]})]})},Xte=NNe;var Ad=ce($t());var ft=ce(_e()),km={about:{content:""},contact:{address:"",email:"",phone:""},privacy:{content:""},terms:{content:""},refund:{content:""},shipping:{content:""},videoTestimonials:[]},sb={facebook:{url:"",iconUrl:""},instagram:{url:"",iconUrl:""},youtube:{url:"",iconUrl:""},x:{url:"",iconUrl:""},linkedin:{url:"",iconUrl:""},emailIconSize:16},dC={appPurchase:{requireEmailOtp:!0,requirePhoneOtp:!0},webinarPurchase:{requireEmailOtp:!1,requirePhoneOtp:!1},packagePurchase:{requireEmailOtp:!0,requirePhoneOtp:!0}},Vh=({title:t,icon:e,children:r})=>(0,ft.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,ft.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,ft.jsx)("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-full",children:e}),(0,ft.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:t})]}),(0,ft.jsx)("div",{className:"space-y-4",children:r})]}),SNe=({showNotification:t})=>{let[e,r]=(0,Ad.useState)(km),[n,a]=(0,Ad.useState)(dC),[i,s]=(0,Ad.useState)(sb),[o,l]=(0,Ad.useState)(!0),[u,c]=(0,Ad.useState)(!1),[d,f]=(0,Ad.useState)(!1),[A,v]=(0,Ad.useState)(!1),I=(0,Ad.useCallback)(async()=>{l(!0);try{let E=Ce.collection("site_content").doc("live"),_=Ce.collection("site_content").doc("checkout_settings"),L=Ce.collection("site_content").doc("social_links"),[D,z,ee]=await Promise.all([E.get(),_.get(),L.get()]);if(D.exists){let Y=D.data(),$={about:{...km.about,...Y.about},contact:{...km.contact,...Y.contact},privacy:{...km.privacy,...Y.privacy},terms:{...km.terms,...Y.terms},refund:{...km.refund,...Y.refund},shipping:{...km.shipping,...Y.shipping},videoTestimonials:(Y.videoTestimonials||[]).map(j=>({...j,id:j.id||we()}))};r($)}else r(km);if(z.exists){let Y=z.data();Y.requireEmailOtp!==void 0||Y.requirePhoneOtp!==void 0?a({appPurchase:{requireEmailOtp:Y.requireEmailOtp!==!1,requirePhoneOtp:Y.requirePhoneOtp!==!1},webinarPurchase:{requireEmailOtp:!1,requirePhoneOtp:!1},packagePurchase:{requireEmailOtp:!0,requirePhoneOtp:!0}}):a({appPurchase:{...dC.appPurchase,...Y.appPurchase},webinarPurchase:{...dC.webinarPurchase,...Y.webinarPurchase},packagePurchase:{...dC.packagePurchase,...Y.packagePurchase}})}else a(dC);if(ee.exists){let Y=ee.data(),$={facebook:{...sb.facebook,...Y.facebook},instagram:{...sb.instagram,...Y.instagram},youtube:{...sb.youtube,...Y.youtube},x:{...sb.x,...Y.x},linkedin:{...sb.linkedin,...Y.linkedin},emailIconSize:Y.emailIconSize??16};s($)}}catch(E){console.error("Error fetching site content:",E),t("Failed to load site content.","error")}finally{l(!1)}},[t]);(0,Ad.useEffect)(()=>{I()},[I]);let w=(E,_,L)=>{r(D=>({...D,[E]:{...D[E],[_]:L}}))},g=(E,_,L)=>{r(D=>{let z=[...D.videoTestimonials||[]];return z[E]={...z[E],[_]:L},{...D,videoTestimonials:z}})},b=()=>{let E={id:we(),name:"",place:"",url:""};r(_=>({..._,videoTestimonials:[..._.videoTestimonials||[],E]}))},S=E=>{r(_=>{let L=[..._.videoTestimonials||[]];return L.splice(E,1),{..._,videoTestimonials:L}})},F=(E,_,L)=>{s(D=>({...D,[E]:{...D[E],[_]:L}}))},O=E=>{let _=parseInt(E.target.value,10);s(L=>({...L,emailIconSize:isNaN(_)?16:_}))},R=(E,_)=>{a(L=>({...L,[E]:{...L[E],[_]:!L[E][_]}}))},T=async()=>{c(!0);try{let E=Ce.collection("site_content").doc("live"),_={...e,videoTestimonials:(e.videoTestimonials||[]).filter(L=>L.name&&L.place&&L.url)};await E.set(_,{merge:!0}),t("Site content updated successfully!","success")}catch(E){console.error("Error saving site content:",E),t("Failed to save site content.","error")}finally{c(!1)}},B=async()=>{f(!0);try{await Ce.collection("site_content").doc("checkout_settings").set(n),t("Checkout settings updated successfully!","success")}catch(E){console.error("Error saving checkout settings:",E),t("Failed to save checkout settings.","error")}finally{f(!1)}},k=async()=>{v(!0);try{await Ce.collection("site_content").doc("social_links").set(i,{merge:!0}),t("Social media links updated!","success")}catch(E){console.error("Error saving social links:",E),t(`Failed to save social links: ${E.message}`,"error")}finally{v(!1)}};if(o)return(0,ft.jsx)("div",{className:"flex items-center justify-center p-10",children:(0,ft.jsx)(Pt,{className:"animate-spin text-blue-500",size:48})});let U=["facebook","instagram","youtube","x","linkedin"];return(0,ft.jsxs)("div",{className:"space-y-8",children:[(0,ft.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,ft.jsxs)("div",{children:[(0,ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Manage Site Content"}),(0,ft.jsx)("p",{className:"text-gray-500 mt-1",children:"Edit the information displayed on public-facing pages."})]}),(0,ft.jsxs)("button",{onClick:T,disabled:u,className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 w-full sm:w-auto",children:[u?(0,ft.jsx)(Pt,{className:"animate-spin mr-2",size:20}):(0,ft.jsx)(ua,{className:"mr-2",size:20}),u?"Saving...":"Save Page Content"]})]}),(0,ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ft.jsxs)("div",{className:"space-y-8",children:[(0,ft.jsxs)(Vh,{title:"About Us",icon:(0,ft.jsx)(_h,{size:24}),children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Page Content"}),(0,ft.jsx)("textarea",{value:e.about.content,onChange:E=>w("about","content",E.target.value),placeholder:"Enter your business description here.",className:"w-full h-40 p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-y bg-white text-gray-900 placeholder-gray-500"})]}),(0,ft.jsxs)(Vh,{title:"Contact Information",icon:(0,ft.jsx)(wc,{size:24}),children:[(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(Xo,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,ft.jsx)("input",{type:"email",value:e.contact.email,onChange:E=>w("contact","email",E.target.value),placeholder:"Contact Email Address",className:"w-full p-3 pl-10 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500"})]}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(wc,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,ft.jsx)("input",{type:"tel",value:e.contact.phone,onChange:E=>w("contact","phone",E.target.value),placeholder:"Contact Phone Number",className:"w-full p-3 pl-10 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500"})]}),(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Operating Address"}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)(tA,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,ft.jsx)("textarea",{value:e.contact.address,onChange:E=>w("contact","address",E.target.value),placeholder:"Operating Address",className:"w-full h-24 p-3 pl-10 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-y bg-white text-gray-900 placeholder-gray-500"})]})]})]}),(0,ft.jsxs)("div",{className:"space-y-8",children:[(0,ft.jsxs)(Vh,{title:"Privacy Policy",icon:(0,ft.jsx)(xc,{size:24}),children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Page Content"}),(0,ft.jsx)("textarea",{value:e.privacy.content,onChange:E=>w("privacy","content",E.target.value),placeholder:"Enter your privacy policy text.",className:"w-full h-24 p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-y bg-white text-gray-900 placeholder-gray-500"})]}),(0,ft.jsxs)(Vh,{title:"Terms & Conditions",icon:(0,ft.jsx)(gc,{size:24}),children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Page Content"}),(0,ft.jsx)("textarea",{value:e.terms.content,onChange:E=>w("terms","content",E.target.value),placeholder:"Enter your terms and conditions.",className:"w-full h-24 p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-y bg-white text-gray-900 placeholder-gray-500"})]}),(0,ft.jsxs)(Vh,{title:"Cancellation & Refund Policy",icon:(0,ft.jsx)(aA,{size:24}),children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Page Content"}),(0,ft.jsx)("textarea",{value:e.refund.content,onChange:E=>w("refund","content",E.target.value),placeholder:"Enter your cancellation and refund policy.",className:"w-full h-24 p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-y bg-white text-gray-900 placeholder-gray-500"})]}),(0,ft.jsxs)(Vh,{title:"Shipping & Delivery Policy",icon:(0,ft.jsx)(b0,{size:24}),children:[(0,ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Page Content"}),(0,ft.jsx)("textarea",{value:e.shipping.content,onChange:E=>w("shipping","content",E.target.value),placeholder:"Enter your shipping and delivery policy.",className:"w-full h-24 p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-y bg-white text-gray-900 placeholder-gray-500"})]})]})]}),(0,ft.jsx)(Vh,{title:"Video Testimonials",icon:(0,ft.jsx)(Ph,{size:24}),children:(0,ft.jsxs)("div",{className:"space-y-3",children:[(e.videoTestimonials||[]).map((E,_)=>(0,ft.jsxs)("div",{className:"p-3 bg-gray-100 border rounded-md grid grid-cols-1 sm:grid-cols-[1fr,auto] gap-3 items-start",children:[(0,ft.jsxs)("div",{className:"space-y-2",children:[(0,ft.jsx)("input",{type:"text",placeholder:"Client Name",value:E.name,onChange:L=>g(_,"name",L.target.value),className:"w-full p-2 border rounded-md"}),(0,ft.jsx)("input",{type:"text",placeholder:"Client Place (e.g., City, Country)",value:E.place,onChange:L=>g(_,"place",L.target.value),className:"w-full p-2 border rounded-md"}),(0,ft.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ft.jsx)(nu,{className:"text-gray-400 flex-shrink-0",size:20}),(0,ft.jsx)("input",{type:"url",placeholder:"YouTube Video URL",value:E.url,onChange:L=>g(_,"url",L.target.value),className:"w-full p-2 border rounded-md"})]})]}),(0,ft.jsx)("button",{type:"button",onClick:()=>S(_),className:"p-2 text-red-500 hover:bg-red-100 rounded-full sm:ml-2 justify-self-end",children:(0,ft.jsx)(Ar,{size:18})})]},E.id)),(0,ft.jsxs)("button",{type:"button",onClick:b,className:"text-sm text-blue-600 hover:underline font-semibold flex items-center gap-1 mt-2",children:[(0,ft.jsx)(Fu,{size:14})," Add Video Testimonial"]})]})}),(0,ft.jsxs)(Vh,{title:"Social Media Links",icon:(0,ft.jsx)(Xo,{size:24}),children:[(0,ft.jsx)("p",{className:"text-sm text-gray-500 -mt-2",children:"These links and icons will appear in the site footer and can be used in email templates."}),(0,ft.jsxs)("div",{className:"space-y-4",children:[U.map(E=>{let _={facebook:(0,ft.jsx)(Jd,{}),instagram:(0,ft.jsx)(Zd,{}),youtube:(0,ft.jsx)(nu,{}),x:(0,ft.jsx)(lA,{}),linkedin:(0,ft.jsx)(eA,{})},L=`https://cdn.tools.unlayer.com/social/icons/circle-color/${E==="x"?"twitter":E}.png`;return(0,ft.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:_[E]}),(0,ft.jsx)("input",{type:"url",value:i[E].url,onChange:D=>F(E,"url",D.target.value),placeholder:`${E.charAt(0).toUpperCase()+E.slice(1)} Profile URL`,className:"w-full p-3 pl-10 border rounded-lg"})]}),(0,ft.jsxs)("div",{className:"relative",children:[(0,ft.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,ft.jsx)(Xo,{size:16})}),(0,ft.jsx)("input",{type:"url",value:i[E].iconUrl,onChange:D=>F(E,"iconUrl",D.target.value),placeholder:"Email Icon URL (optional)",className:"w-full p-3 pl-10 border rounded-lg"}),(0,ft.jsxs)("p",{className:"text-xs text-gray-400 px-1 mt-1",children:["Placeholder: ",L]})]})]},E)}),(0,ft.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,ft.jsx)("label",{htmlFor:"emailIconSize",className:"font-medium text-gray-700",children:"Email Icon Size"}),(0,ft.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,ft.jsx)("input",{id:"emailIconSize",type:"number",value:i.emailIconSize||"",onChange:O,className:"p-2 border rounded-lg w-24",min:"8",max:"64"}),(0,ft.jsx)("span",{className:"text-sm text-gray-500",children:"pixels (e.g., 16)"})]}),(0,ft.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Controls the size of social icons in automated emails."})]})]}),(0,ft.jsx)("div",{className:"flex justify-end mt-4",children:(0,ft.jsxs)("button",{onClick:k,disabled:A,className:"flex items-center justify-center bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:[A?(0,ft.jsx)(Pt,{className:"animate-spin mr-2"}):(0,ft.jsx)(ua,{className:"mr-2"}),A?"Saving...":"Save Social Links"]})})]}),(0,ft.jsxs)(Vh,{title:"Guest Checkout Settings",icon:(0,ft.jsx)(ru,{size:24}),children:[(0,ft.jsx)("p",{className:"text-sm text-gray-500 -mt-2",children:"Control whether new guest users must verify their email or phone number with an OTP before they can complete a purchase."}),(0,ft.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,ft.jsx)("h4",{className:"font-semibold text-gray-700",children:"For App Purchases"}),(0,ft.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 rounded-lg",children:[(0,ft.jsx)("span",{className:"font-medium text-gray-800",children:"Require Email OTP Verification"}),(0,ft.jsx)("button",{type:"button",onClick:()=>R("appPurchase","requireEmailOtp"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.appPurchase.requireEmailOtp?"bg-blue-600":"bg-gray-200"}`,"aria-pressed":n.appPurchase.requireEmailOtp,children:(0,ft.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.appPurchase.requireEmailOtp?"translate-x-6":"translate-x-1"}`})})]}),(0,ft.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 rounded-lg",children:[(0,ft.jsx)("span",{className:"font-medium text-gray-800",children:"Require Phone OTP Verification"}),(0,ft.jsx)("button",{type:"button",onClick:()=>R("appPurchase","requirePhoneOtp"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.appPurchase.requirePhoneOtp?"bg-blue-600":"bg-gray-200"}`,"aria-pressed":n.appPurchase.requirePhoneOtp,children:(0,ft.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.appPurchase.requirePhoneOtp?"translate-x-6":"translate-x-1"}`})})]})]}),(0,ft.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,ft.jsx)("h4",{className:"font-semibold text-gray-700",children:"For Webinar Purchases"}),(0,ft.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 rounded-lg",children:[(0,ft.jsx)("span",{className:"font-medium text-gray-800",children:"Require Email OTP Verification"}),(0,ft.jsx)("button",{type:"button",onClick:()=>R("webinarPurchase","requireEmailOtp"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.webinarPurchase.requireEmailOtp?"bg-blue-600":"bg-gray-200"}`,"aria-pressed":n.webinarPurchase.requireEmailOtp,children:(0,ft.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.webinarPurchase.requireEmailOtp?"translate-x-6":"translate-x-1"}`})})]}),(0,ft.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 rounded-lg",children:[(0,ft.jsx)("span",{className:"font-medium text-gray-800",children:"Require Phone OTP Verification"}),(0,ft.jsx)("button",{type:"button",onClick:()=>R("webinarPurchase","requirePhoneOtp"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.webinarPurchase.requirePhoneOtp?"bg-blue-600":"bg-gray-200"}`,"aria-pressed":n.webinarPurchase.requirePhoneOtp,children:(0,ft.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.webinarPurchase.requirePhoneOtp?"translate-x-6":"translate-x-1"}`})})]})]}),(0,ft.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,ft.jsx)("h4",{className:"font-semibold text-gray-700",children:"For Package Purchases"}),(0,ft.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 rounded-lg",children:[(0,ft.jsx)("span",{className:"font-medium text-gray-800",children:"Require Email OTP Verification"}),(0,ft.jsx)("button",{type:"button",onClick:()=>R("packagePurchase","requireEmailOtp"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.packagePurchase.requireEmailOtp?"bg-blue-600":"bg-gray-200"}`,"aria-pressed":n.packagePurchase.requireEmailOtp,children:(0,ft.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.packagePurchase.requireEmailOtp?"translate-x-6":"translate-x-1"}`})})]}),(0,ft.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-100 rounded-lg",children:[(0,ft.jsx)("span",{className:"font-medium text-gray-800",children:"Require Phone OTP Verification"}),(0,ft.jsx)("button",{type:"button",onClick:()=>R("packagePurchase","requirePhoneOtp"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.packagePurchase.requirePhoneOtp?"bg-blue-600":"bg-gray-200"}`,"aria-pressed":n.packagePurchase.requirePhoneOtp,children:(0,ft.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.packagePurchase.requirePhoneOtp?"translate-x-6":"translate-x-1"}`})})]})]}),(0,ft.jsx)("div",{className:"flex justify-end mt-4",children:(0,ft.jsxs)("button",{onClick:B,disabled:d,className:"flex items-center justify-center bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400",children:[d?(0,ft.jsx)(Pt,{className:"animate-spin mr-2"}):(0,ft.jsx)(ua,{className:"mr-2"}),"Save Checkout Settings"]})})]})]})},Jte=SNe;var G0=ce($t());var BM=ce($t());var Xa=ce(_e()),BNe=t=>`\u20B9${(t/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Zte=({payout:t,onClose:e,showNotification:r})=>{let[n,a]=(0,BM.useState)(""),[i,s]=(0,BM.useState)(!1),o=async()=>{s(!0);try{await cr.httpsCallable("processConsultantPayout")({payoutId:t.id,transactionId:n}),r("Payout marked as completed!","success"),e()}catch(l){r(`Error: ${l.message}`,"error")}finally{s(!1)}};return(0,Xa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,Xa.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Xa.jsxs)("header",{className:"p-6 border-b flex justify-between items-center",children:[(0,Xa.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Process Consultant Payout"}),(0,Xa.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Xa.jsx)(dr,{size:24})})]}),(0,Xa.jsxs)("main",{className:"p-6 space-y-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm text-gray-500",children:"Consultant"}),(0,Xa.jsx)("p",{className:"font-semibold",children:t.consultantName})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm text-gray-500",children:"Amount"}),(0,Xa.jsx)("p",{className:"font-bold text-2xl text-green-600",children:BNe(t.amount)})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm text-gray-500",children:"Payout Details"}),(0,Xa.jsx)("p",{className:"whitespace-pre-wrap bg-gray-100 p-2 rounded-md",children:t.payoutDetails})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{htmlFor:"transactionId",className:"text-sm font-medium text-gray-700",children:"Transaction ID (Optional)"}),(0,Xa.jsx)("input",{id:"transactionId",type:"text",value:n,onChange:l=>a(l.target.value),className:"w-full mt-1 p-2 border rounded-md bg-white text-gray-900 placeholder-gray-500",placeholder:"Enter payment reference ID"})]})]}),(0,Xa.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-lg border-t",children:[(0,Xa.jsx)("button",{onClick:e,disabled:i,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Cancel"}),(0,Xa.jsx)("button",{onClick:o,disabled:i,className:"w-48 flex justify-center items-center gap-2 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:bg-blue-400",children:i?(0,Xa.jsx)(Pt,{className:"animate-spin"}):(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)(Ji,{size:18})," Mark as Completed"]})})]})]})})};var Mr=ce(_e()),K0=t=>`\u20B9${(t/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,_Ne=({paymentOrders:t,consultants:e,ledgers:r,payouts:n,showNotification:a})=>{let[i,s]=(0,G0.useState)(null),o=(0,G0.useMemo)(()=>new Map(e.map(d=>[d.id,d.name])),[e]),l=(0,G0.useMemo)(()=>{let d=t.reduce((v,I)=>v+I.totalAmount,0),f=t.reduce((v,I)=>v+(I.platformFee||0),0),A=r.reduce((v,I)=>v+I.balance,0);return{totalSales:d,totalPlatformFees:f,totalOutstanding:A}},[t,r]),u=(0,G0.useMemo)(()=>n.filter(d=>d.status==="pending"),[n]),c=(0,G0.useMemo)(()=>e.map(d=>{let f=r.find(A=>A.id===d.id);return{id:d.id,name:d.name,balance:f?.balance||0,totalEarnings:f?.totalEarnings||0,totalPaidOut:f?.totalPaidOut||0}}).sort((d,f)=>f.balance-d.balance),[e,r]);return(0,Mr.jsxs)("div",{className:"space-y-8",children:[(0,Mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Consultant Sales & Payouts"}),(0,Mr.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Mr.jsx)(bo,{title:"Total Consultant Sales",value:K0(l.totalSales),icon:(0,Mr.jsx)(s0,{size:24})}),(0,Mr.jsx)(bo,{title:"Total Platform Fees",value:K0(l.totalPlatformFees),icon:(0,Mr.jsx)(Lh,{size:24})}),(0,Mr.jsx)(bo,{title:"Outstanding Payouts",value:K0(l.totalOutstanding),icon:(0,Mr.jsx)(oA,{size:24})})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Mr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,Mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:["Pending Payout Requests (",u.length,")"]}),u.length>0?(0,Mr.jsx)("div",{className:"overflow-x-auto",children:(0,Mr.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,Mr.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("th",{className:"px-4 py-2",children:"Consultant"}),(0,Mr.jsx)("th",{className:"px-4 py-2 text-right",children:"Amount"}),(0,Mr.jsx)("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),(0,Mr.jsx)("tbody",{children:u.map(d=>(0,Mr.jsxs)("tr",{className:"border-b",children:[(0,Mr.jsx)("td",{className:"px-4 py-2 font-medium",children:d.consultantName}),(0,Mr.jsx)("td",{className:"px-4 py-2 text-right font-semibold text-green-600",children:K0(d.amount)}),(0,Mr.jsx)("td",{className:"px-4 py-2 text-center",children:(0,Mr.jsxs)("button",{onClick:()=>s(d),className:"text-xs font-bold text-white bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded-md flex items-center gap-1",children:[(0,Mr.jsx)(iA,{size:12})," Process"]})})]},d.id))})]})}):(0,Mr.jsx)("p",{className:"text-center text-gray-500 py-4 italic",children:"No pending payout requests."})]}),(0,Mr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,Mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Consultant Balances"}),(0,Mr.jsx)("div",{className:"overflow-y-auto max-h-64",children:(0,Mr.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,Mr.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("th",{className:"px-4 py-2",children:"Consultant"}),(0,Mr.jsx)("th",{className:"px-4 py-2 text-right",children:"Available Balance"})]})}),(0,Mr.jsx)("tbody",{children:c.map(d=>(0,Mr.jsxs)("tr",{className:"border-b",children:[(0,Mr.jsx)("td",{className:"px-4 py-2 font-medium",children:d.name}),(0,Mr.jsx)("td",{className:"px-4 py-2 text-right font-bold",children:K0(d.balance)})]},d.id))})]})})]})]}),(0,Mr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200",children:[(0,Mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Sales History"}),(0,Mr.jsxs)("div",{className:"overflow-x-auto",children:[(0,Mr.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,Mr.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("th",{className:"px-4 py-2",children:"Date"}),(0,Mr.jsx)("th",{className:"px-4 py-2",children:"Consultant"}),(0,Mr.jsx)("th",{className:"px-4 py-2",children:"Customer"}),(0,Mr.jsx)("th",{className:"px-4 py-2",children:"Package"}),(0,Mr.jsx)("th",{className:"px-4 py-2 text-right",children:"Sale Amount"}),(0,Mr.jsx)("th",{className:"px-4 py-2 text-right",children:"Platform Fee"})]})}),(0,Mr.jsx)("tbody",{children:t.map(d=>(0,Mr.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,Mr.jsx)("td",{className:"px-4 py-2",children:sn(d.createdAt)}),(0,Mr.jsx)("td",{className:"px-4 py-2 font-medium",children:o.get(d.consultantId)}),(0,Mr.jsx)("td",{className:"px-4 py-2",children:d.userName}),(0,Mr.jsx)("td",{className:"px-4 py-2",children:d.items.map(f=>f.appName).join(", ")}),(0,Mr.jsx)("td",{className:"px-4 py-2 text-right font-semibold text-green-600",children:K0(d.totalAmount)}),(0,Mr.jsx)("td",{className:"px-4 py-2 text-right text-orange-600",children:K0(d.platformFee||0)})]},d.id))})]}),t.length===0&&(0,Mr.jsx)("p",{className:"text-center text-gray-500 py-8 italic",children:"No consultant sales yet."})]})]}),i&&(0,Mr.jsx)(Zte,{payout:i,onClose:()=>s(null),showNotification:a})]})},ere=_Ne;var CA=ce($t());var AC=ce($t());var ti=ce(_e()),ENe=[{value:"portal_management",label:"Portal Management"},{value:"marketing",label:"Marketing"},{value:"miscellaneous",label:"Miscellaneous"}],TNe=({expense:t,currentUser:e,onClose:r,showNotification:n})=>{let[a,i]=(0,AC.useState)({date:new Date().toISOString().split("T")[0],category:"miscellaneous",description:"",amount:""}),[s,o]=(0,AC.useState)(!1);(0,AC.useEffect)(()=>{t&&i({date:t.date,category:t.category,description:t.description,amount:(t.amount/100).toString()})},[t]);let l=c=>{i(d=>({...d,[c.target.name]:c.target.value}))};return(0,ti.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,ti.jsxs)("form",{onSubmit:async c=>{c.preventDefault();let d=Math.round(parseFloat(a.amount)*100);if(isNaN(d)||d<=0){n("Please enter a valid positive amount.","error");return}o(!0);try{let f={...a,amount:d,updatedAt:zr.serverTimestamp()};t?(await Ce.collection("expenses").doc(t.id).update(f),n("Expense updated successfully!","success")):(await Ce.collection("expenses").add({...f,createdAt:zr.serverTimestamp(),createdBy:e.id,createdByName:e.name}),n("Expense added successfully!","success")),r()}catch(f){n(`Error saving expense: ${f.message}`,"error")}finally{o(!1)}},className:"bg-white rounded-xl shadow-2xl w-full max-w-lg flex flex-col",children:[(0,ti.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,ti.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ti.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Expense":"Add New Expense"}),(0,ti.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",children:(0,ti.jsx)(dr,{size:24})})]})}),(0,ti.jsxs)("main",{className:"p-6 space-y-4 overflow-y-auto",children:[(0,ti.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,ti.jsxs)("div",{children:[(0,ti.jsx)("label",{htmlFor:"date",className:"text-sm font-medium text-gray-700 block mb-1",children:"Date"}),(0,ti.jsx)("input",{type:"date",id:"date",name:"date",value:a.date,onChange:l,required:!0,className:"w-full p-2 border rounded-lg"})]}),(0,ti.jsxs)("div",{children:[(0,ti.jsx)("label",{htmlFor:"category",className:"text-sm font-medium text-gray-700 block mb-1",children:"Category"}),(0,ti.jsx)("select",{id:"category",name:"category",value:a.category,onChange:l,required:!0,className:"w-full p-2 border rounded-lg bg-white",children:ENe.map(c=>(0,ti.jsx)("option",{value:c.value,children:c.label},c.value))})]})]}),(0,ti.jsxs)("div",{children:[(0,ti.jsx)("label",{htmlFor:"description",className:"text-sm font-medium text-gray-700 block mb-1",children:"Description"}),(0,ti.jsx)("textarea",{id:"description",name:"description",value:a.description,onChange:l,required:!0,placeholder:"e.g., Monthly server costs",className:"w-full p-2 border rounded-lg h-24"})]}),(0,ti.jsxs)("div",{children:[(0,ti.jsx)("label",{htmlFor:"amount",className:"text-sm font-medium text-gray-700 block mb-1",children:"Amount (\u20B9)"}),(0,ti.jsx)("input",{type:"number",id:"amount",name:"amount",value:a.amount,onChange:l,required:!0,min:"0.01",step:"0.01",placeholder:"e.g., 5000.00",className:"w-full p-2 border rounded-lg"})]})]}),(0,ti.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-xl border-t",children:[(0,ti.jsx)("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:s,children:"Cancel"}),(0,ti.jsxs)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold flex items-center disabled:bg-blue-400",disabled:s,children:[s&&(0,ti.jsx)(Pt,{className:"animate-spin mr-2",size:20}),s?"Saving...":"Save Expense"]})]})]})})},tre=TNe;var Gu=ce(_e()),LNe=({expense:t,onClose:e,showNotification:r})=>{let n=async()=>{try{await Ce.collection("expenses").doc(t.id).delete(),r("Expense record deleted.","success"),e()}catch(a){r(`Error deleting expense: ${a.message}`,"error")}};return(0,Gu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[80] p-4",children:(0,Gu.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Gu.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Gu.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Gu.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Expense"}),(0,Gu.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,Gu.jsx)("p",{children:"Are you sure you want to delete this expense record?"}),(0,Gu.jsx)("p",{className:"font-semibold mt-2",children:t.description}),(0,Gu.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone."})]}),(0,Gu.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Gu.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Gu.jsx)("button",{type:"button",onClick:n,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})})},rre=LNe;var Wn=ce(_e()),PNe=t=>`\u20B9${(t/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,kNe=({currentUser:t,showNotification:e})=>{let[r,n]=(0,CA.useState)([]),[a,i]=(0,CA.useState)(!0),[s,o]=(0,CA.useState)(""),[l,u]=(0,CA.useState)(!1),[c,d]=(0,CA.useState)(null),[f,A]=(0,CA.useState)(null);(0,CA.useEffect)(()=>{i(!0);let w=Ce.collection("expenses").orderBy("date","desc").onSnapshot(g=>{n(g.docs.map(b=>({...b.data(),id:b.id}))),i(!1)},g=>{console.error("Error fetching expenses:",g),e("Failed to load expenses.","error"),i(!1)});return()=>w()},[e]);let v=(0,CA.useMemo)(()=>{if(!s)return r;let w=s.toLowerCase();return r.filter(g=>g.description.toLowerCase().includes(w)||g.category.toLowerCase().includes(w))},[r,s]),I=(w=null)=>{d(w),u(!0)};return(0,Wn.jsxs)("section",{className:"space-y-4",children:[(0,Wn.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[(0,Wn.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,Wn.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Wn.jsx)("input",{type:"text",placeholder:"Search by description or category...",value:s,onChange:w=>o(w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,Wn.jsxs)("button",{onClick:()=>I(),className:"flex items-center justify-center bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors w-full sm:w-auto",children:[(0,Wn.jsx)(_a,{className:"mr-2 h-5 w-5"})," Add New Expense"]})]}),(0,Wn.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:(0,Wn.jsx)("div",{className:"overflow-x-auto",children:(0,Wn.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,Wn.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,Wn.jsxs)("tr",{children:[(0,Wn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Date"}),(0,Wn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Category"}),(0,Wn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Description"}),(0,Wn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Added By"}),(0,Wn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold text-right",children:"Amount"}),(0,Wn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold text-right",children:"Actions"})]})}),(0,Wn.jsx)("tbody",{children:a?(0,Wn.jsx)("tr",{children:(0,Wn.jsx)("td",{colSpan:6,className:"text-center py-8",children:"Loading expenses..."})}):v.length>0?v.map(w=>(0,Wn.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,Wn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Ws(w.date)}),(0,Wn.jsx)("td",{className:"px-6 py-4",children:(0,Wn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-800 capitalize",children:w.category.replace("_"," ")})}),(0,Wn.jsx)("td",{className:"px-6 py-4",children:w.description}),(0,Wn.jsx)("td",{className:"px-6 py-4 text-xs text-gray-500",children:w.createdByName}),(0,Wn.jsx)("td",{className:"px-6 py-4 text-right font-semibold text-red-600",children:PNe(w.amount)}),(0,Wn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Wn.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[(0,Wn.jsx)("button",{onClick:()=>I(w),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:"Edit"}),(0,Wn.jsx)("button",{onClick:()=>A(w),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:"Delete"})]})})]},w.id)):(0,Wn.jsx)("tr",{children:(0,Wn.jsxs)("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:[(0,Wn.jsx)(wi,{size:32,className:"mx-auto text-gray-300 mb-2"}),"No expenses recorded yet."]})})})]})})}),l&&(0,Wn.jsx)(tre,{expense:c,currentUser:t,onClose:()=>u(!1),showNotification:e}),f&&(0,Wn.jsx)(rre,{expense:f,onClose:()=>A(null),showNotification:e})]})},nre=kNe;var et=ce(_e()),FNe=({currentUser:t,onLogout:e,showNotification:r,isExpiringToday:n})=>{let[a,i]=(0,Pr.useState)([]),[s,o]=(0,Pr.useState)([]),[l,u]=(0,Pr.useState)({}),[c,d]=(0,Pr.useState)([]),[f,A]=(0,Pr.useState)([]),[v,I]=(0,Pr.useState)([]),[w,g]=(0,Pr.useState)([]),[b,S]=(0,Pr.useState)([]),[F,O]=(0,Pr.useState)([]),[R,T]=(0,Pr.useState)([]),[B,k]=(0,Pr.useState)([]),[U,E]=(0,Pr.useState)([]),[_,L]=(0,Pr.useState)([]),[D,z]=(0,Pr.useState)(null),[ee,Y]=(0,Pr.useState)([]),[$,j]=(0,Pr.useState)(null),[K,oe]=(0,Pr.useState)([]),[q,X]=(0,Pr.useState)(null),[te,ue]=(0,Pr.useState)([]),[be,ge]=(0,Pr.useState)([]),[Ne,Le]=(0,Pr.useState)([]),[Ie,de]=(0,Pr.useState)([]),[xe,qe]=(0,Pr.useState)([]),[wt,Re]=(0,Pr.useState)([]),[Ae,Kt]=(0,Pr.useState)([]),[zt,pt]=(0,Pr.useState)([]),[Oe,me]=(0,Pr.useState)([]),[Ue,it]=(0,Pr.useState)(null),[At,ct]=(0,Pr.useState)(()=>{try{let kt=sessionStorage.getItem("analyticsPageFilter");if(kt)return new Set(JSON.parse(kt))}catch(kt){console.error("Failed to read page filter from session storage",kt)}return null}),[Tt,Ot]=(0,Pr.useState)("commercial"),[vr,rr]=(0,Pr.useState)(!1),[Er,Nt]=(0,Pr.useState)(n),[gn,dt]=(0,Pr.useState)(!0),[Wt,Qe]=(0,Pr.useState)(!1),[tt,rt]=(0,Pr.useState)(!1),[Ct,Nr]=(0,Pr.useState)(null),[nr,jr]=(0,Pr.useState)(!1),[Zt,en]=(0,Pr.useState)(null),[Yt,Sr]=(0,Pr.useState)(!1),[Qr,Yr]=(0,Pr.useState)({email:"",password:""}),[yn,ra]=(0,Pr.useState)(""),[fr,Kr]=(0,Pr.useState)({key:"updatedAt",direction:"descending"}),[xr,fn]=(0,Pr.useState)(!1),[Jr,ln]=(0,Pr.useState)(null),[ma,Ia]=(0,Pr.useState)(!1),[ri,Pi]=(0,Pr.useState)(null),[na,ki]=(0,Pr.useState)(null),[ps,ni]=(0,Pr.useState)(!1),[za,Do]=(0,Pr.useState)(null),[Cr,Se]=(0,Pr.useState)(!1),[St,lr]=(0,Pr.useState)(null);(0,Pr.useEffect)(()=>{(async()=>{try{let jt=await Ce.collection("site_content").doc("social_links").get();jt.exists&&X(jt.data())}catch(jt){console.error("Failed to fetch social links:",jt)}})()},[]);let vn=(0,Pr.useCallback)(async()=>{if(!Wt){gn||Qe(!0);try{let kt=new Date;kt.setDate(kt.getDate()-30);let jt=async Fa=>(await Fa.get()).docs.map(ms=>({...ms.data(),id:ms.id})),Xr=async Fa=>{let Oa=await Fa.get();return Oa.exists?Oa.data():null},[Wr,ka,di,Ai,ao,io,Qo,No,Tc,NA,fi,ks,gd,an,SA,hu,sl,BA,so,Fs,Lc,_A,Xu,Pc,kc,So,oo]=await Promise.all([jt(Ce.collection("payment_orders").where("createdAt",">=",kt).orderBy("createdAt","desc")),jt(Ce.collection("payment_orders").where("createdAt","<",kt)),jt(Ce.collection("reviews")),jt(Ce.collection("users")),jt(Ce.collection("apps")),Ce.collection("usage_counts").get(),jt(Ce.collection("affiliate_profiles")),jt(Ce.collection("payouts")),jt(Ce.collection("credit_logs").orderBy("timestamp","desc")),jt(Ce.collection("blogs").orderBy("createdAt","desc")),jt(Ce.collection("landingPages").orderBy("createdAt","desc")),jt(Ce.collection("leads").orderBy("createdAt","desc")),jt(Ce.collection("webinar_products").orderBy("createdAt","desc")),jt(Ce.collection("webinar_purchases").orderBy("purchaseDate","desc")),jt(Ce.collection("email_templates").orderBy("createdAt","desc")),jt(Ce.collection("whatsApp_templates").orderBy("createdAt","desc")),jt(Ce.collection("media_library").orderBy("createdAt","desc")),jt(Ce.collection("consultants").orderBy("createdAt","desc")),jt(Ce.collectionGroup("consultant_packages")),jt(Ce.collection("appointments").orderBy("appointmentStart","desc")),jt(Ce.collection("page_views")),jt(Ce.collection("consultant_ledgers")),jt(Ce.collection("consultant_payouts").orderBy("requestedAt","desc")),jt(Ce.collection("expenses").orderBy("date","desc")),Xr(Ce.collection("site_content").doc("email_assignments")),Xr(Ce.collection("site_content").doc("whatsApp_assignments")),Xr(Ce.collection("site_content").doc("live"))]);me(Wr),it(ka),i(Ai),o(ao);let Fc={};io.forEach(Fa=>{Fc[Fa.id]=Fa.data().count||0}),u(Fc),A(Qo),I(No),g(Tc),S(NA),O(fi),T(ks),k(gd),E(an),L(SA),Y(hu),oe(sl),ue(BA),ge(so),Le(Fs),qe(Lc),Re(_A),Kt(Xu),pt(Pc),z(kc),j(So),de((oo?.videoTestimonials||[]).map(Fa=>({...Fa,id:Fa.id||we()})));let Bo=new Date;Bo.setMonth(Bo.getMonth()-3);let Sa=new Date().getTime()-Bo.getTime(),ai=Fa=>{let Oa=0;for(let ms=0;ms<Fa.length;ms++)Oa=(Oa<<5)-Oa+Fa.charCodeAt(ms),Oa|=0;return Math.abs(Oa)},EA=di.map(Fa=>{let Oa={...Fa},ms;if(Oa.createdAt&&typeof Oa.createdAt.toDate=="function")ms=Oa.createdAt.toDate();else{let Ml=Bo.getTime()+ai(Oa.id)%Sa;ms=new Date(Ml)}let Rs;return Oa.updatedAt&&typeof Oa.updatedAt.toDate=="function"?Rs=Oa.updatedAt.toDate():Rs=ms,{...Oa,createdAt:ms,updatedAt:Rs}}).sort((Fa,Oa)=>Oa.updatedAt.getTime()-Fa.updatedAt.getTime());d(EA),gn||r("Dashboard data has been refreshed.","success")}catch(kt){console.error("Error fetching data:",kt),r(`Failed to refresh data: ${kt.message}`,"error")}finally{dt(!1),Qe(!1)}}},[gn,Wt,r]);(0,Pr.useEffect)(()=>{vn()},[]),(0,Pr.useEffect)(()=>{if(xe.length>0){let kt=new Set(xe.map(jt=>jt.id));if(At){let jt=new Set(Array.from(At).filter(Xr=>kt.has(Xr)));jt.size!==At.size&&ct(jt)}else ct(kt)}},[xe,At]),(0,Pr.useEffect)(()=>{if(At)try{let kt=Array.from(At);sessionStorage.setItem("analyticsPageFilter",JSON.stringify(kt))}catch(kt){console.error("Failed to save page filter to session storage",kt)}},[At]);let La=(0,Pr.useMemo)(()=>Ue===null?Oe:[...Oe,...Ue],[Oe,Ue]),Yn=(0,Pr.useMemo)(()=>{let kt={};return s.forEach(jt=>{kt[jt.id]=0}),w.forEach(jt=>{kt.hasOwnProperty(jt.appId)&&(kt[jt.appId]+=jt.creditsDeducted)}),kt},[s,w]),Na=(0,Pr.useMemo)(()=>{let kt={};for(let Xr of c)Xr.appId&&typeof Xr.rating=="number"&&(kt[Xr.appId]||(kt[Xr.appId]={sum:0,count:0}),kt[Xr.appId].sum+=Xr.rating,kt[Xr.appId].count++);let jt={};for(let Xr in kt)jt[Xr]={totalReviews:kt[Xr].count,averageRating:kt[Xr].count>0?kt[Xr].sum/kt[Xr].count:0};return jt},[c]);(0,Pr.useEffect)(()=>{(async()=>{if(s.length===0||Object.keys(Yn).length===0)return;let jt=Ce.batch(),Xr=0;if(s.forEach(Wr=>{let ka=Yn[Wr.id]??0,di=Wr.totalUsage??0;if(ka!==di){let Ai=Ce.collection("apps").doc(Wr.id);jt.update(Ai,{totalUsage:ka}),Xr++}}),Xr>0)try{await jt.commit()}catch(Wr){console.error("Failed to sync app usage totals:",Wr)}})()},[Yn,s]);let qi=(0,Pr.useMemo)(()=>{let kt=a.filter(jt=>jt.role==="user");if(yn){let jt=yn.toLowerCase();kt=kt.filter(Xr=>Xr.name.toLowerCase().includes(jt)||Xr.email&&Xr.email.toLowerCase().includes(jt)||Xr.phone&&Xr.phone.includes(yn))}return kt.sort((jt,Xr)=>{let{key:Wr,direction:ka}=fr,di=ka==="ascending"?1:-1,Ai,ao;return Wr==="updatedAt"?(Ai=jt.updatedAt?.toMillis()??jt.createdAt?.toMillis()??0,ao=Xr.updatedAt?.toMillis()??Xr.createdAt?.toMillis()??0):(Ai=jt[Wr]||"",ao=Xr[Wr]||""),Ai<ao?-1*di:Ai>ao?1*di:0}),kt},[a,yn,fr]),Fi=(0,Pr.useMemo)(()=>a.filter(kt=>kt.role==="user"),[a]),as=(kt=null)=>{Nr(kt),rt(!0)},Pa=()=>{rt(!1),Nr(null)},il=async kt=>{if(Ct)try{let{password:jt,...Xr}=kt,Wr={...Xr,updatedAt:zr.serverTimestamp()};await Ce.collection("users").doc(Ct.id).update(Wr),r("User updated successfully!","success"),Pa(),vn()}catch(jt){r(`Error updating user: ${jt.message}`,"error"),console.error("Update User Error: ",jt)}else{if(!kt.password||kt.password.length<6){r("Password is required and must be at least 6 characters long.","error");return}let jt=`temp-user-creation-${Date.now()}`,{app:Xr,auth:Wr}=tK(AU,jt);try{let di=(await Wr.createUserWithEmailAndPassword(kt.email,kt.password)).user.uid,Ai=Ce.collection("users").doc(di),{password:ao,...io}=kt;await Ai.set({...io,role:"user",mustChangePassword:!0,createdAt:zr.serverTimestamp(),updatedAt:zr.serverTimestamp()}),r(`User ${kt.email} created successfully!`,"success"),Yr({email:kt.email,password:kt.password}),Sr(!0),Pa(),vn()}catch(ka){let di=ka.code?ka.code.replace("auth/","").replace(/-/g," "):ka.message;r(`Error saving user: ${di}`,"error"),console.error("Save User Error: ",ka)}finally{await rK(Xr).catch(ka=>console.error("Failed to delete temp app",ka))}}},Mo=kt=>{en(kt),jr(!0)},$u=async()=>{if(Zt)try{await Ce.collection("users").doc(Zt.id).delete(),r(`User record for ${Zt.name} deleted. Remember to also delete their login from the Firebase Authentication console.`,"info",8e3),jr(!1),en(null),vn()}catch(kt){r(`Error deleting user record: ${kt.message}`,"error")}},md=(kt=null)=>{ln(kt),fn(!0)},Ma=()=>{fn(!1),ln(null)},Ul=async kt=>{try{if(Jr)await Ce.collection("apps").doc(Jr.id).update(kt),r("Application updated successfully!","success");else{let jt={...kt,totalUsage:0};await Ce.collection("apps").add(jt),r("Application added successfully!","success")}Ma(),vn()}catch(jt){r(`Error saving application: ${jt.message}`,"error"),console.error("Save App Error: ",jt)}},fu=kt=>{Pi(kt),Ia(!0)},Dl=async()=>{if(ri)try{await Ce.collection("apps").doc(ri.id).delete(),r(`Application '${ri.name}' deleted successfully.`,"success"),Ia(!1),Pi(null),vn()}catch(kt){r(`Error deleting application: ${kt.message}`,"error")}},Ec=(kt=null)=>{Do(kt),ni(!0)},zi=()=>{ni(!1),Do(null)},Io=async kt=>{let jt={...kt,authorId:t.id,authorName:"Acharya Preeti Sharma",updatedAt:zr.serverTimestamp()};try{za?(await Ce.collection("blogs").doc(za.id).update(jt),r("Blog post updated!","success")):(await Ce.collection("blogs").add({...jt,createdAt:zr.serverTimestamp()}),r("Blog post created!","success")),zi(),vn()}catch(Xr){r(`Error saving post: ${Xr.message}`,"error"),console.error("Save Post Error: ",Xr)}},Yu=kt=>{lr(kt),Se(!0)},Ps=async()=>{if(St)try{await Ce.collection("blogs").doc(St.id).delete(),r(`Blog post '${St.title}' deleted.`,"success"),Se(!1),lr(null),vn()}catch(kt){r(`Error deleting post: ${kt.message}`,"error")}},Oo=async kt=>{try{let jt=Ce.batch(),Xr,{id:Wr,...ka}=kt,Ai=te.find(io=>io.id===Wr)?.linkedUserId,ao=ka.linkedUserId;if(Wr?(Xr=Ce.collection("consultants").doc(Wr),jt.update(Xr,ka)):(Xr=Ce.collection("consultants").doc(),ka.createdAt=zr.serverTimestamp(),jt.set(Xr,ka)),ao!==Ai){if(Ai){let io=Ce.collection("users").doc(Ai);jt.update(io,{linkedConsultantId:zr.delete()})}if(ao){let io=Ce.collection("users").doc(ao);jt.update(io,{linkedConsultantId:Xr.id})}}await jt.commit(),r(Wr?"Consultant updated successfully!":"Consultant created successfully!","success"),vn()}catch(jt){throw r(`Error saving consultant: ${jt.message}`,"error"),console.error("Save Consultant Error: ",jt),jt}},Jn=kt=>`flex-1 sm:flex-none justify-center whitespace-nowrap flex items-center gap-2 py-4 px-3 sm:px-4 border-b-2 font-medium text-sm transition-colors ${Tt===kt?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`;return gn?(0,et.jsx)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 flex items-center justify-center h-[80vh]",children:(0,et.jsxs)("div",{className:"text-center",children:[(0,et.jsx)(Pt,{className:"animate-spin text-blue-500 mx-auto",size:48}),(0,et.jsx)("p",{className:"mt-4 text-gray-600 font-semibold",children:"Loading dashboard data..."})]})}):(0,et.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[Er&&(0,et.jsx)("div",{className:"mb-6",children:(0,et.jsx)(cB,{onClose:()=>Nt(!1)})}),(0,et.jsxs)("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[(0,et.jsxs)("div",{className:"flex items-center gap-4",children:[(0,et.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600 flex-shrink-0",children:[(0,et.jsx)("path",{d:"M5.5 8.5 9 12l-3.5 3.5L2 12l3.5-3.5Z"}),(0,et.jsx)("path",{d:"m12 2 3.5 3.5L12 9 8.5 5.5 12 2Z"}),(0,et.jsx)("path",{d:"M18.5 8.5 22 12l-3.5 3.5L15 12l3.5-3.5Z"}),(0,et.jsx)("path",{d:"m12 15 3.5 3.5L12 22l-3.5-3.5L12 15Z"})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Powerful Tools"}),(0,et.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[(0,et.jsx)("span",{children:"By Acharya Preeti Sharma"}),q?.facebook?.url&&(0,et.jsx)("a",{href:q.facebook.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:opacity-80 transition-opacity","aria-label":"Facebook",children:(0,et.jsx)(Jd,{size:16})}),q?.instagram?.url&&(0,et.jsx)("a",{href:q.instagram.url,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:opacity-80 transition-opacity","aria-label":"Instagram",children:(0,et.jsx)(Zd,{size:16})}),q?.youtube?.url&&(0,et.jsx)("a",{href:q.youtube.url,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:opacity-80 transition-opacity","aria-label":"YouTube",children:(0,et.jsx)(nu,{size:16})}),q?.x?.url&&(0,et.jsx)("a",{href:q.x.url,target:"_blank",rel:"noopener noreferrer",className:"text-black hover:opacity-80 transition-opacity","aria-label":"X (Twitter)",children:(0,et.jsx)(lA,{size:16})}),q?.linkedin?.url&&(0,et.jsx)("a",{href:q.linkedin.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 hover:opacity-80 transition-opacity","aria-label":"LinkedIn",children:(0,et.jsx)(eA,{size:16})})]}),(0,et.jsx)("p",{className:"text-gray-500 mt-1",children:"Admin Dashboard"})]})]}),(0,et.jsx)("div",{className:"flex items-center gap-4 mt-4 sm:mt-0",children:(0,et.jsxs)("div",{className:"flex flex-col items-start sm:items-end",children:[(0,et.jsxs)("p",{className:"text-gray-500 text-sm",children:["Logged in as: ",(0,et.jsx)("span",{className:"font-medium",children:t.email})]}),(0,et.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,et.jsxs)("button",{onClick:vn,disabled:Wt,className:"flex items-center bg-gray-100 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors disabled:bg-gray-300 disabled:cursor-wait",children:[Wt?(0,et.jsx)(Pt,{className:"animate-spin mr-2 h-5 w-5"}):(0,et.jsx)(aA,{className:"mr-2 h-5 w-5"}),Wt?"Refreshing...":"Refresh Data"]}),(0,et.jsxs)("button",{onClick:()=>rr(!0),className:"flex items-center bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,et.jsx)(bc,{className:"mr-2 h-5 w-5"})," Logout"]})]})]})})]}),(0,et.jsxs)("main",{className:"space-y-8",children:[(0,et.jsx)("div",{className:"border-b border-gray-200",children:(0,et.jsxs)("nav",{className:"-mb-px flex sm:space-x-6 overflow-x-auto","aria-label":"Tabs",children:[(0,et.jsxs)("button",{onClick:()=>Ot("commercial"),className:Jn("commercial"),title:"Commercial",children:[(0,et.jsx)(wi,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Commercial"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("expenses"),className:Jn("expenses"),title:"Expenses",children:[(0,et.jsx)(wi,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Expenses"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("consultant_sales"),className:Jn("consultant_sales"),title:"Consultant Sales",children:[(0,et.jsx)(wi,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Consultant Sales"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("analytics"),className:Jn("analytics"),title:"Analytics",children:[(0,et.jsx)(Wd,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Analytics"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("leads"),className:Jn("leads"),title:"Leads",children:[(0,et.jsx)(wf,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Leads"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("credit_logs"),className:Jn("credit_logs"),title:"Credit Logs",children:[(0,et.jsx)(wf,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Credit Logs"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("users"),className:Jn("users"),title:"Users",children:[(0,et.jsx)(ca,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Users"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("apps"),className:Jn("apps"),title:"Apps",children:[(0,et.jsx)(_a,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Apps"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("homepage"),className:Jn("homepage"),title:"Homepage",children:[(0,et.jsx)(yc,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Homepage"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("consultants"),className:Jn("consultants"),title:"Consultants",children:[(0,et.jsx)(Gs,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Consultants"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("media_library"),className:Jn("media_library"),title:"Media Library",children:[(0,et.jsx)(rd,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Media Library"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("webinars"),className:Jn("webinars"),title:"Webinars",children:[(0,et.jsx)(Ph,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Webinars"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("webinar_users"),className:Jn("webinar_users"),title:"Webinar Users",children:[(0,et.jsx)(ad,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Webinar Users"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("blog"),className:Jn("blog"),title:"Blog",children:[(0,et.jsx)(Jo,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Blog"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("site_content"),className:Jn("site_content"),title:"Site Content",children:[(0,et.jsx)(gc,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Site Content"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("webhooks"),className:Jn("webhooks"),title:"Webhooks",children:[(0,et.jsx)(x0,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Webhooks"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("email_templates"),className:Jn("email_templates"),title:"Email Templates",children:[(0,et.jsx)(Xo,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Email"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("whatsapp_templates"),className:Jn("whatsapp_templates"),title:"WhatsApp Templates",children:[(0,et.jsx)(nd,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"WhatsApp"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("seo"),className:Jn("seo"),title:"SEO",children:[(0,et.jsx)(rA,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"SEO"})]}),(0,et.jsxs)("button",{onClick:()=>Ot("affiliates"),className:Jn("affiliates"),title:"Affiliates",children:[(0,et.jsx)(ad,{size:16}),(0,et.jsx)("span",{className:"hidden sm:inline",children:"Affiliates"})]})]})}),Tt==="commercial"&&(0,et.jsx)(FK,{paymentOrders:La,apps:s,users:a,showNotification:r,expenses:zt}),Tt==="expenses"&&(0,et.jsx)(nre,{currentUser:t,showNotification:r}),Tt==="consultant_sales"&&(0,et.jsx)(ere,{paymentOrders:La.filter(kt=>kt.consultantId&&(kt.status==="completed"||kt.status==="completed_manual")),consultants:te,ledgers:wt,payouts:Ae,showNotification:r}),Tt==="analytics"&&(0,et.jsx)(TK,{users:a.filter(kt=>kt.role==="user"),apps:s,allReviews:c,appUsageTotals:Yn,appRatingStats:Na,pageViews:xe,selectedPageIds:At,setSelectedPageIds:ct}),Tt==="leads"&&(0,et.jsx)(Nte,{leads:R,showNotification:r}),Tt==="credit_logs"&&(0,et.jsx)(wte,{users:a.filter(kt=>kt.role==="user"),apps:s,creditLogs:w}),Tt==="users"&&(0,et.jsxs)("section",{className:"space-y-4",children:[(0,et.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[(0,et.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,et.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,et.jsx)("input",{type:"text",placeholder:"Search by name, email, or phone...",value:yn,onChange:kt=>ra(kt.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,et.jsxs)("button",{onClick:()=>as(),className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors w-full sm:w-auto",children:[(0,et.jsx)(_a,{className:"mr-2 h-5 w-5"})," Create User Profile"]})]}),(0,et.jsx)(hK,{users:qi,allUsers:a,allApps:s,usageCounts:l,onEdit:as,onDelete:Mo,onSortChange:Kr,sortConfig:fr,consultants:te,affiliateProfiles:f})]}),Tt==="apps"&&(0,et.jsx)(NK,{apps:s,landingPages:F,appUsageTotals:Yn,appRatingStats:Na,onEdit:md,onDelete:fu,showNotification:r,onAddNew:()=>md(null)}),Tt==="homepage"&&(0,et.jsx)(Kte,{showNotification:r,apps:s,blogPosts:b,allReviews:c,videoTestimonials:Ie}),Tt==="consultants"&&(0,et.jsx)(zte,{consultants:te,packages:be,appointments:Ne,mediaFiles:K,videoTestimonials:Ie,showNotification:r,users:Fi,onSaveConsultant:Oo,setEditingConsultant:()=>{}}),Tt==="media_library"&&(0,et.jsx)(Dte,{mediaFiles:K,showNotification:r}),Tt==="webinars"&&(0,et.jsx)(_te,{webinarProducts:B,apps:s,showNotification:r}),Tt==="webinar_users"&&(0,et.jsx)(Lte,{purchases:U,showNotification:r}),Tt==="blog"&&(0,et.jsx)(Cte,{posts:b,onEdit:Ec,onDelete:Yu,onAddNew:()=>Ec(null)}),Tt==="site_content"&&(0,et.jsx)(Jte,{showNotification:r,videoTestimonials:Ie}),Tt==="webhooks"&&(0,et.jsx)(Xte,{showNotification:r}),Tt==="email_templates"&&(0,et.jsx)(Fte,{templates:_,assignments:D,showNotification:r}),Tt==="whatsapp_templates"&&(0,et.jsx)($te,{templates:ee,assignments:$,showNotification:r}),Tt==="seo"&&(0,et.jsx)(xte,{showNotification:r}),Tt==="affiliates"&&(0,et.jsx)(UK,{affiliateProfiles:f,payouts:v,users:a,showNotification:r}),(0,et.jsxs)("div",{className:"pt-4 grid md:grid-cols-2 gap-6",children:[(0,et.jsxs)("div",{className:"p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 rounded-r-lg",children:[(0,et.jsx)("h4",{className:"font-bold mb-2",children:"New User Workflow"}),(0,et.jsxs)("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[(0,et.jsx)("li",{children:'Click "Create User Profile".'}),(0,et.jsx)("li",{children:"Fill in their name, email, and a temporary password (min 6 characters)."}),(0,et.jsx)("li",{children:"Assign applications and set validity dates as needed."}),(0,et.jsx)("li",{children:"After creation, copy the provided instructions and send them to the new user."})]})]}),(0,et.jsxs)("div",{className:"p-4 bg-red-50 border-l-4 border-red-400 text-red-800 rounded-r-lg",children:[(0,et.jsx)("h4",{className:"font-bold mb-2",children:"Important: App Compatibility"}),(0,et.jsx)("p",{className:"text-sm",children:"For an app to work inside the portal's iframe, its server must allow embedding. If an app shows a blank screen, you must remove the `X-Frame-Options` header from its server response on its hosting platform (e.g., Google Cloud Run)."})]})]})]}),tt&&(0,et.jsx)(pK,{user:Ct,allApps:s,onClose:Pa,onSave:il,showNotification:r,consultants:te}),nr&&(0,et.jsx)(mK,{user:Zt,onClose:()=>jr(!1),onConfirm:$u}),xr&&(0,et.jsx)(SK,{app:Jr,onClose:Ma,onSave:Ul,showNotification:r}),ma&&(0,et.jsx)(BK,{app:ri,onClose:()=>Ia(!1),onConfirm:Dl}),ps&&(0,et.jsx)(vE,{post:za,onClose:zi,onSave:Io,showNotification:r}),Cr&&(0,et.jsx)(bE,{post:St,onClose:()=>Se(!1),onConfirm:Ps}),na&&(0,et.jsx)(ab,{consultant:na,packages:be.filter(kt=>kt.consultantId===na.id),onClose:()=>ki(null),showNotification:r}),(0,et.jsx)(S1,{isOpen:vr,onClose:()=>rr(!1),onConfirm:e}),Yt&&(0,et.jsx)(EK,{isOpen:Yt,onClose:()=>Sr(!1),email:Qr.email,password:Qr.password})]})},are=FNe;var zn=ce($t());var _M=ce($t());var ire=ce($t()),ob=ce(_e()),RNe=({text:t,maxLength:e=80})=>{let[r,n]=(0,ire.useState)(!1);if(!t||t.length<=e)return(0,ob.jsx)("p",{className:"text-sm text-gray-600 mb-4 min-h-[3rem]",children:t||"No description provided."});let a=s=>{s.preventDefault(),s.stopPropagation(),n(!r)},i=r?t:`${t.substring(0,e)}...`;return(0,ob.jsxs)("div",{className:"text-sm text-gray-600 mb-4 min-h-[3rem]",children:[(0,ob.jsx)("p",{children:i}),(0,ob.jsx)("button",{onClick:a,className:"text-blue-600 hover:underline font-semibold text-xs mt-1",children:r?"Read less":"Read more"})]})},W0=RNe;var Vn=ce(_e()),UNe=({allApps:t,assignedAppsMap:e,onClose:r,onPurchase:n})=>{let a=(0,_M.useMemo)(()=>t.filter(s=>!s.comingSoon&&!e.hasOwnProperty(s.id)),[t,e]),i=(0,_M.useMemo)(()=>t.filter(s=>s.comingSoon&&!e.hasOwnProperty(s.id)),[t,e]);return(0,Vn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,Vn.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,Vn.jsxs)("header",{className:"p-6 border-b sticky top-0 bg-white rounded-t-xl z-10",children:[(0,Vn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Explore More Apps"}),(0,Vn.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Vn.jsx)(dr,{size:24})})]}),(0,Vn.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Browse other software available in the portal. Purchase credits to gain access."})]}),(0,Vn.jsxs)("main",{className:"p-6 space-y-6 overflow-y-auto bg-gray-50/50",children:[a.length>0&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Available for Purchase"}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>(0,Vn.jsxs)("div",{className:"p-4 rounded-lg flex flex-col justify-between bg-white border shadow-sm",children:[(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Vn.jsx)(da,{icon:s.icon,name:s.name,className:"h-12 w-12 mr-4 rounded-lg flex-shrink-0"}),(0,Vn.jsx)("div",{className:"flex-grow",children:(0,Vn.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:s.name})})]}),(0,Vn.jsx)(W0,{text:s.description||"",maxLength:80})]}),(0,Vn.jsx)("div",{className:"mt-4",children:(0,Vn.jsxs)("button",{onClick:()=>n(s),className:"w-full flex items-center justify-center py-2 px-4 rounded-md font-semibold text-sm text-green-700 bg-green-100 hover:bg-green-200 transition-colors",children:[(0,Vn.jsx)(vo,{size:16,className:"mr-2"})," Buy App Credits"]})})]},s.id))})]}),i.length>0&&(0,Vn.jsxs)("div",{children:[(0,Vn.jsx)("h4",{className:`text-lg font-semibold text-gray-700 mb-4 ${a.length>0?"border-t pt-6 mt-6":""}`,children:"Coming Soon"}),(0,Vn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>(0,Vn.jsx)("div",{className:"p-4 rounded-lg flex flex-col justify-between bg-white border shadow-sm opacity-70",children:(0,Vn.jsxs)("div",{children:[(0,Vn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Vn.jsx)(da,{icon:s.icon,name:s.name,className:"h-12 w-12 mr-4 rounded-lg flex-shrink-0"}),(0,Vn.jsxs)("div",{className:"flex-grow",children:[(0,Vn.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:s.name}),(0,Vn.jsx)("span",{className:"text-xs font-bold uppercase text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"Coming Soon"})]})]}),(0,Vn.jsx)(W0,{text:s.description||"",maxLength:80})]})},s.id))})]}),a.length===0&&i.length===0&&(0,Vn.jsxs)("div",{className:"text-center py-16 text-gray-500",children:[(0,Vn.jsx)("h4",{className:"text-xl font-semibold",children:"No Other Apps Available"}),(0,Vn.jsx)("p",{children:"You have been assigned all available applications."})]})]}),(0,Vn.jsx)("footer",{className:"bg-white px-6 py-3 flex justify-end gap-3 rounded-b-xl border-t",children:(0,Vn.jsx)("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Close"})})]})})},sre=UNe;var fs=ce($t());var Bc=ce(_e()),DNe=({isOpen:t,onClose:e,onConfirm:r})=>t?(0,Bc.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[100] p-4",children:(0,Bc.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Bc.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Bc.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Bc.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Leave Affiliate Program?"}),(0,Bc.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:(0,Bc.jsx)("p",{children:"Are you sure you want to leave? You will stop earning commissions. You can rejoin later if you change your mind."})}),(0,Bc.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Bc.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Bc.jsxs)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 flex items-center justify-center gap-2",children:[(0,Bc.jsx)(bc,{size:16})," Yes, Leave Program"]})]})]})}):null,ore=DNe;var Je=ce(_e()),IE=t=>`\u20B9${(t/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,MNe=({user:t,allApps:e,usageCounts:r,userReviews:n,onClose:a,onLogout:i,showNotification:s,onEditReview:o})=>{let[l,u]=(0,fs.useState)(t.name||""),[c,d]=(0,fs.useState)(!1),[f,A]=(0,fs.useState)(!1),[v,I]=(0,fs.useState)(""),[w,g]=(0,fs.useState)(""),[b,S]=(0,fs.useState)(!1),[F,O]=(0,fs.useState)(!1),[R,T]=(0,fs.useState)(!1),[B,k]=(0,fs.useState)(null),[U,E]=(0,fs.useState)([]),[_,L]=(0,fs.useState)([]),[D,z]=(0,fs.useState)(!1),[ee,Y]=(0,fs.useState)(""),[$,j]=(0,fs.useState)(""),[K,oe]=(0,fs.useState)(null);(0,fs.useEffect)(()=>{(async()=>{try{let wt=(await cr.httpsCallable("getAffiliateConfiguration")()).data;oe(wt.commissionRate)}catch(xe){console.error("Failed to fetch affiliate config",xe)}})()},[]),(0,fs.useEffect)(()=>{let de,xe,qe;return t.affiliateStatus&&t.affiliateStatus!=="none"&&t.affiliateStatus!=="left"&&(z(!0),de=Ce.collection("affiliate_profiles").doc(t.id).onSnapshot(Kt=>{Kt.exists&&k({id:Kt.id,...Kt.data()}),z(!1)},()=>z(!1)),xe=Ce.collection("payouts").where("userId","==",t.id).onSnapshot(Kt=>{let zt=Kt.docs.map(pt=>({id:pt.id,...pt.data()}));zt.sort((pt,Oe)=>(Oe.requestedAt?.toMillis()||0)-(pt.requestedAt?.toMillis()||0)),E(zt)}),qe=Ce.collection("affiliate_profiles").doc(t.id).collection("referrals").orderBy("createdAt","desc").onSnapshot(Kt=>{let zt=Kt.docs.map(pt=>({id:pt.id,...pt.data()}));L(zt)})),()=>{de&&de(),xe&&xe(),qe&&qe()}},[t.id,t.affiliateStatus]);let q=async de=>{if(de.preventDefault(),!l.trim()){s("Name cannot be empty.","error");return}d(!0);try{await Ce.collection("users").doc(t.id).update({name:l.trim()}),A(!0),setTimeout(()=>window.location.reload(),2e3)}catch(xe){s(`Profile update failed: ${xe.message}.`,"error"),console.error(xe)}finally{d(!1)}},X=async de=>{if(de.preventDefault(),v!==w){s("Passwords do not match.","error");return}if(v.length<6){s("Password must be at least 6 characters long.","error");return}S(!0);try{let xe=yf.currentUser;xe?(await xe.updatePassword(v),s("Password updated successfully!","success"),I(""),g("")):s("No authenticated user found. Please log in again.","error")}catch(xe){s(`Password update failed: ${xe.message}.`,"error"),console.error(xe)}finally{S(!1)}},te=(0,fs.useMemo)(()=>{let de=new Map(e.map(qe=>[qe.id,qe])),xe=t.apps||{};return Object.entries(xe).map(([qe,wt])=>{let Re=de.get(qe);return Re?{...Re,setting:wt}:null}).filter(Boolean)},[t.apps,e]),ue=(0,fs.useMemo)(()=>new Map(e.map(de=>[de.id,de])),[e]),be=async()=>{z(!0);try{await cr.httpsCallable("joinAffiliateProgram")(),s("Your request has been submitted for review!","success")}catch(de){s(de.message,"error")}finally{z(!1)}},ge=async()=>{T(!1),z(!0);try{await cr.httpsCallable("leaveAffiliateProgram")(),s("You have successfully left the affiliate program.","info")}catch(de){s(de.message,"error")}finally{z(!1)}},Ne=async de=>{de.preventDefault();let xe=parseFloat(ee)*100;if(isNaN(xe)||xe<=0){s("Invalid amount.","error");return}if(!$.trim()){s("Payout details cannot be empty.","error");return}if(B&&xe>B.balance){s("Requested amount exceeds your balance.","error");return}z(!0);try{await cr.httpsCallable("requestAffiliatePayout")({amount:xe,details:$.trim()}),s("Payout request submitted successfully!","success"),Y(""),j("")}catch(qe){s(qe.message,"error")}finally{z(!1)}},Le=()=>{let de=B?.refId;de&&(navigator.clipboard.writeText(de),s("Referral code copied!","success"))},Ie=()=>{let de=t.affiliateStatus||"none";switch(de){case"active":if(D||!B)return(0,Je.jsx)("div",{className:"p-4 text-center",children:(0,Je.jsx)(Pt,{className:"animate-spin"})});let xe=B.refId,qe=B.commissionRate??K;return(0,Je.jsxs)("div",{className:"space-y-4",children:[(0,Je.jsxs)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500",children:[(0,Je.jsx)("h5",{className:"font-bold text-blue-800",children:"Your Referral Code"}),(0,Je.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Share this code with new users. They can enter it during their first purchase to link their account to you."}),(0,Je.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-2 mt-2",children:[(0,Je.jsx)("div",{className:"w-full p-2 border-2 border-dashed bg-white text-gray-900 rounded-md font-mono text-center text-lg tracking-widest",children:xe}),(0,Je.jsxs)("button",{onClick:Le,className:"flex-shrink-0 w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center gap-2",children:[(0,Je.jsx)(Bs,{size:16})," Copy Code"]})]})]}),(0,Je.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Je.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg text-center",children:[(0,Je.jsx)("p",{className:"text-sm text-gray-600",children:"Balance"}),(0,Je.jsx)("p",{className:"text-2xl font-bold",children:IE(B.balance)})]}),(0,Je.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg text-center",children:[(0,Je.jsx)("p",{className:"text-sm text-gray-600",children:"Commission Rate"}),(0,Je.jsx)("p",{className:"text-2xl font-bold",children:qe!==null?`${qe}%`:"-"})]}),(0,Je.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg text-center",children:[(0,Je.jsx)("p",{className:"text-sm text-gray-600",children:"Total Referrals"}),(0,Je.jsx)("p",{className:"text-2xl font-bold",children:B.referralsCount??0})]}),(0,Je.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg text-center",children:[(0,Je.jsx)("p",{className:"text-sm text-gray-600",children:"Total Earnings"}),(0,Je.jsx)("p",{className:"text-2xl font-bold",children:IE(B.totalEarnings)})]})]}),(0,Je.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,Je.jsx)("h5",{className:"font-semibold mb-3",children:"Referral History"}),(0,Je.jsx)("div",{className:"overflow-x-auto max-h-64",children:(0,Je.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,Je.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0",children:(0,Je.jsxs)("tr",{children:[(0,Je.jsx)("th",{className:"px-4 py-2",children:"Date"}),(0,Je.jsx)("th",{className:"px-4 py-2",children:"Customer"}),(0,Je.jsx)("th",{className:"px-4 py-2",children:"Purchase"}),(0,Je.jsx)("th",{className:"px-4 py-2 text-right",children:"Commission"})]})}),(0,Je.jsx)("tbody",{className:"bg-white",children:_.length>0?_.map(Re=>(0,Je.jsxs)("tr",{className:"border-b",children:[(0,Je.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:sn(Re.createdAt)}),(0,Je.jsx)("td",{className:"px-4 py-2",children:Re.newCustomerName}),(0,Je.jsx)("td",{className:"px-4 py-2",children:Re.items.map(Ae=>`${Ae.appName} - ${Ae.tierName}`).join(", ")}),(0,Je.jsx)("td",{className:"px-4 py-2 text-right font-semibold text-green-600",children:IE(Re.commissionAmount)})]},Re.id)):(0,Je.jsx)("tr",{children:(0,Je.jsx)("td",{colSpan:4,className:"text-center italic py-4 text-gray-500",children:"No referral history."})})})]})})]}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Je.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,Je.jsx)("h5",{className:"font-semibold",children:"Request a Payout"}),(0,Je.jsxs)("form",{onSubmit:Ne,className:"space-y-3",children:[(0,Je.jsxs)("div",{className:"relative",children:[(0,Je.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"\u20B9"}),(0,Je.jsx)("input",{type:"number",step:"0.01",value:ee,onChange:Re=>Y(Re.target.value),placeholder:"Amount",className:"w-full pl-6 p-2 border rounded-md bg-white text-gray-900 placeholder-gray-500",required:!0})]}),(0,Je.jsx)("textarea",{value:$,onChange:Re=>j(Re.target.value),placeholder:"Payout Details (e.g., UPI ID, Bank Info)",className:"w-full p-2 border rounded-md h-20 resize-y bg-white text-gray-900 placeholder-gray-500",required:!0}),(0,Je.jsx)("button",{type:"submit",disabled:D,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-400",children:D?(0,Je.jsx)(Pt,{className:"animate-spin"}):(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)(iA,{size:16})," Submit Request"]})})]})]}),(0,Je.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,Je.jsx)("h5",{className:"font-semibold mb-3",children:"Payout History"}),(0,Je.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:U.length>0?U.map(Re=>(0,Je.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 bg-gray-50 rounded-md",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("p",{className:"font-medium",children:IE(Re.amount)}),(0,Je.jsx)("p",{className:"text-xs text-gray-500",children:sn(Re.requestedAt)})]}),(0,Je.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${Re.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Re.status})]},Re.id)):(0,Je.jsx)("p",{className:"text-sm text-gray-500 text-center italic py-4",children:"No payout history."})})]})]}),(0,Je.jsx)("div",{className:"text-center mt-4",children:(0,Je.jsx)("button",{onClick:()=>T(!0),className:"text-sm text-red-600 hover:underline",children:"Leave Affiliate Program"})})]});case"pending":return(0,Je.jsx)("div",{className:"p-6 text-center bg-yellow-50 text-yellow-800 rounded-lg",children:"Your affiliate application is under review."});case"none":case"left":case"rejected":default:let wt=(0,Je.jsx)("p",{className:"text-gray-600 my-2",children:K!==null?`Earn a ${K}% commission on every sale you refer.`:"Loading commission details..."});return de==="rejected"?wt=(0,Je.jsx)("p",{className:"text-red-700 my-2",children:"Your previous application was not approved. You can submit a new request."}):de==="left"&&(wt=(0,Je.jsx)("p",{className:"text-purple-700 my-2",children:"You have left the affiliate program. Feel free to rejoin anytime."})),(0,Je.jsxs)("div",{className:"p-6 text-center bg-gray-50 rounded-lg",children:[(0,Je.jsx)("h5",{className:"font-semibold text-lg",children:"Join our Affiliate Program!"}),wt,(0,Je.jsx)("button",{onClick:be,disabled:D,className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center justify-center gap-2 mx-auto",children:D?(0,Je.jsx)(Pt,{className:"animate-spin"}):(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)(ad,{size:16})," Become an Affiliate"]})})]})}};return(0,Je.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:[(0,Je.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col relative",children:[(0,Je.jsxs)("header",{className:"p-6 border-b",children:[(0,Je.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Je.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"My Account"}),(0,Je.jsx)("button",{type:"button",onClick:a,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Je.jsx)(dr,{size:24})})]}),(0,Je.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Manage your account details, application access, and reviews."})]}),(0,Je.jsxs)("main",{className:"p-6 space-y-8 overflow-y-auto",children:[(0,Je.jsxs)("section",{children:[(0,Je.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Profile Information"}),(0,Je.jsxs)("form",{onSubmit:q,className:"p-4 bg-gray-50 border rounded-lg space-y-3",children:[(0,Je.jsxs)("div",{className:"relative",children:[(0,Je.jsx)(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Je.jsx)("input",{type:"text",value:l,onChange:de=>u(de.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500",placeholder:"Your Name"})]}),(0,Je.jsx)("button",{type:"submit",disabled:c||l.trim()===(t.name||""),className:"w-full sm:w-auto flex justify-center items-center py-2 px-6 text-white bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition disabled:bg-green-400 disabled:cursor-not-allowed",children:c?"Saving...":(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)(ua,{className:"mr-2 h-5 w-5"})," Update Name"]})})]})]}),(0,Je.jsxs)("section",{children:[(0,Je.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Affiliate Program"}),Ie()]}),(0,Je.jsxs)("section",{children:[(0,Je.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-3",children:"My Application Access"}),(0,Je.jsxs)("div",{className:"space-y-4 md:space-y-0",children:[(0,Je.jsxs)("div",{className:"hidden md:grid md:grid-cols-[2fr,1fr,1fr] gap-4 p-3 bg-gray-50 rounded-t-lg font-semibold text-gray-600 text-sm border-x border-t",children:[(0,Je.jsx)("div",{className:"pl-12",children:"Application"}),(0,Je.jsx)("div",{children:"Usage"}),(0,Je.jsx)("div",{children:"Status"})]}),te.length>0?(0,Je.jsx)("div",{className:"md:border-x md:border-b md:rounded-b-lg",children:te.map((de,xe)=>{let qe=r[de.id]??0,wt=de.setting.usageLimit,Re=wt>0&&qe>=wt,Ae;Re?Ae=(0,Je.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800",children:[(0,Je.jsx)(dm,{size:14,className:"mr-1"})," Limit Reached"]}):Ae=(0,Je.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:[(0,Je.jsx)(Dn,{size:14,className:"mr-1"})," Active"]});let Kt=xe===te.length-1;return(0,Je.jsxs)("div",{className:`
                                                grid grid-cols-1 md:grid-cols-[2fr,1fr,1fr] gap-x-4
                                                p-4 bg-white shadow-md rounded-lg space-y-2
                                                md:p-3 md:shadow-none md:rounded-none md:space-y-0
                                                ${Kt?"":"md:border-b"}
                                            `,children:[(0,Je.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Je.jsx)("span",{className:"font-semibold text-gray-600 md:hidden",children:"Application"}),(0,Je.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Je.jsx)(da,{icon:de.icon,name:de.name,className:"h-8 w-8 rounded-md flex-shrink-0"}),(0,Je.jsx)("span",{className:"font-medium text-gray-800",children:de.name})]})]}),(0,Je.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t md:border-t-0 md:pt-0",children:[(0,Je.jsx)("span",{className:"font-semibold text-gray-600 md:hidden",children:"Usage"}),(0,Je.jsx)("span",{className:"text-gray-600 font-mono text-xs",children:wt===0?"Unlimited":`${qe} / ${wt}`})]}),(0,Je.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t md:border-t-0 md:pt-0",children:[(0,Je.jsx)("span",{className:"font-semibold text-gray-600 md:hidden",children:"Status"}),Ae]})]},de.id)})}):(0,Je.jsx)("div",{className:"p-4 text-center text-gray-500 italic border rounded-lg",children:"You have no applications assigned."})]})]}),(0,Je.jsxs)("section",{children:[(0,Je.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-3",children:"My Reviews"}),(0,Je.jsx)("div",{className:"space-y-3",children:n.length>0?n.map(de=>{let xe=ue.get(de.appId);return xe?(0,Je.jsx)("div",{className:"p-4 bg-white border rounded-lg shadow-sm",children:(0,Je.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,Je.jsxs)("div",{className:"flex-1",children:[(0,Je.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Je.jsx)(da,{icon:xe.icon,name:xe.name,className:"h-8 w-8 rounded-md flex-shrink-0"}),(0,Je.jsx)("span",{className:"font-semibold text-gray-800",children:xe.name})]}),(0,Je.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Je.jsx)("div",{className:"flex",children:[...Array(5)].map((qe,wt)=>(0,Je.jsx)(Cc,{size:16,className:wt<de.rating?"text-yellow-400 fill-current":"text-gray-300"},wt))}),(0,Je.jsxs)("span",{className:"text-xs text-gray-500",children:["(",sn(de.updatedAt),")"]})]}),de.review&&(0,Je.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',de.review,'"']})]}),(0,Je.jsxs)("button",{onClick:()=>o(xe),className:"flex items-center text-sm font-semibold text-blue-600 hover:text-blue-700 py-1 px-3 rounded-md hover:bg-blue-50 transition-colors flex-shrink-0",children:[(0,Je.jsx)(Kn,{size:14,className:"mr-1.5"})," Edit"]})]})},de.id):null}):(0,Je.jsx)("div",{className:"p-4 text-center text-gray-500 italic border rounded-lg",children:"You have not submitted any reviews yet."})})]}),(0,Je.jsxs)("section",{children:[(0,Je.jsx)("h4",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Change Password"}),(0,Je.jsxs)("form",{onSubmit:X,className:"p-4 bg-gray-50 border rounded-lg space-y-4",children:[(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Je.jsxs)("div",{className:"relative",children:[(0,Je.jsx)(Pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Je.jsx)("input",{type:"password",value:v,onChange:de=>I(de.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500",placeholder:"New Password"})]}),(0,Je.jsxs)("div",{className:"relative",children:[(0,Je.jsx)(Pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Je.jsx)("input",{type:"password",value:w,onChange:de=>g(de.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500",placeholder:"Confirm New Password"})]})]}),(0,Je.jsx)("button",{type:"submit",disabled:b,className:"w-full md:w-auto flex justify-center items-center py-2 px-6 text-white bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition disabled:bg-blue-300",children:b?"Updating...":"Update Password"})]})]})]}),(0,Je.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-between items-center rounded-b-xl border-t",children:[(0,Je.jsxs)("button",{type:"button",onClick:()=>O(!0),className:"flex items-center py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold",children:[(0,Je.jsx)(bc,{className:"mr-2 h-5 w-5"})," Logout"]}),(0,Je.jsx)("button",{type:"button",onClick:a,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Close"})]}),f&&(0,Je.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex justify-center items-center z-20 rounded-xl transition-opacity duration-300 p-4",children:(0,Je.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-2xl flex flex-col sm:flex-row items-center gap-4 text-center sm:text-left",children:[(0,Je.jsx)(Dn,{className:"text-green-500 h-8 w-8 flex-shrink-0"}),(0,Je.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:"Profile updated, refreshing it to show your updated name"})]})})]}),(0,Je.jsx)(S1,{isOpen:F,onClose:()=>O(!1),onConfirm:i}),(0,Je.jsx)(ore,{isOpen:R,onClose:()=>T(!1),onConfirm:ge})]})},lre=MNe;var nl=ce(_e()),ONe=({app:t,onClose:e,onProceed:r,onPurchase:n,mode:a,reason:i,usageCount:s,limit:o})=>{let l={limit_reached:{title:"Usage Limit Reached",message:`You have used all your credits (${s}/${o}) for this app. You can still view past records but cannot generate new ones.`},fair_use_limit_reached:{title:"Daily Limit Reached",message:`You have exhausted your daily limit of ${o} uses under our fair use policy. Please come back tomorrow. Your limit will reset at 12:00 AM.`},app_expired:{title:"Application Access Expired",message:"Your access for this application has expired. To continue using it, please purchase a new credit pack to renew your access."}},{title:u,message:c}=l[i],d=()=>{n(t)};return(0,nl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[100] p-4 backdrop-blur-sm",children:(0,nl.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md text-center p-8 transform transition-all",children:[(0,nl.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4",children:(0,nl.jsx)(wn,{className:"h-10 w-10 text-yellow-600","aria-hidden":"true"})}),(0,nl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:u}),(0,nl.jsxs)("div",{className:"flex items-center justify-center gap-3 my-4",children:[(0,nl.jsx)(da,{icon:t.icon,name:t.name,className:"h-8 w-8 rounded-md flex-shrink-0"}),(0,nl.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:t.name})]}),(0,nl.jsx)("div",{className:"mt-2 text-md text-gray-600 space-y-2",children:(0,nl.jsx)("p",{children:c})}),(0,nl.jsxs)("div",{className:"mt-8 flex flex-col gap-3",children:[(i==="limit_reached"||i==="app_expired")&&(0,nl.jsxs)("button",{onClick:d,className:"w-full flex items-center justify-center py-3 px-4 rounded-lg font-semibold text-white transition-colors bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:[(0,nl.jsx)(vo,{size:18,className:"mr-2"})," Purchase to Renew Access"]}),a==="pre-launch"&&r&&(i==="limit_reached"||i==="app_expired")&&(0,nl.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-lg bg-blue-600 px-6 py-3 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:"Proceed to App (View-only)"}),(0,nl.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-lg bg-gray-200 px-6 py-3 text-base font-medium text-gray-800 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-colors",children:i==="fair_use_limit_reached"?"OK":a==="pre-launch"?"Cancel":"Continue Viewing"})]})]})})},ure=ONe;var dn=ce(_e()),QNe=({app:t,setting:e,used:r,onLaunch:n,onPurchaseCredits:a})=>{let i=e.usageLimit??0,s=i>0&&r>=i,o=new Date().toISOString().split("T")[0],l=e.expiryDate&&e.expiryDate<o,u=s||l,c=e.fairUsePolicy,d=t.fairUsePolicy,f=c||d;return(0,dn.jsxs)("div",{className:"p-4 rounded-lg flex flex-col justify-between bg-white border-2 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,dn.jsxs)("div",{children:[(0,dn.jsxs)("div",{className:"flex items-center mb-3",children:[(0,dn.jsx)(da,{icon:t.icon,name:t.name,className:"h-12 w-12 mr-4 rounded-lg flex-shrink-0"}),(0,dn.jsxs)("div",{className:"flex-grow",children:[(0,dn.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:t.name}),i===0?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsx)("p",{className:"text-xs font-mono text-gray-500 mt-1",children:"Usage: Unlimited"}),f&&f.limit>0&&(0,dn.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",title:`Fair use: ${f.limit} credits per ${f.frequency.replace("ily","y").replace("ly","")}${f.customText?` - ${f.customText}`:""}`,children:["Fair use: ",f.limit,"/",f.frequency.replace("ily","y").replace("ly","")]})]}):(0,dn.jsxs)("p",{className:"text-xs font-mono text-gray-500 mt-1",children:["Usage: ",r," / ",i]}),(0,dn.jsx)("div",{className:"mt-1",children:e.expiryDate?l?(0,dn.jsxs)("span",{className:"text-xs font-semibold inline-flex px-2 py-1 leading-5 rounded-full bg-red-100 text-red-800",children:["Has expired on: ",Ws(e.expiryDate)]}):(0,dn.jsxs)("span",{className:"text-xs font-semibold inline-flex px-2 py-1 leading-5 rounded-full bg-green-100 text-green-800",children:["Will expire on: ",Ws(e.expiryDate)]}):(0,dn.jsx)("span",{className:"text-xs font-semibold inline-flex px-2 py-1 leading-5 rounded-full bg-gray-100 text-gray-800",children:"Expires: Never"})})]})]}),(0,dn.jsx)(W0,{text:t.description||"",maxLength:80})]}),(0,dn.jsx)("div",{className:"mt-4 flex flex-col gap-2",children:t.comingSoon?(0,dn.jsx)("button",{disabled:!0,className:"w-full flex items-center justify-center py-2 px-4 rounded-md font-semibold text-sm text-white bg-gray-400 cursor-not-allowed",children:"Coming Soon"}):u?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("button",{disabled:!0,className:"w-full flex items-center justify-center py-2 px-4 rounded-md font-semibold text-sm text-white bg-gray-400 cursor-not-allowed",children:["Launch App ",(0,dn.jsx)(vf,{size:16,className:"ml-2"})]}),(0,dn.jsxs)("button",{onClick:()=>a(t),className:"w-full flex items-center justify-center py-2 px-4 rounded-md font-semibold text-sm transition-colors text-orange-700 bg-orange-100 hover:bg-orange-200",children:[(0,dn.jsx)(vo,{size:16,className:"mr-2"})," Buy Credits / Plan"]})]}):(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("button",{onClick:()=>n(t),className:"w-full flex items-center justify-center py-2 px-4 rounded-md font-semibold text-sm text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:["Launch App ",(0,dn.jsx)(vf,{size:16,className:"ml-2"})]}),(0,dn.jsxs)("button",{onClick:()=>a(t),className:"w-full flex items-center justify-center py-2 px-4 rounded-md font-semibold text-sm transition-colors text-green-700 bg-green-100 hover:bg-green-200",children:[(0,dn.jsx)(vo,{size:16,className:"mr-2"})," Buy More Credits"]})]})})]})};function HNe({assignedApps:t,usageCounts:e,userAppsSettings:r,onClose:n,onLaunch:a,onPurchaseCredits:i}){return(0,dn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,dn.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,dn.jsxs)("header",{className:"p-6 border-b sticky top-0 bg-white rounded-t-xl z-10",children:[(0,dn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,dn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"My Applications"}),(0,dn.jsx)("button",{type:"button",onClick:n,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,dn.jsx)(dr,{size:24})})]}),(0,dn.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Your personally assigned applications."})]}),(0,dn.jsx)("main",{className:"p-6 space-y-4 overflow-y-auto bg-gray-50/50",children:t.length>0?(0,dn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>(0,dn.jsx)(QNe,{app:s,setting:r[s.id],used:e[s.id]??0,onLaunch:a,onPurchaseCredits:i},s.id))}):(0,dn.jsxs)("div",{className:"text-center py-16 text-gray-500",children:[(0,dn.jsx)("h4",{className:"text-xl font-semibold",children:"No Applications Found"}),(0,dn.jsx)("p",{children:"You have not been assigned any applications yet."})]})}),(0,dn.jsx)("footer",{className:"bg-white px-6 py-3 flex justify-end gap-3 rounded-b-xl border-t",children:(0,dn.jsx)("button",{type:"button",onClick:n,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Close"})})]})})}var cre=HNe;var qh=ce($t());var $0=ce(_e()),VNe=({totalUsage:t,onClose:e})=>{let[r,n]=(0,qh.useState)(!1),a=(0,qh.useRef)(e);(0,qh.useEffect)(()=>{a.current=e});let i=(0,qh.useCallback)(()=>{n(!1),setTimeout(()=>a.current(),500)},[]);if((0,qh.useEffect)(()=>{let o=setTimeout(()=>n(!0),100),l=setTimeout(i,5e3);return()=>{clearTimeout(o),clearTimeout(l)}},[i]),t<=0)return null;let s=`Total reports generated by this app till now: ${t.toLocaleString()}`;return(0,$0.jsxs)("div",{className:`w-fit mx-auto max-w-full bg-indigo-600/90 backdrop-blur-sm text-white rounded-full shadow-lg flex items-center gap-4 px-5 py-3 transition-all duration-500 ease-out
                ${r?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,role:"status","aria-live":"polite",children:[(0,$0.jsx)(Wd,{size:20,className:"flex-shrink-0"}),(0,$0.jsx)("span",{className:"font-semibold text-sm whitespace-nowrap",children:s}),(0,$0.jsx)("button",{onClick:i,className:"ml-2 p-1 rounded-full hover:bg-white/20 transition-colors flex-shrink-0","aria-label":"Dismiss message",children:(0,$0.jsx)(dr,{size:18})})]})},dre=VNe;var hs=ce(_e()),qNe=({apps:t,onWatchVideo:e})=>{let r=t.map(n=>({...n,trainingVideos:(n.trainingVideos||[]).filter(a=>a.name&&a.url&&au(a.url))})).filter(n=>n.trainingVideos.length>0);return r.length===0?(0,hs.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-center text-gray-500 p-4",children:[(0,hs.jsx)(tu,{size:64,className:"mb-4 text-blue-400"}),(0,hs.jsx)("h3",{className:"text-2xl font-semibold",children:"No Training Videos Available"}),(0,hs.jsx)("p",{className:"mt-2",children:"No training videos have been added for your apps yet."})]}):(0,hs.jsxs)("div",{className:"w-full h-full p-4 sm:p-6 lg:p-8 bg-gray-50 overflow-y-auto",children:[(0,hs.jsxs)("div",{className:"mb-6 flex-shrink-0",children:[(0,hs.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Training & Walkthroughs"}),(0,hs.jsx)("p",{className:"mt-1 text-gray-500",children:"Watch tutorials for your assigned applications."})]}),(0,hs.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map(n=>(0,hs.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 flex flex-col overflow-hidden",children:[(0,hs.jsxs)("div",{className:"p-4 border-b flex items-center gap-3 bg-gray-50/50",children:[(0,hs.jsx)(da,{icon:n.icon,name:n.name,className:"h-8 w-8 rounded-md flex-shrink-0"}),(0,hs.jsx)("h4",{className:"font-bold text-gray-800 text-lg",children:n.name})]}),(0,hs.jsx)("div",{className:"p-2 space-y-1 flex-grow",children:n.trainingVideos.map((a,i)=>{let s=au(a.url);if(!s)return null;let o=`https://img.youtube.com/vi/${s}/mqdefault.jpg`;return(0,hs.jsxs)("button",{onClick:()=>e(a.url),className:"w-full text-left flex items-center gap-3 p-2 rounded-md hover:bg-gray-100 transition-colors group",children:[(0,hs.jsx)("div",{className:"w-24 flex-shrink-0",children:(0,hs.jsx)("img",{src:o,alt:a.name,className:"w-full aspect-video rounded-md object-cover border"})}),(0,hs.jsx)("div",{className:"flex-grow",children:(0,hs.jsx)("p",{className:"text-sm font-semibold text-gray-700 leading-tight line-clamp-2",children:a.name})}),(0,hs.jsx)(tu,{size:24,className:"text-gray-300 group-hover:text-blue-600 transition-colors flex-shrink-0"})]},i)})})]},n.id))})]})},Are=qNe;var Y0=ce($t());var ts=ce(_e()),zNe=({app:t,user:e,existingReview:r,onSubmit:n,onClose:a})=>{let[i,s]=(0,Y0.useState)(r?.rating||0),[o,l]=(0,Y0.useState)(r?.review||""),[u,c]=(0,Y0.useState)(!1),[d,f]=(0,Y0.useState)(!1);return(0,Y0.useEffect)(()=>{r&&(s(r.rating),l(r.review))},[r]),(0,ts.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[100] p-4 backdrop-blur-sm",children:(0,ts.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg transform transition-all relative",children:d?(0,ts.jsxs)("div",{className:"p-8 sm:p-12 text-center flex flex-col items-center justify-center h-96",children:[(0,ts.jsx)(Dn,{className:"text-green-500 h-20 w-20 mb-4 animate-pulse"}),(0,ts.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Thank You!"}),(0,ts.jsx)("p",{className:"text-gray-600 mt-2",children:"Your feedback has been submitted."})]}):(0,ts.jsxs)("form",{onSubmit:v=>{v.preventDefault(),!(i===0||u)&&(c(!0),n(t,{rating:i,reviewText:o}),f(!0),setTimeout(()=>{a()},1500))},children:[(0,ts.jsxs)("div",{className:"p-8 text-center",children:[(0,ts.jsx)(da,{icon:t.icon,name:t.name,className:"h-16 w-16 rounded-xl mx-auto mb-4"}),(0,ts.jsxs)("h3",{className:"text-2xl font-bold text-gray-800",children:["How was your experience with ",t.name,"?"]}),(0,ts.jsx)("p",{className:"text-gray-500 mt-2",children:"Your feedback helps us improve."}),(0,ts.jsx)("div",{className:"my-8",children:(0,ts.jsx)(sd,{rating:i,setRating:s,disabled:u})}),(0,ts.jsx)("textarea",{value:o,onChange:v=>l(v.target.value),placeholder:"Tell us more... (optional)",className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500 transition resize-none h-28 bg-white text-gray-900 placeholder-gray-500",disabled:u})]}),(0,ts.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row justify-end gap-3 rounded-b-2xl border-t",children:[(0,ts.jsx)("button",{type:"button",onClick:a,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold disabled:opacity-50",disabled:u,children:"Skip for Now"}),(0,ts.jsx)("button",{type:"submit",className:"py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center disabled:bg-blue-400",disabled:i===0||u,children:u?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)(Pt,{className:"animate-spin mr-2",size:20}),"Submitting..."]}):"Submit Feedback"})]})]})})})},fre=zNe;var Au=ce($t());var SE=ce($t());var kf=ce($t(),1),jNe=Object.defineProperty,NE=Object.getOwnPropertySymbols,mre=Object.prototype.hasOwnProperty,gre=Object.prototype.propertyIsEnumerable,hre=(t,e,r)=>e in t?jNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pre=(t,e)=>{for(var r in e||(e={}))mre.call(e,r)&&hre(t,r,e[r]);if(NE)for(var r of NE(e))gre.call(e,r)&&hre(t,r,e[r]);return t},KNe=(t,e)=>{var r={};for(var n in t)mre.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&NE)for(var n of NE(t))e.indexOf(n)<0&&gre.call(t,n)&&(r[n]=t[n]);return r};var X0;(t=>{let e=class{constructor(l,u,c,d){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let v=0;v<this.size;v++)f.push(!1);for(let v=0;v<this.size;v++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();let A=this.addEccAndInterleave(c);if(this.drawCodewords(A),d==-1){let v=1e9;for(let I=0;I<8;I++){this.applyMask(I),this.drawFormatBits(I);let w=this.getPenaltyScore();w<v&&(d=I,v=w),this.applyMask(I)}}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,u){let c=t.QrSegment.makeSegments(l);return e.encodeSegments(c,u)}static encodeBinary(l,u){let c=t.QrSegment.makeBytes(l);return e.encodeSegments([c],u)}static encodeSegments(l,u,c=1,d=40,f=-1,A=!0){if(!(e.MIN_VERSION<=c&&c<=d&&d<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let v,I;for(v=c;;v++){let S=e.getNumDataCodewords(v,u)*8,F=o.getTotalBits(l,v);if(F<=S){I=F;break}if(v>=d)throw new RangeError("Data too long")}for(let S of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])A&&I<=e.getNumDataCodewords(v,S)*8&&(u=S);let w=[];for(let S of l){n(S.mode.modeBits,4,w),n(S.numChars,S.mode.numCharCountBits(v),w);for(let F of S.getData())w.push(F)}i(w.length==I);let g=e.getNumDataCodewords(v,u)*8;i(w.length<=g),n(0,Math.min(4,g-w.length),w),n(0,(8-w.length%8)%8,w),i(w.length%8==0);for(let S=236;w.length<g;S^=253)n(S,8,w);let b=[];for(;b.length*8<w.length;)b.push(0);return w.forEach((S,F)=>b[F>>>3]|=S<<7-(F&7)),new e(v,u,b,f)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let d=0;d<u;d++)c==0&&d==0||c==0&&d==u-1||c==u-1&&d==0||this.drawAlignmentPattern(l[c],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){let u=this.errorCorrectionLevel.formatBits<<3|l,c=u;for(let f=0;f<10;f++)c=c<<1^(c>>>9)*1335;let d=(u<<10|c)^21522;i(d>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,a(d,f));this.setFunctionModule(8,7,a(d,6)),this.setFunctionModule(8,8,a(d,7)),this.setFunctionModule(7,8,a(d,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,a(d,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,a(d,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,a(d,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;let u=this.version<<12|l;i(u>>>18==0);for(let c=0;c<18;c++){let d=a(u,c),f=this.size-11+c%3,A=Math.floor(c/3);this.setFunctionModule(f,A,d),this.setFunctionModule(A,f,d)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){let f=Math.max(Math.abs(d),Math.abs(c)),A=l+d,v=u+c;0<=A&&A<this.size&&0<=v&&v<this.size&&this.setFunctionModule(A,v,f!=2&&f!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,u+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){let u=this.version,c=this.errorCorrectionLevel;if(l.length!=e.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");let d=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],f=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],A=Math.floor(e.getNumRawDataModules(u)/8),v=d-A%d,I=Math.floor(A/d),w=[],g=e.reedSolomonComputeDivisor(f);for(let S=0,F=0;S<d;S++){let O=l.slice(F,F+I-f+(S<v?0:1));F+=O.length;let R=e.reedSolomonComputeRemainder(O,g);S<v&&O.push(0),w.push(O.concat(R))}let b=[];for(let S=0;S<w[0].length;S++)w.forEach((F,O)=>{(S!=I-f||O>=v)&&b.push(F[S])});return i(b.length==A),b}drawCodewords(l){if(l.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let f=0;f<2;f++){let A=c-f,I=(c+1&2)==0?this.size-1-d:d;!this.isFunction[I][A]&&u<l.length*8&&(this.modules[I][A]=a(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let d;switch(l){case 0:d=(c+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+u)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:d=c*u%2+c*u%3==0;break;case 6:d=(c*u%2+c*u%3)%2==0;break;case 7:d=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&d&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let A=!1,v=0,I=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[f][w]==A?(v++,v==5?l+=e.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,I),A||(l+=this.finderPenaltyCountPatterns(I)*e.PENALTY_N3),A=this.modules[f][w],v=1);l+=this.finderPenaltyTerminateAndCount(A,v,I)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let A=!1,v=0,I=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][f]==A?(v++,v==5?l+=e.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,I),A||(l+=this.finderPenaltyCountPatterns(I)*e.PENALTY_N3),A=this.modules[w][f],v=1);l+=this.finderPenaltyTerminateAndCount(A,v,I)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let A=0;A<this.size-1;A++){let v=this.modules[f][A];v==this.modules[f][A+1]&&v==this.modules[f+1][A]&&v==this.modules[f+1][A+1]&&(l+=e.PENALTY_N2)}let u=0;for(let f of this.modules)u=f.reduce((A,v)=>A+(v?1:0),u);let c=this.size*this.size,d=Math.ceil(Math.abs(u*20-c*10)/c)-1;return i(0<=d&&d<=9),l+=d*e.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{let l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2,c=[6];for(let d=this.size-7;c.length<l;d-=u)c.splice(1,0,d);return c}}static getNumRawDataModules(l){if(l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){let c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(e.getNumRawDataModules(l)/8)-e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<l-1;d++)u.push(0);u.push(1);let c=1;for(let d=0;d<l;d++){for(let f=0;f<u.length;f++)u[f]=e.reedSolomonMultiply(u[f],c),f+1<u.length&&(u[f]^=u[f+1]);c=e.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(d=>0);for(let d of l){let f=d^c.shift();c.push(0),u.forEach((A,v)=>c[v]^=e.reedSolomonMultiply(A,f))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(u>>>d&1)*l;return i(c>>>8==0),c}finderPenaltyCountPatterns(l){let u=l[1];i(u<=this.size*3);let c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}},r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(l,u,c){if(u<0||u>31||l>>>u)throw new RangeError("Value out of range");for(let d=u-1;d>=0;d--)c.push(l>>>d&1)}function a(l,u){return(l>>>u&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}let s=class{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(let c of l)n(c,8,u);return new s(s.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!s.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){let d=Math.min(l.length-c,3);n(parseInt(l.substr(c,d),10),d*3+1,u),c+=d}return new s(s.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!s.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let d=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;d+=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(d,11,u)}return c<l.length&&n(s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new s(s.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:s.isNumeric(l)?[s.makeNumeric(l)]:s.isAlphanumeric(l)?[s.makeAlphanumeric(l)]:[s.makeBytes(s.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new s(s.Mode.ECI,0,u)}static isNumeric(l){return s.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return s.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(let d of l){let f=d.mode.numCharCountBits(u);if(d.numChars>=1<<f)return 1/0;c+=4+f+d.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substr(c+1,2),16)),c+=2);return u}},o=s;o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=o})(X0||(X0={}));(t=>{let e;(r=>{let n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}},a=n;a.LOW=new n(0,1),a.MEDIUM=new n(1,0),a.QUARTILE=new n(2,3),a.HIGH=new n(3,2),r.Ecc=a})(e=t.QrCode||(t.QrCode={}))})(X0||(X0={}));(t=>{let e;(r=>{let n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}},a=n;a.NUMERIC=new n(1,[10,12,14]),a.ALPHANUMERIC=new n(2,[9,11,13]),a.BYTE=new n(4,[8,16,16]),a.KANJI=new n(8,[8,10,12]),a.ECI=new n(7,[0,0,0]),r.Mode=a})(e=t.QrSegment||(t.QrSegment={}))})(X0||(X0={}));var fC=X0;var GNe={L:fC.QrCode.Ecc.LOW,M:fC.QrCode.Ecc.MEDIUM,Q:fC.QrCode.Ecc.QUARTILE,H:fC.QrCode.Ecc.HIGH},WNe=128,$Ne="L",YNe="#FFFFFF",XNe="#000000",JNe=!1,yre=4,ZNe=.1;function e5e(t,e=0){let r=[];return t.forEach(function(n,a){let i=null;n.forEach(function(s,o){if(!s&&i!==null){r.push(`M${i+e} ${a+e}h${o-i}v1H${i+e}z`),i=null;return}if(o===n.length-1){if(!s)return;i===null?r.push(`M${o+e},${a+e} h1v1H${o+e}z`):r.push(`M${i+e},${a+e} h${o+1-i}v1H${i+e}z`);return}s&&i===null&&(i=o)})}),r.join("")}function t5e(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((a,i)=>i<e.x||i>=e.x+e.w?a:!1))}function r5e(t,e,r,n){if(n==null)return null;let a=r?yre:0,i=t.length+a*2,s=Math.floor(e*ZNe),o=i/e,l=(n.width||s)*o,u=(n.height||s)*o,c=n.x==null?t.length/2-l/2:n.x*o,d=n.y==null?t.length/2-u/2:n.y*o,f=null;if(n.excavate){let A=Math.floor(c),v=Math.floor(d),I=Math.ceil(l+c-A),w=Math.ceil(u+d-v);f={x:A,y:v,w:I,h:w}}return{x:c,y:d,h:u,w:l,excavation:f}}var n5e=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function vre(t){let e=t,{value:r,size:n=WNe,level:a=$Ne,bgColor:i=YNe,fgColor:s=XNe,includeMargin:o=JNe,style:l,imageSettings:u}=e,c=KNe(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=u?.src,f=kf.default.useRef(null),A=kf.default.useRef(null),[v,I]=kf.default.useState(!1);kf.default.useEffect(()=>{if(f.current!=null){let b=f.current,S=b.getContext("2d");if(!S)return;let F=fC.QrCode.encodeText(r,GNe[a]).getModules(),O=o?yre:0,R=F.length+O*2,T=r5e(F,n,o,u),B=A.current,k=T!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;k&&T.excavation!=null&&(F=t5e(F,T.excavation));let U=window.devicePixelRatio||1;b.height=b.width=n*U;let E=n/R*U;S.scale(E,E),S.fillStyle=i,S.fillRect(0,0,R,R),S.fillStyle=s,n5e?S.fill(new Path2D(e5e(F,O))):F.forEach(function(_,L){_.forEach(function(D,z){D&&S.fillRect(z+O,L+O,1,1)})}),k&&S.drawImage(B,T.x+O,T.y+O,T.w,T.h)}}),kf.default.useEffect(()=>{I(!1)},[d]);let w=pre({height:n,width:n},l),g=null;return d!=null&&(g=kf.default.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{I(!0)},ref:A})),kf.default.createElement(kf.default.Fragment,null,kf.default.createElement("canvas",pre({style:w,height:n,width:n,ref:f},c)),g)}var wr=ce(_e()),a5e="vips1680-2@okicici",bre="Powerful Tools",wre="7891474105",i5e=()=>(0,wr.jsxs)("svg",{height:"65",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"google-pay","aria-label":"Google Pay",children:[(0,wr.jsx)("path",{fill:"#4285F4",d:"M8.079,11.7c0-0.281-0.023-0.562-0.071-0.838H4.121v1.587h2.226c-0.092,0.512-0.389,0.965-0.823,1.252v1.031h1.329C7.631,14.016,8.079,12.955,8.079,11.7z"}),(0,wr.jsx)("path",{fill:"#34A853",d:"M4.121,15.728c1.113,0,2.05-0.365,2.732-0.995l-1.329-1.031c-0.37,0.251-0.846,0.394-1.404,0.394c-1.075,0-1.987-0.724-2.313-1.701H0.439v1.062C1.139,14.85,2.564,15.728,4.121,15.728L4.121,15.728z"}),(0,wr.jsx)("path",{fill:"#FBBC04",d:"M1.808,12.395c-0.172-0.511-0.172-1.066,0-1.578V9.756H0.439c-0.586,1.165-0.586,2.537,0,3.702L1.808,12.395L1.808,12.395z"}),(0,wr.jsx)("path",{fill:"#EA4335",d:"M4.121,9.117c0.588-0.009,1.155,0.212,1.581,0.618l1.177-1.176C6.133,7.858,5.145,7.474,4.121,7.485c-1.557,0-2.982,0.88-3.682,2.271l1.369,1.062C2.134,9.841,3.046,9.117,4.121,9.117L4.121,9.117z"}),(0,wr.jsx)("path",{fill:"#2D9248",d:"M1.808,12.395L1.808,12.395l-1.369,1.062l0,0c0.7,1.392,2.125,2.271,3.682,2.271l0,0v-1.632l0,0C3.046,14.096,2.134,13.372,1.808,12.395L1.808,12.395z"}),(0,wr.jsx)("path",{fill:"#DBA403",d:"M0.439,9.756L0.439,9.756c-0.586,1.165-0.586,2.537,0,3.702l0,0l1.369-1.062c-0.172-0.511-0.172-1.066,0-1.578l0,0L0.439,9.756L0.439,9.756z"}),(0,wr.jsx)("path",{fill:"#CC3A2E",d:"M4.121,7.485L4.121,7.485c-1.557,0-2.982,0.88-3.682,2.271l0,0l1.369,1.062c0.326-0.977,1.239-1.701,2.313-1.701l0,0V7.485L4.121,7.485z"}),(0,wr.jsx)("path",{fill:"#5F6368",d:"M10.917,11.497v2.904H9.995V7.227h2.444c0.59-0.012,1.16,0.211,1.583,0.621c0.429,0.386,0.67,0.938,0.661,1.514c0.013,0.58-0.229,1.137-0.661,1.523c-0.428,0.408-0.955,0.612-1.583,0.61L10.917,11.497L10.917,11.497z M10.917,8.11v2.505h1.545c0.343,0.01,0.673-0.125,0.912-0.372c0.484-0.47,0.495-1.245,0.024-1.729l-0.024-0.024c-0.235-0.252-0.568-0.39-0.912-0.381H10.917L10.917,8.11z M16.807,9.332c0.682,0,1.219,0.182,1.613,0.546c0.394,0.364,0.59,0.864,0.59,1.497v3.026H18.13v-0.682h-0.04c-0.381,0.561-0.89,0.841-1.523,0.841c-0.54,0-0.993-0.16-1.357-0.481c-0.353-0.298-0.554-0.739-0.545-1.202c0-0.508,0.192-0.912,0.576-1.212c0.384-0.3,0.896-0.45,1.538-0.45c0.547,0,0.999,0.1,1.352,0.3v-0.211c0.002-0.316-0.138-0.615-0.381-0.816c-0.244-0.219-0.562-0.34-0.89-0.336c-0.515,0-0.922,0.218-1.222,0.651l-0.811-0.511C15.271,9.652,15.932,9.332,16.807,9.332L16.807,9.332z M15.614,12.898c-0.001,0.238,0.113,0.462,0.305,0.601c0.204,0.16,0.457,0.245,0.716,0.24c0.389-0.001,0.762-0.156,1.037-0.431c0.305-0.288,0.458-0.624,0.458-1.011c-0.287-0.229-0.688-0.344-1.203-0.344c-0.374,0-0.687,0.09-0.937,0.271C15.74,12.408,15.614,12.631,15.614,12.898L15.614,12.898z M24.071,9.492l-3.077,7.073h-0.951l1.142-2.475l-2.024-4.598h1.001l1.462,3.526h0.02l1.423-3.526H24.071L24.071,9.492z"}),(0,wr.jsx)("path",{fill:"#53565B",d:"M10.917,12.395H9.995v2.005h0.922V12.395L10.917,12.395z M19.011,12.395h-0.883c-0.024,0.346-0.176,0.65-0.455,0.913c-0.275,0.275-0.648,0.43-1.037,0.431c-0.008,0-0.015,0-0.022,0c-0.251,0-0.495-0.085-0.694-0.24c-0.193-0.139-0.306-0.363-0.305-0.601c0-0.189,0.063-0.356,0.189-0.503h-1.073c-0.044,0.149-0.067,0.309-0.067,0.482c-0.009,0.463,0.192,0.904,0.545,1.202c0.364,0.321,0.817,0.481,1.357,0.481c0.633,0,1.142-0.28,1.523-0.841h0.04v0.682h0.881V12.395L19.011,12.395z M22.808,12.395h-0.912l-0.251,0.623h-0.02l-0.258-0.623h-0.928l0.746,1.695l-1.142,2.475h0.951L22.808,12.395L22.808,12.395z"})]}),s5e=()=>(0,wr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1366 768",id:"phonepe",children:[(0,wr.jsx)("defs",{children:(0,wr.jsx)("clipPath",{id:"a",children:(0,wr.jsx)("rect",{width:"1366",height:"768",fill:"none"})})}),(0,wr.jsxs)("g",{"clip-path":"url(#a)",children:[(0,wr.jsx)("path",{fill:"#5f259f",d:"M332.63 514.18c-3.88-.38-7.78-.64-11.64-1.15-25.26-3.35-47.76-13.07-67.18-29.6a127.87 127.87 0 0 1-41.44-65.75 124.29 124.29 0 0 1-3.78-42.55c2-24.95 10.33-47.61 25.5-67.51 21.24-27.87 49.33-44.9 84-50.05 37.84-5.63 72 3.92 101.51 28.13 25.43 20.83 40.77 47.94 45.43 80.46 5.5 38.35-4.36 72.79-29.38 102.44-21.07 25-48.24 39.43-80.53 44.3-4.05.62-8.16.86-12.24 1.28zm-23.78-171c-10.43 0-20.85 0-31.28 0-2.78 0-3.77.84-4 3.58a35.11 35.11 0 0 0 .15 8 9.19 9.19 0 0 0 9.18 8.06c2.4.05 4.8 0 7.2 0 3 0 3 0 3 2.95q0 16.75 0 33.5a50.67 50.67 0 0 0 1.73 13.2c3.21 12 10.21 20.59 22.36 24.17 10.15 3 20.34 2.27 30.36-1 2.35-.77 2.39-.77 2.4 1.72 0 6.92-.05 13.84 0 20.76a11.07 11.07 0 0 0 11.25 11.22c3.29 0 6.59.06 9.88 0a4.2 4.2 0 0 0 4.29-4.3c0-.82 0-1.64 0-2.46q0-48.42 0-96.81c0-3.68 0-3.68 3.58-3.68 4.18 0 8.37 0 12.55 0 3.1 0 4-.95 4-4.1q0-3.07 0-6.17c-.07-5.6-3.83-9.33-9.48-9.38q-7.41-.06-14.81 0a4 4 0 0 1-3.41-1.51c-1.85-2.2-3.77-4.35-5.66-6.51Q346 315.77 329.79 297.18a13.29 13.29 0 0 0-10.6-5c-6.67.08-12.59 3-18.74 5.07-1.87.62-2.07 3-.76 4.5a20 20 0 0 0 1.46 1.45Q321.07 322.11 341 341c.48.45 1.36.88 1.14 1.57-.28.9-1.29.53-2 .53-10.43 0-20.85 0-31.28 0M1158.42 427c-1.38 2.26-3.36 3.07-6.05 3.05-13.65-.1-27.3 0-40.95-.09-2 0-2.9.46-2.82 2.59.07 1.56-.34 3.13-.36 4.7-.11 7.55 4.75 12.61 12.33 13.16s14.78-1.54 21.66-4.74c4.91-2.27 5.88-2 8.89 2.6 2.14 3.26 4 6.58 2.52 10.73a10 10 0 0 1-4.77 5.69c-10.45 5.53-21.64 7.14-33.3 6.12a42.24 42.24 0 0 1-15.77-4.33c-11.57-6-17.36-15.76-17.91-28.45-.46-10.6-.24-21.24-.06-31.86.29-18.13 12.62-31.35 31-33.51a57.6 57.6 0 0 1 19.64.67c14.66 3.35 23.45 12.93 25.57 27.82.08.53.23 1.06.35 1.59zm-36.92-12.42c3.84 0 7.68 0 11.52 0 1.39 0 2-.5 2-1.92 0-2.19 0-4.38 0-6.57-.25-7-4.21-11.67-11.19-12.56-8.84-1.13-15.34 3.42-15.52 12.79 0 2 .07 4 0 6s.67 2.36 2.42 2.31c3.63-.09 7.26 0 10.9 0M550.94 450.08c0 4.8 0 9.59 0 14.39 0 3.27-1.71 5.18-5 5.26q-7.71.18-15.42 0c-3-.07-4.64-1.74-5-4.68a18.35 18.35 0 0 1-.13-2.46q0-54.66 0-109.32c0-1 .09-1.92.18-2.87a6.32 6.32 0 0 1 4.67-5.67c11.27-3.75 22.81-6 34.72-5.69 9.35.27 18.19 2.5 26 7.88 9 6.17 14.39 14.76 15.69 25.46a114.65 114.65 0 0 1-.17 32.15 37.2 37.2 0 0 1-32.62 30.79c-7.15.87-14.24.86-21.12-1.65-1.53-.56-1.77.13-1.77 1.42 0 5 0 10 0 15m.79-63.37c0 7.12.06 14.23 0 21.35a3.19 3.19 0 0 0 2.24 3.38c3.77 1.71 7.71 1.75 11.7 1.53 9.35-.51 16-7.36 16-16.72-.05-6.94.53-13.88-.75-20.82-1-5.57-3.43-9.93-8.67-12.37-6.18-2.88-12.49-2.51-18.84-.59-1.44.44-1.61 1.4-1.61 2.68 0 7.18 0 14.37 0 21.56M990.88 407.68V353.2c0-5.69 1.28-7.39 6.65-9.08 10.54-3.31 21.29-5.35 32.36-5.1 10.67.24 20.62 2.91 29.1 9.78a35.37 35.37 0 0 1 13.21 23.86 114.3 114.3 0 0 1 0 30.75c-2.49 16.62-13.65 27.94-30.3 31.43a43 43 0 0 1-23.15-1c-1.82-.64-2.24-.15-2.23 1.65.06 9.39 0 18.78 0 28.16 0 4.41-1.69 6.15-6 6.17s-8.78 0-13.17 0-6.35-1.86-6.4-6.38V407.68zm26.42-21c0 7.19.05 14.39 0 21.58a3 3 0 0 0 2 3.12c3.75 1.77 7.69 1.84 11.69 1.64 9.49-.45 16.12-7.31 16.21-16.78 0-4.59 0-9.19 0-13.78a39.82 39.82 0 0 0-1.77-10.63 13.1 13.1 0 0 0-7.08-8.4c-6.09-3.1-12.41-2.85-18.83-1.17a2.64 2.64 0 0 0-2.27 3c.1 7.13 0 14.25 0 21.38M620.67 404q0-29.81 0-59.62c0-4.51 1.64-6.19 6.21-6.16 3.29 0 6.59-.28 9.86.27a10.91 10.91 0 0 1 9.27 9.65c.67 6.63.14 13.29.27 19.93 0 1.78.06 3.56 0 5.34-.06 1.51.33 2.15 2 1.68a69.5 69.5 0 0 1 13.78-2.15c17.51-1.32 31.54 8.93 35.3 26a54.47 54.47 0 0 1 1.36 12c0 17.62 0 35.23 0 52.84 0 4.13-1.74 5.92-5.83 6q-3.92.06-7.82 0a11.92 11.92 0 0 1-12-12.08q-.06-22.41 0-44.81a29.29 29.29 0 0 0-1-8.75c-1.49-4.84-4.8-7.51-9.75-8.26a36.52 36.52 0 0 0-13.65.92c-1.9.43-2.49 1.37-2.48 3.29q.09 30.84 0 61.67c0 .82 0 1.65 0 2.47-.27 3.74-2 5.49-5.76 5.54q-7.1.09-14.2 0c-3.87 0-5.62-1.86-5.62-5.73q0-30 0-60M712.11 420.9c.23-4.79-.42-11 .33-17.11 1.81-14.86 10-24.47 24.27-28.7a53.23 53.23 0 0 1 35.12 1.13c13.13 5.1 20 15.06 21.11 29 .81 10.25.38 20.54.27 30.81s-3.26 19.68-11.48 26.68c-6.17 5.26-13.53 7.69-21.41 8.7a54.73 54.73 0 0 1-25.17-2.34c-14.06-4.85-22.83-16.93-23-31.78-.07-5 0-10 0-16.37m26.94.25c0 5.54-.07 10 0 14.44.15 7.85 3.83 12.37 11.43 13.33 9 1.15 16.81-2 17.09-12.94.23-9.1.16-18.21 0-27.32-.13-7.43-4-12.17-10.56-13.47a24.66 24.66 0 0 0-5.95-.19c-6.47.31-10.85 4.42-11.7 10.82-.71 5.46-.11 10.95-.34 15.33M949.33 430c-7.07 0-14.13.06-21.2 0-1.78 0-2.52.66-2.58 2.33-.07 2.32-.7 4.61-.38 7 .86 6.36 5.53 10.62 12.08 11.14 7.62.6 14.68-1.28 21.47-4.52 5.36-2.56 6.43-2.26 9.62 2.82 2.13 3.38 3.9 6.85 2 11a8.66 8.66 0 0 1-3.72 4.52c-16.52 8.35-33.49 10-50.45 1.88-10.56-5-16.23-14.28-17.12-25.86a263.21 263.21 0 0 1 0-37.15c.89-13.92 10.1-24.95 24-28.92a51.91 51.91 0 0 1 29.23-.07c13 3.79 20.43 12.79 22.58 26 1.32 8.22.85 16.54.7 24.82-.07 3.51-2 5.05-5.63 5.06H949.33m-10.8-15.42c3.9 0 7.81 0 11.71 0 1.28 0 1.9-.42 1.86-1.78-.06-2.12.06-4.25-.05-6.36-.37-7.28-4.38-12-11.37-12.9-7.22-.95-14.13 1.85-15.39 10.94-.38 2.73-.1 5.47-.22 8.2-.07 1.44.56 1.92 1.95 1.9 3.84-.05 7.67 0 11.51 0M808 424.22q0-19.22 0-38.44c0-4.34 1.42-6.12 5.53-7.49a99.42 99.42 0 0 1 31.89-5.45c10.53 0 20.65 1.84 29 9 6.7 5.75 9.8 13.34 11.14 21.84a53.77 53.77 0 0 1 .45 8.4q0 25.8 0 51.6c0 4.41-1.64 6.09-6.1 6.06-3.35 0-6.72.3-10.06-.24-5.57-.91-9.18-5-9.2-10.64-.06-14.6 0-29.19 0-43.79a48.87 48.87 0 0 0-.75-9.81c-1.32-6.41-5.54-10-12.06-10.29a61 61 0 0 0-11.68.69c-2 .31-2.55 1.19-2.54 3.11q.07 31.44 0 62.9c0 .82 0 1.65 0 2.46a5 5 0 0 1-5 4.81c-5.28.1-10.57.11-15.85 0-3-.06-4.77-2.09-4.78-5.27q0-19.74 0-39.47"}),(0,wr.jsx)("path",{fill:"#5f259f",d:"M350,388.34c0,7.61-.05,15.21,0,22.81a3,3,0,0,1-2.31,3.3,36.61,36.61,0,0,1-15.21,1.84c-8.75-.83-13.64-6-14.38-14.87-.68-8.14-.18-16.29-.32-24.44-.06-4,0-7.94,0-11.91,0-1.65.54-2.32,2.27-2.31,9.19.06,18.38.08,27.56,0,2,0,2.42.81,2.41,2.58-.06,7.67,0,15.34,0,23"})]})]}),o5e=()=>(0,wr.jsx)("svg",{width:"65",height:"21",viewBox:"-164 191.6 512 193",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",id:"paytm",x:"0",y:"0",version:"1.1","aria-label":"Paytm",children:(0,wr.jsxs)("g",{children:[(0,wr.jsx)("path",{d:"M229.8,243.2c2-1.6,3-2.4,4-3.2c13.9-11.8,31.7-10.5,43.6,3.5c1.2,1.4,1.8,1.5,3,0.3c0.8-0.9,1.7-1.6,2.5-2.5   c9.3-9.1,21.6-11.8,33.1-6.7c12.1,5.4,18.6,14.9,18.7,28.2c0.2,28.7,0.1,57.3,0.1,86c0,10.2-6.3,16.6-16.4,16.6c-4,0-8-0.3-12,0.1   c-4.1,0.4-5.3-0.9-5.3-5.2c0.2-28,0.1-56,0.1-84c0-1.2,0-2.3,0-3.5c-0.1-6.5-2.7-9.2-8.9-9.5c-5.6-0.3-9.5,3.1-10.1,8.8   c-0.1,1.3,0,2.7,0,4c0,24.2,0,48.3,0,72.5c0,10.6-6.1,16.8-16.7,16.7c-5.4-0.1-12.7,2.4-15.8-1.1c-2.7-3-0.9-10.1-0.9-15.4   c0-24.8,0-49.7,0-74.5c0-8.8-5.7-13.3-13.1-10.3c-4.6,1.9-6.1,5.6-6.1,10.4c0.1,23.2,0,46.3,0,69.5c0,1.8,0,3.7,0,5.5   c-0.3,9.7-6.5,15.8-16.1,15.9c-4,0.1-8-0.3-12,0.1c-4.3,0.4-5.6-0.8-5.5-5.4c0.2-39.3,0.1-78.6,0.1-118c0-1.7,0.1-3.3,0-5   c-0.2-2.2,0.7-2.9,2.9-2.9c9.2,0.1,18.3,0.1,27.5,0c2.3,0,3.4,0.6,3.2,3.1C229.5,239,229.7,240.6,229.8,243.2z",fill:"#00B9F1"}),(0,wr.jsx)("path",{d:"M17.8 297.4c0 13.7 0 27.3 0 41-.1 17.8-9.4 27-27.2 27.1-7.8 0-15.7.1-23.5 0-15.8-.2-27.4-10.7-28.2-26.5-.6-11.3-.7-22.7-.1-34 .8-16.2 13.2-27.6 29.6-27.8 4.3-.1 8.7 0 13 0 4.2-.1 5.8-2.5 5.7-6.5 0-4-1.8-5.8-5.8-5.6-4.5.1-9 .1-13.5 0-11-.2-17.1-6.2-17-17 0-4.4-2-10.3.9-12.9 2.5-2.2 8.2-.8 12.5-.8 11.2-.1 22.3 0 33.5 0 11.9 0 20 8.1 20.1 20.1C17.9 268.7 17.8 283.1 17.8 297.4zM-12.8 320.1c0-1.7 0-3.3 0-5 0-10.2 0-10.2-10.2-9.8-5.1.2-7.9 2.8-8 8.1-.1 4.2-.1 8.3 0 12.5.1 7.2 3.3 9.1 13.7 9.4 7.7.2 3.8-5.2 4.5-8.2C-12.4 324.9-12.9 322.4-12.8 320.1zM106.8 286.5c0 15.3.2 30.7-.1 46-.2 11.8-3 22.5-14.4 28.8-4.6 2.5-9.6 3.9-14.8 4-11.5.2-23 0-34.5.2-2.8 0-3.4-1-3.3-3.5.2-4.2-.1-8.3.1-12.5.2-8 6.3-14.1 14.3-14.4 5.2-.2 10.3-.1 15.5 0 4.2 0 6.5-1.7 6.5-6.2 0-4.6-2.2-6.2-6.4-6.3-7-.2-14 .8-20.9-1.2-11.9-3.5-20.6-13.4-20.9-25.7-.6-19.5-.2-39-.3-58.5 0-2.2.7-2.9 2.9-2.8 8.2.1 16.3.2 24.5 0 3.6-.1 3.1 1.9 3.1 4.1 0 14.7 0 29.3 0 44 0 6.4 3 9.8 8.6 10 6.6.2 9.5-2.5 9.5-9.2 0-14.8.1-29.7-.1-44.5 0-3.5.9-4.5 4.4-4.4 7.3.3 14.7.4 22 0 4-.2 4.6 1.3 4.5 4.8C106.7 254.9 106.8 270.7 106.8 286.5zM-148 309.2c0-16.3 0-32.7 0-49 0-16 9.8-26 25.9-25.8 10.5.1 21-1.2 31.4.8 13.3 2.6 21.7 12.9 21.8 26.6.1 14.5 0 29 0 43.5 0 18.2-10.7 29.3-28.9 29.8-5.5.2-11 .1-16.5 0-2.5-.1-3.6.7-3.5 3.4.2 4 .1 8 0 12-.2 8.6-6.3 14.8-14.8 14.9-5 .1-11.3 2.1-14.5-.8-3-2.7-.8-9.1-.9-13.9C-148.1 336.9-148 323-148 309.2zM-117.8 284.7c0 3.2 0 6.3 0 9.5 0 11.3 0 11.3 11.3 10.3 4.9-.4 7.2-2.8 7.3-7.7.1-5.6-.2-11.3.1-16.9.6-16.2-2.4-14.6-15.6-14.7-2.4 0-3.2.7-3.2 3.1C-117.7 273.7-117.8 279.2-117.8 284.7z",fill:"#002E6E"}),(0,wr.jsx)("path",{d:"M135.1,309.4c0-13.3-0.1-26.7,0.1-40c0-3.1-0.7-4.4-4.1-4.3c-4.5,0.2-10.5,1.5-13-0.7   c-3.1-2.9-0.7-9.1-1.1-13.9c0-0.3,0-0.7,0-1c0-4.7-1.5-10.2,0.5-13.7s8.1-1.3,12.4-2.4c8.5-2.2,14.9-7.1,20.1-13.9   c3.6-4.6,8.1-7.9,13.9-9c3.1-0.6,5-0.2,4.8,3.8c-0.3,5.6,0,11.3-0.1,17c-0.1,2.4,0.8,3.2,3.2,3.1c4-0.1,8,0.1,12-0.1   c2.4-0.1,3.2,0.8,3.1,3.2c-0.1,8.2-0.1,16.3,0,24.5c0,2.3-0.6,3.5-3.1,3.2c-0.5-0.1-1,0-1.5,0c-4.4,0.4-10.5-2-12.8,1   c-2.2,2.8-0.8,8.6-0.8,13.1c0,27.2-0.1,54.3,0.1,81.5c0,3.8-1,5-4.8,4.7c-3.6-0.3-7.3,0-11-0.1c-10.8-0.4-17.9-7.7-17.9-18.5   C135.1,334.4,135.1,321.9,135.1,309.4z",fill:"#00B9F1"})]})}),l5e=t=>{if(!t)return"";let[e,r]=t.split(":"),n=parseInt(e,10),a=n>=12?"PM":"AM";return`${n%12||12}:${String(r).padStart(2,"0")} ${a}`},u5e=(t,e)=>{if(!t||!e)return"";let[r,n]=t.split(":").map(Number),a=new Date;return a.setHours(r,n,0,0),new Date(a.getTime()+e*6e4).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},c5e=({isOpen:t,onClose:e,items:r,isGuest:n})=>{if(!t)return null;let[a,i]=(0,SE.useState)(!1),o=((0,SE.useMemo)(()=>r.reduce((d,f)=>d+f.price,0),[r])/100).toFixed(2),u=`upi://pay?pa=${a5e}&pn=${encodeURIComponent(bre)}&am=${o}&cu=INR&tn=${encodeURIComponent("Payment for Powerful Tools purchase")}`,c=()=>{navigator.clipboard.writeText(wre),i(!0),setTimeout(()=>i(!1),2e3)};return(0,wr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[100] p-4 backdrop-blur-sm",children:(0,wr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col transform transition-all",children:[(0,wr.jsxs)("header",{className:"p-6 border-b flex justify-between items-center flex-shrink-0",children:[(0,wr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Complete Your Purchase"}),(0,wr.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,wr.jsx)(dr,{size:24})})]}),(0,wr.jsxs)("div",{className:"flex-grow flex flex-col md:flex-row min-h-0",children:[(0,wr.jsxs)("div",{className:"w-full md:w-1/2 p-6 border-b md:border-b-0 md:border-r space-y-4 overflow-y-auto",children:[(0,wr.jsxs)("h4",{className:"font-semibold text-lg text-gray-800 flex items-center gap-2",children:[(0,wr.jsx)(r2,{size:20,className:"text-blue-600"}),"Order Summary"]}),(0,wr.jsx)("div",{className:"space-y-3",children:r.map((d,f)=>(0,wr.jsxs)("div",{className:"flex justify-between items-start bg-gray-50 p-3 rounded-lg",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("p",{className:"font-semibold text-gray-800",children:d.appName}),d.isConsultation&&d.appointmentTime&&d.durationInMinutes?(0,wr.jsxs)("p",{className:"text-sm text-gray-600",children:[l5e(d.appointmentTime)," - ",u5e(d.appointmentTime,d.durationInMinutes)]}):(0,wr.jsxs)("p",{className:"text-sm text-gray-600",children:[d.tierName," - ",d.credits===0?"Unlimited credits":`${d.credits.toLocaleString()} credits`]})]}),(0,wr.jsxs)("p",{className:"font-semibold text-gray-800 whitespace-nowrap",children:["\u20B9",(d.price/100).toFixed(2)]})]},f))}),(0,wr.jsxs)("div",{className:"border-t pt-4 mt-4 flex justify-between items-center",children:[(0,wr.jsx)("p",{className:"font-bold text-xl text-gray-900",children:"Total Amount"}),(0,wr.jsxs)("p",{className:"font-extrabold text-2xl text-blue-600",children:["\u20B9",o]})]})]}),(0,wr.jsxs)("div",{className:"w-full md:w-1/2 p-6 flex flex-col items-center justify-center bg-gray-50/50 rounded-b-2xl md:rounded-b-none md:rounded-r-2xl",children:[(0,wr.jsxs)("p",{className:"text-sm text-gray-600 mb-2 flex items-center gap-1.5",children:[(0,wr.jsx)(Eh,{size:16,className:"text-green-600"}),"You are securely paying to ",(0,wr.jsx)("strong",{children:bre})]}),(0,wr.jsx)("h4",{className:"text-lg font-bold text-gray-900",children:"Scan to Pay"}),(0,wr.jsx)("div",{className:"my-0.5 p-2 border-2 border-dashed rounded-lg inline-block bg-white",children:(0,wr.jsx)(vre,{value:u,size:160})}),(0,wr.jsxs)("div",{className:"flex items-center justify-center gap-4 my-0.5 opacity-80",children:[(0,wr.jsx)(i5e,{}),(0,wr.jsx)(s5e,{}),(0,wr.jsx)(o5e,{})]}),(0,wr.jsxs)("div",{className:"text-left w-full space-y-3 bg-white p-4 rounded-lg border mt-0.5",children:[(0,wr.jsx)("h5",{className:"font-semibold text-gray-800",children:"Important Instructions:"}),(0,wr.jsxs)("ol",{className:"list-decimal list-inside space-y-1.5 text-xs text-gray-700",children:[(0,wr.jsx)("li",{children:"Scan the QR code with any UPI app (GPay, PhonePe, etc.)."}),(0,wr.jsxs)("li",{children:["After payment, send the screenshot to our admin on WhatsApp.",(0,wr.jsxs)("div",{className:"flex items-center gap-1.5 mt-1",children:[(0,wr.jsx)(nd,{size:14,className:"text-green-600 flex-shrink-0"}),(0,wr.jsx)("strong",{className:"font-mono",children:wre}),(0,wr.jsx)("button",{onClick:c,className:"p-1 text-gray-500 hover:text-blue-600 rounded-full hover:bg-gray-200 transition-colors",children:a?(0,wr.jsx)(Ji,{size:14,className:"text-green-600"}):(0,wr.jsx)(Bs,{size:14})})]})]}),n&&(0,wr.jsx)("li",{className:"text-red-600 font-medium",children:"Please include your Full Name & Email in the message."}),(0,wr.jsxs)("li",{children:["Your credits ",n?"and account":""," will be activated upon verification."]})]})]})]})]}),(0,wr.jsx)("footer",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-2xl border-t flex-shrink-0",children:(0,wr.jsx)("button",{onClick:e,className:"w-full sm:w-auto rounded-lg bg-blue-600 px-6 py-3 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:"I have paid, close this window"})})]})})},Fm=c5e;var Gr=ce(_e()),d5e=()=>new Promise(t=>{let e="razorpay-checkout-js";if(document.getElementById(e))return t(!0);let r=document.createElement("script");r.id=e,r.src="https://checkout.razorpay.com/v1/checkout.js",r.onload=()=>t(!0),r.onerror=()=>{document.getElementById(e)?.remove(),t(!1)},document.body.appendChild(r)}),A5e=({app:t,userProfile:e,onClose:r,showNotification:n,onSuccess:a})=>{let[i,s]=(0,Au.useState)(!1),[o,l]=(0,Au.useState)(null),[u,c]=(0,Au.useState)(""),[d,f]=(0,Au.useState)(null),[A,v]=(0,Au.useState)(!1),[I,w]=(0,Au.useState)(!1),[g,b]=(0,Au.useState)([]),[S,F]=(0,Au.useState)(null),[O,R]=(0,Au.useState)(""),T=(0,Au.useMemo)(()=>(t.pricingTiers||[]).filter(_=>!_.isWebinarAddon),[t.pricingTiers]);(0,Au.useEffect)(()=>{(async()=>{try{let z=(await cr.httpsCallable("getPaymentConfiguration")()).data;if(z.keyId)l(z.keyId);else throw new Error("Razorpay key not found.")}catch(L){console.error("Failed to get payment configuration:",L),n("Could not initialize payment system.","error")}})()},[n]);let B=async(_,L)=>{if(!o){n("Payment system is not ready. Try again.","error");return}if(s(!0),!await d5e()||typeof window.Razorpay>"u"){n("Could not load payment gateway. Please check your connection and try again.","error"),s(!1);return}try{let z=cr.httpsCallable("createRazorpayOrder"),ee={appId:t.id,appName:t.name,appIcon:t.icon,tierId:_.id,tierName:_.name,credits:_.credits,price:_.price},$=(await z({items:[ee],couponCode:L,referredBy:O.trim()})).data;if($.freeOrder){s(!1),r(),a(),n($.message||"Your free order was processed successfully!","success");return}let j={key:o,amount:$.amount,currency:$.currency,name:"Powerful Tools Portal",description:$.description,order_id:$.razorpayOrderId,prefill:$.prefill,theme:{color:"#2563EB"},handler:oe=>{s(!1),r(),a()},modal:{ondismiss:()=>s(!1)}},K=new window.Razorpay(j);K.on("payment.failed",oe=>{n(`Payment failed: ${oe.error.description}.`,"error"),s(!1)}),K.open()}catch(z){console.error("Error creating Razorpay order:",z);let ee=z.details?.message||z.message||"An unknown error occurred.";n(`Checkout failed: ${ee}`,"error"),s(!1)}},k=_=>{let L=_.price;d&&(L=_.price*(1-d.discountPercentage/100));let D={appId:t.id,appName:t.name,appIcon:t.icon,tierId:_.id,tierName:_.name,credits:_.credits,price:Math.round(L)};b([D]),w(!0)},U=async()=>{if(u.trim()){v(!0),f(null);try{let _=cr.httpsCallable("validateCoupon"),L={appId:t.id,appName:t.name,appIcon:t.icon,tierId:"validation",tierName:"validation",credits:0,price:0},z=(await _({code:u.trim().toUpperCase(),items:[L]})).data;z.success&&z.discountPercentage&&z.appIds&&z.appIds.includes(t.id)?(f({code:u.trim().toUpperCase(),discountPercentage:z.discountPercentage}),n(z.message,"success")):n(z.message||"Coupon not valid for this app.","error")}catch(_){console.error("Coupon validation error:",_),n(_.message||"Failed to validate coupon.","error")}finally{v(!1)}}},E=(0,Au.useMemo)(()=>S&&T.find(_=>_.id===S)||null,[S,T]);return(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:(0,Gr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[(0,Gr.jsxs)("header",{className:"p-6 border-b flex-shrink-0",children:[(0,Gr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Gr.jsx)(vo,{className:"text-green-500",size:24}),(0,Gr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Purchase Credits"})]}),(0,Gr.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",children:(0,Gr.jsx)(dr,{size:24})})]}),(0,Gr.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,Gr.jsx)(da,{icon:t.icon,name:t.name,className:"h-8 w-8 rounded-md flex-shrink-0"}),(0,Gr.jsxs)("p",{className:"text-gray-600",children:["for ",(0,Gr.jsx)("span",{className:"font-semibold",children:t.name})]})]})]}),(0,Gr.jsxs)("main",{className:"flex-grow p-6 space-y-4 overflow-y-auto bg-gray-50/50",children:[T&&T.length>0?T.map(_=>{let L=_.price;d&&(L=_.price*(1-d.discountPercentage/100));let D=S===_.id;return(0,Gr.jsxs)("button",{onClick:()=>F(_.id),disabled:i,className:`w-full text-left flex items-center justify-between p-4 border rounded-lg bg-white shadow-sm transition-all duration-200
                                            ${D?"border-blue-500 ring-2 ring-blue-500":"border-gray-200 hover:border-blue-400"}`,children:[(0,Gr.jsxs)("div",{className:"text-left",children:[(0,Gr.jsx)("p",{className:"font-bold text-gray-800",children:_.name}),(0,Gr.jsx)("p",{className:"text-sm text-blue-700 font-mono",children:_.credits===0?"Unlimited credits":`${_.credits.toLocaleString()} credits`})]}),(0,Gr.jsxs)("div",{className:"flex items-baseline gap-2 mt-1",children:[(0,Gr.jsxs)("p",{className:`font-semibold text-lg ${d?"text-green-600":"text-gray-800"}`,children:["\u20B9",(L/100).toFixed(2)]}),d&&(0,Gr.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:["\u20B9",(_.price/100).toFixed(2)]})]})]},_.id)}):(0,Gr.jsx)("p",{className:"text-center text-gray-500 italic py-8",children:"No pricing tiers are configured for this application."}),(0,Gr.jsx)("div",{className:"pt-4 border-t",children:d?(0,Gr.jsxs)("div",{className:"p-2 bg-green-100 text-green-800 rounded-lg flex justify-between items-center text-sm",children:[(0,Gr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Gr.jsx)(Dn,{size:16}),(0,Gr.jsxs)("p",{children:["Coupon ",(0,Gr.jsx)("strong",{children:d.code})," giving ",d.discountPercentage,"% off applied!"]})]}),(0,Gr.jsx)("button",{onClick:()=>{f(null),c("")},className:"p-1 rounded-full hover:bg-green-200",children:(0,Gr.jsx)(dr,{size:16})})]}):(0,Gr.jsxs)("div",{className:"flex gap-2",children:[(0,Gr.jsxs)("div",{className:"relative flex-grow",children:[(0,Gr.jsx)(sA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,Gr.jsx)("input",{type:"text",value:u,onChange:_=>c(_.target.value),placeholder:"Coupon Code (Optional)",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500",disabled:A||i})]}),(0,Gr.jsx)("button",{onClick:U,disabled:!u||A||i,className:"px-4 py-2 bg-gray-800 text-white font-semibold rounded-lg hover:bg-black transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center w-28",children:A?(0,Gr.jsx)(Pt,{className:"animate-spin",size:20}):"Apply"})]})}),!e.referredBy&&(0,Gr.jsx)("div",{className:"pt-4 border-t",children:(0,Gr.jsxs)("div",{className:"relative",children:[(0,Gr.jsx)(uA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,Gr.jsx)("input",{type:"text",value:O,onChange:_=>R(_.target.value),placeholder:"Referral Code (Optional)",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500",disabled:i})]})})]}),(0,Gr.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 space-y-3 rounded-b-xl border-t flex-shrink-0",children:[E?(0,Gr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,Gr.jsx)("button",{onClick:()=>B(E,d?.code),disabled:i,className:"w-full flex items-center justify-center py-3 px-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:bg-gray-400",children:i?(0,Gr.jsx)(Pt,{className:"animate-spin",size:20}):(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)(Sh,{size:16,className:"mr-1.5"})," Pay Online"]})}),(0,Gr.jsxs)("button",{onClick:()=>k(E),disabled:i,className:"w-full flex items-center justify-center py-3 px-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:[(0,Gr.jsx)(p0,{size:16,className:"mr-1.5"})," Pay Manually (QR)"]})]}):(0,Gr.jsx)("p",{className:"text-center text-sm text-gray-500",children:"Please select a credit pack to proceed."}),(0,Gr.jsx)("button",{type:"button",onClick:r,className:"w-full py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Cancel"})]})]})}),(0,Gr.jsx)(Fm,{isOpen:I,onClose:()=>{w(!1),r()},items:g,isGuest:!1})]})},xre=A5e;var BE=ce($t());var J0=ce(_e()),f5e=({videoUrl:t,onClose:e})=>{let[r,n]=(0,BE.useState)(!1),a=au(t);(0,BE.useEffect)(()=>(n(!0),document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);let i=()=>{n(!1),setTimeout(e,300)};if(!a)return console.error("Could not render video player: Invalid YouTube URL provided."),null;let s=`https://www.youtube.com/embed/${a}?autoplay=1&rel=0&modestbranding=1`;return(0,J0.jsx)("div",{className:`fixed inset-0 bg-black z-[100] flex justify-center items-center p-4 transition-all duration-300 ease-in-out ${r?"bg-opacity-70":"bg-opacity-0"}`,onClick:i,role:"dialog","aria-modal":"true",children:(0,J0.jsxs)("div",{className:`relative w-full max-w-4xl bg-black rounded-lg shadow-2xl overflow-hidden transition-transform duration-300 ease-in-out ${r?"scale-100 opacity-100":"scale-95 opacity-0"}`,style:{aspectRatio:"16 / 9"},onClick:o=>o.stopPropagation(),children:[(0,J0.jsx)("button",{onClick:i,className:"absolute -top-2 -right-2 z-20 p-1.5 bg-white text-black rounded-full hover:bg-gray-200 transition-colors","aria-label":"Close video player",children:(0,J0.jsx)(dr,{size:24})}),(0,J0.jsx)("iframe",{className:"absolute top-0 left-0 w-full h-full",src:s,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})})},Ff=f5e;var fd=ce($t());var qn=ce(_e()),h5e=({user:t,showNotification:e})=>{let[r,n]=(0,fd.useState)([]),[a,i]=(0,fd.useState)(!0),[s,o]=(0,fd.useState)(""),[l,u]=(0,fd.useState)(!1),[c,d]=(0,fd.useState)(null),[f,A]=(0,fd.useState)(!1),[v,I]=(0,fd.useState)(null);(0,fd.useEffect)(()=>{i(!0);let T=Ce.collection("blogs").where("authorId","==",t.id).onSnapshot(B=>{let k=B.docs.map(U=>({...U.data(),id:U.id}));k.sort((U,E)=>(E.createdAt?.toMillis()||0)-(U.createdAt?.toMillis()||0)),n(k),i(!1)},B=>{console.error("Error fetching user blog posts:",B),e("Could not load your blog posts.","error"),i(!1)});return()=>T()},[t.id,e]);let w=(0,fd.useMemo)(()=>{if(!s)return r;let R=s.toLowerCase();return r.filter(T=>T.title.toLowerCase().includes(R))},[r,s]),g=(R=null)=>{d(R),u(!0)},b=()=>{d(null),u(!1)},S=R=>{I(R),A(!0)},F=async()=>{if(v)try{await Ce.collection("blogs").doc(v.id).delete(),e(`Blog post '${v.title}' deleted.`,"success")}catch(R){e(`Error deleting post: ${R.message}`,"error")}finally{A(!1),I(null)}},O=async R=>{let T={...R,authorId:t.id,authorName:t.name,updatedAt:zr.serverTimestamp()};try{c?(await Ce.collection("blogs").doc(c.id).update(T),e("Blog post updated!","success")):(await Ce.collection("blogs").add({...T,createdAt:zr.serverTimestamp()}),e("Blog post created!","success")),b()}catch(B){e(`Error saving post: ${B.message}`,"error"),console.error("Save Post Error: ",B)}};return(0,qn.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 h-full flex flex-col",children:[(0,qn.jsxs)("div",{className:"flex-shrink-0",children:[(0,qn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"My Blog Posts"}),(0,qn.jsx)("p",{className:"mt-1 text-gray-500",children:"Create and manage your articles for the public blog."})]}),(0,qn.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 flex-shrink-0",children:[(0,qn.jsxs)("div",{className:"relative w-full sm:max-w-xs",children:[(0,qn.jsx)(oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,qn.jsx)("input",{type:"text",placeholder:"Search by title...",value:s,onChange:R=>o(R.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"})]}),(0,qn.jsxs)("button",{onClick:()=>g(),className:"flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors w-full sm:w-auto",children:[(0,qn.jsx)(_a,{className:"mr-2 h-5 w-5"})," Create New Post"]})]}),(0,qn.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden flex-grow",children:(0,qn.jsx)("div",{className:"overflow-x-auto h-full",children:a?(0,qn.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,qn.jsx)("p",{children:"Loading your posts..."})}):(0,qn.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,qn.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0",children:(0,qn.jsxs)("tr",{children:[(0,qn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Title"}),(0,qn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Status"}),(0,qn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold",children:"Last Updated"}),(0,qn.jsx)("th",{scope:"col",className:"px-6 py-3 font-semibold text-right",children:"Actions"})]})}),(0,qn.jsx)("tbody",{className:"divide-y",children:w.length>0?w.map(R=>(0,qn.jsxs)("tr",{className:"bg-white hover:bg-gray-50 transition-colors",children:[(0,qn.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:R.title}),(0,qn.jsx)("td",{className:"px-6 py-4",children:(0,qn.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:R.status})}),(0,qn.jsx)("td",{className:"px-6 py-4",children:sn(R.updatedAt)}),(0,qn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,qn.jsxs)("div",{className:"flex justify-end items-center gap-1",children:[(0,qn.jsx)("button",{onClick:()=>g(R),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-full","aria-label":"Edit post",children:(0,qn.jsx)(Kn,{size:18})}),(0,qn.jsx)("button",{onClick:()=>S(R),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-full","aria-label":"Delete post",children:(0,qn.jsx)(Ar,{size:18})})]})})]},R.id)):(0,qn.jsx)("tr",{children:(0,qn.jsxs)("td",{colSpan:4,className:"text-center py-8 text-gray-500",children:[(0,qn.jsx)(Jo,{size:32,className:"mx-auto text-gray-300 mb-2"}),"You haven't created any blog posts yet."]})})})]})})}),l&&(0,qn.jsx)(vE,{post:c,onClose:b,onSave:O,showNotification:e}),f&&(0,qn.jsx)(bE,{post:v,onClose:()=>A(!1),onConfirm:F})]})},Cre=h5e;var kl=ce($t());var Rf=ce($t());var Pl=ce(_e()),p5e=({file:t,onClose:e,onConfirm:r})=>t?(0,Pl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[80] p-4",children:(0,Pl.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[(0,Pl.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Pl.jsx)(wn,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,Pl.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Media File"}),(0,Pl.jsx)("div",{className:"mt-4",children:(0,Pl.jsx)("img",{src:t.url,alt:t.name,className:"max-h-24 mx-auto rounded-md border"})}),(0,Pl.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,Pl.jsxs)("p",{children:["Are you sure you want to delete ",(0,Pl.jsx)("strong",{className:"font-bold",children:t.name}),"?"]}),(0,Pl.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"This action cannot be undone and will break any links using this image URL."})]}),(0,Pl.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,Pl.jsx)("button",{type:"button",onClick:e,className:"w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Pl.jsx)("button",{type:"button",onClick:r,className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:"Confirm Delete"})]})]})}):null,Ire=p5e;var Rn=ce(_e()),_E=6,m5e=({file:t,onDelete:e,onCopy:r})=>{let[n,a]=(0,Rf.useState)(!1),i=()=>{r(t.url),a(!0),setTimeout(()=>a(!1),2e3)};return(0,Rn.jsxs)("div",{className:"bg-white rounded-lg shadow border overflow-hidden group",children:[(0,Rn.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,Rn.jsx)("img",{src:t.url,alt:t.name,className:"w-full h-full object-contain",loading:"lazy"})}),(0,Rn.jsxs)("div",{className:"p-3",children:[(0,Rn.jsx)("p",{className:"text-sm font-semibold text-gray-800 truncate",title:t.name,children:t.name}),(0,Rn.jsxs)("p",{className:"text-xs text-gray-500",children:[(t.size/1024).toFixed(1)," KB"]}),(0,Rn.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,Rn.jsxs)("button",{onClick:i,className:"flex-1 text-xs flex items-center justify-center gap-1.5 py-1.5 px-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors font-semibold",children:[n?(0,Rn.jsx)(Ji,{size:14,className:"text-green-600"}):(0,Rn.jsx)(Bs,{size:14}),n?"Copied!":"Copy URL"]}),(0,Rn.jsx)("button",{onClick:()=>e(t),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-full transition-colors",children:(0,Rn.jsx)(Ar,{size:16})})]})]})]})},g5e=({consultantId:t,onClose:e,showNotification:r})=>{let[n,a]=(0,Rf.useState)([]),[i,s]=(0,Rf.useState)(!0),[o,l]=(0,Rf.useState)(!1),[u,c]=(0,Rf.useState)(null),d=(0,Rf.useRef)(null);(0,Rf.useEffect)(()=>{let b=Ce.collection("consultants").doc(t).collection("media_files").orderBy("createdAt","desc").onSnapshot(S=>{let F=S.docs.map(O=>({...O.data(),id:O.id}));a(F),s(!1)},S=>{console.error("Error fetching media files:",S),r("Could not load your media files.","error"),s(!1)});return()=>b()},[t,r]);let f=()=>{if(n.length>=_E){r(`You have reached the upload limit of ${_E} files.`,"error");return}d.current?.click()},A=async(g,b,S,F)=>{l(!0);try{await cr.httpsCallable("uploadConsultantMediaFile")({fileDataUrl:g,fileName:b,fileType:S,fileSize:F}),r("Image uploaded successfully!","success")}catch(O){console.error("Upload failed:",O),r(`Upload failed: ${O.message}`,"error")}finally{l(!1)}},v=g=>{let b=g.target.files?.[0];if(!b)return;if(!["image/png","image/jpeg","image/svg+xml","image/webp","image/gif"].includes(b.type)){r("Invalid file type. Please upload an image.","error");return}if(b.size>5*1024*1024){r("File is too large. Max size is 5MB.","error");return}if(["image/jpeg","image/png","image/webp"].includes(b.type)){let F=new FileReader;F.onload=O=>{let R=new Image;R.onload=()=>{let T=document.createElement("canvas"),B=1920,k=1080,{width:U,height:E}=R;U>E?U>B&&(E*=B/U,U=B):E>k&&(U*=k/E,E=k),T.width=U,T.height=E;let _=T.getContext("2d");if(!_){r("Could not process image for compression.","error");return}_.drawImage(R,0,0,U,E);let L=T.toDataURL("image/jpeg",.8),D=L.length-(L.indexOf(",")+1),z=L.slice(-2)==="=="?2:L.slice(-1)==="="?1:0,ee=D*.75-z,$=`${b.name.substring(0,b.name.lastIndexOf(".")||b.name.length)}.jpeg`;A(L,$,"image/jpeg",ee)},R.onerror=()=>{r("Could not load image for compression.","error"),l(!1)},R.src=O.target?.result},F.onerror=()=>{r("Failed to read the file for compression.","error")},F.readAsDataURL(b)}else{let F=new FileReader;F.onload=O=>{let R=O.target?.result;A(R,b.name,b.type,b.size)},F.onerror=()=>{r("Failed to read the file.","error")},F.readAsDataURL(b)}d.current&&(d.current.value="")},I=async()=>{if(u)try{await cr.httpsCallable("deleteConsultantMediaFile")({consultantId:t,mediaFileId:u.id}),r("Image deleted successfully.","success")}catch(g){console.error("Deletion failed:",g),r(g.message||"Failed to delete image.","error")}finally{c(null)}},w=g=>{navigator.clipboard.writeText(g),r("URL copied to clipboard!","success")};return(0,Rn.jsxs)(Rn.Fragment,{children:[(0,Rn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[70] p-4",children:(0,Rn.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[(0,Rn.jsxs)("header",{className:"p-6 border-b flex justify-between items-center flex-shrink-0",children:[(0,Rn.jsxs)("div",{children:[(0,Rn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"My Media Library"}),(0,Rn.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Upload and manage images for your profile."})]}),(0,Rn.jsx)("button",{type:"button",onClick:e,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",children:(0,Rn.jsx)(dr,{size:24})})]}),(0,Rn.jsxs)("main",{className:"flex-grow p-6 space-y-4 overflow-y-auto bg-gray-50/50",children:[(0,Rn.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Rn.jsxs)("p",{className:"font-semibold text-blue-800",children:["Uploaded: ",(0,Rn.jsx)("span",{className:"text-xl",children:n.length})," / ",_E]}),(0,Rn.jsx)("input",{type:"file",ref:d,onChange:v,className:"hidden",accept:"image/*"}),(0,Rn.jsxs)("button",{onClick:f,disabled:o||n.length>=_E,className:"w-full sm:w-auto flex items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400",children:[o?(0,Rn.jsx)(Pt,{className:"animate-spin mr-2",size:20}):(0,Rn.jsx)(td,{className:"mr-2 h-5 w-5"}),o?"Uploading...":"Upload Image"]})]}),i?(0,Rn.jsx)("div",{className:"flex justify-center p-16",children:(0,Rn.jsx)(Pt,{className:"animate-spin text-blue-500"})}):n.length>0?(0,Rn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map(g=>(0,Rn.jsx)(m5e,{file:g,onDelete:c,onCopy:w},g.id))}):(0,Rn.jsxs)("div",{className:"text-center py-16 text-gray-500 bg-gray-50 rounded-lg",children:[(0,Rn.jsx)(rd,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,Rn.jsx)("h3",{className:"text-xl font-semibold",children:"Your Media Library is Empty"}),(0,Rn.jsx)("p",{children:'Click "Upload Image" to add your first file.'})]})]})]})}),u&&(0,Rn.jsx)(Ire,{file:u,onClose:()=>c(null),onConfirm:I})]})},Nre=g5e;var En=ce(_e()),y5e=({user:t,showNotification:e})=>{let[r,n]=(0,kl.useState)(null),[a,i]=(0,kl.useState)([]),[s,o]=(0,kl.useState)([]),[l,u]=(0,kl.useState)([]),[c,d]=(0,kl.useState)(!0),[f,A]=(0,kl.useState)(!1),[v,I]=(0,kl.useState)(!1),[w,g]=(0,kl.useState)(!1),[b,S]=(0,kl.useState)(!1),[F,O]=(0,kl.useState)(!1),[R,T]=(0,kl.useState)(!1),[B,k]=(0,kl.useState)(!1),U=t.linkedConsultantId;(0,kl.useEffect)(()=>{let $=new URLSearchParams(window.location.search).get("gcal_error");if($){e(`Google Calendar error: ${$}`,"error",8e3);let j=window.location.pathname;window.history.replaceState({},document.title,j)}},[e]),(0,kl.useEffect)(()=>{if(!U){d(!1);return}let Y=[];return d(!0),(()=>{let j=Ce.collection("consultants").doc(U).onSnapshot(X=>{X.exists&&n({...X.data(),id:X.id})});Y.push(j);let K=Ce.collection("consultants").doc(U).collection("consultant_packages").orderBy("order").onSnapshot(X=>{i(X.docs.map(te=>({...te.data(),id:te.id})))});Y.push(K);let oe=Ce.collection("consultants").doc(U).collection("media_files").orderBy("createdAt","desc").onSnapshot(X=>{o(X.docs.map(te=>({...te.data(),id:te.id})))});Y.push(oe);let q=Ce.collection("site_content").doc("live").onSnapshot(X=>{X.exists&&u(X.data()?.videoTestimonials||[])});Y.push(q),d(!1)})(),()=>Y.forEach(j=>j())},[U]);let E=async Y=>{try{let{id:$,...j}=Y;delete j.linkedUserId,delete j.commissionRate,await Ce.collection("consultants").doc($).update(j),e("Profile updated successfully!","success")}catch($){throw e(`Failed to update profile: ${$.message}`,"error"),$}};if(c)return(0,En.jsx)("div",{className:"p-8 flex justify-center items-center h-full",children:(0,En.jsx)(Pt,{className:"animate-spin text-blue-500",size:32})});if(!r)return(0,En.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Could not load your consultant profile. Please contact support."});let _=`${window.location.origin}/consultants/${r.slug}`,L=()=>{navigator.clipboard.writeText(_),k(!0),e("Public page link copied!","success"),setTimeout(()=>k(!1),2e3)},D=async()=>{T(!0);try{let j=(await cr.httpsCallable("googleAuthInit")({consultantId:r.id,finalRedirectUrl:window.location.href})).data.authUrl;if(j)window.location.href=j;else throw new Error("Could not get authorization URL.")}catch(Y){e(`Error starting calendar connection: ${Y.message}`,"error"),T(!1)}},z=async()=>{if(window.confirm("Are you sure you want to disconnect your Google Calendar? Future appointments will not be synced automatically.")){T(!0);try{await cr.httpsCallable("googleAuthDisconnect")({consultantId:r.id}),e("Google Calendar disconnected successfully. The page will reload.","success")}catch(Y){e(`Error disconnecting calendar: ${Y.message}`,"error"),T(!1)}}},ee=[{title:"Edit Profile & Availability",description:"Update bio, picture, and time slots.",icon:(0,En.jsx)(ru,{}),onClick:()=>A(!0)},{title:"Manage Packages",description:"Create and edit service packages.",icon:(0,En.jsx)(wi,{}),onClick:()=>I(!0)},{title:"Edit Public Page",description:"Customize the public-facing consultant page.",icon:(0,En.jsx)($d,{}),onClick:()=>O(!0)},{title:"View Appointments",description:"See upcoming and past appointments.",icon:(0,En.jsx)(la,{}),onClick:()=>g(!0)},{title:"Manage My Media",description:"Upload and manage your personal images for your profile and gallery (Limit: 6 files).",icon:(0,En.jsx)(rd,{}),onClick:()=>S(!0)}];return(0,En.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 h-full",children:[(0,En.jsxs)("h4",{className:"text-xl font-bold text-gray-800",children:["Managing profile for ",(0,En.jsx)("span",{className:"text-purple-600",children:r.name})]}),(0,En.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:ee.map(Y=>(0,En.jsxs)("button",{onClick:Y.onClick,className:"bg-white p-6 rounded-lg shadow-md border hover:shadow-lg hover:border-purple-300 transition-all text-left flex items-start gap-4",children:[(0,En.jsx)("div",{className:"bg-purple-100 text-purple-600 p-3 rounded-full",children:Y.icon}),(0,En.jsxs)("div",{children:[(0,En.jsx)("h5",{className:"font-bold text-lg text-gray-800",children:Y.title}),(0,En.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:Y.description})]})]},Y.title))}),(0,En.jsxs)("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,En.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[(0,En.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Your Public Page Link"}),(0,En.jsxs)("div",{className:"flex items-center gap-2",children:[(0,En.jsx)("input",{type:"text",readOnly:!0,value:_,className:"w-full p-2 border rounded-md bg-gray-100 font-mono text-sm"}),(0,En.jsx)("button",{onClick:L,className:"p-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",title:"Copy Link",children:B?(0,En.jsx)(Ji,{size:20}):(0,En.jsx)(Bs,{size:20})})]})]}),(0,En.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[(0,En.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Google Calendar Sync"}),(0,En.jsxs)("div",{className:"flex items-center justify-between",children:[r.googleCalendarConnected?(0,En.jsxs)("div",{className:"flex items-center gap-2",children:[(0,En.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Connected"}),(0,En.jsx)("span",{className:"text-sm text-gray-600 truncate",children:r.googleCalendarEmail})]}):(0,En.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-200 text-gray-700",children:"Not Connected"}),R?(0,En.jsx)(Pt,{className:"animate-spin text-gray-500",size:20}):r.googleCalendarConnected?(0,En.jsxs)("button",{onClick:z,className:"text-sm font-semibold text-red-600 hover:underline flex items-center gap-1",children:[(0,En.jsx)(h0,{size:14})," Disconnect"]}):(0,En.jsxs)("button",{onClick:D,className:"text-sm font-semibold text-blue-600 hover:underline flex items-center gap-1",children:[(0,En.jsx)(ku,{size:14})," Connect"]})]})]})]}),f&&(0,En.jsx)(wE,{consultant:r,onClose:()=>A(!1),showNotification:e,onSave:E,users:[],isUserManaged:!0,consultantMediaFiles:s,consultants:[]}),v&&(0,En.jsx)(ab,{consultant:r,packages:a,onClose:()=>I(!1),showNotification:e}),w&&(0,En.jsx)(CE,{consultant:r,onClose:()=>g(!1),showNotification:e}),b&&(0,En.jsx)(Nre,{consultantId:U,onClose:()=>S(!1),showNotification:e}),F&&(0,En.jsx)(xE,{consultant:r,consultantPackages:a,adminMediaFiles:[],consultantMediaFiles:s,videoTestimonials:l,onClose:()=>O(!1),showNotification:e,isUserManaged:!0})]})},Sre=y5e;var Wu=ce($t());var kr=ce(_e()),Uf=t=>`\u20B9${(t/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,v5e=({user:t,showNotification:e})=>{let[r,n]=(0,Wu.useState)([]),[a,i]=(0,Wu.useState)(null),[s,o]=(0,Wu.useState)([]),[l,u]=(0,Wu.useState)([]),[c,d]=(0,Wu.useState)(!0),[f,A]=(0,Wu.useState)(""),[v,I]=(0,Wu.useState)(""),[w,g]=(0,Wu.useState)(!1);(0,Wu.useEffect)(()=>{let O=t.linkedConsultantId;if(!O){d(!1);return}let R=[];d(!0);let B=Ce.collection("payment_orders").where("consultantId","==",O).where("status","in",["completed","completed_manual"]).onSnapshot(_=>{let L=_.docs.map(D=>({...D.data(),id:D.id}));n(L)},_=>{console.error("Error fetching consultant sales history:",_),e("Could not load sales history. Check console for details.","error")});R.push(B),R.push(Ce.collection("consultant_ledgers").doc(O).onSnapshot(_=>{i(_.exists?_.data():null)}));let k=Ce.collection("consultant_payouts").where("consultantId","==",O);R.push(k.onSnapshot(_=>{let L=_.docs.map(D=>({...D.data(),id:D.id}));L.sort((D,z)=>(z.requestedAt?.toMillis()||0)-(D.requestedAt?.toMillis()||0)),o(L)}));let U=Ce.collection("appointments").where("consultantId","==",O).where("appointmentStart",">=",new Date);R.push(U.onSnapshot(_=>{u(_.docs.map(L=>L.data()))}));let E=setTimeout(()=>d(!1),1500);return R.push(()=>clearTimeout(E)),()=>R.forEach(_=>_())},[t.linkedConsultantId,e]);let b=(0,Wu.useMemo)(()=>{let O=new Date,R=new Date(O.getFullYear(),O.getMonth(),O.getDate()).getTime(),T=new Date(O.getFullYear(),O.getMonth(),1).getTime(),B=0,k=0,U=0;for(let E of r){let _=E.createdAt?.toDate().getTime();if(!_)continue;let L=E.totalAmount;U+=L,_>=R&&(B+=L),_>=T&&(k+=L)}return{todaySales:B,monthSales:k,totalGross:U}},[r]),S=(0,Wu.useMemo)(()=>[...r].sort((O,R)=>(R.createdAt?.toMillis()||0)-(O.createdAt?.toMillis()||0)),[r]),F=async O=>{O.preventDefault();let R=parseFloat(f)*100;if(isNaN(R)||R<=0){e("Invalid amount.","error");return}if(!v.trim()){e("Payout details cannot be empty.","error");return}if(a&&R>a.balance){e("Requested amount exceeds your available balance.","error");return}g(!0);try{await cr.httpsCallable("requestConsultantPayout")({amount:R,payoutDetails:v}),e("Payout request submitted successfully!","success"),A(""),I("")}catch(T){e(T.message,"error")}finally{g(!1)}};return c?(0,kr.jsx)("div",{className:"p-8 flex justify-center items-center h-full",children:(0,kr.jsx)(Pt,{className:"animate-spin text-blue-500",size:32})}):(0,kr.jsxs)("div",{className:"h-full overflow-y-auto space-y-6",children:[(0,kr.jsxs)("section",{children:[(0,kr.jsx)("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Commercial Overview"}),(0,kr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,kr.jsx)(bo,{title:"Today's Sales",value:Uf(b.todaySales),icon:(0,kr.jsx)(wi,{size:24})}),(0,kr.jsx)(bo,{title:"This Month's Sales",value:Uf(b.monthSales),icon:(0,kr.jsx)(la,{size:24})}),(0,kr.jsx)(bo,{title:"Total Gross Earnings",value:Uf(b.totalGross),icon:(0,kr.jsx)(Wd,{size:24})})]})]}),(0,kr.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,kr.jsxs)("div",{className:"p-4 bg-green-50 border-l-4 border-green-400 rounded-r-lg",children:[(0,kr.jsx)("p",{className:"text-sm font-semibold text-green-800",children:"Available Balance"}),(0,kr.jsx)("p",{className:"text-3xl font-bold text-green-700",children:Uf(a?.balance||0)})]}),(0,kr.jsxs)("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:[(0,kr.jsx)("p",{className:"text-sm font-semibold text-blue-800",children:"Total Gross Earnings"}),(0,kr.jsx)("p",{className:"text-3xl font-bold text-blue-700",children:Uf(b.totalGross)})]}),(0,kr.jsxs)("div",{className:"p-4 bg-orange-50 border-l-4 border-orange-400 rounded-r-lg",children:[(0,kr.jsx)("p",{className:"text-sm font-semibold text-orange-800",children:"Total Paid Out"}),(0,kr.jsx)("p",{className:"text-3xl font-bold text-orange-700",children:Uf(a?.totalPaidOut||0)})]})]}),(0,kr.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,kr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[(0,kr.jsx)("h4",{className:"font-semibold text-lg text-gray-800 mb-4",children:"Request a Payout"}),(0,kr.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,kr.jsxs)("div",{className:"relative",children:[(0,kr.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"\u20B9"}),(0,kr.jsx)("input",{type:"number",step:"0.01",value:f,onChange:O=>A(O.target.value),placeholder:"Amount to Withdraw",className:"w-full pl-6 p-2 border rounded-md",required:!0})]}),(0,kr.jsx)("textarea",{value:v,onChange:O=>I(O.target.value),placeholder:"Enter your UPI ID or Bank Account details here.",className:"w-full p-2 border rounded-md h-24",required:!0}),(0,kr.jsxs)("button",{type:"submit",disabled:w,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-400",children:[w?(0,kr.jsx)(Pt,{className:"animate-spin"}):(0,kr.jsx)(iA,{size:16}),"Submit Request"]})]})]}),(0,kr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[(0,kr.jsx)("h4",{className:"font-semibold text-lg text-gray-800 mb-4",children:"Payout History"}),(0,kr.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:s.length>0?s.map(O=>(0,kr.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 bg-gray-50 rounded-md",children:[(0,kr.jsxs)("div",{children:[(0,kr.jsx)("p",{className:"font-medium",children:Uf(O.amount)}),(0,kr.jsx)("p",{className:"text-xs text-gray-500",children:sn(O.requestedAt)})]}),(0,kr.jsx)("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${O.status==="completed"?"bg-green-100 text-green-800":O.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:O.status})]},O.id)):(0,kr.jsx)("p",{className:"text-sm text-gray-500 text-center italic py-4",children:"No payout history."})})]})]}),(0,kr.jsxs)("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[(0,kr.jsx)("h4",{className:"font-semibold text-lg text-gray-800 mb-4",children:"Detailed Sales History"}),(0,kr.jsx)("div",{className:"overflow-x-auto",children:(0,kr.jsxs)("table",{className:"w-full text-sm",children:[(0,kr.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,kr.jsxs)("tr",{children:[(0,kr.jsx)("th",{className:"px-4 py-2",children:"Date"}),(0,kr.jsx)("th",{className:"px-4 py-2",children:"Customer"}),(0,kr.jsx)("th",{className:"px-4 py-2",children:"Package"}),(0,kr.jsx)("th",{className:"px-4 py-2 text-right",children:"Sale Amount"}),(0,kr.jsx)("th",{className:"px-4 py-2 text-right",children:"Platform Fee"}),(0,kr.jsx)("th",{className:"px-4 py-2 text-right",children:"Your Earnings"})]})}),(0,kr.jsx)("tbody",{children:S.length>0?S.map(O=>(0,kr.jsxs)("tr",{className:"border-b last:border-b-0",children:[(0,kr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:sn(O.createdAt)}),(0,kr.jsx)("td",{className:"px-4 py-3",children:O.userName}),(0,kr.jsx)("td",{className:"px-4 py-3",children:O.items.map(R=>R.appName).join(", ")}),(0,kr.jsx)("td",{className:"px-4 py-3 text-right",children:Uf(O.totalAmount)}),(0,kr.jsx)("td",{className:"px-4 py-3 text-right text-orange-600",children:Uf(O.platformFee||0)}),(0,kr.jsx)("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:Uf(O.totalAmount-(O.platformFee||0))})]},O.id)):(0,kr.jsx)("tr",{children:(0,kr.jsx)("td",{colSpan:6,className:"text-center italic py-8 text-gray-500",children:"No sales with commission details found."})})})]})})]})]})},Bre=v5e;var Ht=ce(_e()),b5e=()=>{let t=new Date().getHours();return t>=5&&t<12?"Good Morning":t>=12&&t<17?"Good Afternoon":"Good Evening"},_re=t=>{let e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${n}`},w5e=t=>t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.__isWrappedArray===!0&&Array.isArray(t.value),EE=t=>{if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(r=>Array.isArray(r)?{__isWrappedArray:!0,value:EE(r)}:EE(r));let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=EE(t[r]));return e},hC=t=>{if(w5e(t))return hC(t.value);if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(r=>hC(r));let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=hC(t[r]));return e},x5e=({user:t,onLogout:e,showNotification:r,isExpiringToday:n,setShowPaymentSuccess:a})=>{let[i,s]=(0,zn.useState)([]),[o,l]=(0,zn.useState)(null),[u,c]=(0,zn.useState)(!1),[d,f]=(0,zn.useState)("apps"),[A,v]=(0,zn.useState)(!1),[I,w]=(0,zn.useState)(!1),[g,b]=(0,zn.useState)(!1),[S,F]=(0,zn.useState)(!1),[O,R]=(0,zn.useState)(!1),[T,B]=(0,zn.useState)(!1),[k,U]=(0,zn.useState)(null),[E,_]=(0,zn.useState)(!1),[L,D]=(0,zn.useState)(null),[z,ee]=(0,zn.useState)({}),[Y,$]=(0,zn.useState)(!1),[j,K]=(0,zn.useState)(n),[oe,q]=(0,zn.useState)(null),[X,te]=(0,zn.useState)(null),ue=(0,zn.useRef)(null),[be,ge]=(0,zn.useState)([]),[Ne,Le]=(0,zn.useState)(null),[Ie,de]=(0,zn.useState)(null),xe=(0,zn.useMemo)(()=>new Set(be.map(dt=>dt.appId)),[be]),[qe,wt]=(0,zn.useState)("manage");(0,zn.useEffect)(()=>{(async()=>{try{let tt=(await Ce.collection("apps").get()).docs.map(rt=>({...rt.data(),id:rt.id}));s(tt)}catch(Wt){Wt.code==="unavailable"?(console.warn("Could not fetch applications while offline:",Wt.message),r("You are offline. Application list may be incomplete.","info")):(console.error("Failed to fetch applications:",Wt),r("Could not load application directory.","error"))}})()},[r]),(0,zn.useEffect)(()=>{let dt;return(async()=>{try{dt=Ce.collection("users").doc(t.id).collection("reviews").onSnapshot(tt=>{let rt=tt.docs.map(Ct=>({...Ct.data(),id:Ct.id}));ge(rt)})}catch(Qe){console.error("Failed to fetch user reviews:",Qe)}})(),()=>{dt&&dt()}},[t.id]),(0,zn.useEffect)(()=>{(async()=>{try{let Wt=await Ce.collection("site_content").doc("social_links").get();Wt.exists&&te(Wt.data())}catch(Wt){console.error("Failed to fetch social links:",Wt)}})()},[]);let Re=(0,zn.useMemo)(()=>Object.keys(t.apps||{}),[t.apps]);(0,zn.useEffect)(()=>{if(Re.length===0){ee({});return}(async()=>{try{let Wt=Re.map(rt=>`${t.id}_${rt}`),Qe=[];for(let rt=0;rt<Wt.length;rt+=30)Qe.push(Wt.slice(rt,rt+30));let tt={};for(let rt of Qe){if(rt.length===0)continue;(await Ce.collection("usage_counts").where("__name__","in",rt).get()).forEach(nr=>{let[,jr]=nr.id.split("_");tt[jr]=nr.data().count||0})}Re.forEach(rt=>{tt[rt]||(tt[rt]=0)}),ee(tt)}catch(Wt){Wt.code==="unavailable"?console.warn("Could not fetch usage counts while offline:",Wt.message):console.error("Failed to fetch usage counts:",Wt)}})()},[t.id,Re]),(0,zn.useEffect)(()=>{if(!o)return;let dt;return(async()=>{try{dt=Ce.collection("apps").doc(o.id).onSnapshot(tt=>{if(tt.exists){let rt={...tt.data(),id:tt.id};l(Ct=>Ct&&Ct.id===rt.id?rt:Ct),s(Ct=>Ct.map(Nr=>Nr.id===rt.id?rt:Nr))}},tt=>{console.error("Error listening to app document:",tt),r("Could not get live updates for this app's popularity.","error")})}catch(Qe){console.error("Failed to set up app listener:",Qe)}})(),()=>{dt&&dt()}},[o?.id,r]),(0,zn.useEffect)(()=>{let dt=async Wt=>{if(!o||!ue.current?.contentWindow)return;let Qe=new URL(o.url).origin;if(Wt.origin!==Qe||Wt.source!==ue.current.contentWindow)return;let{type:tt,payload:rt}=Wt.data;if(tt==="getProjectLimits"){let jr=t.apps[o.id],Zt=jr?.maxProjects,en=jr?.projectExpirationDays;typeof Zt=="number"&&typeof en=="number"&&ue.current.contentWindow.postMessage({type:"projectLimits",payload:{maxProjects:Zt,projectExpirationDays:en}},Wt.origin);return}if(!tt||!rt)return;let{userId:Ct,appId:Nr}=rt;if(Ct!==t.id||Nr!==o.id)return;let nr=Wt.origin;if(tt==="getUsage"){let jr=t.apps[Nr];if(!jr){ue.current.contentWindow.postMessage({type:"usageStatus",payload:{used:0,limit:0,userName:t.name||"",canGenerate:!1,reason:"no_settings"}},nr);return}let Zt=jr.usageLimit??0;if(Zt===0){let ra=jr.fairUsePolicy,fr=o.fairUsePolicy,Kr=ra||fr;if(Kr&&Kr.limit>0){try{let xr=new Date,fn=xr.getFullYear(),Jr=String(xr.getMonth()+1).padStart(2,"0"),ln=String(xr.getDate()).padStart(2,"0"),ma,Ia;switch(Kr.frequency){case"daily":ma="daily_usage_counts",Ia=`${fn}-${Jr}-${ln}`;break;case"monthly":ma="monthly_usage_counts",Ia=`${fn}-${Jr}`;break;case"yearly":ma="yearly_usage_counts",Ia=`${fn}`;break;default:throw new Error("Invalid fair use policy frequency.")}let ri=`${Ct}_${Nr}_${Ia}`,Pi=await Ce.collection(ma).doc(ri).get(),na=Pi.exists?Pi.data().count:0,ki=na<Kr.limit;ue.current.contentWindow.postMessage({type:"usageStatus",payload:{used:na,limit:Kr.limit,userName:t.name||"",canGenerate:ki,reason:ki?"active":"fair_use_limit_reached"}},nr)}catch(xr){console.error("Failed to check fair use limit:",xr),ue.current.contentWindow.postMessage({type:"usageStatus",payload:{used:0,limit:0,userName:t.name||"",canGenerate:!1,reason:"error_checking_limit"}},nr),r("Could not verify your usage limit. Please try again.","error")}return}}let Yt=z[Nr]??0,Sr=t.name||"",Qr=Zt>0&&Yt>=Zt,Yr=!Qr,yn="active";Qr&&(yn="limit_reached"),ue.current.contentWindow.postMessage({type:"usageStatus",payload:{used:Yt,limit:Zt,userName:Sr,canGenerate:Yr,reason:yn}},nr)}if(tt==="incrementUsage"){let jr=t.apps[Nr];if(!jr){let Yt="Application settings not found for this user.";ue.current.contentWindow.postMessage({type:"incrementFailure",payload:{reason:Yt}},nr),console.error(Yt,"userId:",Ct,"appId:",Nr);return}let Zt=jr.usageLimit??0;if(Zt===0){let Yt=jr.fairUsePolicy,Sr=o.fairUsePolicy,Qr=Yt||Sr;if(Qr&&Qr.limit>0){let Yr=new Date,yn=Yr.getFullYear(),ra=String(Yr.getMonth()+1).padStart(2,"0"),fr=String(Yr.getDate()).padStart(2,"0"),Kr,xr;switch(Qr.frequency){case"daily":Kr="daily_usage_counts",xr=`${yn}-${ra}-${fr}`;break;case"monthly":Kr="monthly_usage_counts",xr=`${yn}-${ra}`;break;case"yearly":Kr="yearly_usage_counts",xr=`${yn}`;break;default:ue.current.contentWindow.postMessage({type:"incrementFailure",payload:{reason:"Invalid fair use policy configuration."}},nr);return}let fn=`${Ct}_${Nr}_${xr}`,Jr=Ce.collection(Kr).doc(fn),ln=await Jr.get(),ma=ln.exists?ln.data().count:0;if(ma<Qr.limit){let Ia=Ce.batch();Ia.set(Jr,{count:zr.increment(1)},{merge:!0});let ri=Ce.collection("credit_logs").doc();Ia.set(ri,{userId:t.id,userName:t.name,userEmail:t.email,appId:o.id,appName:o.name,creditsDeducted:1,timestamp:zr.serverTimestamp()}),await Ia.commit(),ue.current.contentWindow.postMessage({type:"incrementSuccess"},nr)}else ue.current.contentWindow.postMessage({type:"incrementFailure",payload:{reason:"fair_use_limit_reached"}},nr),D({app:o,mode:"in-app",usageCount:ma,limit:Qr.limit,reason:"fair_use_limit_reached"}),_(!0)}else await Ce.collection("credit_logs").doc().set({userId:t.id,userName:t.name,userEmail:t.email,appId:o.id,appName:o.name,creditsDeducted:1,timestamp:zr.serverTimestamp()}),ue.current.contentWindow.postMessage({type:"incrementSuccess"},nr)}else{let Yt=z[Nr]??0;if(Yt>=Zt){let Qr=`You have exhausted the usage limits (${Zt}/${Zt}) for this app. Please contact your administrator for more credits.`;ue.current.contentWindow.postMessage({type:"incrementFailure",payload:{reason:Qr}},nr),D({app:o,mode:"in-app",usageCount:Yt,limit:Zt,reason:"limit_reached"}),_(!0)}else try{let Qr=Ce.collection("usage_counts").doc(`${Ct}_${Nr}`),Yr=Ce.collection("credit_logs").doc(),yn=Ce.batch();yn.set(Qr,{count:zr.increment(1)},{merge:!0}),yn.set(Yr,{userId:t.id,userName:t.name,userEmail:t.email,appId:o.id,appName:o.name,creditsDeducted:1,timestamp:zr.serverTimestamp()}),await yn.commit(),ee(ra=>({...ra,[Nr]:(ra[Nr]??0)+1})),ue.current.contentWindow.postMessage({type:"incrementSuccess"},nr)}catch(Qr){console.error("Usage increment failed:",Qr),ue.current.contentWindow.postMessage({type:"incrementFailure",payload:{reason:"Could not update usage count. Please try again."}},nr)}}}if(tt==="saveChildAppData"&&"data"in rt){let jr=`users/${Ct}/appData/${Nr}/chunks`,Zt=Ce.collection(jr),en=Zt.doc("--metadata--");try{let Yt=EE(rt.data),Sr=JSON.stringify(Yt),Qr=900*1024,Yr=[];for(let fn=0;fn<Sr.length;fn+=Qr)Yr.push(Sr.substring(fn,fn+Qr));let yn=Ce.batch(),ra=await en.get(),fr=ra.exists?ra.data()?.chunkCount:0;if(Yr.length<fr)for(let fn=Yr.length;fn<fr;fn++){let Jr=`part-${String(fn).padStart(4,"0")}`;yn.delete(Zt.doc(Jr))}yn.set(en,{chunkCount:Yr.length,savedAt:zr.serverTimestamp()}),Yr.forEach((fn,Jr)=>{let ln=`part-${String(Jr).padStart(4,"0")}`,ma=Zt.doc(ln);yn.set(ma,{data:fn})}),await yn.commit();let Kr=Ce.collection("users").doc(Ct).collection("appData").doc(Nr);(await Kr.get()).exists&&await Kr.delete(),ue.current.contentWindow.postMessage({type:"saveSuccess"},nr)}catch(Yt){console.error("Parent: Failed to save chunked child app data",Yt);let Sr=Yt instanceof Error?Yt.message:"An unknown error occurred.";ue.current.contentWindow.postMessage({type:"saveError",payload:{message:`Failed to save project to the cloud: ${Sr}`}},nr)}}if(tt==="loadChildAppData"){let jr=`users/${Ct}/appData/${Nr}/chunks`,Zt=Ce.collection(jr),en=Zt.doc("--metadata--");try{let Yt=await en.get();if(Yt.exists){let Sr=Yt.data()?.chunkCount;if(typeof Sr!="number"||Sr<=0){ue.current.contentWindow.postMessage({type:"dataLoaded",payload:{}},nr);return}let Qr=[];for(let Kr=0;Kr<Sr;Kr++){let xr=`part-${String(Kr).padStart(4,"0")}`;Qr.push(Zt.doc(xr).get())}let yn=(await Promise.all(Qr)).map(Kr=>{if(!Kr.exists)throw new Error(`Chunk ${Kr.id} is missing.`);return Kr.data()?.data}).join(""),ra=yn?JSON.parse(yn):{},fr=hC(ra);ue.current.contentWindow.postMessage({type:"dataLoaded",payload:fr},nr)}else{let Qr=await Ce.collection("users").doc(Ct).collection("appData").doc(Nr).get();if(Qr.exists){let Yr=Qr.data(),yn=Yr?hC(Yr):{};ue.current.contentWindow.postMessage({type:"dataLoaded",payload:yn},nr)}else ue.current.contentWindow.postMessage({type:"noDataFound"},nr)}}catch(Yt){console.error("Parent: Failed to load child app data",Yt);let Sr=Yt instanceof Error?Yt.message:"An unknown error occurred.";ue.current.contentWindow.postMessage({type:"loadError",payload:{message:`Failed to load project from the cloud: ${Sr}`}},nr)}}};return window.addEventListener("message",dt),()=>window.removeEventListener("message",dt)},[o,t,r,z]),(0,zn.useEffect)(()=>{!o&&u&&c(!1)},[o,u]);let Ae=(0,zn.useMemo)(()=>i.filter(dt=>Re.includes(dt.id)),[i,Re]),Kt=(0,zn.useMemo)(()=>Ae.filter(dt=>dt.trainingVideos&&dt.trainingVideos.filter(Wt=>Wt.name&&Wt.url).length>0),[Ae]),zt=(0,zn.useMemo)(()=>{if(!o||!t.apps[o.id])return!1;let dt=t.apps[o.id],Wt=dt.usageLimit,Qe=z[o.id]??0,tt=Wt>0&&Qe>=Wt,rt=_re(new Date),Ct=dt.expiryDate&&dt.expiryDate<rt;return tt||Ct},[o,t.apps,z]),pt=(0,zn.useMemo)(()=>{if(!o||!t.apps[o.id])return null;let dt=t.apps[o.id],Wt=o.pricingTiers||[],Qe=dt.expiryDate?`, valid till ${Ws(dt.expiryDate)}`:"";if(dt.usageLimit===0){let tt=Wt.find(Ct=>Ct.credits===0);return`Plan Active: ${tt?tt.name:"Unlimited"}${Qe}`}else{let tt=z[o.id]??0,rt=dt.usageLimit;return`Usage: ${tt} / ${rt}${Qe}`}},[o,t.apps,z]),Oe=(dt,Wt=!1)=>{c(!0),l(dt),v(Wt),f("apps"),w(!1),b(!1),$(!0)},me=(dt,Wt=!1)=>{if(dt.comingSoon){r("This app is coming soon and cannot be launched yet.","info");return}if(o?.id===dt.id){w(!1);return}o&&!xe.has(o.id)?(de(()=>()=>Oe(dt,Wt)),Le({app:o})):Oe(dt,Wt)},Ue=dt=>{let Wt=t.apps[dt.id],Qe=_re(new Date);if(Wt?.expiryDate&&Wt.expiryDate<Qe){D({app:dt,mode:"pre-launch",usageCount:0,limit:0,reason:"app_expired"}),_(!0),w(!1);return}let rt=t.apps[dt.id]?.usageLimit??0,Ct=z[dt.id]??0;rt>0&&Ct>=rt?(D({app:dt,mode:"pre-launch",usageCount:Ct,limit:rt,reason:"limit_reached"}),_(!0),w(!1)):me(dt,!1)},it=()=>{o&&!xe.has(o.id)?(de(()=>()=>{l(null),v(!1),f("apps")}),Le({app:o})):(l(null),v(!1),f("apps"))},At=dt=>{U(dt),B(!0),w(!1)},ct=dt=>{b(!1),U(dt),B(!0)},Tt=dt=>{_(!1),U(dt),B(!0)},Ot=(dt,Wt)=>{let Qe=new URL(dt.url);return Qe.searchParams.append("userId",t.id),Qe.searchParams.append("appId",dt.id),Qe.searchParams.append("theme","light"),Wt&&Qe.searchParams.append("viewOnly","true"),Qe.toString()},vr=o?.totalUsage??0,rr=(dt,Wt)=>{let Qe=be.find(rt=>rt.appId===dt.id),tt=!!Qe;ge(rt=>{let Ct=new Date,Nr={id:Qe?.id||`${t.id}_${dt.id}`,userId:t.id,appId:dt.id,appName:dt.name,userName:t.name,rating:Wt.rating,review:Wt.reviewText,createdAt:Qe?.createdAt||Ct,updatedAt:Ct};return tt?rt.map(nr=>nr.appId===dt.id?Nr:nr):[...rt,Nr]}),(async()=>{try{let rt={userId:t.id,appId:dt.id,appName:dt.name,userName:t.name,rating:Wt.rating,review:Wt.reviewText,updatedAt:zr.serverTimestamp()};Qe&&Qe.createdAt&&typeof Qe.createdAt.toDate=="function"||(rt.createdAt=zr.serverTimestamp());let Nr=Ce.batch(),nr=Ce.collection("users").doc(t.id).collection("reviews").doc(dt.id);Nr.set(nr,rt,{merge:!0});let jr=Ce.collection("reviews").doc(`${t.id}_${dt.id}`);Nr.set(jr,rt,{merge:!0}),await Nr.commit()}catch(rt){console.error("Background sync for review failed:",rt),r("Your feedback was received, but failed to sync to the cloud.","error")}})()},Er=()=>{Ie&&(Ie(),de(null))},Nt=dt=>{Le({app:dt})},gn=()=>{switch(d){case"blog":return(0,Ht.jsx)(Cre,{user:t,showNotification:r});case"consultant":if(t.linkedConsultantId){let dt=Wt=>`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${qe===Wt?"bg-purple-600 text-white":"text-gray-600 hover:bg-gray-200"}`;return(0,Ht.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 h-full flex flex-col",children:[(0,Ht.jsxs)("div",{className:"flex items-center gap-2 p-1 bg-gray-100 rounded-lg self-start flex-shrink-0",children:[(0,Ht.jsxs)("button",{onClick:()=>wt("manage"),className:dt("manage"),children:[(0,Ht.jsx)(Gs,{size:16,className:"mr-2"})," Manage Profile"]}),(0,Ht.jsxs)("button",{onClick:()=>wt("sales"),className:dt("sales"),children:[(0,Ht.jsx)(wi,{size:16,className:"mr-2"})," Sales & Payouts"]})]}),(0,Ht.jsxs)("div",{className:"flex-grow min-h-0",children:[qe==="manage"&&(0,Ht.jsx)(Sre,{user:t,showNotification:r}),qe==="sales"&&(0,Ht.jsx)(Bre,{user:t,showNotification:r})]})]})}return f("apps"),null;case"apps":default:return o?(0,Ht.jsx)("iframe",{ref:ue,src:Ot(o,A),title:o.name,className:`w-full h-full border-0 rounded-lg ${u?"opacity-0":"opacity-100 transition-opacity duration-500"}`,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-downloads allow-popups-to-escape-sandbox",onLoad:()=>c(!1)},o.id):Kt.length>0?(0,Ht.jsx)(Are,{apps:Kt,onWatchVideo:q}):(0,Ht.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-center text-gray-500 p-4",children:[(0,Ht.jsx)(b1,{size:64,className:"mb-4 text-blue-400"}),(0,Ht.jsx)("h3",{className:"text-2xl font-semibold",children:"Application Portal"}),(0,Ht.jsx)("p",{className:"mt-2",children:Ae.length>0?"Launch an application from the 'My Apps' menu. No training videos are available for your apps yet.":"You have no active applications assigned."}),(0,Ht.jsx)("p",{className:"mt-1 text-sm",children:"You can see all available software in the 'Explore More Apps' menu."})]})}};return(0,Ht.jsxs)("div",{className:"flex flex-col h-screen bg-gray-100",children:[(0,Ht.jsxs)("header",{className:"flex-shrink-0 shadow-md z-20",children:[(0,Ht.jsx)("div",{className:"bg-primary",children:(0,Ht.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ht.jsx)("div",{className:"w-full text-center py-2",children:(0,Ht.jsx)("p",{className:"text-base font-semibold text-white",children:`${b5e()}, ${t.name||t.email}`})})})}),(0,Ht.jsx)("div",{className:"bg-white",children:(0,Ht.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-2",children:(0,Ht.jsxs)("div",{className:"w-full flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,Ht.jsxs)("div",{className:"flex items-center gap-4 flex-grow min-w-0",children:[(0,Ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600 flex-shrink-0",children:[(0,Ht.jsx)("path",{d:"M5.5 8.5 9 12l-3.5 3.5L2 12l3.5-3.5Z"}),(0,Ht.jsx)("path",{d:"m12 2 3.5 3.5L12 9 8.5 5.5 12 2Z"}),(0,Ht.jsx)("path",{d:"M18.5 8.5 22 12l-3.5 3.5L15 12l3.5-3.5Z"}),(0,Ht.jsx)("path",{d:"m12 15 3.5 3.5L12 22l-3.5-3.5L12 15Z"})]}),(0,Ht.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,Ht.jsxs)("div",{className:"flex items-baseline gap-3 flex-wrap",children:[(0,Ht.jsx)("h1",{className:"text-xl font-bold text-gray-800 text-center sm:text-left",children:"Powerful Tools"}),(0,Ht.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,Ht.jsx)("span",{children:"By Acharya Preeti Sharma"}),X?.facebook?.url&&(0,Ht.jsx)("a",{href:X.facebook.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:opacity-80 transition-opacity","aria-label":"Facebook",children:(0,Ht.jsx)(Jd,{size:14})}),X?.instagram?.url&&(0,Ht.jsx)("a",{href:X.instagram.url,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:opacity-80 transition-opacity","aria-label":"Instagram",children:(0,Ht.jsx)(Zd,{size:14})}),X?.youtube?.url&&(0,Ht.jsx)("a",{href:X.youtube.url,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:opacity-80 transition-opacity","aria-label":"YouTube",children:(0,Ht.jsx)(nu,{size:14})}),X?.x?.url&&(0,Ht.jsx)("a",{href:X.x.url,target:"_blank",rel:"noopener noreferrer",className:"text-black hover:opacity-80 transition-opacity","aria-label":"X (Twitter)",children:(0,Ht.jsx)(lA,{size:14})}),X?.linkedin?.url&&(0,Ht.jsx)("a",{href:X.linkedin.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 hover:opacity-80 transition-opacity","aria-label":"LinkedIn",children:(0,Ht.jsx)(eA,{size:14})})]})]}),(0,Ht.jsx)("div",{className:"flex items-center justify-between gap-4 mt-1",children:(0,Ht.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[o?(0,Ht.jsx)(da,{icon:o.icon,name:o.name,className:"h-5 w-5 rounded-md flex-shrink-0"}):(0,Ht.jsx)(b1,{size:14,className:"text-blue-600"}),(0,Ht.jsx)("p",{className:"text-sm text-gray-500 truncate",children:o?o.name:"Dashboard Home"}),o&&t.apps[o.id]&&(0,Ht.jsx)("span",{className:`text-xs font-semibold px-2.5 py-1 rounded-md transition-colors duration-300 ${zt?"bg-orange-600 text-white":"bg-blue-600 text-white"} flex-shrink-0 whitespace-nowrap`,children:pt})]})})]})]}),(0,Ht.jsxs)("div",{className:"flex items-center flex-nowrap justify-center sm:justify-end gap-1 sm:gap-2",children:[(0,Ht.jsxs)("button",{onClick:it,className:"flex items-center bg-gray-100 text-gray-800 font-medium py-1 px-2.5 rounded-md hover:bg-gray-200 transition-colors text-xs",children:[(0,Ht.jsx)(yc,{className:"mr-0 sm:mr-2 h-4 w-4"})," ",(0,Ht.jsx)("span",{className:"hidden sm:inline",children:"Home"})]}),(0,Ht.jsxs)("button",{onClick:()=>F(!0),className:"flex items-center bg-gray-100 text-gray-800 font-medium py-1 px-2.5 rounded-md hover:bg-gray-200 transition-colors text-xs",children:[(0,Ht.jsx)(ca,{className:"mr-0 sm:mr-2 h-4 w-4"})," ",(0,Ht.jsx)("span",{className:"hidden sm:inline",children:"My Account"})]}),Ae.length>0&&(0,Ht.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center bg-blue-600 text-white font-medium py-1 px-2.5 rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 text-xs",children:[(0,Ht.jsx)(mc,{className:"mr-0 sm:mr-2 h-4 w-4"}),(0,Ht.jsx)("span",{className:"hidden sm:inline",children:"My Apps"})]}),(0,Ht.jsxs)("a",{href:"/blog",className:"flex items-center bg-gray-100 text-gray-800 font-medium py-1 px-2.5 rounded-md hover:bg-gray-200 transition-colors text-xs",children:[(0,Ht.jsx)(Jo,{className:"mr-0 sm:mr-2 h-4 w-4"})," ",(0,Ht.jsx)("span",{className:"hidden sm:inline",children:"Blog"})]}),t.canWriteBlog&&(0,Ht.jsxs)("button",{onClick:()=>f("blog"),className:"flex items-center bg-gray-100 text-gray-800 font-medium py-1 px-2.5 rounded-md hover:bg-gray-200 transition-colors text-xs",children:[(0,Ht.jsx)(Kn,{className:"mr-0 sm:mr-2 h-4 w-4"})," ",(0,Ht.jsx)("span",{className:"hidden sm:inline",children:"Manage Blog"})]}),t.linkedConsultantId&&(0,Ht.jsxs)("button",{onClick:()=>f("consultant"),className:"flex items-center bg-purple-600 text-white font-medium py-1 px-2.5 rounded-md hover:bg-purple-700 transition-colors text-xs",children:[(0,Ht.jsx)(Gs,{className:"mr-0 sm:mr-2 h-4 w-4"})," ",(0,Ht.jsx)("span",{className:"hidden sm:inline",children:"Consultant"})]}),(0,Ht.jsxs)("button",{onClick:()=>b(!0),className:"flex items-center bg-gray-100 text-gray-800 font-medium py-1 px-2.5 rounded-md hover:bg-gray-200 transition-colors focus:outline-none text-xs",children:[(0,Ht.jsx)(Yd,{className:"mr-0 sm:mr-2 h-4 w-4"}),(0,Ht.jsx)("span",{className:"hidden sm:inline",children:"Explore More Apps"})]}),(0,Ht.jsxs)("button",{onClick:()=>R(!0),className:"flex items-center bg-red-500 text-white font-medium py-1 px-2.5 rounded-md hover:bg-red-600 transition-colors text-xs",children:[(0,Ht.jsx)(bc,{className:"mr-0 sm:mr-2 h-4 w-4"})," ",(0,Ht.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})})]}),(0,Ht.jsxs)("main",{className:"flex-grow flex flex-col px-4 sm:px-6 lg:px-8 py-4 gap-4",children:[j&&(0,Ht.jsx)(cB,{onClose:()=>K(!1)}),o&&Y&&vr>0&&(0,Ht.jsx)(dre,{totalUsage:vr,onClose:()=>$(!1)}),(0,Ht.jsxs)("div",{className:"flex-grow bg-white rounded-xl shadow-inner border border-gray-200 relative overflow-hidden",children:[u&&d==="apps"&&o&&(0,Ht.jsxs)("div",{className:"absolute inset-0 bg-white bg-opacity-80 flex flex-col items-center justify-center text-gray-600 z-10 rounded-lg",children:[(0,Ht.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ht.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ht.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Ht.jsxs)("p",{className:"text-lg font-semibold",children:["Loading ",o.name,"..."]})]}),gn()]})]}),g&&(0,Ht.jsx)(sre,{allApps:i,assignedAppsMap:t.apps||{},onClose:()=>b(!1),onPurchase:ct}),I&&(0,Ht.jsx)(cre,{assignedApps:Ae,usageCounts:z,userAppsSettings:t.apps||{},onLaunch:Ue,onPurchaseCredits:At,onClose:()=>w(!1)}),S&&(0,Ht.jsx)(lre,{user:t,allApps:i,usageCounts:z,userReviews:be,onClose:()=>F(!1),onLogout:e,showNotification:r,onEditReview:Nt}),E&&L&&(0,Ht.jsx)(ure,{app:L.app,mode:L.mode,onClose:()=>_(!1),onProceed:L.onProceed,onPurchase:Tt,usageCount:L.usageCount,limit:L.limit,reason:L.reason}),Ne&&(0,Ht.jsx)(fre,{app:Ne.app,user:t,existingReview:be.find(dt=>dt.appId===Ne.app.id),onSubmit:rr,onClose:()=>{Le(null),Er()}}),(0,Ht.jsx)(S1,{isOpen:O,onClose:()=>R(!1),onConfirm:e}),T&&k&&(0,Ht.jsx)(xre,{app:k,userProfile:t,onClose:()=>B(!1),showNotification:r,onSuccess:a}),oe&&(0,Ht.jsx)(Ff,{videoUrl:oe,onClose:()=>q(null)})]})},Ere=x5e;var TE=ce($t());var al=ce(_e()),C5e=({user:t,showNotification:e})=>{let[r,n]=(0,TE.useState)(""),[a,i]=(0,TE.useState)(""),[s,o]=(0,TE.useState)(!1);return(0,al.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,al.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-2xl shadow-xl",children:[(0,al.jsxs)("div",{className:"text-center",children:[(0,al.jsx)(xc,{size:48,className:"mx-auto text-blue-600 mb-3"}),(0,al.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Set Your New Password"}),(0,al.jsx)("p",{className:"mt-2 text-gray-600",children:"For security, you must change your temporary password before proceeding."})]}),(0,al.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async u=>{if(u.preventDefault(),r!==a){e("Passwords do not match.","error");return}if(r.length<6){e("Password must be at least 6 characters long.","error");return}o(!0);try{let c=yf.currentUser;c?(await c.updatePassword(r),await Ce.collection("users").doc(t.id).update({mustChangePassword:!1}),e("Password updated successfully! The app will now reload.","success"),setTimeout(()=>window.location.reload(),2e3)):e("No authenticated user found. Please log in again.","error")}catch(c){e(`Password update failed: ${c.message}. Please try logging in again.`,"error"),console.error(c)}finally{o(!1)}},children:[(0,al.jsxs)("div",{className:"relative",children:[(0,al.jsx)(Pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,al.jsx)("input",{type:"password",value:r,onChange:u=>n(u.target.value),required:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"New Password"})]}),(0,al.jsxs)("div",{className:"relative",children:[(0,al.jsx)(Pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,al.jsx)("input",{type:"password",value:a,onChange:u=>i(u.target.value),required:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Confirm New Password"})]}),(0,al.jsx)("div",{children:(0,al.jsx)("button",{type:"submit",disabled:s,className:"w-full flex justify-center items-center py-3 px-4 text-white bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition disabled:bg-blue-300",children:s?"Updating...":"Set New Password"})})]})]})})},Tre=C5e;var Lre=ce($t()),Z0=ce(_e()),LE=["Harnessing cosmic energy for a harmonious life.","Aligning your space with the stars for prosperity.","Where ancient wisdom meets modern living.","Unlocking the secrets of numbers to reveal your path.","Crafting your destiny, one number at a time.","Building your future on the foundation of Vastu.","The architecture of fortune is in your hands.","Numerology: The roadmap of your life's journey.","Balancing energies, transforming lives.","Designing spaces that resonate with success."],I5e=()=>{let[t]=(0,Lre.useState)(()=>typeof document<"u"&&document.getElementById("root")?.dataset.initialSlogan||LE[Math.floor(Math.random()*LE.length)]);return(0,Z0.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-4 bg-slate-50",children:[(0,Z0.jsxs)("svg",{className:"animate-spin h-10 w-10 text-blue-600 mb-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Z0.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Z0.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Z0.jsxs)("p",{className:"text-xl font-semibold text-gray-700 italic",children:['"',t,'"']})]})},Fl=I5e;var pC=ce(_e()),N5e=()=>(0,pC.jsxs)("div",{className:"fixed top-0 left-0 right-0 bg-yellow-600 text-white h-8 text-center z-[9999] flex items-center justify-center gap-2",role:"alert","aria-live":"assertive",children:[(0,pC.jsx)(i2,{size:18}),(0,pC.jsx)("span",{className:"text-sm font-semibold",children:"You are currently offline. The app is using cached data."})]}),Pre=N5e;var hd=ce(_e()),S5e=({user:t,onLogout:e})=>(0,hd.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,hd.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-2xl shadow-xl text-center",children:[(0,hd.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,hd.jsx)(wn,{className:"h-8 w-8 text-red-600","aria-hidden":"true"})}),(0,hd.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Expired"}),(0,hd.jsxs)("p",{className:"mt-2 text-gray-600",children:["Hello, ",(0,hd.jsx)("span",{className:"font-semibold",children:t.name||t.email}),". Your account access has expired."]}),(0,hd.jsx)("p",{className:"mt-1 text-gray-600",children:"Please contact an administrator to renew your access."}),(0,hd.jsx)("div",{className:"mt-8",children:(0,hd.jsx)("button",{onClick:e,className:"w-full flex justify-center items-center py-3 px-4 text-white bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition",children:"OK"})})]})}),kre=S5e;var PE=ce($t());var ci=ce(_e()),B5e=()=>{let[t,e]=(0,PE.useState)({});(0,PE.useEffect)(()=>{(async()=>{try{let i=await Ce.collection("site_content").doc("social_links").get();i.exists&&e(i.data())}catch(a){console.error("Could not fetch social links:",a)}})()},[]);let r=Object.values(t).some(n=>!!n?.url);return(0,ci.jsx)("footer",{className:"w-full bg-gray-800 text-gray-300 py-4 mt-auto flex-shrink-0",children:(0,ci.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ci.jsxs)("div",{className:"flex flex-wrap justify-center items-center text-sm gap-x-6 gap-y-2",children:[(0,ci.jsx)("a",{href:"/about",className:"hover:text-white transition-colors",children:"About Us"}),(0,ci.jsx)("a",{href:"/blog",className:"hover:text-white transition-colors",children:"Blog"}),(0,ci.jsx)("a",{href:"/contact",className:"hover:text-white transition-colors",children:"Contact Us"}),(0,ci.jsx)("a",{href:"/pricing",className:"hover:text-white transition-colors",children:"Pricing"}),(0,ci.jsx)("a",{href:"/privacy",className:"hover:text-white transition-colors",children:"Privacy Policy"}),(0,ci.jsx)("a",{href:"/terms",className:"hover:text-white transition-colors",children:"Terms & Conditions"}),(0,ci.jsx)("a",{href:"/refund",className:"hover:text-white transition-colors",children:"Cancellation/Refund"})]}),(0,ci.jsxs)("div",{className:"border-t border-gray-700 mt-4 pt-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,ci.jsx)("div",{className:"hidden sm:flex sm:flex-1"})," ",(0,ci.jsxs)("p",{className:"flex-shrink-0 text-center text-xs text-gray-500 order-2 sm:order-1",children:["\xA9 ",new Date().getFullYear()," Powerful Tools by Acharya Preeti Sharma. All rights reserved."]}),(0,ci.jsx)("div",{className:"flex sm:flex-1 justify-center sm:justify-end order-1 sm:order-2",children:r&&(0,ci.jsxs)("div",{className:"flex items-center gap-4",children:[t.facebook?.url&&(0,ci.jsx)("a",{href:t.facebook.url,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"text-blue-500 hover:text-white transition-colors",children:(0,ci.jsx)(Jd,{size:16})}),t.instagram?.url&&(0,ci.jsx)("a",{href:t.instagram.url,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"text-pink-500 hover:text-white transition-colors",children:(0,ci.jsx)(Zd,{size:16})}),t.youtube?.url&&(0,ci.jsx)("a",{href:t.youtube.url,target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"text-red-500 hover:text-white transition-colors",children:(0,ci.jsx)(nu,{size:16})}),t.x?.url&&(0,ci.jsx)("a",{href:t.x.url,target:"_blank",rel:"noopener noreferrer","aria-label":"X (Twitter)",className:"text-gray-300 hover:text-white transition-colors",children:(0,ci.jsx)(lA,{size:16})}),t.linkedin?.url&&(0,ci.jsx)("a",{href:t.linkedin.url,target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"text-blue-400 hover:text-white transition-colors",children:(0,ci.jsx)(eA,{size:16})})]})})]})]})})},rs=B5e;var mC=ce($t());var ns=ce(_e()),_5e=({title:t,icon:e,children:r})=>(0,ns.jsxs)("div",{className:"min-h-dvh flex flex-col bg-slate-50 text-slate-800",children:[(0,ns.jsx)("header",{className:"bg-white border-b border-slate-200 z-10 sticky top-0",children:(0,ns.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between",children:[(0,ns.jsxs)("a",{href:"/",className:"flex items-center gap-3",children:[(0,ns.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600 flex-shrink-0",children:[(0,ns.jsx)("path",{d:"M5.5 8.5 9 12l-3.5 3.5L2 12l3.5-3.5Z"}),(0,ns.jsx)("path",{d:"m12 2 3.5 3.5L12 9 8.5 5.5 12 2Z"}),(0,ns.jsx)("path",{d:"M18.5 8.5 22 12l-3.5 3.5L15 12l3.5-3.5Z"}),(0,ns.jsx)("path",{d:"m12 15 3.5 3.5L12 22l-3.5-3.5L12 15Z"})]}),(0,ns.jsxs)("div",{children:[(0,ns.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Powerful Tools"}),(0,ns.jsx)("p",{className:"text-sm text-gray-500",children:"By Acharya Preeti Sharma"})]})]}),(0,ns.jsx)("div",{className:"flex items-center gap-4",children:(0,ns.jsxs)("a",{href:"/login",className:"flex items-center text-sm font-semibold text-gray-700 hover:text-blue-600 transition-colors",children:[(0,ns.jsx)(vc,{size:16,className:"mr-1"}),"Login"]})})]})}),(0,ns.jsx)("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:(0,ns.jsxs)("div",{className:"bg-white p-6 sm:p-8 md:p-12 rounded-2xl shadow-xl border border-slate-200/80",children:[(0,ns.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 border-b border-slate-200 pb-6 mb-8",children:[(0,ns.jsx)("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-full flex-shrink-0",children:e}),(0,ns.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 tracking-tight",children:t})]}),r]})}),(0,ns.jsx)(rs,{})]}),Df=_5e;var Ta=ce(_e()),E5e={about:(0,Ta.jsx)(_h,{size:28}),contact:(0,Ta.jsx)(wc,{size:28}),privacy:(0,Ta.jsx)(xc,{size:28}),terms:(0,Ta.jsx)(gc,{size:28}),refund:(0,Ta.jsx)(aA,{size:28}),shipping:(0,Ta.jsx)(b0,{size:28})},T5e=({pageKey:t,title:e})=>{let[r,n]=(0,mC.useState)(null),[a,i]=(0,mC.useState)(!0);if((0,mC.useEffect)(()=>{(async()=>{i(!0);try{let u=await Ce.collection("site_content").doc("live").get();if(u.exists){let c=u.data();c&&c[t]?n(c[t]):n({content:"Content for this page has not been configured yet."})}else n({content:"Content for this page has not been configured yet."})}catch(l){l.code==="unavailable"?(console.warn("Could not fetch page content while offline:",l.message),n({content:"This content is not available offline. Please connect to the internet to view it."})):(console.error("Error fetching page content:",l),n({content:"Could not load content due to an error."}))}finally{i(!1)}})()},[t]),a)return(0,Ta.jsx)(Fl,{});let s=()=>{if(!r)return(0,Ta.jsx)("p",{children:"Content not available."});if(t==="contact"){let o=r.email||r.phone||r.address;return(0,Ta.jsxs)("div",{className:"space-y-8",children:[(0,Ta.jsx)("p",{className:"text-lg text-slate-600",children:"Have questions? We'd love to hear from you. Reach out to us through any of the methods below."}),o?(0,Ta.jsxs)("div",{className:"space-y-6 pt-8 border-t border-slate-200",children:[(0,Ta.jsxs)("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 gap-6",children:[r.email&&(0,Ta.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 hover:border-blue-300 hover:bg-white transition-all duration-300",children:[(0,Ta.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,Ta.jsx)(Xo,{className:"h-8 w-8 text-blue-500 flex-shrink-0"}),(0,Ta.jsx)("h3",{className:"text-xl font-semibold text-slate-800",children:"Email Us"})]}),(0,Ta.jsx)("a",{href:`mailto:${r.email}`,className:"text-blue-600 hover:underline break-all text-lg",children:r.email})]}),r.phone&&(0,Ta.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 hover:border-blue-300 hover:bg-white transition-all duration-300",children:[(0,Ta.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,Ta.jsx)(wc,{className:"h-8 w-8 text-blue-500 flex-shrink-0"}),(0,Ta.jsx)("h3",{className:"text-xl font-semibold text-slate-800",children:"Call Us"})]}),(0,Ta.jsx)("a",{href:`tel:${r.phone}`,className:"text-slate-700 hover:text-blue-600 text-lg",children:r.phone})]})]}),r.address&&(0,Ta.jsxs)("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 hover:border-blue-300 hover:bg-white transition-all duration-300",children:[(0,Ta.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,Ta.jsx)(tA,{className:"h-8 w-8 text-blue-500 flex-shrink-0"}),(0,Ta.jsx)("h3",{className:"text-xl font-semibold text-slate-800",children:"Visit Us"})]}),(0,Ta.jsx)("p",{className:"text-slate-700 whitespace-pre-line text-lg",children:r.address})]})]}):(0,Ta.jsx)("p",{className:"text-center text-slate-500 pt-8 border-t border-slate-200",children:"Contact information has not been configured yet."})]})}return(0,Ta.jsx)("div",{className:"prose prose-lg max-w-none text-slate-700 prose-headings:text-slate-900 prose-a:text-blue-600 hover:prose-a:text-blue-700 prose-strong:text-slate-800",style:{whiteSpace:"pre-wrap"},children:r.content})};return(0,Ta.jsx)(Df,{title:e,icon:E5e[t],children:s()})},_c=T5e;var to=ce($t());var qa=ce($t());var xt=ce(_e()),lb={appPurchase:{requireEmailOtp:!0,requirePhoneOtp:!0},webinarPurchase:{requireEmailOtp:!1,requirePhoneOtp:!1},packagePurchase:{requireEmailOtp:!0,requirePhoneOtp:!0}},L5e=({cart:t,appliedCoupon:e,onClose:r,onPurchase:n,isProcessing:a,showNotification:i,userProfile:s,allApps:o,allWebinarProducts:l})=>{let[u,c]=(0,qa.useState)(t),[d,f]=(0,qa.useState)(new Set),[A,v]=(0,qa.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[I,w]=(0,qa.useState)(!1),[g,b]=(0,qa.useState)(""),[S,F]=(0,qa.useState)(""),[O,R]=(0,qa.useState)(""),[T,B]=(0,qa.useState)(""),[k,U]=(0,qa.useState)(s?"verified":"idle"),[E,_]=(0,qa.useState)(0),[L,D]=(0,qa.useState)(""),[z,ee]=(0,qa.useState)(s&&s.phone?"verified":"idle"),[Y,$]=(0,qa.useState)(0),[j,K]=(0,qa.useState)(null),oe=(0,qa.useMemo)(()=>{if(!l||!o)return[];let me=t.filter(it=>it.isWebinar).flatMap(it=>{let At=l.find(ct=>ct.id===it.appId);if(At&&At.addOnAppId){let ct=o.find(Tt=>Tt.id===At.addOnAppId);if(ct&&ct.pricingTiers)return ct.pricingTiers.filter(Tt=>Tt.isWebinarAddon).map(Tt=>({app:ct,tier:Tt,fromWebinarName:At.name}))}return[]});return Array.from(new Map(me.map(it=>[it.tier.id,it])).values())},[t,o,l]);(0,qa.useEffect)(()=>{let me=[...t];oe.forEach(Ue=>{let it=d.has(Ue.tier.id),At=me.some(ct=>ct.tierId===Ue.tier.id);it&&!At?me.push({appId:Ue.app.id,appName:Ue.app.name,appIcon:Ue.app.icon,tierId:Ue.tier.id,tierName:Ue.tier.name,credits:Ue.tier.credits,price:Ue.tier.price}):!it&&At&&(me=me.filter(ct=>ct.tierId!==Ue.tier.id))}),c(me)},[t,oe,d]);let q=(0,qa.useMemo)(()=>u.some(me=>!me.isWebinar&&!me.isConsultation),[u]),X=!s&&q,te=me=>{f(Ue=>{let it=new Set(Ue);return it.has(me)?it.delete(me):it.add(me),it})};(0,qa.useEffect)(()=>{if(s){let[me,...Ue]=(s.name||"").split(" ");v(it=>({...it,firstName:me||"",lastName:Ue.join(" ")||"",email:s.email||"",phone:s.phone||""})),U("verified"),s.phone&&ee("verified")}else Ce.collection("site_content").doc("checkout_settings").get().then(me=>{if(me.exists){let Ue=me.data();Ue.requireEmailOtp!==void 0||Ue.requirePhoneOtp!==void 0?K({appPurchase:{requireEmailOtp:Ue.requireEmailOtp!==!1,requirePhoneOtp:Ue.requirePhoneOtp!==!1},webinarPurchase:{requireEmailOtp:!1,requirePhoneOtp:!1},packagePurchase:{requireEmailOtp:!0,requirePhoneOtp:!0}}):K({appPurchase:{...lb.appPurchase,...Ue.appPurchase},webinarPurchase:{...lb.webinarPurchase,...Ue.webinarPurchase},packagePurchase:{...lb.packagePurchase,...Ue.packagePurchase}})}else K(lb)}).catch(()=>{K(lb)})},[s]),(0,qa.useEffect)(()=>{let me;return E>0&&(me=window.setInterval(()=>{_(Ue=>Ue-1)},1e3)),()=>{me&&window.clearInterval(me)}},[E]),(0,qa.useEffect)(()=>{let me;return Y>0&&(me=window.setInterval(()=>{$(Ue=>Ue-1)},1e3)),()=>{me&&window.clearInterval(me)}},[Y]),(0,qa.useEffect)(()=>{let me=setTimeout(()=>{let Ue=`${A.firstName} ${A.lastName}`.trim(),it=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.email),At=/^\d{10}$/.test(A.phone);if(Ue&&it&&At&&t.length>0&&!s){let ct=`lead_captured_${A.email}`;sessionStorage.getItem(ct)||cr.httpsCallable("captureLead")({name:Ue,email:A.email,phone:A.phone,cart:t}).then(()=>{sessionStorage.setItem(ct,"true")}).catch(Ot=>{console.error("Failed to capture lead:",Ot)})}},1500);return()=>clearTimeout(me)},[A.firstName,A.lastName,A.email,A.phone,t,s]);let ue=(0,qa.useMemo)(()=>u.reduce((me,Ue)=>me+Ue.price,0),[u]),be=(0,qa.useMemo)(()=>e?u.reduce((me,Ue)=>e.appIds.includes(Ue.appId)?me+Ue.price*(e.discountPercentage/100):me,0):0,[u,e]),ge=ue-be,Ne=(0,qa.useMemo)(()=>u.some(me=>me.isConsultation),[u]),Le=(0,qa.useMemo)(()=>u.some(me=>me.isWebinar),[u]),Ie=(0,qa.useMemo)(()=>j?q?j.appPurchase:Ne?j.packagePurchase:Le?j.webinarPurchase:j.appPurchase:lb.appPurchase,[j,q,Ne,Le]),de=!s&&(Ie?.requireEmailOtp??!0),xe=!s&&(Ie?.requirePhoneOtp??!0);(0,qa.useEffect)(()=>{A.password&&A.confirmPassword&&A.password!==A.confirmPassword?b("Passwords do not match."):b("")},[A.password,A.confirmPassword]);let qe=me=>{let{name:Ue,value:it}=me.target;if(Ue==="phone"){let At=it.replace(/[^0-9]/g,"");At.startsWith("91")&&At.length>10?At=At.substring(2):At.startsWith("0")&&At.length===11&&(At=At.substring(1));let ct=At.slice(0,10);v(Tt=>({...Tt,phone:ct})),ct.length>0&&ct.length<10?F("Mobile number must be 10 digits."):ct.length===10&&!/^[6-9]/.test(ct)?F("Please enter a valid Indian mobile number (starting with 6, 7, 8, or 9)."):F(""),xe&&ct!==A.phone&&(ee("idle"),D(""))}else v(At=>({...At,[Ue]:it}));Ue==="email"&&de&&it!==A.email&&(U("idle"),B(""))},wt=async()=>{if(A.phone.length!==10){i("Please enter a valid 10-digit Indian mobile number.","error");return}ee("sending");try{if((await cr.httpsCallable("checkIfUserExists")({phone:A.phone})).data.exists){i("This phone number is already registered. Please log in.","error"),ee("idle");return}await cr.httpsCallable("sendPhoneVerificationOtp")({phone:A.phone}),ee("sent"),$(60),i("An OTP has been sent. It may take a moment to arrive.","info")}catch(me){console.error("Error sending phone OTP:",me),i(me.message||"Failed to send OTP. Please try again.","error"),ee("idle")}},Re=async()=>{if(L.length!==6){i("Please enter the 6-digit OTP.","error");return}ee("verifying");try{await cr.httpsCallable("verifyOtp")({identifier:A.phone,otp:L,isPhone:!0}),i("Mobile number verified successfully!","success"),ee("verified")}catch(me){console.error("Error verifying phone OTP:",me),i(me.message||"Failed to verify OTP.","error"),ee("sent")}},Ae=async()=>{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.email)){i("Please enter a valid email address.","error");return}U("sending"),B("");try{if(q&&(await cr.httpsCallable("checkIfUserExists")({email:A.email})).data.exists){i("This email is already registered. Please log in to purchase apps.","error"),U("idle");return}await cr.httpsCallable("sendVerificationOtp")({email:A.email,name:`${A.firstName} ${A.lastName}`.trim()||"User"}),i("An OTP has been sent. It may take a moment to arrive.","info"),U("sent"),_(60)}catch(me){console.error("Error sending email OTP:",me),i(me.message||"Failed to send OTP. Please try again.","error"),U("idle")}},Kt=async()=>{if(T.length!==6){i("Please enter the 6-digit OTP.","error");return}U("verifying");try{await cr.httpsCallable("verifyOtp")({identifier:A.email,otp:T,isPhone:!1}),i("Email verified successfully!","success"),U("verified")}catch(me){console.error("Error verifying email OTP:",me),i(me.message||"Failed to verify OTP.","error"),U("sent")}},zt=async me=>{if(me.preventDefault(),b(""),S){i(S,"error");return}if(s){w(!0);try{let Ue=`${A.firstName} ${A.lastName}`.trim(),it={};Ue&&Ue!==s.name&&(it.name=Ue),A.phone&&A.phone!==s.phone&&(it.phone=A.phone),Object.keys(it).length>0&&(await Ce.collection("users").doc(s.id).update(it),i("Contact details updated.","info",1500)),n({},u)}catch(Ue){i(`Failed to update details: ${Ue.message}`,"error"),w(!1)}}else{if(de&&k!=="verified"){i("Please verify your email to proceed.","error");return}if(xe&&z!=="verified"){i("Please verify your mobile number to proceed.","error");return}if(X){if(A.password!==A.confirmPassword){b("Passwords do not match.");return}if(A.password.length<6){b("Password must be at least 6 characters long.");return}}n({guestDetails:{name:`${A.firstName} ${A.lastName}`.trim(),email:A.email,phone:A.phone,password:X?A.password:""},referralCode:q?O.trim():void 0},u)}},pt=a||I||de&&k!=="verified"||xe&&z!=="verified"||!!S,Oe=()=>a||I?(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)(Pt,{className:"animate-spin mr-2",size:20})," Processing..."]}):de&&k!=="verified"?(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)(Eh,{size:16,className:"mr-2"})," Verify Email to Proceed"]}):xe&&z!=="verified"?(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)(Eh,{size:16,className:"mr-2"})," Verify Phone to Proceed"]}):S?(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)(Eh,{size:16,className:"mr-2"})," Fix Errors to Proceed"]}):(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)(Sh,{size:16,className:"mr-2"})," Proceed to Payment"]});return(0,xt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:(0,xt.jsxs)("form",{onSubmit:zt,className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[(0,xt.jsxs)("header",{className:"p-6 border-b flex-shrink-0",children:[(0,xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xt.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:s?"Confirm Your Details":"Guest Checkout"}),(0,xt.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",disabled:a,children:(0,xt.jsx)(dr,{size:24})})]}),(0,xt.jsx)("p",{className:"text-gray-500 mt-1",children:X?"An account will be created for you upon successful purchase.":"Please confirm your details for the purchase."})]}),(0,xt.jsxs)("main",{className:"flex-grow p-6 space-y-6 overflow-y-auto bg-gray-50/50",children:[(0,xt.jsxs)("div",{children:[(0,xt.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Order Summary"}),(0,xt.jsxs)("div",{className:"p-4 bg-white border rounded-lg shadow-sm space-y-3",children:[u.map((me,Ue)=>{let it=e?.appIds.includes(me.appId),At=it?me.price*(e.discountPercentage/100):0;return(0,xt.jsxs)("div",{className:"border-b last:border-b-0 pb-3 last:pb-0",children:[(0,xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xt.jsx)(da,{icon:me.appIcon,name:me.appName,className:"h-8 w-8 rounded-md flex-shrink-0"}),(0,xt.jsx)("p",{className:"font-semibold text-gray-800",children:me.appName})]}),(0,xt.jsxs)("p",{className:"font-medium text-gray-800",children:["\u20B9",(me.price/100).toFixed(2)]})]}),it&&(0,xt.jsxs)("div",{className:"flex justify-end items-center text-green-600 text-sm mt-1",children:[(0,xt.jsx)("span",{children:"Coupon Discount"}),(0,xt.jsxs)("span",{className:"font-medium ml-2",children:["- \u20B9",(At/100).toFixed(2)]})]})]},`${me.tierId}-${Ue}`)}),(0,xt.jsxs)("div",{className:"flex justify-between items-center font-bold text-gray-800 text-xl pt-3",children:[(0,xt.jsx)("p",{children:"Total"}),(0,xt.jsxs)("p",{children:["\u20B9",(ge/100).toFixed(2)]})]})]})]}),oe.length>0&&(0,xt.jsxs)("div",{children:[(0,xt.jsxs)("h4",{className:"font-semibold text-gray-700 mb-2",children:["\u2728 Special Webinar Offer",oe.length>1?"s":"","!"]}),(0,xt.jsx)("div",{className:"space-y-3",children:oe.map(me=>(0,xt.jsxs)("div",{className:"p-3 bg-purple-50 border-2 border-purple-200 rounded-lg shadow-sm space-y-2",children:[(0,xt.jsxs)("p",{className:"text-xs text-purple-700 font-semibold",children:["Offer for: ",me.fromWebinarName]}),(0,xt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xt.jsx)(da,{icon:me.app.icon,name:me.app.name,className:"h-10 w-10 rounded-md flex-shrink-0"}),(0,xt.jsxs)("div",{children:[(0,xt.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:me.app.name}),(0,xt.jsx)("p",{className:"text-xs text-gray-600",children:me.tier.name})]}),(0,xt.jsxs)("div",{className:"ml-auto text-right",children:[me.tier.originalPrice&&(0,xt.jsxs)("p",{className:"text-xs text-gray-500 line-through",children:["\u20B9",(me.tier.originalPrice/100).toFixed(2)]}),(0,xt.jsxs)("p",{className:"font-semibold text-base text-purple-600",children:["\u20B9",(me.tier.price/100).toFixed(2)]})]})]}),(0,xt.jsxs)("label",{className:"flex items-center gap-2 mt-2 p-2 bg-white rounded-md cursor-pointer hover:bg-purple-50",children:[(0,xt.jsx)("input",{type:"checkbox",checked:d.has(me.tier.id),onChange:()=>te(me.tier.id),className:"h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,xt.jsx)("span",{className:"font-semibold text-purple-800 text-sm",children:"Yes, I want to avail this special offer!"})]})]},me.tier.id))})]}),(0,xt.jsxs)("div",{children:[(0,xt.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Your Details"}),(0,xt.jsxs)("div",{className:"p-4 bg-white border rounded-lg shadow-sm space-y-4",children:[(0,xt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xt.jsxs)("div",{className:"relative",children:[(0,xt.jsx)(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,xt.jsx)("input",{type:"text",name:"firstName",value:A.firstName,onChange:qe,placeholder:"First Name",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",disabled:a||I})]}),(0,xt.jsxs)("div",{className:"relative",children:[(0,xt.jsx)(ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,xt.jsx)("input",{type:"text",name:"lastName",value:A.lastName,onChange:qe,placeholder:"Last Name",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",disabled:a||I})]})]}),(0,xt.jsxs)("div",{className:"relative",children:[(0,xt.jsx)(Xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,xt.jsx)("input",{type:"email",name:"email",value:A.email,onChange:qe,placeholder:"Your Email Address",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",disabled:a||I||!!s}),de&&k==="idle"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.email)&&(0,xt.jsx)("button",{type:"button",onClick:Ae,className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs font-semibold text-blue-600 hover:underline",children:"Send OTP"}),de&&k==="sending"&&(0,xt.jsx)(Pt,{className:"absolute right-2 top-1/2 -translate-y-1/2 animate-spin text-gray-400",size:16}),k==="verified"&&(0,xt.jsx)(Dn,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-green-500",size:16})]}),de&&(k==="sent"||k==="verifying")&&(0,xt.jsxs)("div",{className:"space-y-1 pl-2",children:[(0,xt.jsxs)("div",{className:"flex gap-2",children:[(0,xt.jsx)("input",{type:"text",value:T,onChange:me=>B(me.target.value),placeholder:"Email OTP",maxLength:6,className:"flex-grow p-2 border rounded-lg",disabled:k==="verifying"}),(0,xt.jsx)("button",{type:"button",onClick:Kt,className:"px-4 py-2 bg-gray-800 text-white font-semibold rounded-lg hover:bg-black disabled:bg-gray-400 flex items-center justify-center w-28",disabled:k==="verifying",children:k==="verifying"?(0,xt.jsx)(Pt,{className:"animate-spin",size:20}):"Verify"})]}),(0,xt.jsx)("div",{className:"text-right pr-1",children:(0,xt.jsx)("button",{type:"button",onClick:Ae,disabled:E>0||k==="verifying",className:"text-xs font-semibold text-blue-600 hover:underline disabled:text-gray-400 disabled:cursor-not-allowed",children:E>0?`Resend in ${E}s`:"Resend OTP"})})]}),(0,xt.jsxs)("div",{children:[(0,xt.jsxs)("div",{className:"relative",children:[(0,xt.jsx)(wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,xt.jsx)("input",{type:"tel",name:"phone",value:A.phone,onChange:qe,placeholder:"10-Digit Mobile Number",required:!0,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500 ${S?"border-red-500":"border-gray-300"}`,disabled:a||I}),xe&&z==="idle"&&A.phone.length===10&&!S&&(0,xt.jsx)("button",{type:"button",onClick:wt,className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs font-semibold text-blue-600 hover:underline",children:"Send OTP"}),xe&&z==="sending"&&(0,xt.jsx)(Pt,{className:"absolute right-2 top-1/2 -translate-y-1/2 animate-spin text-gray-400",size:16}),z==="verified"&&(0,xt.jsx)(Dn,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-green-500",size:16})]}),S&&(0,xt.jsx)("p",{className:"text-red-600 text-sm mt-1 px-1",children:S})]}),xe&&(z==="sent"||z==="verifying")&&(0,xt.jsxs)("div",{className:"space-y-1 pl-2",children:[(0,xt.jsxs)("div",{className:"flex gap-2",children:[(0,xt.jsx)("input",{type:"text",value:L,onChange:me=>D(me.target.value),placeholder:"Phone OTP",maxLength:6,className:"flex-grow p-2 border rounded-lg",disabled:z==="verifying"}),(0,xt.jsx)("button",{type:"button",onClick:Re,className:"px-4 py-2 bg-gray-800 text-white font-semibold rounded-lg hover:bg-black disabled:bg-gray-400 flex items-center justify-center w-28",disabled:z==="verifying",children:z==="verifying"?(0,xt.jsx)(Pt,{className:"animate-spin",size:20}):"Verify"})]}),(0,xt.jsx)("div",{className:"text-right pr-1",children:(0,xt.jsx)("button",{type:"button",onClick:wt,disabled:Y>0||z==="verifying",className:"text-xs font-semibold text-blue-600 hover:underline disabled:text-gray-400 disabled:cursor-not-allowed",children:Y>0?`Resend in ${Y}s`:"Resend OTP"})})]}),X&&(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xt.jsx)("div",{children:(0,xt.jsxs)("div",{className:"relative",children:[(0,xt.jsx)(Pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,xt.jsx)("input",{type:"password",name:"password",value:A.password,onChange:qe,placeholder:"Create Password",required:!0,minLength:6,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500 ${g?"border-red-500":"border-gray-300"}`,disabled:a})]})}),(0,xt.jsx)("div",{children:(0,xt.jsxs)("div",{className:"relative",children:[(0,xt.jsx)(Pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,xt.jsx)("input",{type:"password",name:"confirmPassword",value:A.confirmPassword,onChange:qe,placeholder:"Confirm Password",required:!0,minLength:6,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500 ${g?"border-red-500":"border-gray-300"}`,disabled:a})]})})]}),g&&(0,xt.jsx)("p",{className:"text-red-600 text-sm -mt-3 px-1",children:g})]}),q&&!s?.referredBy&&(0,xt.jsxs)("div",{className:"relative pt-2",children:[(0,xt.jsx)(uA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,xt.jsx)("input",{type:"text",value:O,onChange:me=>R(me.target.value),placeholder:"Referral Code (Optional)",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",disabled:a})]})]})]})]}),(0,xt.jsxs)("footer",{className:"bg-white px-6 py-4 flex flex-col-reverse sm:flex-row justify-end gap-3 rounded-b-xl border-t flex-shrink-0",children:[(0,xt.jsx)("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",disabled:a||I,children:"Cancel"}),(0,xt.jsx)("button",{type:"submit",className:"w-full sm:w-auto flex items-center justify-center py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold disabled:bg-blue-400",disabled:pt,children:Oe()})]})]})})},Rm=L5e;var gC=ce($t());var zh=ce(_e()),P5e=({cart:t,onOpenCart:e})=>{let[r,n]=(0,gC.useState)(!1);(0,gC.useEffect)(()=>{let i=setTimeout(()=>{t.length>0&&n(!0)},300);return()=>clearTimeout(i)},[t.length]),(0,gC.useEffect)(()=>{t.length===0&&n(!1)},[t.length]);let a=t.reduce((i,s)=>i+s.price,0);return(0,zh.jsxs)("button",{onClick:e,className:`fixed top-6 left-1/2 -translate-x-1/2 bg-blue-600 text-white rounded-full shadow-2xl flex items-center h-14 px-5 z-40
                       hover:bg-blue-700 transition-all duration-300 ease-out transform focus:outline-none focus:ring-4 focus:ring-blue-300
                       ${r?"opacity-100 translate-y-0":"opacity-0 -translate-y-20"}`,children:[(0,zh.jsxs)("div",{className:"relative",children:[(0,zh.jsx)(Th,{size:24}),(0,zh.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:t.length})]}),(0,zh.jsx)("span",{className:"ml-3 font-semibold text-md",children:"View Cart"}),(0,zh.jsx)("div",{className:"h-6 w-px bg-blue-400 mx-3"}),(0,zh.jsxs)("span",{className:"font-bold text-md",children:["\u20B9",(a/100).toFixed(2)]})]})},ub=P5e;var ey=ce($t());var qr=ce(_e()),k5e=t=>{if(!t)return"";let[e,r]=t.split(":"),n=parseInt(e,10),a=n>=12?"PM":"AM";return`${n%12||12}:${String(r).padStart(2,"0")} ${a}`},F5e=(t,e)=>{if(!t||!e)return"";let[r,n]=t.split(":").map(Number),a=new Date;return a.setHours(r,n,0,0),new Date(a.getTime()+e*6e4).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},R5e=({cart:t,onClose:e,onRemoveItem:r,onPayOnline:n,onPayManually:a,isProcessing:i,showNotification:s,appliedCoupon:o,setAppliedCoupon:l})=>{let[u,c]=(0,ey.useState)(""),[d,f]=(0,ey.useState)(!1),[A,v]=(0,ey.useState)(!1);(0,ey.useEffect)(()=>{v(!0)},[]),(0,ey.useEffect)(()=>{o&&c(o.code)},[o]);let I=()=>{v(!1),setTimeout(e,300)},w=t.reduce((O,R)=>O+R.price,0),g=0;o&&t.forEach(O=>{o.appIds.includes(O.appId)&&(g+=O.price*(o.discountPercentage/100))});let b=w-g,S=async()=>{if(u.trim()){f(!0),l(null);try{let T=(await cr.httpsCallable("validateCoupon")({code:u.trim().toUpperCase(),items:t})).data;T.success&&T.discountPercentage&&T.appIds?(l({code:u.trim().toUpperCase(),discountPercentage:T.discountPercentage,appIds:T.appIds}),s(T.message,"success")):s(T.message,"error")}catch(O){console.error("Coupon validation error:",O),s(O.message||"Failed to validate coupon.","error")}finally{f(!1)}}},F=()=>{l(null),c(""),s("Coupon removed.","info")};return(0,qr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 p-4 backdrop-blur-sm",onClick:I,children:(0,qr.jsxs)("div",{className:`absolute top-6 left-1/2 -translate-x-1/2 bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[calc(100vh-3rem)] flex flex-col transition-all duration-300 ease-out ${A?"opacity-100 translate-y-0":"opacity-0 -translate-y-12"}`,onClick:O=>O.stopPropagation(),children:[(0,qr.jsx)("header",{className:"p-6 border-b flex-shrink-0",children:(0,qr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,qr.jsx)(Th,{className:"text-blue-600",size:24}),(0,qr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Your Cart"})]}),(0,qr.jsx)("button",{type:"button",onClick:I,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors",disabled:i,children:(0,qr.jsx)(dr,{size:24})})]})}),(0,qr.jsx)("main",{className:"flex-grow p-6 space-y-4 overflow-y-auto bg-gray-50/50",children:t.length>0?t.map((O,R)=>{let T=o?.appIds.includes(O.appId),B=O.price,k=T?B*(1-o.discountPercentage/100):B;return(0,qr.jsxs)("div",{className:"flex items-start gap-4 p-3 bg-white border rounded-lg shadow-sm",children:[(0,qr.jsx)(da,{icon:O.appIcon,name:O.appName,className:"h-12 w-12 rounded-md flex-shrink-0"}),(0,qr.jsxs)("div",{className:"flex-grow",children:[(0,qr.jsx)("p",{className:"font-bold text-gray-800",children:O.appName}),O.isConsultation&&O.appointmentTime&&O.durationInMinutes&&O.appointmentDate?(0,qr.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,qr.jsxs)("span",{className:"font-semibold",children:[k5e(O.appointmentTime)," - ",F5e(O.appointmentTime,O.durationInMinutes)]}),(0,qr.jsx)("br",{}),"on ",new Date(O.appointmentDate+"T00:00:00").toLocaleDateString("en-GB",{day:"numeric",month:"long"})]}):(0,qr.jsxs)("p",{className:"text-sm text-gray-600",children:[O.tierName,!O.isWebinar&&` - ${O.credits===0?"Unlimited credits":`${O.credits.toLocaleString()} credits`}`]}),T&&(0,qr.jsxs)("p",{className:"text-xs text-green-600 font-semibold mt-1",children:[o.discountPercentage,"% Discount Applied"]})]}),(0,qr.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,qr.jsxs)("p",{className:`font-semibold text-gray-800 ${T?"line-through text-gray-400":""}`,children:["\u20B9",(B/100).toFixed(2)]}),T&&(0,qr.jsxs)("p",{className:"font-bold text-green-600",children:["\u20B9",(k/100).toFixed(2)]})]}),(0,qr.jsx)("button",{onClick:()=>r(R),className:"p-2 text-red-500 hover:bg-red-100 rounded-full transition-colors self-center","aria-label":`Remove ${O.tierName} for ${O.appName}`,disabled:i,children:(0,qr.jsx)(Ar,{size:18})})]},`${O.tierId}-${R}`)}):(0,qr.jsx)("p",{className:"text-center text-gray-500 py-12",children:"Your cart is empty."})}),(0,qr.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 space-y-4 rounded-b-xl border-t flex-shrink-0",children:[(0,qr.jsx)("div",{className:"space-y-2",children:o?(0,qr.jsxs)("div",{className:"p-2 bg-green-100 text-green-800 rounded-lg flex justify-between items-center text-sm",children:[(0,qr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qr.jsx)(Dn,{size:16}),(0,qr.jsxs)("p",{children:["Coupon ",(0,qr.jsx)("strong",{children:o.code})," applied!"]})]}),(0,qr.jsx)("button",{onClick:F,className:"p-1 rounded-full hover:bg-green-200",children:(0,qr.jsx)(dr,{size:16})})]}):(0,qr.jsxs)("div",{className:"flex gap-2",children:[(0,qr.jsxs)("div",{className:"relative flex-grow",children:[(0,qr.jsx)(sA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,qr.jsx)("input",{type:"text",value:u,onChange:O=>c(O.target.value),placeholder:"Enter Coupon Code",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition bg-white text-gray-900 placeholder-gray-500",disabled:d||i})]}),(0,qr.jsx)("button",{onClick:S,disabled:!u||d||i,className:"px-4 py-2 bg-gray-800 text-white font-semibold rounded-lg hover:bg-black transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center w-28",children:d?(0,qr.jsx)(Pt,{className:"animate-spin",size:20}):"Apply"})]})}),(0,qr.jsxs)("div",{className:"pt-4 border-t text-right space-y-1",children:[(0,qr.jsxs)("div",{className:"text-gray-600",children:["Subtotal: ",(0,qr.jsxs)("span",{className:"font-medium text-gray-800",children:["\u20B9",(w/100).toFixed(2)]})]}),g>0&&(0,qr.jsxs)("div",{className:"text-green-600",children:["Discount: ",(0,qr.jsxs)("span",{className:"font-medium",children:["- \u20B9",(g/100).toFixed(2)]})]}),(0,qr.jsxs)("div",{className:"font-bold text-2xl text-gray-800",children:["Total: ",(0,qr.jsxs)("span",{className:"text-blue-600",children:["\u20B9",(b/100).toFixed(2)]})]})]}),(0,qr.jsxs)("div",{className:"space-y-2",children:[(0,qr.jsx)("button",{onClick:()=>n(),disabled:t.length===0||i,className:"w-full flex items-center justify-center py-3 px-8 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold disabled:bg-gray-400",children:i?(0,qr.jsxs)(qr.Fragment,{children:[(0,qr.jsx)(Pt,{className:"animate-spin mr-2",size:20})," Processing..."]}):(0,qr.jsxs)(qr.Fragment,{children:[(0,qr.jsx)(Sh,{size:18,className:"mr-2"})," Pay Online (Razorpay)"]})}),(0,qr.jsxs)("button",{onClick:()=>a(),disabled:t.length===0||i,className:"w-full flex items-center justify-center py-3 px-8 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:bg-gray-400",children:[(0,qr.jsx)(p0,{size:18,className:"mr-2"})," Pay Manually (QR Code)"]})]})]})]})})},cb=R5e;var IA=ce(_e()),U5e=()=>(0,IA.jsxs)("div",{className:"text-center py-12",children:[(0,IA.jsx)("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-green-100 mb-6",children:(0,IA.jsx)(Dn,{className:"h-14 w-14 text-green-600","aria-hidden":"true"})}),(0,IA.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"Your Purchase and Account Creation were Successful!"}),(0,IA.jsx)("p",{className:"mt-4 text-lg text-slate-600 max-w-2xl mx-auto",children:"Welcome aboard! Your credits have been added and your new account is ready."}),(0,IA.jsx)("p",{className:"mt-2 text-md text-slate-500 max-w-2xl mx-auto",children:"You can now log in using the email and password you provided."}),(0,IA.jsx)("div",{className:"mt-8",children:(0,IA.jsxs)("a",{href:"/login",className:"inline-flex items-center justify-center px-8 py-3 text-base font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-transform hover:scale-105 shadow-lg",children:[(0,IA.jsx)(vc,{size:20,className:"mr-2"})," Proceed to Login"]})})]}),db=U5e;var Ir=ce(_e()),D5e=()=>new Promise(t=>{let e="razorpay-checkout-js";if(document.getElementById(e))return t(!0);let r=document.createElement("script");r.id=e,r.src="https://checkout.razorpay.com/v1/checkout.js",r.onload=()=>t(!0),r.onerror=()=>{document.getElementById(e)?.remove(),t(!1)},document.body.appendChild(r)}),EM=({userProfile:t,showNotification:e,onPurchaseSuccess:r})=>{let[n,a]=(0,to.useState)([]),[i,s]=(0,to.useState)([]),[o,l]=(0,to.useState)(!0),[u,c]=(0,to.useState)(!1),[d,f]=(0,to.useState)([]),[A,v]=(0,to.useState)(!1),[I,w]=(0,to.useState)(!1),[g,b]=(0,to.useState)(!1),[S,F]=(0,to.useState)(null),[O,R]=(0,to.useState)(null),[T,B]=(0,to.useState)(!1),[k,U]=(0,to.useState)([]),[E,_]=(0,to.useState)(null);(0,to.useEffect)(()=>{if(E){let K=setTimeout(()=>{window.location.href=E.url},3e3);return()=>clearTimeout(K)}},[E]),(0,to.useEffect)(()=>{(async()=>{l(!0);try{let oe=Ce.collection("apps").get(),q=Ce.collection("webinar_products").get(),[X,te]=await Promise.all([oe,q]),ue=X.docs.map(ge=>({id:ge.id,...ge.data()}));a(ue);let be=te.docs.map(ge=>({id:ge.id,...ge.data()}));s(be)}catch(oe){oe.code==="unavailable"?(console.warn("Could not fetch page data while offline:",oe.message),e("You are offline. Content may not be up to date.","info")):(console.error("Error fetching page data:",oe),e("Could not load page content.","error"))}finally{l(!1)}})()},[e]);let L=(0,to.useMemo)(()=>n.filter(K=>!K.comingSoon).map(K=>({...K,pricingTiers:(K.pricingTiers||[]).filter(oe=>oe.id&&oe.name&&oe.price>0&&oe.credits>=0&&(!oe.isWebinarAddon||oe.isPublic))})).filter(K=>K.pricingTiers&&K.pricingTiers.length>0||K.marketingVideoUrl),[n]),D=(0,to.useMemo)(()=>n.filter(K=>K.comingSoon),[n]),z=(K,oe)=>{let q={appId:K.id,appName:K.name,appIcon:K.icon,tierId:oe.id,tierName:oe.name,credits:oe.credits,price:oe.price};f(X=>[...X,q]),e(`${oe.name} for ${K.name} added to cart`,"success"),window.fbq&&window.fbq("track","AddToCart",{content_ids:[oe.id],content_name:`${K.name} - ${oe.name}`,content_type:"product",currency:"INR",value:(oe.price/100).toFixed(2)})},ee=K=>{let oe=d[K];f(q=>q.filter((X,te)=>te!==K)),S&&S.appIds.includes(oe.appId)&&d.filter(X=>X.appId!==oe.appId&&S.appIds.includes(X.appId)).length===0&&(F(null),e("Coupon removed as applicable item was taken from cart.","info"))},Y=async(K,oe)=>{if(oe.length===0){e("Your cart is empty.","error");return}c(!0);try{let q=oe.some(xe=>!xe.isWebinar&&!xe.isConsultation);if((!t||t==="loading")&&K.guestDetails&&q&&(await cr.httpsCallable("checkIfUserExists")({email:K.guestDetails.email})).data.exists){e("This email is already registered. Please log in to purchase apps.","error"),c(!1);return}if(!await D5e()||typeof window.Razorpay>"u"){e("Could not load payment gateway. Please check your connection and try again.","error"),c(!1);return}let ge=(await cr.httpsCallable("createRazorpayOrder")({items:oe,guestDetails:K.guestDetails,couponCode:S?.code,referredBy:K.referralCode})).data;if(ge.freeOrder){if(ge.webinarLink){v(!1),w(!1);let qe=oe.some(wt=>!wt.isWebinar)?"Purchase successful! Your login credentials have been emailed. Redirecting to the webinar...":"Purchase successful! Redirecting you to the webinar...";_({url:ge.webinarLink,message:qe})}else v(!1),w(!1),f([]),F(null),t&&t!=="loading"?r(oe):b(!0),c(!1),e(ge.message||"Your free order was processed successfully!","success");return}let Ie={key:(await cr.httpsCallable("getPaymentConfiguration")()).data.keyId,amount:ge.amount,currency:ge.currency,name:"Powerful Tools Portal",description:ge.description,order_id:ge.razorpayOrderId,prefill:ge.prefill,theme:{color:"#2563EB"},handler:xe=>{if(ge.webinarLink){v(!1),w(!1);let wt=oe.some(Re=>!Re.isWebinar)?"Purchase successful! Your credentials have been emailed. Redirecting to the webinar...":"Purchase successful! Redirecting you to the webinar...";_({url:ge.webinarLink,message:wt})}else v(!1),w(!1),f([]),F(null),t&&t!=="loading"?r(oe):b(!0),c(!1)},modal:{ondismiss:()=>c(!1)}},de=new window.Razorpay(Ie);de.on("payment.failed",xe=>{e(`Payment failed: ${xe.error.description}. Please try again.`,"error"),c(!1)}),de.open()}catch(q){console.error("Error during purchase:",q);let X=q.details?.message||q.message||"An unknown error occurred.";e(`Checkout failed: ${X}`,"error"),c(!1)}},$=()=>{if(d.length===0){e("Your cart is empty.","error");return}let K=d.map(oe=>{if(S&&S.appIds.includes(oe.appId)){let q=oe.price*(1-S.discountPercentage/100);return{...oe,price:Math.round(q)}}return oe});U(K),B(!0),v(!1),w(!1)},j=()=>{if(d.length===0){e("Your cart is empty.","error");return}w(!0)};return o?(0,Ir.jsx)(Fl,{}):(0,Ir.jsxs)("div",{className:E?"blur-sm":"",children:[E&&(0,Ir.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-[101] flex flex-col items-center justify-center text-white p-4",children:[(0,Ir.jsxs)("svg",{className:"animate-spin h-12 w-12 text-white mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ir.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ir.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Ir.jsx)("p",{className:"text-2xl font-semibold",children:"Payment Successful!"}),(0,Ir.jsx)("p",{className:"mt-2 text-lg",children:E.message})]}),(0,Ir.jsxs)(Df,{title:"Apps and Pricing",icon:(0,Ir.jsx)(vo,{size:28}),children:[(0,Ir.jsx)("p",{className:"text-center -mt-4 mb-12 text-lg text-slate-600 max-w-3xl mx-auto",children:"Explore our suite of powerful tools. Watch a demo, then choose a credit pack to get started and unlock your potential."}),L.length>0?(0,Ir.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:L.map(K=>(0,Ir.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 flex flex-col overflow-hidden transform hover:-translate-y-1 transition-transform duration-300",children:[(0,Ir.jsxs)("div",{className:"p-5",children:[(0,Ir.jsxs)("div",{className:"flex items-start gap-4 mb-3",children:[(0,Ir.jsx)(da,{icon:K.icon,name:K.name,className:"h-10 w-10 rounded-lg flex-shrink-0"}),(0,Ir.jsxs)("div",{className:"flex-1",children:[(0,Ir.jsx)("h3",{className:"text-xl font-bold text-gray-800 leading-tight",children:K.name}),K.marketingVideoUrl&&au(K.marketingVideoUrl)&&(0,Ir.jsxs)("button",{onClick:()=>R(K.marketingVideoUrl),className:"mt-1 flex items-center gap-1.5 py-1 text-sm font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:[(0,Ir.jsx)(tu,{size:16}),"How It Works"]})]})]}),(0,Ir.jsx)(W0,{text:K.description||"No description available.",maxLength:100})]}),K.pricingTiers&&K.pricingTiers.length>0?(0,Ir.jsx)("div",{className:"px-5 py-4 bg-gray-50/70 border-t flex-grow",children:(0,Ir.jsx)("div",{className:"space-y-2",children:K.pricingTiers.map(oe=>(0,Ir.jsx)("div",{className:"p-2 rounded-md bg-white border",children:(0,Ir.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ir.jsxs)("div",{children:[(0,Ir.jsx)("p",{className:"font-semibold text-gray-700 text-sm",children:oe.name}),oe.credits===0?(0,Ir.jsxs)(Ir.Fragment,{children:[(0,Ir.jsx)("p",{className:"text-xs text-blue-600 font-mono",children:"Unlimited credits"}),K.fairUsePolicy&&K.fairUsePolicy.limit>0&&(0,Ir.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(0,Ir.jsx)("b",{children:" Fair use policy:"}),(0,Ir.jsx)("p",{children:(0,Ir.jsxs)("i",{children:[" ",K.fairUsePolicy.limit," credits / ",K.fairUsePolicy.frequency.replace("ily","y").replace("ly",""),K.fairUsePolicy.customText&&` ${K.fairUsePolicy.customText}`]})})]})]}):(0,Ir.jsx)("p",{className:"text-xs text-blue-600 font-mono",children:`${oe.credits.toLocaleString()} credits`})]}),(0,Ir.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ir.jsxs)("p",{className:"font-bold text-base text-gray-800",children:["\u20B9",(oe.price/100).toFixed(2)]}),(0,Ir.jsx)("button",{onClick:()=>z(K,oe),className:"flex items-center justify-center h-9 w-9 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-600 hover:text-white transition-colors","aria-label":`Add ${oe.name} for ${K.name} to cart`,children:(0,Ir.jsx)(Fu,{size:18})})]})]})},oe.id))})}):(0,Ir.jsx)("div",{className:"px-5 py-4 bg-gray-50/70 border-t flex-grow flex items-center justify-center",children:(0,Ir.jsx)("p",{className:"text-center text-sm text-gray-500 py-4",children:"Pricing not available."})})]},K.id))}):(0,Ir.jsxs)("div",{className:"text-center py-16 text-gray-500 bg-gray-50 rounded-lg",children:[(0,Ir.jsx)("h3",{className:"text-xl font-semibold",children:"No Applications Available"}),(0,Ir.jsx)("p",{className:"mt-2",children:"No apps are currently available for purchase. Please check back later."})]}),D.length>0&&(0,Ir.jsxs)(Ir.Fragment,{children:[(0,Ir.jsxs)("div",{className:"mt-16 mb-8 text-center",children:[(0,Ir.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"Coming Soon..."}),(0,Ir.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:"Get a sneak peek at what we're building next!"})]}),(0,Ir.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 opacity-70",children:D.map(K=>(0,Ir.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 flex flex-col overflow-hidden p-5",children:[(0,Ir.jsxs)("div",{className:"flex items-start gap-4 mb-3",children:[(0,Ir.jsx)(da,{icon:K.icon,name:K.name,className:"h-10 w-10 rounded-lg flex-shrink-0"}),(0,Ir.jsx)("div",{className:"flex-1",children:(0,Ir.jsx)("h3",{className:"text-xl font-bold text-gray-800 leading-tight",children:K.name})}),(0,Ir.jsx)("span",{className:"text-xs font-bold uppercase text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"Coming Soon"})]}),(0,Ir.jsx)("p",{className:"text-sm text-gray-600 mb-4 min-h-[3rem]",children:K.description||"More details to come."})]},K.id))})]})]}),d.length>0&&(0,Ir.jsx)(ub,{cart:d,onOpenCart:()=>v(!0)}),A&&(0,Ir.jsx)(cb,{cart:d,onClose:()=>v(!1),onRemoveItem:ee,onPayOnline:j,onPayManually:$,isProcessing:u,showNotification:e,appliedCoupon:S,setAppliedCoupon:F}),I&&(0,Ir.jsx)(Rm,{cart:d,appliedCoupon:S,onClose:()=>w(!1),onPurchase:Y,isProcessing:u,showNotification:e,userProfile:t&&t!=="loading"?t:null,allApps:n,allWebinarProducts:i}),g&&(0,Ir.jsx)("div",{className:"fixed inset-0 bg-white z-[100] flex flex-col",children:(0,Ir.jsx)(Df,{title:"Success!",icon:(0,Ir.jsx)(vo,{size:28}),children:(0,Ir.jsx)(db,{})})}),O&&(0,Ir.jsx)(Ff,{videoUrl:O,onClose:()=>R(null)}),(0,Ir.jsx)(Fm,{isOpen:T,onClose:()=>{B(!1),U([]),f([]),F(null)},items:k,isGuest:!t||t==="loading"})]})};var kE=ce($t());var Li=ce(_e()),M5e=({onClose:t,items:e})=>{let[r,n]=(0,kE.useState)(!1),a=e?.find(s=>s.isWebinar),i=s=>{if(!s)return"";let[o,l]=s.split(":"),u=parseInt(o,10),c=u>=12?"PM":"AM";return`${u%12||12}:${l} ${c}`};return(0,kE.useEffect)(()=>{n(!0);let s=setTimeout(()=>{n(!1),setTimeout(t,300)},a?4e3:2500);return()=>clearTimeout(s)},[t,a]),(0,Li.jsx)("div",{className:`fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[9999] transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,role:"alertdialog","aria-modal":"true","aria-labelledby":"success-title",children:(0,Li.jsxs)("div",{className:`bg-white rounded-2xl shadow-2xl p-8 sm:p-12 text-center flex flex-col items-center justify-center transform transition-all duration-300 ${r?"scale-100":"scale-95"}`,children:[(0,Li.jsxs)("div",{className:"relative w-24 h-24 mb-6",children:[(0,Li.jsx)("div",{className:"absolute inset-0 bg-green-500 rounded-full animate-ping opacity-75"}),(0,Li.jsx)("div",{className:"relative flex items-center justify-center w-24 h-24 bg-green-500 rounded-full",children:(0,Li.jsx)(Ji,{className:"text-white h-16 w-16",strokeWidth:3})})]}),a?(0,Li.jsxs)(Li.Fragment,{children:[(0,Li.jsx)("h3",{id:"success-title",className:"text-2xl font-bold text-gray-800",children:"Webinar Booked Successfully!"}),(0,Li.jsxs)("div",{className:"text-gray-600 mt-4 text-left bg-gray-50 p-4 rounded-lg border w-full max-w-sm",children:[(0,Li.jsx)("p",{className:"font-semibold text-lg text-gray-800",children:a.appName}),(0,Li.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[(0,Li.jsx)(la,{size:16,className:"text-gray-500"}),(0,Li.jsx)("span",{children:Ws(a.webinarDate||"")})]}),(0,Li.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-sm",children:[(0,Li.jsx)(Il,{size:16,className:"text-gray-500"}),(0,Li.jsx)("span",{children:i(a.webinarTime)})]})]}),(0,Li.jsx)("p",{className:"text-gray-600 mt-4",children:"Details and the joining link have been sent to your registered email address."})]}):(0,Li.jsxs)(Li.Fragment,{children:[(0,Li.jsx)("h3",{id:"success-title",className:"text-2xl font-bold text-gray-800",children:"Payment Successful!"}),(0,Li.jsx)("p",{className:"text-gray-600 mt-2",children:"Your credits have been added to your account."})]})]})})},Fre=M5e;var yC=ce($t());var Um=ce(_e()),O5e=({text:t="Loading..."})=>(0,Um.jsx)("div",{className:"flex items-center justify-center min-h-screen text-gray-700 text-xl font-semibold",children:(0,Um.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,Um.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Um.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Um.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Um.jsx)("span",{children:t})]})}),FE=O5e;var Hi=ce(_e()),Q5e=()=>{let[t,e]=(0,yC.useState)([]),[r,n]=(0,yC.useState)(!0);return(0,yC.useEffect)(()=>{(async()=>{n(!0);try{let l=(await Ce.collection("blogs").orderBy("createdAt","desc").get()).docs.map(u=>({...u.data(),id:u.id})).filter(u=>u.status==="published");e(l)}catch(i){i.code==="unavailable"?console.warn("Could not fetch blog posts while offline:",i.message):console.error("Error fetching blog posts:",i)}finally{n(!1)}})()},[]),r?(0,Hi.jsx)(FE,{text:"Loading Blog Posts..."}):(0,Hi.jsxs)(Df,{title:"Our Blog",icon:(0,Hi.jsx)(Jo,{size:28}),children:[(0,Hi.jsx)("p",{className:"text-center -mt-4 mb-12 text-lg text-slate-600 max-w-3xl mx-auto",children:"Stay updated with the latest news, tutorials, and insights about our applications."}),t.length>0?(0,Hi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(a=>(0,Hi.jsxs)("a",{href:`/blog/${a.slug}`,className:"group block bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden transform hover:-translate-y-2 transition-transform duration-300",children:[a.featuredImageUrl&&(0,Hi.jsx)("div",{className:"aspect-video overflow-hidden bg-gray-100",children:(0,Hi.jsx)("img",{src:a.featuredImageUrl,alt:a.title,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300 ease-in-out"})}),(0,Hi.jsxs)("div",{className:"p-6",children:[(0,Hi.jsx)("h3",{className:"text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:a.title}),(0,Hi.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 my-3",children:[(0,Hi.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,Hi.jsx)(ca,{size:14})," ",a.authorName]}),(0,Hi.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,Hi.jsx)(la,{size:14})," ",sn(a.createdAt)]})]}),(0,Hi.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:a.excerpt}),(0,Hi.jsxs)("div",{className:"font-semibold text-blue-600 flex items-center gap-1",children:["Read More ",(0,Hi.jsx)(vf,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})]},a.id))}):(0,Hi.jsxs)("div",{className:"text-center py-16 text-gray-500",children:[(0,Hi.jsx)(Jo,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,Hi.jsx)("h3",{className:"text-xl font-semibold",children:"No Posts Yet"}),(0,Hi.jsx)("p",{children:"There are no blog posts available at the moment. Please check back later!"})]})]})},TM=Q5e;var ty=ce($t());var $n=ce(_e()),H5e=()=>(0,$n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,$n.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),V5e=()=>(0,$n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,$n.jsx)("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})}),q5e=()=>(0,$n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,$n.jsx)("path",{d:"M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2 22l5.25-1.38c1.45.79 3.08 1.21 4.79 1.21 5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zM12.04 20.15c-1.48 0-2.93-.4-4.2-1.15l-.3-.18-3.12.82.83-3.04-.2-.31c-.82-1.31-1.26-2.83-1.26-4.38 0-4.54 3.7-8.24 8.24-8.24 2.2 0 4.27.86 5.82 2.42 1.56 1.56 2.41 3.63 2.41 5.83.02 4.54-3.68 8.23-8.22 8.23zm4.52-6.13c-.24-.12-1.42-.7-1.64-.78-.22-.08-.38-.12-.54.12-.16.24-.62.78-.76.94-.14.16-.28.18-.52.06-.24-.12-1.02-.38-1.94-1.2-1.25-.68-1.42-1.84-1.59-2.16-.16-.32-.04-.5.08-.62.11-.11.24-.28.37-.42.12-.14.16-.24.24-.4.08-.16.04-.3-.02-.42-.06-.12-.54-1.29-.74-1.77-.2-.48-.4-.41-.54-.42-.14 0-.3 0-.46 0-.16 0-.42.06-.64.3-.22.24-.86.85-.86 2.07 0 1.22.88 2.4 1 2.56.12.16 1.72 2.64 4.18 3.72 2.34 1.02 2.46.68 2.9.62.44-.06 1.42-.58 1.62-1.14.2-.56.2-1.04.14-1.14-.05-.12-.2-.18-.44-.3z"})}),z5e=({slug:t})=>{let[e,r]=(0,ty.useState)(null),[n,a]=(0,ty.useState)(!0),[i,s]=(0,ty.useState)(null);if((0,ty.useEffect)(()=>{(async()=>{a(!0),s(null);try{let f=await Ce.collection("blogs").where("slug","==",t).limit(1).get();if(f.empty)s("Blog post not found.");else{let A={...f.docs[0].data(),id:f.docs[0].id};A.status==="published"?r(A):s("Blog post not found.")}}catch(d){d.code==="unavailable"?(console.warn("Could not fetch blog post while offline:",d.message),s("This post is not available offline. Please connect to the internet to view it.")):(console.error("Error fetching blog post:",d),s("Failed to load the blog post."))}finally{a(!1)}})()},[t]),(0,ty.useEffect)(()=>{if(e){let c=e.metaTitle||e.title,d=e.metaDescription||e.excerpt,f=e.featuredImageUrl||"",A=window.location.href;document.title=c;let v=document.getElementById("meta-description");v&&(v.content=d);let I=document.getElementById("og-title");I&&(I.content=c);let w=document.getElementById("og-description");w&&(w.content=d);let g=document.getElementById("og-image");g&&(g.content=f);let b=document.getElementById("og-url");b&&(b.content=A);let S=document.getElementById("twitter-title");S&&(S.content=c);let F=document.getElementById("twitter-description");F&&(F.content=d);let O=document.getElementById("twitter-image");O&&(O.content=f);let R=document.getElementById("twitter-url");R&&(R.content=A)}},[e]),n)return(0,$n.jsx)(Fl,{});if(i||!e)return(0,$n.jsx)(Df,{title:"Error",icon:(0,$n.jsx)(Jo,{size:28}),children:(0,$n.jsxs)("div",{className:"text-center py-16 text-red-500",children:[(0,$n.jsx)("h3",{className:"text-xl font-semibold",children:i||"Could not find the requested post."}),(0,$n.jsx)("a",{href:"/blog",className:"mt-4 inline-block text-blue-600 hover:underline",children:"Return to Blog"})]})});let o=window.location.href,l=encodeURIComponent(o),u=encodeURIComponent(e.title);return(0,$n.jsx)(Df,{title:e.title,icon:(0,$n.jsx)(Jo,{size:28}),children:(0,$n.jsxs)("article",{className:"max-w-4xl mx-auto",children:[(0,$n.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-500 mb-8 border-y py-4",children:[(0,$n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,$n.jsx)(ca,{size:16})," By ",e.authorName]}),(0,$n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,$n.jsx)(la,{size:16})," Published on ",sn(e.createdAt)]})]}),(0,$n.jsx)("div",{className:"prose prose-lg max-w-none prose-img:rounded-lg",dangerouslySetInnerHTML:{__html:e.content}}),e.tags&&e.tags.length>0&&(0,$n.jsxs)("div",{className:"mt-12 pt-6 border-t",children:[(0,$n.jsx)("h4",{className:"font-semibold text-gray-700 mb-3",children:"Tags"}),(0,$n.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(c=>(0,$n.jsx)("span",{className:"bg-gray-200 text-gray-700 text-xs font-semibold px-3 py-1 rounded-full",children:c},c))})]}),(0,$n.jsxs)("div",{className:"mt-12 pt-8 border-t",children:[(0,$n.jsx)("h4",{className:"font-semibold text-gray-700 mb-4 text-center text-lg",children:"Share This Post"}),(0,$n.jsxs)("div",{className:"flex justify-center items-center gap-4 flex-wrap",children:[(0,$n.jsxs)("a",{href:`https://twitter.com/intent/tweet?url=${l}&text=${u}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2.5 px-5 py-2.5 rounded-lg bg-black text-white font-semibold hover:bg-gray-800 transition-colors",children:[(0,$n.jsx)(H5e,{}),(0,$n.jsx)("span",{children:"Share on X"})]}),(0,$n.jsxs)("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${l}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2.5 px-5 py-2.5 rounded-lg bg-[#1877F2] text-white font-semibold hover:bg-[#166fe5] transition-colors",children:[(0,$n.jsx)(V5e,{}),(0,$n.jsx)("span",{children:"Share on Facebook"})]}),(0,$n.jsxs)("a",{href:`https://api.whatsapp.com/send?text=${u}%20${l}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2.5 px-5 py-2.5 rounded-lg bg-[#25D366] text-white font-semibold hover:bg-[#1ebe57] transition-colors",children:[(0,$n.jsx)(q5e,{}),(0,$n.jsx)("span",{children:"Share on WhatsApp"})]})]})]})]})})},LM=z5e;var ha=ce($t());var Dm=ce($t());var ry=ce(_e()),j5e=["Aarav","Priya","Rohan","Ananya","Vikram","Sneha","Aditya","Diya","Kabir","Ishita"],K5e=["Mumbai","Delhi","Bengaluru","Chennai","Kolkata","Hyderabad","Pune","Ahmedabad","Jaipur","Surat","Lucknow","Kanpur"],G5e=t=>{let e=t.length,r,n=[...t];for(;e!==0;)r=Math.floor(Math.random()*e),e--,[n[e],n[r]]=[n[r],n[e]];return n},W5e=()=>{let[t,e]=(0,Dm.useState)(!1),[r,n]=(0,Dm.useState)(""),[a,i]=(0,Dm.useState)(0),s=(0,Dm.useMemo)(()=>{let o=j5e.flatMap(l=>K5e.map(u=>`${l} from ${u} just made a purchase!`));return G5e(o)},[]);return(0,Dm.useEffect)(()=>{if(s.length===0)return;let l=setTimeout(()=>{n(s[a]),e(!0);let u=setTimeout(()=>{e(!1)},5e3),c=setTimeout(()=>{i(d=>(d+1)%s.length)},12e3+Math.random()*8e3);return()=>{clearTimeout(u),clearTimeout(c)}},4e3);return()=>clearTimeout(l)},[a,s]),(0,ry.jsx)("div",{className:`fixed bottom-4 left-4 z-50 transition-all duration-500 ease-in-out
                ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,children:(0,ry.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl border flex items-center gap-3 p-3",children:[(0,ry.jsx)("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-full",children:(0,ry.jsx)(Th,{size:20})}),(0,ry.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:r})]})})},Rre=W5e;var ye=ce(_e()),$5e="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24' 24' fill='none' stroke='%234f46e5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3e%3c/rect%3e%3cline x1='16' y1='2' x2='16' y2='6'%3e%3c/line%3e%3cline x1='8' y1='2' x2='8' y2='6'%3e%3c/line%3e%3cline x1='3' y1='10' x2='21' y2='10'%3e%3c/line%3e%3c/svg%3e",Y5e=()=>new Promise(t=>{let e="razorpay-checkout-js";if(document.getElementById(e))return t(!0);let r=document.createElement("script");r.id=e,r.src="https://checkout.razorpay.com/v1/checkout.js",r.onload=()=>t(!0),r.onerror=()=>{document.getElementById(e)?.remove(),t(!1)},document.body.appendChild(r)}),X5e=()=>(0,ye.jsxs)("svg",{className:"w-full max-w-lg h-auto",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ye.jsx)("rect",{x:"50",y:"50",width:"400",height:"400",rx:"10",className:"assistant-svg-outline",strokeWidth:"3"}),(0,ye.jsx)("path",{d:"M100 100H400V400H100V100Z",fill:"#2d295b"}),(0,ye.jsx)("path",{d:"M100 100L400 400M400 100L100 400",stroke:"#4f478a",strokeWidth:"1"}),(0,ye.jsx)("rect",{x:"150",y:"150",width:"100",height:"100",fill:"#4f478a"}),(0,ye.jsx)("rect",{x:"250",y:"250",width:"100",height:"100",fill:"#4f478a"}),(0,ye.jsx)("circle",{cx:"250",cy:"250",r:"180",className:"assistant-svg-outline",strokeWidth:"2",opacity:"0.6"}),(0,ye.jsx)("circle",{cx:"250",cy:"250",r:"150",className:"assistant-svg-inner",opacity:"0.4"}),(0,ye.jsx)("text",{x:"240",y:"50",fontFamily:"Inter, sans-serif",fontSize:"20",fill:"#f8fafc",children:"N"}),(0,ye.jsx)("text",{x:"440",y:"250",fontFamily:"Inter, sans-serif",fontSize:"20",fill:"#f8fafc",children:"E"}),(0,ye.jsx)("text",{x:"240",y:"460",fontFamily:"Inter, sans-serif",fontSize:"20",fill:"#f8fafc",children:"S"}),(0,ye.jsx)("text",{x:"40",y:"250",fontFamily:"Inter, sans-serif",fontSize:"20",fill:"#f8fafc",children:"W"}),(0,ye.jsx)("circle",{cx:"250",cy:"250",r:"5",className:"assistant-svg-fill"}),(0,ye.jsx)("line",{x1:"250",y1:"250",x2:"250",y2:"70",className:"assistant-svg-outline",strokeWidth:"2"}),(0,ye.jsx)("line",{x1:"250",y1:"250",x2:"430",y2:"250",className:"assistant-svg-outline",strokeWidth:"2"}),(0,ye.jsx)("line",{x1:"250",y1:"250",x2:"250",y2:"430",className:"assistant-svg-outline",strokeWidth:"2"}),(0,ye.jsx)("line",{x1:"250",y1:"250",x2:"70",y2:"250",className:"assistant-svg-outline",strokeWidth:"2"})]}),Mm=({icon:t,className:e="w-6 h-6"})=>(0,ye.jsx)(ye.Fragment,{children:{wallet:(0,ye.jsx)(w0,{className:e}),apple:(0,ye.jsx)(n0,{className:e}),briefcase:(0,ye.jsx)(Gs,{className:e}),house:(0,ye.jsx)(yc,{className:e}),"trending-down":(0,ye.jsx)(oA,{className:e}),activity:(0,ye.jsx)(r0,{className:e}),gavel:(0,ye.jsx)(c0,{className:e}),skull:(0,ye.jsx)(y0,{className:e}),target:(0,ye.jsx)(v0,{className:e}),"x-circle":(0,ye.jsx)(bf,{className:e}),compass:(0,ye.jsx)(Yd,{className:e}),pin:(0,ye.jsx)(f0,{className:e}),infinity:(0,ye.jsx)(Bh,{className:e}),"square-x":(0,ye.jsx)(xf,{className:e}),"bag-dollar":(0,ye.jsx)(i0,{className:e}),hand:(0,ye.jsx)(A0,{className:e}),"check-circle":(0,ye.jsx)(Dn,{className:e}),"file-text":(0,ye.jsx)(gc,{className:e}),clock:(0,ye.jsx)(Il,{className:e}),"indian-rupee":(0,ye.jsx)(wi,{className:e}),zap:(0,ye.jsx)(vo,{className:e}),"map-pin":(0,ye.jsx)(tA,{className:e}),award:(0,ye.jsx)(Nh,{className:e}),check:(0,ye.jsx)(Ji,{className:e}),x:(0,ye.jsx)(dr,{className:e}),crosshair:(0,ye.jsxs)("svg",{"data-lucide":"crosshair",className:e,children:[(0,ye.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,ye.jsx)("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),(0,ye.jsx)("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),(0,ye.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),(0,ye.jsx)("line",{x1:"12",y1:"22",x2:"12",y2:"18"})]}),ruler:(0,ye.jsxs)("svg",{"data-lucide":"ruler",className:e,children:[(0,ye.jsx)("path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L3 8.7a2.4 2.4 0 0 1 0-3.4l2.6-2.6a2.4 2.4 0 0 1 3.4 0Z"}),(0,ye.jsx)("path",{d:"m14.5 12.5 2-2"}),(0,ye.jsx)("path",{d:"m11.5 9.5 2-2"}),(0,ye.jsx)("path",{d:"m8.5 6.5 2-2"}),(0,ye.jsx)("path",{d:"m17.5 15.5 2-2"})]}),users:(0,ye.jsxs)("svg",{"data-lucide":"users",className:e,children:[(0,ye.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,ye.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,ye.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,ye.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"graduation-cap":(0,ye.jsxs)("svg",{"data-lucide":"graduation-cap",className:e,children:[(0,ye.jsx)("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),(0,ye.jsx)("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]})}[t]||null}),Ure=t=>{if(!t)return null;let e=t.split(/\*\*(.*?)\*\*/g);return(0,ye.jsx)("span",{dangerouslySetInnerHTML:{__html:e.map((r,n)=>n%2===1?`<strong>${r}</strong>`:r).join("")}})},J5e=({app:t,allApps:e,allWebinarProducts:r,pageDef:n,reviews:a,videoTestimonials:i,showNotification:s,onPurchaseSuccess:o,userProfile:l})=>{let[u,c]=(0,ha.useState)(null),[d,f]=(0,ha.useState)(null),[A,v]=(0,ha.useState)([]),[I,w]=(0,ha.useState)(!1),[g,b]=(0,ha.useState)(null),[S,F]=(0,ha.useState)(!1),[O,R]=(0,ha.useState)(!1),[T,B]=(0,ha.useState)(!1),[k,U]=(0,ha.useState)(!1),[E,_]=(0,ha.useState)([]),[L,D]=(0,ha.useState)(null);(0,ha.useEffect)(()=>{if(typeof window.lucide<"u")try{window.lucide.createIcons()}catch(Ie){console.error("Error creating lucide icons:",Ie)}},[n]);let z=(0,ha.useMemo)(()=>n?.sections&&n.sections.length>0?[...n.sections].sort((de,xe)=>de.order-xe.order):n?.sectionOrder?n.sectionOrder.map((de,xe)=>({id:we(),type:de,order:xe,whatItDoesOverride:n.whatItDoesOverride,trainingVideoUrlsOverride:n.trainingVideoUrlsOverride,pricingTierIdsOverride:n.pricingTierIdsOverride,videoTestimonialIds:n.videoTestimonialIdsOverride,webinarProductId:n.webinarProductId})):["whatItDoes","video","training","pricing","webinar","testimonials","videoTestimonials","faq"].map((de,xe)=>({id:`legacy-default-${de}`,order:xe,type:de})),[n]),ee=(0,ha.useMemo)(()=>z.find(Ie=>Ie.type==="hero"),[z]),Y=(0,ha.useMemo)(()=>ee?.heroContent?.webinarId,[ee]),$=(0,ha.useMemo)(()=>Y?r.find(Ie=>Ie.id===Y):null,[Y,r]);(0,ha.useEffect)(()=>{let Ie=$||r.find(de=>de.id===z.find(xe=>xe.type==="webinar")?.webinarProductId);if(Ie&&window.fbq){let de=new Date(Ie.webinarDate+"T00:00:00Z").toLocaleDateString("en-US",{month:"short",day:"numeric"}),[xe,qe]=Ie.webinarTime.split(":"),wt=new Date;wt.setHours(parseInt(xe,10),parseInt(qe,10));let Re=wt.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})+" IST",Ae=`${Ie.name} \u2014 ${de}, ${Re}`,Kt=Ie.price/100;window.fbq("track","ViewContent",{content_name:Ae,content_category:"webinar",value:Kt.toFixed(2),currency:"INR"})}},[$,r,z]),(0,ha.useEffect)(()=>{if(L){let Ie=setTimeout(()=>{window.location.href=L.url},3e3);return()=>clearTimeout(Ie)}},[L]);let j=(0,ha.useMemo)(()=>a.length===0?0:a.reduce((de,xe)=>de+xe.rating,0)/a.length,[a]),K=Ie=>v(de=>de.filter((xe,qe)=>qe!==Ie)),oe=(0,ha.useCallback)(()=>{if($){if(A.some(xe=>xe.isWebinar)){s("You can only add one webinar ticket to your cart.","info"),w(!0);return}let de={appId:$.id,appName:$.name,appIcon:$5e,tierId:"webinar_purchase",tierName:"Webinar Ticket",credits:0,price:$.price,isWebinar:!0,webinarDate:$.webinarDate,webinarTime:$.webinarTime};window.fbq&&window.fbq("track","AddToCart",{content_ids:[$.id],content_name:$.name,content_type:"product",currency:"INR",value:($.price/100).toFixed(2)}),v(xe=>[...xe,de]),R(!0)}else s("Webinar registration details are not configured for this page.","error")},[$,A,s,w]),q=async(Ie,de)=>{if(de.length===0){s("Your cart is empty.","error");return}F(!0);try{let xe=de.some(Ue=>!Ue.isWebinar&&!Ue.isConsultation),qe=!l||l==="loading";if(qe&&Ie.guestDetails&&xe&&(await cr.httpsCallable("checkIfUserExists")({email:Ie.guestDetails.email})).data.exists){s("This email is already registered. Please log in to purchase apps.","error"),F(!1);return}if(!await Y5e()||typeof window.Razorpay>"u"){s("Could not load payment gateway. Please check your connection and try again.","error"),F(!1);return}let Kt=(await cr.httpsCallable("createRazorpayOrder")({items:de,guestDetails:Ie.guestDetails,couponCode:g?.code,referredBy:Ie.referralCode})).data;if(Kt.freeOrder){F(!1),w(!1),R(!1),v([]),b(null);let Ue=de.some(it=>!it.isWebinar&&!it.isConsultation);qe&&Ue?B(!0):(o(de),s(Kt.message||"Your free order was processed successfully!","success",6e3));return}let Oe={key:(await cr.httpsCallable("getPaymentConfiguration")()).data.keyId,amount:Kt.amount,currency:Kt.currency,name:"Powerful Tools Portal",description:Kt.description,order_id:Kt.razorpayOrderId,prefill:Kt.prefill,theme:{color:"#2563EB"},handler:Ue=>{let it=de.some(ct=>ct.isWebinar),At=de.some(ct=>!ct.isWebinar&&!ct.isConsultation);w(!1),R(!1),v([]),b(null),F(!1),qe&&At?B(!0):(o(de),s("Purchase complete! Check your email for details.","success",8e3))},modal:{ondismiss:()=>F(!1)}},me=new window.Razorpay(Oe);me.on("payment.failed",Ue=>{s(`Payment failed: ${Ue.error.description}. Please try again.`,"error"),F(!1)}),me.open()}catch(xe){console.error("Error during purchase:",xe);let qe=xe.details?.message||xe.message||"An unknown error occurred.";s(`Checkout failed: ${qe}`,"error"),F(!1)}},X=()=>{A.length>0&&R(!0)},te=()=>{A.length>0&&(_(A),U(!0),w(!1))},ue=Ie=>f(de=>de===Ie?null:Ie),be=({icon:Ie,label:de,value:xe})=>(0,ye.jsxs)("div",{className:"bg-amber-50 p-2 rounded-lg shadow-md flex items-center gap-2",children:[(0,ye.jsx)("div",{className:"bg-orange-500 text-white p-2 rounded-md flex-shrink-0",children:Ie}),(0,ye.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ye.jsx)("p",{className:"text-xs font-semibold text-orange-600",children:de}),(0,ye.jsx)("p",{className:"text-base font-bold text-indigo-950 leading-tight break-words",children:xe})]})]}),ge=Ie=>{if(!Ie)return"TBD";let[de,xe]=Ie.split(":"),qe=parseInt(de,10),wt=qe>=12?"PM":"AM";return`${qe%12||12}:${xe} ${wt} IST`},Ne=Ie=>Ie?new Date(Ie+"T00:00:00Z").toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase():"TBD",Le=Ie=>{switch(Ie.type){case"hero":{let de=Ie.heroContent;if(!de)return null;let xe=r.find(qe=>qe.id===de.webinarId);return(0,ye.jsxs)("section",{className:"pb-8 md:pb-12 text-center",children:[(0,ye.jsx)("div",{className:"inline-block bg-yellow-200 text-primary text-xl font-bold px-8 py-3 rounded-xl mb-6 shadow-md",children:de.topBannerText}),(0,ye.jsx)("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-primary leading-tight mb-4",dangerouslySetInnerHTML:{__html:de.mainHeadline||""}}),(0,ye.jsx)("p",{className:"text-xl md:text-2xl text-gray-600 max-w-4xl mx-auto mb-12",children:de.subHeadline}),(0,ye.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-10 lg:items-center",children:[(0,ye.jsxs)("div",{className:"lg:w-7/12 w-full flex flex-col gap-4",id:"registration-form",children:[(0,ye.jsx)("h2",{className:"text-xl font-bold text-primary text-center",children:"Webinar Details"}),(0,ye.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ye.jsx)(be,{icon:(0,ye.jsx)(la,{size:20}),label:"Date",value:xe?Ne(xe.webinarDate):"TBD"}),(0,ye.jsx)(be,{icon:(0,ye.jsx)(Il,{size:20}),label:"Time",value:xe?ge(xe.webinarTime):"TBD"}),(0,ye.jsx)(be,{icon:(0,ye.jsx)(d0,{size:20}),label:"Language",value:xe?.language||"English+Hindi"}),(0,ye.jsx)(be,{icon:(0,ye.jsx)(m0,{size:20}),label:"Venue",value:xe?.venue||"Zoho (Online Live)"})]}),(0,ye.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-2xl border-t-8 border-accent",children:[(0,ye.jsx)("h2",{className:"text-xl font-bold text-primary mb-1 text-center",children:de.registrationCtaTitle||"Secure Your Spot!"}),(0,ye.jsx)("p",{className:"text-center text-red-500 font-semibold mb-3",children:de.registrationCtaSubtext||"Hurry Up - Limited Seats Left!"}),(0,ye.jsx)("button",{onClick:oe,className:"cta-button w-full text-lg font-bold bg-accent text-white py-3 rounded-xl shadow-lg hover:bg-orange-600",children:"Register Now"}),(0,ye.jsx)("div",{className:"mt-3 text-center text-sm text-gray-500",dangerouslySetInnerHTML:{__html:de.priceText||""}}),(de.webinarDescriptionTitle||de.webinarDescription)&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)("hr",{className:"my-3"}),(0,ye.jsxs)("div",{className:"bg-green-50/70 p-2 rounded-lg text-left",children:[(0,ye.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ye.jsx)(Zx,{size:24,className:"text-green-700 flex-shrink-0"}),(0,ye.jsx)("div",{children:(0,ye.jsx)("h3",{className:"font-semibold text-sm text-green-900 leading-tight",children:de.webinarDescriptionTitle})})]}),(0,ye.jsx)("div",{className:"space-y-0.5 mt-2 ml-1",children:(de.webinarDescription||"").split(`
`).filter(qe=>qe.trim()!=="").map((qe,wt)=>(0,ye.jsxs)("div",{className:"flex items-start text-xs text-green-800",children:[(0,ye.jsx)(Dn,{size:14,className:"mr-2 text-green-600 flex-shrink-0 mt-0.5"}),(0,ye.jsx)("span",{children:qe.replace(/^-/,"").trim()})]},wt))})]})]})]})]}),(0,ye.jsxs)("div",{className:"lg:w-5/12 w-full flex flex-col items-center lg:self-center",children:[(0,ye.jsxs)("div",{className:"relative w-48 h-48 md:w-56 md:h-56 mx-auto mb-[-4rem] z-10",children:[(0,ye.jsx)("div",{className:"absolute w-full h-full bg-yellow-300 rounded-full transform translate-x-2 translate-y-2"}),(0,ye.jsx)("div",{className:"absolute w-full h-full rounded-full bg-gray-200 overflow-hidden shadow-lg border-4 border-white",children:(0,ye.jsx)("img",{src:de.coachProfilePictureUrl,alt:de.coachName,className:"w-full h-full object-cover"})})]}),(0,ye.jsxs)("div",{className:"bg-yellow-100 p-4 rounded-xl shadow-lg w-full max-w-sm pt-[5rem] text-center",children:[(0,ye.jsx)("h3",{className:"text-xl font-bold text-primary",children:de.coachName}),(0,ye.jsx)("p",{className:"text-base font-semibold text-gray-700",children:de.coachExperience}),(0,ye.jsx)("div",{className:"text-sm italic text-gray-500 mt-1 whitespace-pre-wrap",children:de.coachQualifications})]})]})]})]})}case"featured_in":return!Ie.featuredInLogos||Ie.featuredInLogos.length===0?null:(0,ye.jsxs)("section",{className:"py-12 bg-primary rounded-xl my-12 shadow-2xl",children:[(0,ye.jsx)("h2",{className:"text-2xl font-bold text-center text-white mb-8",children:"Featured In"}),(0,ye.jsx)("div",{className:"flex flex-wrap justify-center items-center gap-6 md:gap-12 px-4",children:Ie.featuredInLogos.map(de=>(0,ye.jsx)("img",{src:de.imageUrl,alt:de.altText,className:"h-6 md:h-8 opacity-90 grayscale"},de.id))})]});case"benefits":return!Ie.benefitsItems||Ie.benefitsItems.length===0?null:(0,ye.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-accent",dangerouslySetInnerHTML:{__html:Ie.benefitsTitle||""}}),(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Ie.benefitsItems.map(de=>(0,ye.jsxs)("div",{className:"bg-warm p-6 rounded-xl shadow-lg border border-yellow-300",children:[(0,ye.jsx)(Mm,{icon:de.icon,className:"w-10 h-10 text-accent flex-shrink-0 mb-3"}),(0,ye.jsx)("h3",{className:"text-xl font-bold text-primary mb-2",children:de.title}),(0,ye.jsx)("p",{className:"text-gray-700",children:de.description})]},de.id))})]});case"vastu_assistant_hero":{let de=Ie.vastuAssistantHeroContent;return de?(0,ye.jsx)("section",{className:"assistant-hero-bg py-12 md:py-24 rounded-xl shadow-2xl my-12",children:(0,ye.jsxs)("div",{className:"container mx-auto px-6 flex flex-col-reverse md:flex-row items-center justify-between gap-12",children:[(0,ye.jsxs)("div",{className:"md:w-1/2 text-center md:text-left mt-10 md:mt-0",children:[(0,ye.jsx)("h2",{className:"text-4xl md:text-5xl font-extrabold leading-tight text-white",dangerouslySetInnerHTML:{__html:de.title}}),(0,ye.jsx)("p",{className:"mt-4 md:mt-6 text-xl text-gray-200",children:de.description}),(0,ye.jsx)("div",{className:"mt-8 flex justify-center md:justify-start",children:(0,ye.jsx)("a",{href:"#registration-form",className:"cta-button bg-accent text-white font-semibold py-3 px-8 rounded-xl shadow-lg hover:bg-orange-600",children:de.ctaText})})]}),(0,ye.jsx)("div",{className:"md:w-1/2 flex justify-center md:justify-end",children:(0,ye.jsx)(X5e,{})})]})}):null}case"vastu_assistant_features":{let de=Ie.vastuAssistantFeaturesContent;return de?(0,ye.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-primary",dangerouslySetInnerHTML:{__html:de.keyBenefitsTitle}}),(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:de.keyBenefits.map(xe=>(0,ye.jsxs)("div",{className:"bg-warm p-6 rounded-xl shadow-lg border border-yellow-300 text-center",children:[(0,ye.jsx)(Mm,{icon:xe.icon,className:"w-10 h-10 text-primary mx-auto mb-3"}),(0,ye.jsx)("h3",{className:"text-xl font-bold text-primary mb-2",children:xe.title}),(0,ye.jsx)("p",{className:"mt-2 text-gray-700 text-sm",children:xe.description})]},xe.id))}),(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-accent",dangerouslySetInnerHTML:{__html:de.modulesTitle}}),(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:de.modules.map(xe=>(0,ye.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-left",children:[(0,ye.jsx)("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:(0,ye.jsx)(Mm,{icon:xe.icon,className:"w-6 h-6 text-primary"})}),(0,ye.jsx)("h3",{className:"text-xl font-semibold text-primary",children:xe.title}),(0,ye.jsx)("p",{className:"mt-2 text-gray-600",children:xe.description})]},xe.id))}),(0,ye.jsx)("div",{className:"text-center mt-10",children:(0,ye.jsx)("button",{onClick:oe,className:"cta-button text-xl font-bold bg-accent text-white py-3 px-10 rounded-xl hover:bg-orange-600",children:de.ctaText})})]}):null}case"text_block":{let de=Ie.textBlockContent;return de?(0,ye.jsx)("section",{className:"py-12 border-t border-gray-200",children:(0,ye.jsxs)("div",{className:"max-w-3xl mx-auto text-center",children:[(0,ye.jsx)("h2",{className:"text-4xl font-bold text-primary mb-6",dangerouslySetInnerHTML:{__html:de.title}}),(0,ye.jsx)("div",{className:"prose prose-lg mx-auto text-gray-700",dangerouslySetInnerHTML:{__html:de.content.replace(/\n/g,"<br />").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}}),de.ctaButtonText&&(0,ye.jsx)("div",{className:"mt-8",children:(0,ye.jsx)("button",{onClick:oe,className:"cta-button text-xl font-bold bg-accent text-white py-3 px-10 rounded-xl hover:bg-orange-600",children:de.ctaButtonText})})]})}):null}case"problems":return!Ie.problemsItems||Ie.problemsItems.length===0?null:(0,ye.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-primary",dangerouslySetInnerHTML:{__html:Ie.problemsTitle||""}}),(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(Ie.problemsItems||[]).map(de=>(0,ye.jsxs)("div",{className:"bg-warm p-6 rounded-xl shadow-lg border border-yellow-300",children:[(0,ye.jsx)(Mm,{icon:de.icon,className:"w-10 h-10 text-red-500 mb-3"}),(0,ye.jsx)("h3",{className:"text-xl font-bold text-primary mb-2",children:de.title}),(0,ye.jsx)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:(de.points||[]).map((xe,qe)=>(0,ye.jsx)("li",{children:xe},qe))})]},de.id))})]});case"delineation":return Ie.delineationContent?(0,ye.jsx)("section",{className:"py-12 bg-primary text-white rounded-xl shadow-2xl my-12",children:(0,ye.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,ye.jsx)("h2",{className:"text-3xl sm:text-4xl font-bold text-center mb-4",dangerouslySetInnerHTML:{__html:Ie.delineationContent.mainHeadline||""}}),(0,ye.jsx)("p",{className:"text-center text-lg opacity-90 mb-10",children:Ie.delineationContent.subHeadline}),(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(Ie.delineationContent.points||[]).map(de=>(0,ye.jsx)("div",{className:"bg-primary border-4 border-yellow-300 p-6 rounded-xl shadow-lg",children:(0,ye.jsxs)("div",{className:"flex items-start",children:[(0,ye.jsx)(Mm,{icon:"target",className:"w-6 h-6 text-accent flex-shrink-0 mt-1 mr-3"}),(0,ye.jsxs)("p",{className:"text-gray-200",children:[(0,ye.jsxs)("strong",{className:"text-white",children:[de.title,":"]})," ",Ure(de.description)]})]})},de.id))})]})}):null;case"what_you_learn":return!Ie.whatYouLearnItems||Ie.whatYouLearnItems.length===0?null:(0,ye.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-primary",dangerouslySetInnerHTML:{__html:Ie.whatYouLearnTitle||""}}),(0,ye.jsx)("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:(Ie.whatYouLearnItems||[]).map(de=>(0,ye.jsxs)("div",{className:"bg-warm p-6 rounded-xl shadow-lg border border-yellow-300 flex items-start",children:[(0,ye.jsx)(Mm,{icon:de.icon,className:"w-6 h-6 text-accent flex-shrink-0 mt-1 mr-3"}),(0,ye.jsx)("p",{className:"text-gray-700 font-medium",children:Ure(de.description)})]},de.id))})]});case"audience":return!Ie.audienceItems||Ie.audienceItems.length===0?null:(0,ye.jsxs)("section",{className:"py-12 bg-primary rounded-xl shadow-2xl my-12",children:[(0,ye.jsx)("h2",{className:"text-3xl font-bold text-center text-white mb-10",dangerouslySetInnerHTML:{__html:Ie.audienceTitle||""}}),(0,ye.jsx)("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:(Ie.audienceItems||[]).map(de=>(0,ye.jsxs)("div",{className:"bg-primary border-4 border-yellow-300 text-white p-6 rounded-xl shadow-lg flex items-start",children:[(0,ye.jsx)(Mm,{icon:"hand",className:"w-5 h-5 text-accent mr-3 mt-1 flex-shrink-0"}),(0,ye.jsx)("p",{className:"text-lg font-medium",dangerouslySetInnerHTML:{__html:de.description}})]},de.id))})]});case"about_coach":{let xe=z.find(qe=>qe.type==="hero")?.heroContent;return!Ie.aboutCoachAchievements||Ie.aboutCoachAchievements.length===0||!xe?null:(0,ye.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-primary",dangerouslySetInnerHTML:{__html:Ie.aboutCoachTitle||""}}),(0,ye.jsx)("div",{className:"bg-white p-8 rounded-xl shadow-2xl",children:(0,ye.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,ye.jsx)("div",{className:"max-w-xl mx-auto",children:(0,ye.jsx)("ul",{className:"space-y-4",children:Ie.aboutCoachAchievements.map(qe=>(0,ye.jsxs)("li",{className:"flex items-start",children:[(0,ye.jsx)(Mm,{icon:"check-circle",className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1 mr-3"}),(0,ye.jsx)("span",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:qe.text}})]},qe.id))})}),(0,ye.jsx)("div",{className:"flex justify-center items-center",children:(0,ye.jsxs)("div",{className:"relative w-64 h-64",children:[(0,ye.jsx)("div",{className:"absolute w-full h-full bg-yellow-300 rounded-full transform translate-x-2 translate-y-2"}),(0,ye.jsx)("div",{className:"absolute w-full h-full rounded-full bg-gray-200 overflow-hidden shadow-lg border-4 border-white",children:(0,ye.jsx)("img",{src:xe.coachProfilePictureUrl,alt:xe.coachName,className:"w-full h-full object-cover"})})]})})]})})]})}case"faq":return!Ie.faqItems||Ie.faqItems.length===0?null:(0,ye.jsxs)("section",{className:"py-12 border-t border-gray-200 mb-20",children:[(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-primary",dangerouslySetInnerHTML:{__html:Ie.faqTitle||""}}),(0,ye.jsx)("div",{className:"max-w-3xl mx-auto space-y-4",children:Ie.faqItems.map(de=>(0,ye.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[(0,ye.jsxs)("button",{className:"w-full text-left p-5 flex justify-between items-center font-bold text-lg text-primary hover:bg-gray-50 transition",onClick:()=>ue(de.id),children:[de.question,(0,ye.jsx)(Ss,{className:`w-5 h-5 transition-transform duration-300 ${d===de.id?"rotate-180":""}`})]}),(0,ye.jsx)("div",{className:`transition-[max-height] duration-500 ease-in-out overflow-hidden ${d===de.id?"max-h-96":"max-h-0"}`,children:(0,ye.jsx)("div",{className:"p-5 pt-0 text-gray-600",children:(0,ye.jsx)("p",{children:de.answer})})})]},de.id))})]});case"social_connect":{if(!Ie.socialConnectContent)return null;let{title:de,whatsappGroupLink:xe,facebookGroupLink:qe}=Ie.socialConnectContent;return!xe&&!qe?null:(0,ye.jsxs)("section",{className:"py-12 border-t border-gray-200 text-center",children:[(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-primary",dangerouslySetInnerHTML:{__html:de}}),(0,ye.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-4 justify-center",children:[xe&&(0,ye.jsxs)("a",{href:xe,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-6 py-3 text-lg font-bold bg-green-500 text-white rounded-xl shadow-lg hover:bg-green-600",children:[(0,ye.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,ye.jsx)("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 4.315 1.847 6.037l-.299 1.098 1.146-.304zM12.042 6.582c-.131-.002-.262.019-.388.064-.126.045-.246.113-.355.201l-.111.096c-.104.087-.2.188-.285.297l-.09.117c-.081.104-.15.215-.208.332l-.066.132c-.053.112-.095.23-.127.352l-.042.149c-.025.093-.042.189-.052.285l-.014.129c-.005.046-.007.093-.007.139v.001c0 .123.018.246.053.366l.049.12c.036.088-.08.172.132.253l.069.102c.058.082-.124.159.198.229l.096.084c.075.061-.156.115.241.162l.108.056c.097.045-.2.08-.307.106l.128.029c.096.019.194.029.292.029h.001c.125-.002.25-.024.37-.067l.12-.044c.109-.04.212-.095.309-.163l.112-.078c.097-.07.186-.152.266-.245l.092-.107c.074-.09.139-.188.193-.292l.067-.13c.05-.101.09-.208.119-.319l.04-.14c.023-.087.038-.175.046-.264l.01-.122c.003-.046.003-.092.002-.138v-.002c0-.126-.018-.252-.053-.372l-.048-.119c-.037-.088-.08-.173-.132-.254l-.069-.102c-.058-.082-.124-.159-.198-.229l-.096-.084c-.075-.061-.156-.115-.241-.162l-.108-.056c-.097-.045-.2-.08-.307-.106l-.128-.029c-.096-.019-.194-.029-.292-.029zM16.48 14.945c-.144-.08-.847-.418-1.002-.465-.155-.047-.267-.071-.38.071-.112.142-.379.465-.465.56-.085.095-.17.107-.314.035-.144-.071-.607-.224-1.157-.714-.49-.429-.812-.961-.907-1.127-.095-.167-.012-.257.06-.344.06-.071.142-.182.214-.274a1.94 1.94 0 0 0 .142-.238c.024-.047.012-.095-.012-.167-.024-.071-.214-.51-.297-.682-.085-.17-.17-.142-.238-.142-.06 0-.142 0-.214 0-.071 0-.19.024-.285.118-.095.095-.379.356-.379.879 0 .523.391 1.021.447 1.093.056.071.759 1.173 1.84 1.622.257.109.467.173.654.22.3.072.576.06.78.035.228-.035.708-.288.81-.56.101-.27.101-.51.07-.56-.036-.047-.148-.071-.292-.142z"})}),"Join WhatsApp Group"]}),qe&&(0,ye.jsxs)("a",{href:qe,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-6 py-3 text-lg font-bold bg-blue-600 text-white rounded-xl shadow-lg hover:bg-blue-700",children:[(0,ye.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,ye.jsx)("path",{d:"M14 13.5h2.5l1-4H14v-2c0-1.03 0-2 2-2h1.5V2.14c-.326-.043-1.557-.14-2.857-.14C11.928 2 10 3.657 10 6.7v2.8H7v4h3V22h4v-8.5z"})}),"Join Facebook Group"]})]})]})}case"reviews":return a.length===0?null:(0,ye.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-primary",dangerouslySetInnerHTML:{__html:Ie.reviewsTitle||"What Our Users Say"}}),(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(de=>(0,ye.jsxs)("div",{className:"bg-warm p-6 rounded-xl shadow-lg border border-yellow-300",children:[(0,ye.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ye.jsx)("div",{className:"w-12 h-12 rounded-full bg-indigo-200 flex items-center justify-center mr-4",children:(0,ye.jsx)(ca,{size:24,className:"text-primary"})}),(0,ye.jsxs)("div",{children:[(0,ye.jsx)("p",{className:"font-bold text-primary",children:de.userName}),(0,ye.jsx)(sd,{rating:de.rating,setRating:()=>{},size:16,disabled:!0})]})]}),(0,ye.jsxs)("p",{className:"text-gray-700 italic",children:['"',de.review,'"']})]},de.id))})]});case"videoTestimonials":{let de=Ie.videoTestimonialIds||n?.videoTestimonialIdsOverride||[],xe=i.filter(qe=>de.includes(qe.id)&&au(qe.url));return xe.length===0?null:(0,ye.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,ye.jsx)("h2",{className:"section-heading text-4xl mb-10 text-primary",dangerouslySetInnerHTML:{__html:Ie.videoTestimonialsTitle||"Hear From Our Clients"}}),(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:xe.map(qe=>{let Re=`https://img.youtube.com/vi/${au(qe.url)}/hqdefault.jpg`;return(0,ye.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden group cursor-pointer flex flex-col",onClick:()=>c(qe.url),children:[(0,ye.jsxs)("div",{className:"relative aspect-video",children:[(0,ye.jsx)("img",{src:Re,alt:`Testimonial from ${qe.name}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(0,ye.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ye.jsx)(tu,{size:48,className:"text-white"})})]}),(0,ye.jsx)("div",{className:"p-4 bg-gray-50 flex-grow",children:(0,ye.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ye.jsx)(e2,{className:"w-8 h-8 text-indigo-200 flex-shrink-0",fill:"currentColor"}),(0,ye.jsxs)("div",{children:[(0,ye.jsx)("p",{className:"font-bold text-slate-800",children:qe.name}),(0,ye.jsx)("p",{className:"text-sm text-slate-500",children:qe.place})]})]})})]},qe.id)})})]})}default:return null}};return(0,ye.jsxs)("div",{className:"antialiased font-sans",children:[L&&(0,ye.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-[101] flex flex-col items-center justify-center text-white p-4",children:[(0,ye.jsx)(Pt,{className:"animate-spin h-12 w-12 text-white mb-4"}),(0,ye.jsx)("p",{className:"text-2xl font-semibold",children:"Payment Successful!"}),(0,ye.jsx)("p",{className:"mt-2 text-lg",children:L.message})]}),(0,ye.jsxs)("div",{className:L?"blur-sm":"",children:[(0,ye.jsx)(Rre,{}),A.length>0&&(0,ye.jsx)(ub,{cart:A,onOpenCart:()=>w(!0)}),I&&(0,ye.jsx)(cb,{cart:A,onClose:()=>w(!1),onRemoveItem:K,onPayOnline:X,onPayManually:te,isProcessing:S,showNotification:s,appliedCoupon:g,setAppliedCoupon:b}),O&&(0,ye.jsx)(Rm,{cart:A,appliedCoupon:g,onClose:()=>R(!1),onPurchase:q,isProcessing:S,showNotification:s,userProfile:l&&l!=="loading"?l:null,allApps:e,allWebinarProducts:r}),(0,ye.jsx)(Fm,{isOpen:k,onClose:()=>{U(!1),v([]),b(null)},items:E,isGuest:!l||l==="loading"}),u&&(0,ye.jsx)(Ff,{videoUrl:u,onClose:()=>c(null)}),T&&(0,ye.jsx)("div",{className:"fixed inset-0 bg-white z-[100] flex flex-col",children:(0,ye.jsxs)("div",{className:"min-h-dvh flex flex-col bg-slate-50 text-slate-800",children:[(0,ye.jsx)("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 flex items-center justify-center",children:(0,ye.jsx)(db,{})}),(0,ye.jsx)(rs,{})]})}),(0,ye.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-24 md:pb-0",children:z.map(Ie=>(0,ye.jsx)(ha.default.Fragment,{children:Le(Ie)},Ie.id))}),(0,ye.jsx)(rs,{})]})]})},Z5e=t=>{let{slug:e,showNotification:r}=t,[n,a]=(0,ha.useState)(null),[i,s]=(0,ha.useState)(null),[o,l]=(0,ha.useState)([]),[u,c]=(0,ha.useState)([]),[d,f]=(0,ha.useState)([]),[A,v]=(0,ha.useState)([]),[I,w]=(0,ha.useState)(!0),[g,b]=(0,ha.useState)(null);return(0,ha.useEffect)(()=>{(async()=>{w(!0),b(null);try{let F=Ce.collection("apps").get(),O=Ce.collection("webinar_products").get(),R=Ce.collection("site_content").doc("live").get(),[T,B,k]=await Promise.all([F,O,R]),U=T.docs.map($=>({id:$.id,...$.data()})),E=B.docs.map($=>({id:$.id,...$.data()})),_=k.exists?k.data()?.videoTestimonials||[]:[];l(U),c(E),v(_);let D=await Ce.collection("landingPages").where("slug","==",e).limit(1).get(),z;if(D.empty){if(z=U.find($=>$.slug===e&&$.hasLandingPage),!z)throw new Error("Page not found.");s(null)}else{let $={id:D.docs[0].id,...D.docs[0].data()};if(s($),z=U.find(j=>j.id===$.appId),!z)throw new Error("Associated application not found.")}a(z);let Y=(await Ce.collection("reviews").where("appId","==",z.id).get()).docs.map($=>({...$.data(),id:$.id}));f(Y)}catch(F){console.error(`[fetchPageData] Error for slug "${e}":`,F),b(F.message||"Failed to load page data.")}finally{w(!1)}})()},[e,r]),I?(0,ye.jsx)(Fl,{}):g||!n?(0,ye.jsxs)("div",{className:"min-h-dvh flex flex-col",children:[(0,ye.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,ye.jsxs)("div",{className:"text-center p-4",children:[(0,ye.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"Page Not Found"}),(0,ye.jsx)("p",{className:"text-gray-600 mt-2",children:g||"The page you are looking for does not exist."}),(0,ye.jsx)("a",{href:"/",className:"mt-6 inline-block bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700",children:"Go to Homepage"})]})}),(0,ye.jsx)(rs,{})]}):(0,ye.jsx)(J5e,{...t,app:n,allApps:o,allWebinarProducts:u,pageDef:i,reviews:d,videoTestimonials:A})},Dre=Z5e;var pa=ce($t());var jh=ce($t());var Ja=ce(_e()),eSe=t=>{if(!t)return"";let[e,r]=t.split(":"),n=parseInt(e,10),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`},tSe=t=>{let[e,r]=t.split(":").map(Number);return e*60+r},rSe=t=>{let e=Math.floor(t/60),r=t%60;return`${String(e).padStart(2,"0")}:${String(r).padStart(2,"0")}`},nSe=({consultant:t,pkg:e,onClose:r,onSlotSelect:n})=>{let[a,i]=(0,jh.useState)([]),[s,o]=(0,jh.useState)(!0),[l,u]=(0,jh.useState)(""),[c,d]=(0,jh.useState)("");(0,jh.useEffect)(()=>{(async()=>{o(!0);try{let w=await cr.httpsCallable("getConsultantBookedSlots")({consultantId:t.id});i(w.data)}catch(I){console.error("Failed to fetch booked slots:",I)}finally{o(!1)}})()},[t.id]);let f=(0,jh.useMemo)(()=>{if(!l||!t.availability||!e.durationInMinutes)return[];let v=new Date(`${l}T00:00:00.000Z`).getUTCDay(),I=t.availability[v]||[],w=new Set(I),g=new Set(a.filter(B=>B.date===l).map(B=>B.time)),b=new Date,S=b.toLocaleDateString("en-CA",{timeZone:"Asia/Kolkata"}),F=l===S,O=b.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",timeZone:"Asia/Kolkata",hour12:!1}),R=30,T=Math.ceil(e.durationInMinutes/R);return I.map(B=>{let k=g.has(B),U=F&&B<O,E=!1;if(!k&&!U&&T>1)for(let _=1;_<T;_++){let L=tSe(B)+_*R,D=rSe(L);if(!w.has(D)||g.has(D)){E=!0;break}}return{time:B,isBooked:k,isPast:U,isUnavailableForDuration:E}})},[l,t.availability,a,e.durationInMinutes]),A=()=>{n(e,l,c)};return(0,Ja.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[60] p-4 backdrop-blur-sm",children:(0,Ja.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[(0,Ja.jsxs)("header",{className:"p-6 border-b flex-shrink-0",children:[(0,Ja.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ja.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Book Appointment"}),(0,Ja.jsx)("button",{type:"button",onClick:r,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",children:(0,Ja.jsx)(dr,{size:24})})]}),(0,Ja.jsxs)("p",{className:"text-gray-500 mt-1",children:["Select a slot for ",(0,Ja.jsx)("span",{className:"font-semibold",children:e.name})," (",e.durationInMinutes," min)"]})]}),(0,Ja.jsxs)("main",{className:"flex-grow p-6 space-y-6 overflow-y-auto",children:[(0,Ja.jsxs)("div",{children:[(0,Ja.jsxs)("h3",{className:"font-semibold text-lg text-slate-800 mb-2 flex items-center gap-2",children:[(0,Ja.jsx)(la,{size:20})," 1. Select a Date"]}),(0,Ja.jsx)("input",{type:"date",value:l,onChange:v=>{u(v.target.value),d("")},min:new Date().toISOString().split("T")[0],className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsxs)("h3",{className:"font-semibold text-lg text-slate-800 mb-2 flex items-center gap-2",children:[(0,Ja.jsx)(Il,{size:20})," 2. Select a Time"]}),s?(0,Ja.jsx)("div",{className:"flex justify-center items-center h-24",children:(0,Ja.jsx)(Pt,{className:"animate-spin text-blue-500"})}):l?f.length>0?(0,Ja.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map(({time:v,isBooked:I,isPast:w,isUnavailableForDuration:g})=>(0,Ja.jsx)("button",{onClick:()=>!I&&!w&&!g&&d(v),disabled:I||w||g,className:`p-3 rounded-lg border text-center font-semibold transition-colors ${I?"bg-red-100 text-red-500 border-red-200 cursor-not-allowed line-through":w||g?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":c===v?"bg-blue-600 text-white border-blue-600":"bg-white hover:border-blue-500"}`,title:g?`Not enough consecutive time for a ${e.durationInMinutes} min session`:"",children:eSe(v)},v))}):(0,Ja.jsx)("p",{className:"text-slate-500 text-sm mt-4 p-4 bg-gray-50 rounded-lg",children:"No available slots for this date. Please try another day."}):(0,Ja.jsx)("p",{className:"text-slate-500 text-sm mt-4 p-4 bg-gray-50 rounded-lg",children:"Please select a date to see available times."})]})]}),(0,Ja.jsxs)("footer",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row justify-end gap-3 rounded-b-xl border-t",children:[(0,Ja.jsx)("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",children:"Cancel"}),(0,Ja.jsxs)("button",{onClick:A,disabled:!l||!c,className:"w-full sm:w-auto flex items-center justify-center py-2 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold disabled:bg-gray-400 disabled:cursor-not-allowed",children:[(0,Ja.jsx)(Dn,{className:"mr-2"}),"Confirm Slot & Proceed"]})]})]})})},Mre=nSe;var Ee=ce(_e()),aSe="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24' 24' fill='none' stroke='%234f46e5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3e%3c/rect%3e%3cline x1='16' y1='2' x2='16' y2='6'%3e%3c/line%3e%3cline x1='8' y1='2' x2='8' y2='6'%3e%3c/line%3e%3cline x1='3' y1='10' x2='21' y2='10'%3e%3c/line%3e%3c/svg%3e",iSe=()=>new Promise(t=>{let e="razorpay-checkout-js";if(document.getElementById(e))return t(!0);let r=document.createElement("script");r.id=e,r.src="https://checkout.razorpay.com/v1/checkout.js",r.onload=()=>t(!0),r.onerror=()=>{document.getElementById(e)?.remove(),t(!1)},document.body.appendChild(r)}),Mf=({icon:t})=>(0,Ee.jsx)(Ee.Fragment,{children:{"map-pin":(0,Ee.jsx)(tA,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mr-3 mt-1"}),"message-square":(0,Ee.jsx)(nd,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mr-3 mt-1"}),award:(0,Ee.jsx)(Nh,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mr-3 mt-1"}),check:(0,Ee.jsx)(Ji,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-1 mr-3"}),x:(0,Ee.jsx)(dr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-1 mr-3"}),zap:(0,Ee.jsx)(vo,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-1 mr-3"}),wallet:(0,Ee.jsx)(w0,{className:"w-10 h-10 text-orange-500 flex-shrink-0 mb-3"}),apple:(0,Ee.jsx)(n0,{className:"w-10 h-10 text-orange-500 flex-shrink-0 mb-3"}),briefcase:(0,Ee.jsx)(Gs,{className:"w-10 h-10 text-orange-500 flex-shrink-0 mb-3"}),house:(0,Ee.jsx)(yc,{className:"w-10 h-10 text-orange-500 flex-shrink-0 mb-3"}),"trending-down":(0,Ee.jsx)(oA,{className:"w-10 h-10 text-red-500 mb-3"}),activity:(0,Ee.jsx)(r0,{className:"w-10 h-10 text-red-500 mb-3"}),gavel:(0,Ee.jsx)(c0,{className:"w-10 h-10 text-red-500 mb-3"}),skull:(0,Ee.jsx)(y0,{className:"w-10 h-10 text-red-500 mb-3"}),target:(0,Ee.jsx)(v0,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mt-1 mr-3"}),"x-circle":(0,Ee.jsx)(bf,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mr-3 mt-1"}),compass:(0,Ee.jsx)(Yd,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mt-1 mr-3"}),pin:(0,Ee.jsx)(f0,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-1 mr-3"}),infinity:(0,Ee.jsx)(Bh,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mt-1 mr-3"}),"square-x":(0,Ee.jsx)(xf,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1 mr-3"}),"bag-dollar":(0,Ee.jsx)(i0,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mt-1 mr-3"}),hand:(0,Ee.jsx)(A0,{className:"w-5 h-5 text-orange-500 mb-2"}),"check-circle":(0,Ee.jsx)(Dn,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1 mr-3"})}[t]||null}),PM=t=>{if(!t)return null;let e=t.split(/\*\*(.*?)\*\*/g);return(0,Ee.jsx)("span",{dangerouslySetInnerHTML:{__html:e.map((r,n)=>n%2===1?`<strong>${r}</strong>`:r).join("")}})},Ore=({slug:t,showNotification:e,onPurchaseSuccess:r,userProfile:n})=>{let[a,i]=(0,pa.useState)(null),[s,o]=(0,pa.useState)(null),[l,u]=(0,pa.useState)([]),[c,d]=(0,pa.useState)([]),[f,A]=(0,pa.useState)([]),[v,I]=(0,pa.useState)(!0),[w,g]=(0,pa.useState)(null),[b,S]=(0,pa.useState)(null),[F,O]=(0,pa.useState)(!1),[R,T]=(0,pa.useState)(null),[B,k]=(0,pa.useState)([]),[U,E]=(0,pa.useState)(!1),[_,L]=(0,pa.useState)(null),[D,z]=(0,pa.useState)(!1),[ee,Y]=(0,pa.useState)(!1),[$,j]=(0,pa.useState)(!1),[K,oe]=(0,pa.useState)([]),[q,X]=(0,pa.useState)(null),[te,ue]=(0,pa.useState)(null),[be,ge]=(0,pa.useState)(null);(0,pa.useEffect)(()=>{if(be){let Oe=setTimeout(()=>{window.location.href=be.url},3e3);return()=>clearTimeout(Oe)}},[be]),(0,pa.useEffect)(()=>{let Oe=()=>{let me=document.querySelector("section");me&&O(window.scrollY>me.offsetHeight/2)};return window.addEventListener("scroll",Oe),()=>window.removeEventListener("scroll",Oe)},[]);let Ne=()=>{document.getElementById("pricing-section")?.scrollIntoView({behavior:"smooth"})},Le=(Oe,me,Ue)=>{let it={appId:`consultation_${a.id}`,appName:Oe.name,appIcon:a.profilePictureUrl||"",tierId:Oe.id,tierName:`${Oe.durationInMinutes} min session`,credits:0,price:Oe.price,isConsultation:!0,packageId:Oe.id,consultantId:a.id,consultantName:a.name,appointmentDate:me,appointmentTime:Ue,durationInMinutes:Oe.durationInMinutes};k(At=>[...At.filter(ct=>ct.packageId!==Oe.id),it]),e(`${Oe.name} with slot booked added to cart!`,"success"),window.fbq&&window.fbq("track","AddToCart",{content_ids:[Oe.id],content_name:Oe.name,content_category:"Consultation",content_type:"product",currency:"INR",value:(Oe.price/100).toFixed(2)}),T(null),E(!0)},Ie=(0,pa.useCallback)(Oe=>{if(Oe.isWebinar&&B.some(Ue=>Ue.isWebinar&&Ue.appId===Oe.appId)){e("This webinar is already in your cart.","info"),E(!0);return}k(me=>[...me,Oe]),e(`${Oe.appName} added to cart`,"success"),window.fbq&&window.fbq("track","AddToCart",{content_ids:[Oe.isWebinar?Oe.appId:Oe.tierId],content_name:Oe.appName,content_category:Oe.isWebinar?"Webinar":"Product",content_type:"product",currency:"INR",value:(Oe.price/100).toFixed(2)}),E(!0)},[B,e]),de=Oe=>{k(me=>me.filter((Ue,it)=>it!==Oe))},xe=async(Oe,me)=>{if(me.length===0){e("Your cart is empty.","error");return}z(!0);try{if(!await iSe()||typeof window.Razorpay>"u"){e("Could not load payment gateway. Please check your connection and try again.","error"),z(!1);return}let ct=(await cr.httpsCallable("createRazorpayOrder")({items:me,guestDetails:Oe.guestDetails,couponCode:_?.code,referredBy:Oe.referralCode,consultantId:a?.id})).data;if(ct.freeOrder){z(!1),E(!1),Y(!1),k([]),L(null),ct.consultationPurchaseId?(sessionStorage.setItem(`pending_booking_${ct.consultationPurchaseId}`,"true"),r(ct.consultationPurchaseId)):r(me),e(ct.message||"Your free order was processed successfully!","success");return}let vr={key:(await cr.httpsCallable("getPaymentConfiguration")()).data.keyId,amount:ct.amount,currency:ct.currency,name:"Powerful Tools Portal",description:ct.description,order_id:ct.razorpayOrderId,prefill:ct.prefill,theme:{color:"#4F46E5"},handler:Er=>{let Nt=me.some(gn=>gn.isConsultation);E(!1),Y(!1),k([]),L(null),z(!1),Nt&&ct.consultationPurchaseId?(Oe.guestDetails&&sessionStorage.setItem(`creds_${ct.consultationPurchaseId}`,JSON.stringify({email:Oe.guestDetails.email,phone:Oe.guestDetails.phone})),sessionStorage.setItem(`pending_booking_${ct.consultationPurchaseId}`,"true"),r(ct.consultationPurchaseId)):(r(me),e("Purchase complete! Check your email for details.","success",8e3))},modal:{ondismiss:()=>z(!1)}},rr=new window.Razorpay(vr);rr.on("payment.failed",Er=>{e(`Payment failed: ${Er.error.description}. Please try again.`,"error"),z(!1)}),rr.open()}catch(Ue){console.error("Error during purchase:",Ue);let it=Ue.details?.message||Ue.message||"An unknown error occurred.";e(`Checkout failed: ${it}`,"error"),z(!1)}},qe=()=>{B.length!==0&&(n&&n!=="loading"?xe({},B):Y(!0))},wt=()=>{B.length!==0&&(oe(B),j(!0),E(!1))};(0,pa.useEffect)(()=>{(async()=>{I(!0),g(null);try{let me=await Ce.collection("consultants").where("slug","==",t).limit(1).get();if(me.empty)throw new Error("Consultant not found.");let Ue={...me.docs[0].data(),id:me.docs[0].id};i(Ue);let it=Ce.collection("consultant_pages").doc(Ue.id).get(),At=Ce.collection("consultants").doc(Ue.id).collection("consultant_packages").orderBy("order").get(),ct=Ce.collection("webinar_products").get(),Tt=Ce.collection("site_content").doc("live").get(),[Ot,vr,rr,Er]=await Promise.all([it,At,ct,Tt]);Ot.exists&&o(Ot.data());let Nt=vr.docs.map(dt=>({...dt.data(),id:dt.id}));u(Nt);let gn=rr.docs.map(dt=>({...dt.data(),id:dt.id}));if(d(gn),Er.exists){let dt=Er.data();A(dt?.videoTestimonials||[])}}catch(me){g(me.message||"Failed to load page data.")}finally{I(!1)}})()},[t]);let Re=(0,pa.useMemo)(()=>s?.sections.find(Oe=>Oe.type==="webinar"),[s]),Ae=(0,pa.useMemo)(()=>!Re||!Re.webinarProductId?null:c.find(Oe=>Oe.id===Re.webinarProductId),[Re,c]);(0,pa.useEffect)(()=>{if(Ae&&window.fbq){let Oe=new Date(Ae.webinarDate+"T00:00:00Z").toLocaleDateString("en-US",{month:"short",day:"numeric"}),[me,Ue]=Ae.webinarTime.split(":"),it=new Date;it.setHours(parseInt(me,10),parseInt(Ue,10));let At=it.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})+" IST",ct=`${Ae.name} \u2014 ${Oe}, ${At}`,Tt=Ae.price/100;window.fbq("track","ViewContent",{content_name:ct,content_category:"webinar",value:Tt.toFixed(2),currency:"INR"})}},[Ae]);let Kt=(0,pa.useCallback)(()=>{Ae&&Ie({appId:Ae.id,appName:Ae.name,appIcon:aSe,tierId:"webinar_purchase",tierName:"Webinar Ticket",credits:0,price:Ae.price,isWebinar:!0,webinarDate:Ae.webinarDate,webinarTime:Ae.webinarTime})},[Ae,Ie]),zt=Oe=>{switch(Oe.type){case"hero":return Oe.heroContent?(0,Ee.jsxs)("section",{className:"pb-12 md:pb-20 text-center",children:[(0,Ee.jsx)("div",{className:"inline-block bg-yellow-200 text-indigo-950 text-xl font-bold px-8 py-3 rounded-xl mb-6 shadow-md",children:Oe.heroContent.topBannerText}),(0,Ee.jsx)("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-indigo-950 leading-tight mb-4",dangerouslySetInnerHTML:{__html:Oe.heroContent.mainHeadline?.replace(/class="text-accent"/g,'class="text-orange-500"')||""}}),(0,Ee.jsx)("p",{className:"text-xl md:text-2xl text-gray-600 max-w-4xl mx-auto mb-12",children:Oe.heroContent.subHeadline}),(0,Ee.jsxs)("div",{className:"flex flex-col lg:flex-row gap-10 items-center justify-center",children:[(0,Ee.jsxs)("div",{className:"lg:w-1/2 w-full flex flex-col items-center",children:[(0,Ee.jsxs)("div",{className:"relative w-80 h-80 mb-[-8rem] z-10",children:[(0,Ee.jsx)("div",{className:"absolute w-full h-full bg-yellow-300 rounded-full transform translate-x-2 translate-y-2"}),(0,Ee.jsx)("div",{className:"absolute w-full h-full rounded-full bg-gray-200 overflow-hidden shadow-lg border-4 border-white",children:(0,Ee.jsx)("img",{src:a?.profilePictureUrl,alt:a?.name,className:"w-full h-full object-cover"})})]}),(0,Ee.jsxs)("div",{className:"bg-yellow-100 p-4 rounded-xl shadow-lg w-full max-w-sm text-center pt-[9rem]",children:[(0,Ee.jsx)("h3",{className:"text-2xl font-bold text-indigo-950",children:a?.name}),(0,Ee.jsx)("p",{className:"text-md font-semibold text-gray-700",children:a?.experience}),(0,Ee.jsx)("p",{className:"text-sm italic text-gray-500 mt-1",children:a?.qualifications}),(0,Ee.jsx)("p",{className:"text-sm italic text-gray-500",children:a?.tagline1}),(0,Ee.jsx)("p",{className:"text-sm italic text-gray-500",children:a?.tagline2})]})]}),(0,Ee.jsxs)("div",{className:"lg:w-1/2 w-full flex flex-col gap-6",id:"consultancy-process",children:[(0,Ee.jsx)("h2",{className:"text-3xl font-bold text-indigo-950 text-left",children:"The 3-Step Consultancy Process"}),(0,Ee.jsx)("div",{className:"space-y-4",children:(Oe.heroContent.processSteps||[]).map(me=>(0,Ee.jsxs)("div",{className:"bg-amber-50 p-4 rounded-xl shadow-lg border-2 border-yellow-300 text-left flex items-start",children:[(0,Ee.jsx)(Mf,{icon:"map-pin"}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("p",{className:"font-semibold text-lg text-gray-800",children:me.title}),(0,Ee.jsx)("p",{className:"text-gray-600 text-sm",children:me.description})]})]},me.id))}),(0,Ee.jsx)("button",{onClick:Ne,className:"cta-button w-full text-xl font-bold bg-orange-500 text-white py-4 rounded-xl shadow-lg hover:bg-orange-600 mt-4",children:"View Consultancy Packages Below"})]})]})]}):null;case"webinar":{if(!Oe.webinarProductId)return null;let me=c.find(rr=>rr.id===Oe.webinarProductId);if(!me)return null;let it=new Date(me.webinarDate+"T00:00:00").toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase(),[At,ct]=me.webinarTime.split(":"),Tt=new Date;Tt.setHours(parseInt(At,10),parseInt(ct,10));let Ot=Tt.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})+" IST",vr=me.price===0?"Register Now for FREE":`Register Now for \u20B9${(me.price/100).toFixed(2)}`;return(0,Ee.jsx)("section",{className:"py-12 my-12 bg-white rounded-2xl shadow-xl border border-gray-200",children:(0,Ee.jsxs)("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[(0,Ee.jsx)("h2",{className:"text-3xl font-bold text-orange-600 mb-2",dangerouslySetInnerHTML:{__html:Oe.webinarTitle||"Webinar Details"}}),(0,Ee.jsx)("div",{className:"w-16 h-1 bg-gray-200 mx-auto mb-8"}),(0,Ee.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8",children:[(0,Ee.jsxs)("div",{className:"bg-amber-50 p-4 rounded-xl shadow-md border border-amber-200 flex items-center gap-4",children:[(0,Ee.jsx)("div",{className:"bg-orange-500 text-white p-3 rounded-lg",children:(0,Ee.jsx)(la,{size:24})}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("p",{className:"font-bold text-orange-600 text-sm",children:"Date"}),(0,Ee.jsx)("p",{className:"font-bold text-lg text-black",children:it})]})]}),(0,Ee.jsxs)("div",{className:"bg-amber-50 p-4 rounded-xl shadow-md border border-amber-200 flex items-center gap-4",children:[(0,Ee.jsx)("div",{className:"bg-orange-500 text-white p-3 rounded-lg",children:(0,Ee.jsx)(Il,{size:24})}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("p",{className:"font-bold text-orange-600 text-sm",children:"Time"}),(0,Ee.jsx)("p",{className:"font-bold text-lg text-black",children:Ot})]})]}),(0,Ee.jsxs)("div",{className:"bg-amber-50 p-4 rounded-xl shadow-md border border-amber-200 flex items-center gap-4",children:[(0,Ee.jsx)("div",{className:"bg-orange-500 text-white p-3 rounded-lg",children:(0,Ee.jsx)(d0,{size:24})}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("p",{className:"font-bold text-orange-600 text-sm",children:"Language"}),(0,Ee.jsx)("p",{className:"font-bold text-lg text-black",children:me.language||"English"})]})]}),(0,Ee.jsxs)("div",{className:"bg-amber-50 p-4 rounded-xl shadow-md border border-amber-200 flex items-center gap-4",children:[(0,Ee.jsx)("div",{className:"bg-orange-500 text-white p-3 rounded-lg",children:(0,Ee.jsx)(m0,{size:24})}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("p",{className:"font-bold text-orange-600 text-sm",children:"Venue"}),(0,Ee.jsx)("p",{className:"font-bold text-lg text-black",children:me.venue||"Live Online"})]})]})]}),(0,Ee.jsx)("button",{onClick:Kt,className:"w-full max-w-md bg-orange-500 text-white font-bold text-xl py-4 px-8 rounded-full shadow-lg hover:bg-orange-600 transition-transform hover:scale-105",children:vr})]})})}case"video_testimonials":{let me=Oe.videoTestimonialIds||[],Ue=f.filter(ct=>me.includes(ct.id)),it=Oe.customVideoTestimonials||[],At=[...Ue,...it].filter(ct=>ct&&au(ct.url));return At.length===0?null:(0,Ee.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,Ee.jsx)("h2",{className:"section-heading text-4xl mb-10 text-indigo-950",dangerouslySetInnerHTML:{__html:Oe.videoTestimonialsTitle||"Hear from Our Clients"}}),(0,Ee.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:At.map(ct=>{let Tt=au(ct.url),Ot=`https://img.youtube.com/vi/${Tt}/hqdefault.jpg`;return(0,Ee.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden group flex flex-col",children:[te===(ct.id||ct.url)?(0,Ee.jsx)("div",{className:"relative aspect-video",children:(0,Ee.jsx)("iframe",{className:"w-full h-full",src:`https://www.youtube.com/embed/${Tt}?autoplay=1&rel=0&modestbranding=1`,title:`Testimonial from ${ct.name}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):(0,Ee.jsxs)("div",{className:"relative aspect-video cursor-pointer",onClick:()=>ue(ct.id||ct.url),children:[(0,Ee.jsx)("img",{src:Ot,alt:`Testimonial from ${ct.name}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(0,Ee.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Ee.jsx)(tu,{size:48,className:"text-white"})})]}),(0,Ee.jsx)("div",{className:"p-4 bg-gray-50 flex-grow",children:(0,Ee.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ee.jsx)(nd,{className:"w-8 h-8 text-indigo-200 flex-shrink-0",fill:"currentColor"}),(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("p",{className:"font-bold text-slate-800",children:ct.name}),(0,Ee.jsx)("p",{className:"text-sm text-slate-500",children:ct.place})]})]})})]},ct.id||ct.url)})})]})}case"featured_in":return(0,Ee.jsxs)("section",{className:"py-12 bg-indigo-950 rounded-xl my-12 shadow-2xl",children:[(0,Ee.jsx)("h2",{className:"text-2xl font-bold text-center text-white mb-8",children:"Featured In"}),(0,Ee.jsx)("div",{className:"flex flex-wrap justify-center items-center gap-6 md:gap-12 px-4",children:(Oe.featuredInLogos||[]).map(me=>(0,Ee.jsx)("img",{src:me.imageUrl,alt:me.altText,className:"h-6 md:h-8 opacity-90 grayscale"},me.id))})]});case"packages":return(0,Ee.jsxs)("section",{className:"py-12 border-t border-gray-200",id:"pricing-section",children:[(0,Ee.jsx)("h2",{className:"section-heading text-4xl mb-10 text-indigo-950",dangerouslySetInnerHTML:{__html:Oe.packagesTitle?.replace(/class="text-accent"/g,'class="text-orange-500"')||""}}),(0,Ee.jsx)("p",{className:"text-center text-xl text-gray-600 max-w-4xl mx-auto mb-12",children:Oe.packagesSubTitle}),(0,Ee.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-center",children:l.map(me=>{let Ue=me.isPopular;return(0,Ee.jsxs)("div",{className:Ue?"package-card-premium bg-white p-10 rounded-xl shadow-2xl border-4 border-orange-500 flex flex-col h-full relative":"bg-white p-8 rounded-xl shadow-xl border-t-4 border-indigo-950/50 flex flex-col h-full",children:[Ue&&(0,Ee.jsx)("div",{className:"absolute top-0 right-0 bg-orange-500 text-white px-4 py-1 rounded-bl-xl font-bold text-sm tracking-wider",children:"MOST POPULAR"}),(0,Ee.jsx)("h3",{className:`font-extrabold text-indigo-950 mb-2 ${Ue?"text-3xl":"text-2xl"}`,children:me.name}),(0,Ee.jsx)("p",{className:"text-gray-500 mb-6",children:me.description}),(0,Ee.jsx)("div",{className:`font-extrabold text-orange-500 mb-6 ${Ue?"text-5xl":"text-4xl"}`,children:me.priceText||`\u20B9${(me.price/100).toLocaleString("en-IN")}`}),(0,Ee.jsx)("ul",{className:"space-y-3 text-left flex-grow mb-8",children:(me.features||[]).map(At=>{let ct,Tt;switch(At.type){case"premium":ct=(0,Ee.jsx)(Mf,{icon:"zap"}),Tt="text-gray-700 font-semibold";break;case"excluded":ct=(0,Ee.jsx)(Mf,{icon:"x"}),Tt="text-gray-400 line-through";break;default:ct=(0,Ee.jsx)(Mf,{icon:"check"}),Tt="text-gray-700"}return(0,Ee.jsxs)("li",{className:"flex items-start",children:[ct,(0,Ee.jsx)("span",{className:Tt,children:PM(At.text)})]},At.id)})}),(0,Ee.jsx)("button",{onClick:()=>{me.priceText?document.getElementById("consultancy-process")?.scrollIntoView({behavior:"smooth"}):T(me)},className:`cta-button w-full text-center rounded-xl shadow-lg ${Ue?"text-xl font-bold bg-orange-500 text-white py-4 hover:bg-orange-600":"text-lg font-bold bg-indigo-950 text-white py-3 hover:bg-indigo-700"}`,children:me.ctaText})]},me.id)})})]});case"benefits":return(0,Ee.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,Ee.jsx)("h2",{className:"section-heading text-4xl mb-10 text-indigo-950",dangerouslySetInnerHTML:{__html:Oe.benefitsTitle?.replace(/class="text-accent"/g,'class="text-orange-500"')||""}}),(0,Ee.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:(Oe.benefitsItems||[]).map(me=>(0,Ee.jsxs)("div",{className:"bg-amber-50 p-6 rounded-xl shadow-lg border border-yellow-300",children:[(0,Ee.jsx)(Mf,{icon:me.icon}),(0,Ee.jsx)("h3",{className:"text-xl font-bold text-indigo-950 mb-2",children:me.title}),(0,Ee.jsx)("p",{className:"text-gray-700",children:me.description})]},me.id))})]});case"problems":return(0,Ee.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,Ee.jsx)("h2",{className:"section-heading text-4xl mb-10 text-indigo-950",dangerouslySetInnerHTML:{__html:Oe.problemsTitle?.replace(/class="text-accent"/g,'class="text-orange-500"')||""}}),(0,Ee.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(Oe.problemsItems||[]).map(me=>(0,Ee.jsxs)("div",{className:"bg-amber-50 p-6 rounded-xl shadow-lg border border-yellow-300",children:[(0,Ee.jsx)(Mf,{icon:me.icon}),(0,Ee.jsx)("h3",{className:"text-xl font-bold text-indigo-950 mb-2",children:me.title}),(0,Ee.jsx)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:(me.points||[]).map((Ue,it)=>(0,Ee.jsx)("li",{children:Ue},it))})]},me.id))})]});case"delineation":return Oe.delineationContent?(0,Ee.jsx)("section",{className:"py-12 bg-indigo-950 text-white rounded-xl shadow-2xl my-12",children:(0,Ee.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,Ee.jsx)("h2",{className:"text-3xl sm:text-4xl font-bold text-center mb-4",dangerouslySetInnerHTML:{__html:Oe.delineationContent.mainHeadline?.replace(/class="text-accent"/g,'class="text-orange-500"')||""}}),(0,Ee.jsx)("p",{className:"text-center text-lg opacity-90 mb-10",children:Oe.delineationContent.subHeadline}),(0,Ee.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(Oe.delineationContent.points||[]).map(me=>(0,Ee.jsx)("div",{className:"bg-indigo-950 border-4 border-yellow-300 p-6 rounded-xl shadow-lg",children:(0,Ee.jsxs)("div",{className:"flex items-start",children:[(0,Ee.jsx)(Mf,{icon:"target"}),(0,Ee.jsxs)("p",{className:"text-gray-200",children:[(0,Ee.jsxs)("strong",{className:"text-white",children:[me.title,":"]})," ",PM(me.description)]})]})},me.id))})]})}):null;case"deliverables":return(0,Ee.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,Ee.jsx)("h2",{className:"section-heading text-4xl mb-10 text-indigo-950",dangerouslySetInnerHTML:{__html:Oe.deliverablesTitle?.replace(/class="text-accent"/g,'class="text-orange-500"')}}),(0,Ee.jsx)("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:(Oe.deliverablesItems||[]).map(me=>(0,Ee.jsxs)("div",{className:"bg-amber-50 p-6 rounded-xl shadow-lg border border-yellow-300 flex items-start",children:[(0,Ee.jsx)(Mf,{icon:me.icon}),(0,Ee.jsx)("p",{className:"text-gray-700 font-medium",children:PM(me.description)})]},me.id))})]});case"audience":return(0,Ee.jsxs)("section",{className:"py-12 bg-indigo-950 rounded-xl shadow-2xl my-12",children:[(0,Ee.jsx)("h2",{className:"text-3xl font-bold text-center text-white mb-10",dangerouslySetInnerHTML:{__html:Oe.audienceTitle||""}}),(0,Ee.jsx)("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:(Oe.audienceItems||[]).map(me=>(0,Ee.jsxs)("div",{className:"bg-indigo-950 border-4 border-yellow-300 text-white p-6 rounded-xl shadow-lg flex items-start",children:[(0,Ee.jsx)(Mf,{icon:"hand"}),(0,Ee.jsx)("p",{className:"text-lg font-medium",dangerouslySetInnerHTML:{__html:me.description}})]},me.id))})]});case"about_coach":return a?(0,Ee.jsxs)("section",{className:"py-12 border-t border-gray-200",children:[(0,Ee.jsx)("h2",{className:"section-heading text-4xl mb-10 text-indigo-950",dangerouslySetInnerHTML:{__html:Oe.aboutCoachTitle?.replace(/class="text-accent"/g,'class="text-orange-500"')||`About ${a.name}`}}),(0,Ee.jsx)("div",{className:"bg-white p-8 rounded-xl shadow-2xl",children:(0,Ee.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Ee.jsx)("div",{className:"max-w-xl mx-auto",children:(0,Ee.jsx)("ul",{className:"space-y-4",children:(a.achievements||[]).map(me=>(0,Ee.jsxs)("li",{className:"flex items-start",children:[(0,Ee.jsx)(Mf,{icon:"check-circle"}),(0,Ee.jsx)("span",{className:"text-gray-700",children:me.text})]},me.id))})}),(0,Ee.jsx)("div",{className:"flex justify-center items-center",children:(0,Ee.jsxs)("div",{className:"relative w-64 h-64",children:[(0,Ee.jsx)("div",{className:"absolute w-full h-full bg-yellow-300 rounded-full transform translate-x-2 translate-y-2"}),(0,Ee.jsx)("div",{className:"absolute w-full h-full rounded-full bg-gray-200 overflow-hidden shadow-lg border-4 border-white",children:(0,Ee.jsx)("img",{src:a.profilePictureUrl,alt:a.name,className:"w-full h-full object-cover"})})]})})]})})]}):null;case"faq":return(0,Ee.jsxs)("section",{className:"py-12 border-t border-gray-200 mb-20",children:[(0,Ee.jsx)("h2",{className:"section-heading text-4xl mb-10 text-indigo-950",dangerouslySetInnerHTML:{__html:Oe.faqTitle||"Frequently Asked Questions"}}),(0,Ee.jsx)("div",{className:"max-w-3xl mx-auto space-y-4",children:(Oe.faqItems||[]).map(me=>(0,Ee.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[(0,Ee.jsxs)("button",{className:"w-full text-left p-5 flex justify-between items-center font-bold text-lg text-indigo-950 hover:bg-gray-50 transition",onClick:()=>S(Ue=>Ue===me.id?null:me.id),children:[me.question,(0,Ee.jsx)(Ss,{className:`w-5 h-5 transition-transform duration-300 ${b===me.id?"rotate-180":""}`})]}),(0,Ee.jsx)("div",{className:`transition-[max-height] duration-500 ease-in-out overflow-hidden ${b===me.id?"max-h-96":"max-h-0"}`,children:(0,Ee.jsx)("div",{className:"p-5 pt-0 text-gray-600",children:(0,Ee.jsx)("p",{children:me.answer})})})]},me.id))})]});case"social_connect":{let{title:me,whatsappGroupLink:Ue,facebookGroupLink:it}=Oe.socialConnectContent||{};return!me||!Ue&&!it?null:(0,Ee.jsxs)("section",{className:"py-12 border-t border-gray-200 text-center",children:[(0,Ee.jsx)("h2",{className:"section-heading text-4xl mb-10 text-indigo-950",dangerouslySetInnerHTML:{__html:me}}),(0,Ee.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-4 justify-center",children:[Ue&&(0,Ee.jsxs)("a",{href:Ue,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-6 py-3 text-lg font-bold bg-green-500 text-white rounded-xl shadow-lg hover:bg-green-600",children:[(0,Ee.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ee.jsx)("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 4.315 1.847 6.037l-.299 1.098 1.146-.304zM12.042 6.582c-.131-.002-.262.019-.388.064-.126.045-.246.113-.355.201l-.111.096c-.104.087-.2.188-.285.297l-.09.117c-.081.104-.15.215-.208.332l-.066.132c-.053.112-.095.23-.127.352l-.042.149c-.025.093-.042.189-.052.285l-.014.129c-.005.046-.007.093-.007.139v.001c0 .123.018.246.053.366l.049.12c.036.088-.08.172.132.253l.069.102c.058.082-.124.159.198.229l.096.084c.075.061-.156.115.241.162l.108.056c.097.045-.2.08-.307.106l.128.029c.096.019.194.029.292.029h.001c.125-.002.25-.024.37-.067l.12-.044c.109-.04.212-.095.309-.163l.112-.078c.097-.07.186-.152.266-.245l.092-.107c.074-.09.139-.188.193-.292l.067-.13c.05-.101.09-.208.119-.319l.04-.14c.023-.087.038-.175.046-.264l.01-.122c.003-.046.003-.092.002-.138v-.002c0-.126-.018-.252-.053-.372l-.048-.119c-.037-.088-.08-.173-.132-.254l-.069-.102c-.058-.082-.124-.159-.198-.229l-.096-.084c-.075-.061-.156-.115-.241-.162l-.108-.056c-.097-.045-.2-.08-.307-.106l-.128-.029c-.096-.019-.194-.029-.292-.029zM16.48 14.945c-.144-.08-.847-.418-1.002-.465-.155-.047-.267-.071-.38.071-.112.142-.379.465-.465.56-.085.095-.17.107-.314.035-.144-.071-.607-.224-1.157-.714-.49-.429-.812-.961-.907-1.127-.095-.167-.012-.257.06-.344.06-.071.142-.182.214-.274a1.94 1.94 0 0 0 .142-.238c.024-.047.012-.095-.012-.167-.024-.071-.214-.51-.297-.682-.085-.17-.17-.142-.238-.142-.06 0-.142 0-.214 0-.071 0-.19.024-.285.118-.095.095-.379.356-.379.879 0 .523.391 1.021.447 1.093.056.071.759 1.173 1.84 1.622.257.109.467.173.654.22.3.072.576.06.78.035.228-.035.708-.288.81-.56.101-.27.101-.51.07-.56-.036-.047-.148-.071-.292-.142z"})}),"Join WhatsApp Group"]}),it&&(0,Ee.jsxs)("a",{href:it,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-6 py-3 text-lg font-bold bg-blue-600 text-white rounded-xl shadow-lg hover:bg-blue-700",children:[(0,Ee.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ee.jsx)("path",{d:"M14 13.5h2.5l1-4H14v-2c0-1.03 0-2 2-2h1.5V2.14c-.326-.043-1.557-.14-2.857-.14C11.928 2 10 3.657 10 6.7v2.8H7v4h3V22h4v-8.5z"})}),"Join Facebook Group"]})]})]})}default:return null}},pt=(0,pa.useMemo)(()=>s?.sections?[...s.sections].sort((Oe,me)=>Oe.order-me.order):[],[s]);return v?(0,Ee.jsx)(Fl,{}):w||!a||!s?(0,Ee.jsxs)("div",{className:"min-h-dvh flex flex-col",children:[(0,Ee.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,Ee.jsx)("div",{className:"text-center text-red-500 p-4",children:w||"Could not load page data."})}),(0,Ee.jsx)(rs,{})]}):(0,Ee.jsxs)("div",{className:"antialiased font-sans bg-slate-50 text-slate-800",children:[be&&(0,Ee.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-[101] flex flex-col items-center justify-center text-white p-4",children:[(0,Ee.jsx)(Pt,{className:"animate-spin h-12 w-12 text-white mb-4"}),(0,Ee.jsx)("p",{className:"text-2xl font-semibold",children:"Payment Successful!"}),(0,Ee.jsx)("p",{className:"mt-2 text-lg",children:be.message})]}),F&&(0,Ee.jsxs)("div",{className:"fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-md shadow-lg p-3 z-40 flex justify-between items-center",children:[(0,Ee.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ee.jsx)("img",{src:a.profilePictureUrl,alt:a.name,className:"h-10 w-10 rounded-full object-cover"}),(0,Ee.jsx)("span",{className:"font-bold text-indigo-950",children:a.name})]}),(0,Ee.jsx)("button",{onClick:Ne,className:"cta-button text-sm font-bold bg-orange-500 text-white py-2 px-4 rounded-xl shadow-md hover:bg-orange-600",children:"View Packages"})]}),(0,Ee.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:pt.map(Oe=>(0,Ee.jsx)(pa.default.Fragment,{children:zt(Oe)},Oe.id))}),(0,Ee.jsx)(rs,{}),R&&(0,Ee.jsx)(Mre,{consultant:a,pkg:R,onClose:()=>T(null),onSlotSelect:Le}),B.length>0&&(0,Ee.jsx)(ub,{cart:B,onOpenCart:()=>E(!0)}),U&&(0,Ee.jsx)(cb,{cart:B,onClose:()=>E(!1),onRemoveItem:de,onPayOnline:qe,onPayManually:wt,isProcessing:D,showNotification:e,appliedCoupon:_,setAppliedCoupon:L}),ee&&(0,Ee.jsx)(Rm,{cart:B,appliedCoupon:_,onClose:()=>Y(!1),onPurchase:xe,isProcessing:D,showNotification:e,userProfile:n&&n!=="loading"?n:null,allApps:[],allWebinarProducts:c}),(0,Ee.jsx)(Fm,{isOpen:$,onClose:()=>{j(!1),k([]),L(null)},items:K,isGuest:!n||n==="loading"}),q&&(0,Ee.jsx)(Ff,{videoUrl:q,onClose:()=>X(null)})]})};var ro=ce($t());var tr=ce(_e()),sSe=t=>{let[e,r]=t.split(":"),n=parseInt(e,10),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`},Qre=t=>t?t.toISOString().replace(/-|:|\.\d{3}/g,""):"",Hre=10,Vre=1500,kM=t=>{if(!t)return null;let e={...t};return e.appointmentStart&&typeof e.appointmentStart._seconds=="number"&&(e.appointmentStart=new vi.firestore.Timestamp(e.appointmentStart._seconds,e.appointmentStart._nanoseconds)),e.appointmentEnd&&typeof e.appointmentEnd._seconds=="number"&&(e.appointmentEnd=new vi.firestore.Timestamp(e.appointmentEnd._seconds,e.appointmentEnd._nanoseconds)),e},oSe=({purchaseId:t,userProfile:e,showNotification:r})=>{let[n,a]=(0,ro.useState)(null),[i,s]=(0,ro.useState)(null),[o,l]=(0,ro.useState)(null),[u,c]=(0,ro.useState)([]),[d,f]=(0,ro.useState)(!0),[A,v]=(0,ro.useState)(null),[I,w]=(0,ro.useState)(!1),[g,b]=(0,ro.useState)({email:"",phone:""}),[S,F]=(0,ro.useState)(!1),[O,R]=(0,ro.useState)(null),[T,B]=(0,ro.useState)(!1),[k,U]=(0,ro.useState)(""),[E,_]=(0,ro.useState)(""),[L,D]=(0,ro.useState)(!1);(0,ro.useEffect)(()=>{let K=!1;return(async()=>{if(K||(f(!0),v(null),e==="loading"))return;if(!e){let te=sessionStorage.getItem(`pending_booking_${t}`)==="true",ue=sessionStorage.getItem(`creds_${t}`),be=async(ge,Ne)=>{if(!K){F(!0);try{let de=(await cr.httpsCallable("verifyGuestBookingIdentity")({purchaseId:t,...ge})).data;if(de.success){if(K)return;a(de.purchase),s(kM(de.appointment)),l(de.consultant);let qe=await cr.httpsCallable("getConsultantBookedSlots")({consultantId:de.consultant.id});K||c(qe.data),R(ge),w(!0),F(!1),f(!1),sessionStorage.removeItem(`pending_booking_${t}`),sessionStorage.setItem(`creds_${t}`,JSON.stringify(ge));return}else throw new Error("Verification failed.")}catch(Le){if(Le.code==="not-found"&&Ne>0)setTimeout(()=>be(ge,Ne-1),Vre);else{if(K)return;v(Le.message||"Booking not found or details are incorrect."),F(!1),f(!1),sessionStorage.removeItem(`pending_booking_${t}`)}}}};if(te&&ue){let ge=JSON.parse(ue);b(ge),await be(ge,Hre)}else{if(K)return;w(!1),f(!1)}return}let q=sessionStorage.getItem(`pending_booking_${t}`)==="true",X=async te=>{if(!K)try{let be=await Ce.collection("consultation_purchases").doc(t).get();if(!be.exists)if(q&&te>0){setTimeout(()=>X(te-1),Vre);return}else throw new Error("Booking not found.");let ge={...be.data(),id:be.id};if(ge.userId!==e.id)throw new Error("You do not have permission to view this booking.");if(K)return;a(ge),w(!0),sessionStorage.removeItem(`pending_booking_${t}`),ge.appointmentId?Ce.collection("appointments").doc(ge.appointmentId).onSnapshot(de=>{K||s(de.exists?{...de.data(),id:de.id}:null)}):K||s(null);let Ne=await Ce.collection("consultants").doc(ge.consultantId).get();K||l(Ne.data());let Ie=await cr.httpsCallable("getConsultantBookedSlots")({consultantId:ge.consultantId});K||c(Ie.data),f(!1)}catch(ue){if(K)return;v(ue.message),f(!1),sessionStorage.removeItem(`pending_booking_${t}`)}};await X(q?Hre:0)})(),()=>{K=!0}},[t,e,r]);let z=K=>{let{name:oe,value:q}=K.target;b(X=>({...X,[oe]:q}))},ee=async K=>{K.preventDefault(),F(!0);try{let X=(await cr.httpsCallable("verifyGuestBookingIdentity")({purchaseId:t,email:g.email,phone:g.phone})).data;if(X.success){a(X.purchase),s(kM(X.appointment)),l(X.consultant);let ue=await cr.httpsCallable("getConsultantBookedSlots")({consultantId:X.consultant.id});c(ue.data),R(g),w(!0),sessionStorage.setItem(`creds_${t}`,JSON.stringify(g)),r("Verification successful!","success")}else throw new Error("Verification failed.")}catch(oe){r(oe.message||"Verification failed. Please check your details and try again.","error")}finally{F(!1)}},Y=async()=>{if(!k||!E||!i){r("Please select a new date and time.","error");return}D(!0);try{let K=cr.httpsCallable("rescheduleAppointment"),oe={purchaseId:t,newDate:k,newTime:E};if(!(e&&e!=="loading"))if(O)oe.verification=O;else throw new Error("Cannot reschedule. User is not logged in and booking details are missing.");let X=(await K(oe)).data;if(X.success&&X.updatedAppointment){let be=kM(X.updatedAppointment);s(be)}r("Appointment rescheduled successfully!","success");let ue=await cr.httpsCallable("getConsultantBookedSlots")({consultantId:i.consultantId});c(ue.data),B(!1),U(""),_("")}catch(K){console.error("Error rescheduling:",K),r(`Rescheduling failed: ${K.message}`,"error")}finally{D(!1)}},$=(0,ro.useMemo)(()=>{if(!k||!o?.availability||!n?.durationInMinutes)return[];let K=new Date(`${k}T00:00:00.000Z`).getUTCDay(),oe=o.availability[K]||[],q=new Set(u.filter(ge=>ge.date===k).map(ge=>ge.time)),X=new Date,te=X.toLocaleDateString("en-CA",{timeZone:"Asia/Kolkata"}),ue=k===te,be=X.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",timeZone:"Asia/Kolkata",hour12:!1});return oe.map(ge=>({time:ge,isBooked:q.has(ge),isPast:ue&&ge<be}))},[k,o,u,n]),j=(0,ro.useMemo)(()=>{if(!i||!n)return"#";let K=`Consultation: ${n.packageName} with ${n.consultantName}`,oe=Qre(i.appointmentStart.toDate()),q=Qre(i.appointmentEnd.toDate()),X=`Your confirmed appointment for ${n.packageName} with ${n.consultantName}.`;return`https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(K)}&dates=${oe}/${q}&details=${encodeURIComponent(X)}&sf=true&output=xml`},[i,n]);return d?(0,tr.jsx)(FE,{text:"Finding your booking..."}):A?(0,tr.jsxs)("div",{className:"min-h-dvh flex flex-col",children:[(0,tr.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,tr.jsx)("div",{className:"text-center text-red-500 p-4",children:A})}),(0,tr.jsx)(rs,{})]}):I?n?(0,tr.jsxs)("div",{className:"min-h-dvh flex flex-col bg-slate-50",children:[(0,tr.jsx)("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:(0,tr.jsxs)("div",{className:"bg-white p-6 sm:p-8 md:p-12 rounded-2xl shadow-xl border border-slate-200/80",children:[(0,tr.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 border-b pb-6 mb-8",children:[(0,tr.jsx)("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-full",children:(0,tr.jsx)(la,{size:28})}),(0,tr.jsxs)("div",{children:[(0,tr.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900",children:"Your Appointment"}),(0,tr.jsxs)("p",{className:"text-slate-500 mt-1",children:["For ",n.packageName]})]})]}),i&&!T&&(0,tr.jsxs)("div",{children:[(0,tr.jsxs)("div",{className:"text-center bg-green-50/80 p-6 sm:p-10 rounded-2xl border-2 border-dashed border-green-200",children:[(0,tr.jsx)(Dn,{size:48,className:"mx-auto text-green-500 mb-4"}),(0,tr.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"Appointment Confirmed!"}),(0,tr.jsxs)("p",{className:"text-slate-600 mt-4 text-lg",children:["Hello, ",(0,tr.jsx)("span",{className:"font-bold",children:n.userName}),"."]}),(0,tr.jsxs)("div",{className:"mt-4 text-slate-700",children:[(0,tr.jsxs)("p",{children:["Your ",(0,tr.jsx)("span",{className:"font-semibold",children:n.packageName})," with"]}),(0,tr.jsx)("p",{className:"text-2xl font-extrabold text-slate-900 mt-1",children:n.consultantName}),(0,tr.jsx)("p",{className:"mt-2",children:"is scheduled for:"})]}),(0,tr.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-4",children:new Date(i.appointmentStart.toDate()).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,tr.jsxs)("p",{className:"text-xl font-semibold text-slate-700 mt-1",children:["at ",new Date(i.appointmentStart.toDate()).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})]}),(0,tr.jsx)("div",{className:"mt-6",children:(0,tr.jsxs)("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-5 py-2 text-sm font-semibold text-white bg-slate-700 rounded-lg hover:bg-slate-800 transition-colors shadow",children:[(0,tr.jsx)(la,{size:16,className:"mr-2"})," Add to Google Calendar"]})})]}),(0,tr.jsx)("div",{className:"mt-8 text-center",children:(i.rescheduleCount||0)<1?(0,tr.jsxs)("div",{children:[(0,tr.jsxs)("button",{onClick:()=>B(!0),className:"inline-flex items-center justify-center px-6 py-3 text-sm font-semibold text-white bg-orange-500 rounded-lg hover:bg-orange-600 transition-colors shadow",children:[(0,tr.jsx)(g0,{size:16,className:"mr-2"})," Need to Reschedule?"]}),(0,tr.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"(Rescheduling is allowed only once per booking)"})]}):(0,tr.jsx)("p",{className:"p-4 bg-yellow-50 text-yellow-800 rounded-lg border border-yellow-200 text-sm",children:"This appointment has already been rescheduled and cannot be changed further."})})]}),(!i||T)&&(0,tr.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,tr.jsxs)("div",{children:[(0,tr.jsx)("h3",{className:"font-semibold text-lg text-slate-800 mb-2",children:"1. Select a Date"}),(0,tr.jsx)("input",{type:"date",value:k,onChange:K=>{U(K.target.value),_("")},min:new Date().toISOString().split("T")[0],className:"w-full p-3 border rounded-lg"})]}),(0,tr.jsxs)("div",{children:[(0,tr.jsx)("h3",{className:"font-semibold text-lg text-slate-800 mb-2",children:"2. Select a Time"}),k?$.length>0?(0,tr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:$.map(({time:K,isBooked:oe,isPast:q})=>(0,tr.jsx)("button",{onClick:()=>!oe&&!q&&_(K),disabled:oe||q,className:`p-3 rounded-lg border text-center font-semibold transition-colors ${oe?"bg-red-100 text-red-500 cursor-not-allowed line-through":q?"bg-gray-100 text-gray-400 cursor-not-allowed":E===K?"bg-blue-600 text-white":"bg-white hover:border-blue-500"}`,children:sSe(K)},K))}):(0,tr.jsx)("p",{className:"text-slate-500 text-sm mt-4",children:"No available slots for this date."}):(0,tr.jsx)("p",{className:"text-slate-500 text-sm mt-4",children:"Please select a date to see available times."})]}),(0,tr.jsxs)("div",{className:"md:col-span-2 text-center pt-8 border-t",children:[(0,tr.jsxs)("button",{onClick:Y,disabled:!k||!E||L,className:"w-full max-w-xs inline-flex items-center justify-center px-8 py-4 text-base font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 shadow-lg",children:[L?(0,tr.jsx)(Pt,{className:"animate-spin mr-2"}):(0,tr.jsx)(Dn,{className:"mr-2"}),L?"Confirming...":"Confirm New Slot"]}),T&&(0,tr.jsx)("button",{onClick:()=>B(!1),className:"mt-3 text-sm text-gray-600 hover:underline",children:"Cancel Reschedule"})]})]})]})}),(0,tr.jsx)(rs,{})]}):(0,tr.jsxs)("div",{className:"min-h-dvh flex flex-col",children:[(0,tr.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,tr.jsx)("div",{className:"text-center text-red-500 p-4",children:"Booking not found."})}),(0,tr.jsx)(rs,{})]}):(0,tr.jsxs)("div",{className:"min-h-dvh flex flex-col bg-slate-50",children:[(0,tr.jsx)("main",{className:"flex-grow flex items-center justify-center container mx-auto px-4 py-8",children:(0,tr.jsx)("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl shadow-xl border",children:(0,tr.jsxs)("form",{onSubmit:ee,children:[(0,tr.jsxs)("div",{className:"text-center",children:[(0,tr.jsx)(xc,{size:32,className:"mx-auto text-blue-500 mb-3"}),(0,tr.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"Verify Your Booking"}),(0,tr.jsx)("p",{className:"text-slate-500 mt-2",children:"To view or reschedule, please enter the email and phone number you used to book."})]}),(0,tr.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,tr.jsxs)("div",{className:"relative",children:[(0,tr.jsx)(Xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,tr.jsx)("input",{type:"email",name:"email",value:g.email,onChange:z,placeholder:"Your Email Address",required:!0,className:"w-full pl-10 pr-3 py-2 border rounded-lg"})]}),(0,tr.jsxs)("div",{className:"relative",children:[(0,tr.jsx)(wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,tr.jsx)("input",{type:"tel",name:"phone",value:g.phone,onChange:z,placeholder:"Your Mobile Number",required:!0,className:"w-full pl-10 pr-3 py-2 border rounded-lg"})]}),(0,tr.jsxs)("button",{type:"submit",disabled:S,className:"w-full flex items-center justify-center py-3 px-4 text-white bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold disabled:bg-blue-400",children:[S?(0,tr.jsx)(Pt,{className:"animate-spin mr-2"}):(0,tr.jsx)(Dn,{className:"mr-2"}),S?"Verifying...":"Verify & View Booking"]}),(0,tr.jsxs)("p",{className:"text-center text-xs text-gray-500",children:["Already have an account? ",(0,tr.jsx)("a",{href:"/login",className:"font-semibold text-blue-600 hover:underline",children:"Login here"})]})]})]})})}),(0,tr.jsx)(rs,{})]})},qre=oSe;var Vi=ce($t());var pd=ce(_e()),lSe=({onClose:t})=>(0,pd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:(0,pd.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-md text-center",children:[(0,pd.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Please Login or Purchase"}),(0,pd.jsx)("p",{className:"mt-2 text-gray-600",children:"You need to be logged in to use this application. Existing users can log in, while new users can sign up and purchase credits."}),(0,pd.jsxs)("div",{className:"mt-6 flex flex-col gap-3",children:[(0,pd.jsxs)("a",{href:"/login",className:"w-full flex justify-center items-center py-3 px-4 text-white bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition",children:[(0,pd.jsx)(vc,{className:"mr-2",size:20})," Login for Existing Users"]}),(0,pd.jsxs)("a",{href:"/pricing",className:"w-full flex justify-center items-center py-3 px-4 text-white bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition",children:[(0,pd.jsx)(wi,{className:"mr-2",size:20})," See Pricing & Sign Up"]}),(0,pd.jsx)("button",{type:"button",onClick:t,className:"w-full rounded-md bg-gray-200 px-4 py-3 text-sm font-medium text-gray-800 hover:bg-gray-300",children:"Cancel"})]})]})}),zre=lSe;var Ye=ce(_e()),uSe=()=>(0,Ye.jsxs)("svg",{className:"w-full max-w-sm h-auto",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ye.jsx)("rect",{x:"50",y:"50",width:"400",height:"400",rx:"10",className:"assistant-svg-outline",strokeWidth:"3"}),(0,Ye.jsx)("path",{d:"M100 100H400V400H100V100Z",fill:"#2d295b"}),(0,Ye.jsx)("path",{d:"M100 100L400 400M400 100L100 400",stroke:"#4f478a",strokeWidth:"1"}),(0,Ye.jsx)("rect",{x:"150",y:"150",width:"100",height:"100",fill:"#4f478a"}),(0,Ye.jsx)("rect",{x:"250",y:"250",width:"100",height:"100",fill:"#4f478a"}),(0,Ye.jsx)("circle",{cx:"250",cy:"250",r:"180",className:"assistant-svg-outline",strokeWidth:"2",opacity:"0.6"}),(0,Ye.jsx)("circle",{cx:"250",cy:"250",r:"150",className:"assistant-svg-inner",opacity:"0.4"}),(0,Ye.jsx)("text",{x:"240",y:"50",fontFamily:"Inter, sans-serif",fontSize:"20",fill:"#f8fafc",children:"N"}),(0,Ye.jsx)("text",{x:"440",y:"250",fontFamily:"Inter, sans-serif",fontSize:"20",fill:"#f8fafc",children:"E"}),(0,Ye.jsx)("text",{x:"240",y:"460",fontFamily:"Inter, sans-serif",fontSize:"20",fill:"#f8fafc",children:"S"}),(0,Ye.jsx)("text",{x:"40",y:"250",fontFamily:"Inter, sans-serif",fontSize:"20",fill:"#f8fafc",children:"W"}),(0,Ye.jsx)("circle",{cx:"250",cy:"250",r:"5",className:"assistant-svg-fill"}),(0,Ye.jsx)("line",{x1:"250",y1:"250",x2:"250",y2:"70",className:"assistant-svg-outline",strokeWidth:"2"}),(0,Ye.jsx)("line",{x1:"250",y1:"250",x2:"430",y2:"250",className:"assistant-svg-outline",strokeWidth:"2"}),(0,Ye.jsx)("line",{x1:"250",y1:"250",x2:"250",y2:"430",className:"assistant-svg-outline",strokeWidth:"2"}),(0,Ye.jsx)("line",{x1:"250",y1:"250",x2:"70",y2:"250",className:"assistant-svg-outline",strokeWidth:"2"})]}),jre=({urls:t,title:e,speed:r=1e3})=>{let[n,a]=(0,Vi.useState)(0),i=(0,Vi.useRef)(null),[s,o]=(0,Vi.useState)(!1);if((0,Vi.useEffect)(()=>{let u=new IntersectionObserver(([c])=>{o(c.isIntersecting)},{threshold:.1});return i.current&&u.observe(i.current),()=>{i.current&&u.unobserve(i.current)}},[]),(0,Vi.useEffect)(()=>{if(s&&t&&t.length>1){let u=setInterval(()=>{a(c=>(c+1)%t.length)},r);return()=>clearInterval(u)}},[s,t,r]),!t||t.length===0)return(0,Ye.jsx)("div",{className:"w-full h-64 bg-gray-200 rounded-xl flex items-center justify-center",children:"No Image"});let l=t[n];return(0,Ye.jsx)("div",{ref:i,className:"w-full flex justify-center",children:l==="svg"?(0,Ye.jsx)(uSe,{}):(0,Ye.jsx)("img",{src:l,alt:e,className:"rounded-xl shadow-lg border-4 border-yellow-300 w-full object-contain"})})},Kre=({icon:t,className:e="w-5 h-5 text-accent flex-shrink-0 mt-1 mr-2"})=>(0,Ye.jsx)(Ye.Fragment,{children:{crosshair:(0,Ye.jsx)(Xx,{className:e}),compass:(0,Ye.jsx)(Yd,{className:e}),ruler:(0,Ye.jsx)(t2,{className:e}),"user-plus":(0,Ye.jsx)(uA,{className:e}),infinity:(0,Ye.jsx)(Bh,{className:e}),eye:(0,Ye.jsx)(Xd,{className:e}),smartphone:(0,Ye.jsx)(n2,{className:e}),briefcase:(0,Ye.jsx)(Gs,{className:e}),"percent-square":(0,Ye.jsx)(Am,{className:e}),star:(0,Ye.jsx)(Cc,{className:e}),"hand-heart":(0,Ye.jsxs)("svg",{"data-lucide":"hand-heart",className:e,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,Ye.jsx)("path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16"}),(0,Ye.jsx)("path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.7-2.9l-4.4 4.3c-.4.4-1 .4-1.4 0l-3-3a2 2 0 0 0-2.8 0l-2.8 2.8a2 2 0 0 0 0 2.8l3.6 3.6c.4.4 1 .4 1.4 0L11 14z"})]}),gem:(0,Ye.jsxs)("svg",{"data-lucide":"gem",className:e,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,Ye.jsx)("path",{d:"M6 3h12l4 6-10 13L2 9Z"}),(0,Ye.jsx)("path",{d:"M12 22 6 9l12 0-6 13Z"}),(0,Ye.jsx)("path",{d:"M2 9h20"})]}),"check-circle":(0,Ye.jsx)(Dn,{className:e})}[t]||null}),cSe=({value:t,label:e})=>{let[r,n]=(0,Vi.useState)(0),a=(0,Vi.useRef)(null),i=l=>{let u=parseInt(l.replace(/[^0-9]/g,""),10)||0,c=l.replace(/[0-9,]/g,"")||"";return{num:u,suffix:c}},{num:s,suffix:o}=i(t);return(0,Vi.useEffect)(()=>{if(!s)return;let l=new IntersectionObserver(([u])=>{if(u.isIntersecting){let c=null,d=2e3,f=A=>{c||(c=A);let v=Math.min((A-c)/d,1);n(Math.floor(v*s)),v<1&&window.requestAnimationFrame(f)};window.requestAnimationFrame(f),l.disconnect()}},{threshold:.7});return a.current&&l.observe(a.current),()=>l.disconnect()},[s]),(0,Ye.jsxs)("div",{ref:a,className:"text-center p-6 bg-indigo-700/50 rounded-xl border border-yellow-300",children:[(0,Ye.jsxs)("p",{className:"text-5xl font-extrabold text-accent",children:[r.toLocaleString(),o]}),(0,Ye.jsx)("p",{className:"text-lg mt-2 font-medium text-gray-200",children:e})]})},dSe=()=>{let[t,e]=(0,Vi.useState)(null),[r,n]=(0,Vi.useState)([]),[a,i]=(0,Vi.useState)([]),[s,o]=(0,Vi.useState)([]),[l,u]=(0,Vi.useState)([]),[c,d]=(0,Vi.useState)(!0),[f,A]=(0,Vi.useState)(!1),[v,I]=(0,Vi.useState)(null),w=(0,Vi.useRef)(null);(0,Vi.useEffect)(()=>{(async()=>{try{let T=Ce.collection("site_content").doc("homepage").get(),B=Ce.collection("apps").get(),k=Ce.collection("blogs").where("status","==","published").get(),U=Ce.collection("reviews").get(),E=Ce.collection("site_content").doc("live").get(),[_,L,D,z,ee]=await Promise.all([T,B,k,U,E]);if(_.exists){let Y=_.data();e(Y);let $=Y.metaTitle||"Powerful Tools",j=Y.metaDescription||"Powerful & affordable Vastu, Numerology, and layout tools designed by experts. Get your instant analysis & more, with more apps coming soon.",K=Y.featuredImageUrl||"https://powerfultools.in/default-og-image.png";K.startsWith("/")&&(K=window.location.origin+K);let oe=window.location.origin+"/";document.title=$;let q=document.getElementById("meta-description");q&&(q.content=j);let X=document.getElementById("og-title");X&&(X.content=$);let te=document.getElementById("og-description");te&&(te.content=j);let ue=document.getElementById("og-image");ue&&(ue.content=K);let be=document.getElementById("og-url");be&&(be.content=oe);let ge=document.getElementById("twitter-title");ge&&(ge.content=$);let Ne=document.getElementById("twitter-description");Ne&&(Ne.content=j);let Le=document.getElementById("twitter-image");Le&&(Le.content=K);let Ie=document.getElementById("twitter-url");Ie&&(Ie.content=oe);let de=document.getElementById("canonical-url");de&&(de.href=oe)}n(L.docs.map(Y=>({...Y.data(),id:Y.id}))),i(D.docs.map(Y=>({...Y.data(),id:Y.id}))),o(z.docs.map(Y=>({...Y.data(),id:Y.id}))),ee.exists&&u(ee.data()?.videoTestimonials||[])}catch(T){console.error("Error fetching homepage data:",T)}finally{d(!1)}})()},[]);let g=R=>{if(!R.enabled)return null;switch(R.type){case"hero":return(0,Ye.jsxs)("section",{className:"text-center bg-white rounded-b-xl shadow-lg mb-8 py-12 md:py-16 px-4",children:[(0,Ye.jsx)("h1",{className:"text-4xl sm:text-5xl font-extrabold text-primary leading-tight mb-4",dangerouslySetInnerHTML:{__html:R.title}}),(0,Ye.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto mb-8",children:R.subtitle}),(0,Ye.jsx)("div",{className:"flex justify-center space-x-4 mt-8",children:(0,Ye.jsx)("a",{href:R.ctaLink,className:"cta-button text-lg font-bold bg-accent text-white py-3 px-8 rounded-lg hover:bg-orange-600",children:R.ctaText})})]});case"expert":return(0,Ye.jsxs)("section",{className:"py-8",children:[(0,Ye.jsx)("h2",{className:"section-heading text-4xl mb-12",dangerouslySetInnerHTML:{__html:R.title}}),(0,Ye.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Ye.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Ye.jsxs)("div",{className:"relative w-64 h-64 lg:w-72 lg:h-72",children:[(0,Ye.jsx)("div",{className:"absolute inset-0 bg-yellow-300 rounded-full transform translate-x-3 translate-y-3"}),(0,Ye.jsx)("div",{className:"relative w-full h-full rounded-full bg-gray-200 overflow-hidden shadow-lg border-4 border-white",children:R.imageUrl?(0,Ye.jsx)("img",{src:R.imageUrl,alt:R.name,className:"w-full h-full object-cover"}):(0,Ye.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-yellow-200 text-primary text-6xl font-bold",children:R.name.split(" ").map(K=>K[0]).join("")})})]}),(0,Ye.jsxs)("div",{className:"bg-yellow-100 p-6 rounded-2xl shadow-lg w-full max-w-sm text-center -mt-16 pt-20",children:[(0,Ye.jsx)("h3",{className:"text-2xl font-bold text-primary",children:R.name}),(0,Ye.jsx)("p",{className:"text-md font-semibold text-gray-700 mt-1",children:R.role}),(0,Ye.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:R.qualifications})]})]}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("h3",{className:"text-2xl font-bold text-primary mb-6",children:R.subheading}),(0,Ye.jsx)("ul",{className:"space-y-4",children:(R.achievements||[]).map(K=>(0,Ye.jsxs)("li",{className:"flex items-start",children:[(0,Ye.jsx)(Dn,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1 mr-3"}),(0,Ye.jsx)("span",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:K.text}})]},K.id))})]})]})]});case"app_showcase_title":return(0,Ye.jsx)("h2",{className:"section-heading text-4xl",dangerouslySetInnerHTML:{__html:R.title}});case"app_item":let T=r.find(K=>K.id===R.appId),B=R.customTitle||T?.name,k=R.customDescription||T?.description,U=R.customFeatures,E=R.customCtaText||`Learn more about ${T?.name}`,_=R.imageOverrideUrls,L=R.layout==="image_right"?"md:flex-row-reverse":"md:flex-row";return(0,Ye.jsx)("div",{children:(0,Ye.jsxs)("div",{className:`flex flex-col ${L} items-center gap-10 bg-white p-8 rounded-xl shadow-2xl app-card border-t-8 ${R.layout==="image_right"?"border-accent":"border-primary"}`,children:[(0,Ye.jsxs)("div",{className:"md:w-3/5 w-full",children:[(0,Ye.jsx)("h3",{className:"text-3xl font-extrabold text-primary mb-4",children:B}),(0,Ye.jsx)("p",{className:"text-lg text-gray-700 mb-6",dangerouslySetInnerHTML:{__html:k||""}}),(0,Ye.jsx)("div",{className:"md:hidden my-6",children:(0,Ye.jsx)(jre,{urls:_||[],title:B||"",speed:R.imageCarouselSpeed})}),(0,Ye.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:(U||[]).map(K=>(0,Ye.jsxs)("div",{className:"flex items-start",children:[(0,Ye.jsx)(Kre,{icon:K.icon,className:"w-6 h-6 text-accent flex-shrink-0 mt-1 mr-3"}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("h4",{className:"font-bold text-primary",children:K.title}),(0,Ye.jsx)("p",{className:"text-gray-600 text-sm",children:K.description})]})]},K.id))}),(0,Ye.jsx)("div",{className:"mt-8 flex justify-center",children:(0,Ye.jsx)("button",{onClick:()=>A(!0),className:`cta-button text-lg font-bold text-white py-3 px-8 rounded-xl ${R.layout==="image_right"?"bg-accent hover:bg-orange-600":"bg-primary hover:bg-indigo-700"}`,children:E})})]}),(0,Ye.jsx)("div",{className:"hidden md:flex md:w-2/5 justify-center",children:(0,Ye.jsx)(jre,{urls:_||[],title:B||"",speed:R.imageCarouselSpeed})})]})});case"stats":return(0,Ye.jsxs)("section",{className:"py-12 md:py-16 bg-primary rounded-xl shadow-2xl my-8 text-white",children:[(0,Ye.jsx)("h2",{className:"text-3xl font-bold text-center mb-10",dangerouslySetInnerHTML:{__html:R.title}}),(0,Ye.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-5xl mx-auto px-4",children:(R.metrics||[]).map(K=>(0,Ye.jsx)(cSe,{value:K.value,label:K.label},K.id))})]});case"upcoming_apps":return(0,Ye.jsxs)("section",{className:"py-8 border-t border-gray-200",children:[(0,Ye.jsx)("h2",{className:"section-heading text-4xl mb-8",dangerouslySetInnerHTML:{__html:R.title}}),(0,Ye.jsx)("p",{className:"text-center text-lg text-gray-600 max-w-2xl mx-auto mb-10",children:R.subtitle}),(0,Ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:(R.apps||[]).map(K=>(0,Ye.jsxs)("div",{className:"bg-warm p-6 rounded-xl shadow-lg border-2 border-yellow-300 text-center",children:[(0,Ye.jsx)("div",{className:"w-12 h-12 text-accent mx-auto mb-3 flex items-center justify-center",children:(0,Ye.jsx)(Kre,{icon:K.icon,className:"w-12 h-12"})}),(0,Ye.jsx)("h3",{className:"text-xl font-bold text-primary mb-2",children:K.title}),(0,Ye.jsx)("p",{className:"text-gray-700",children:K.description})]},K.id))})]});case"video_testimonials":let D=R.testimonialIds||[],z=l.filter(K=>D.includes(K.id));return z.length===0?null:(0,Ye.jsxs)("section",{className:"py-8 md:py-12 bg-gray-50 my-8 rounded-xl shadow-inner border border-gray-200",children:[(0,Ye.jsx)("h2",{className:"section-heading text-4xl mb-10",dangerouslySetInnerHTML:{__html:R.title}}),(0,Ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:z.map(K=>(0,Ye.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-300 cursor-pointer",onClick:()=>I(K.url),children:[(0,Ye.jsx)("img",{src:K.url.includes("placeholder")?K.url:`https://img.youtube.com/vi/${au(K.url)}/hqdefault.jpg`,alt:K.name,className:"w-full h-auto"}),(0,Ye.jsxs)("p",{className:"p-4 text-center font-medium text-primary",children:['"',K.name,'"']})]},K.id))})]});case"text_reviews":let ee=R.reviewIds||[],Y=s.filter(K=>ee.includes(K.id));return Y.length===0?null:(0,Ye.jsxs)("section",{className:"py-8 border-t border-gray-200",children:[(0,Ye.jsx)("h2",{className:"section-heading text-4xl mb-10",dangerouslySetInnerHTML:{__html:R.title}}),(0,Ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Y.map(K=>(0,Ye.jsxs)("div",{className:"bg-warm p-6 rounded-xl shadow-lg border-2 border-yellow-300 flex flex-col",children:[(0,Ye.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ye.jsx)("div",{className:"w-12 h-12 rounded-full bg-indigo-200 flex items-center justify-center mr-4 flex-shrink-0",children:(0,Ye.jsx)(ca,{size:24,className:"text-primary"})}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("p",{className:"font-bold text-primary",children:K.userName}),(0,Ye.jsx)(sd,{rating:K.rating,setRating:()=>{},size:16,disabled:!0})]})]}),(0,Ye.jsxs)("p",{className:"text-gray-700 italic flex-grow",children:['"',K.review,'"']})]},K.id))})]});case"blog":let $=R.postIds||[],j=a.filter(K=>$.includes(K.id));return j.length===0?null:(0,Ye.jsxs)("section",{className:"py-12 md:py-16 bg-primary rounded-xl shadow-2xl my-8 text-white",children:[(0,Ye.jsx)("h2",{className:"text-3xl font-bold text-center mb-10 px-4",dangerouslySetInnerHTML:{__html:R.title}}),(0,Ye.jsxs)("div",{className:"relative",children:[(0,Ye.jsx)("button",{onClick:()=>w.current?.scrollBy({left:-300,behavior:"smooth"}),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white/20 hover:bg-white/40 text-white p-2 rounded-full backdrop-blur-sm ml-2 hidden md:block","aria-label":"Scroll left",children:(0,Ye.jsx)(a0,{size:24})}),(0,Ye.jsxs)("div",{ref:w,className:"blog-carousel-container flex space-x-6 px-4 py-4",children:[j.map(K=>(0,Ye.jsxs)("a",{href:`/blog/${K.slug}`,className:"flex-shrink-0 w-80 bg-white text-gray-800 rounded-xl shadow-lg border-t-4 border-accent app-card block",children:[(0,Ye.jsx)("img",{src:K.featuredImageUrl,alt:K.title,className:"rounded-t-xl w-full h-40 object-cover"}),(0,Ye.jsxs)("div",{className:"p-4",children:[(0,Ye.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-2",children:[(0,Ye.jsxs)("span",{children:["by ",K.authorName]}),(0,Ye.jsx)("span",{children:"\u2022"}),(0,Ye.jsx)("span",{children:sn(K.createdAt)})]}),(0,Ye.jsx)("h3",{className:"text-lg font-bold text-primary mb-2 h-14 overflow-hidden",title:K.title,children:K.title}),(0,Ye.jsx)("p",{className:"text-sm text-gray-600 mb-3 h-12 overflow-hidden",children:K.excerpt}),(0,Ye.jsx)("span",{className:"text-accent font-semibold text-sm hover:underline",children:"Read Article \u2192"})]})]},K.id)),(0,Ye.jsx)("a",{href:"/blog",className:"flex-shrink-0 w-80 bg-white text-gray-800 rounded-xl shadow-lg border-t-4 border-accent app-card flex items-center justify-center p-6",children:(0,Ye.jsx)("p",{className:"text-center font-bold text-lg text-primary",children:"View All Latest Blogs \u2192"})})]}),(0,Ye.jsx)("button",{onClick:()=>w.current?.scrollBy({left:300,behavior:"smooth"}),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white/20 hover:bg-white/40 text-white p-2 rounded-full backdrop-blur-sm mr-2 hidden md:block","aria-label":"Scroll right",children:(0,Ye.jsx)(vf,{size:24})})]})]});default:return null}};if(c)return(0,Ye.jsx)(Fl,{});if(!t)return(0,Ye.jsx)("div",{className:"min-h-dvh flex items-center justify-center",children:"Homepage content not configured. Please set it up in the admin dashboard."});let b=[...t.sections].sort((R,T)=>(R.order||0)-(T.order||0)),S=b.findIndex(R=>R.type==="app_showcase_title"),F=[],O=[...b];return S!==-1&&(F=b.filter(R=>R.type==="app_item"),O=b.filter(R=>R.type!=="app_item")),(0,Ye.jsxs)("div",{className:"bg-slate-50 text-slate-800",children:[(0,Ye.jsx)("header",{className:"bg-white/80 backdrop-blur-md border-b border-slate-200 z-20 sticky top-0",children:(0,Ye.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between",children:[(0,Ye.jsxs)("a",{href:"/",className:"flex items-center gap-3",children:[(0,Ye.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600 flex-shrink-0",children:[(0,Ye.jsx)("path",{d:"M5.5 8.5 9 12l-3.5 3.5L2 12l3.5-3.5Z"}),(0,Ye.jsx)("path",{d:"m12 2 3.5 3.5L12 9 8.5 5.5 12 2Z"}),(0,Ye.jsx)("path",{d:"M18.5 8.5 22 12l-3.5 3.5L15 12l3.5-3.5Z"}),(0,Ye.jsx)("path",{d:"m12 15 3.5 3.5L12 22l-3.5-3.5L12 15Z"})]}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Powerful Tools"}),(0,Ye.jsx)("p",{className:"text-sm text-gray-500",children:"By Acharya Preeti Sharma"})]})]}),(0,Ye.jsx)("div",{className:"flex items-center gap-4",children:(0,Ye.jsxs)("a",{href:"/login",className:"flex items-center text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 transition-colors px-4 py-2 rounded-lg shadow-md",children:[(0,Ye.jsx)(vc,{size:16,className:"mr-2"}),"Login / Sign Up"]})})]})}),(0,Ye.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20 space-y-8",children:O.map(R=>R.type==="app_showcase_title"?(0,Ye.jsxs)("section",{id:"applications",className:"space-y-8",children:[g(R),F.map(T=>(0,Ye.jsx)(Vi.default.Fragment,{children:g(T)},T.id))]},R.id):(0,Ye.jsx)(Vi.default.Fragment,{children:g(R)},R.id))}),(0,Ye.jsx)(rs,{}),f&&(0,Ye.jsx)(zre,{onClose:()=>A(!1)}),v&&(0,Ye.jsx)(Ff,{videoUrl:v,onClose:()=>I(null)})]})},Gre=dSe;var Rl=ce($t());var Et=ce(_e()),ASe=()=>new Promise(t=>{let e="razorpay-checkout-js";if(document.getElementById(e))return t(!0);let r=document.createElement("script");r.id=e,r.src="https://checkout.razorpay.com/v1/checkout.js",r.onload=()=>t(!0),r.onerror=()=>{document.getElementById(e)?.remove(),t(!1)},document.body.appendChild(r)}),fSe=({slug:t,showNotification:e,onPurchaseSuccess:r,userProfile:n})=>{let[a,i]=(0,Rl.useState)(null),[s,o]=(0,Rl.useState)([]),[l,u]=(0,Rl.useState)(!0),[c,d]=(0,Rl.useState)(null),[f,A]=(0,Rl.useState)(!1),[v,I]=(0,Rl.useState)(!1),[w,g]=(0,Rl.useState)([]),[b,S]=(0,Rl.useState)(!1),[F,O]=(0,Rl.useState)({});(0,Rl.useEffect)(()=>{(async()=>{u(!0),d(null);try{let D=await Ce.collection("landingPages").where("slug","==",t).limit(1).get();if(D.empty){let ee=await Ce.collection("landingPages").doc(t).get();if(!ee.exists)throw new Error("Offer page not found or not enabled.");let Y={id:ee.id,...ee.data()};i(Y)}else{let ee={id:D.docs[0].id,...D.docs[0].data()};i(ee)}let z=await Ce.collection("apps").get();o(z.docs.map(ee=>({id:ee.id,...ee.data()})))}catch(L){let z=await Ce.collection("landingPages").where("slug","==",t).limit(1).get();if(z.empty)d(L.message||"Failed to load offer page.");else{let ee={id:z.docs[0].id,...z.docs[0].data()};i(ee)}}finally{u(!1)}})()},[t]);let R=(_,L)=>{O(D=>({...D,[_]:{...D[_],[L]:!D[_]?.[L]}}))},T=_=>{if(!a)return;let L=s.find(Y=>Y.id===a.appId),D=L?.pricingTiers?.find(Y=>Y.id===_.mainAppTierId);if(!L||!D){e("This offer is not configured correctly. Please contact support.","error");return}let z=[];z.push({appId:L.id,appName:L.name,appIcon:L.icon,tierId:D.id,tierName:_.title,credits:D.credits,price:D.price});let ee=F[_.id];ee&&_.addons&&_.addons.forEach(Y=>{ee[Y.key]&&z.push({appId:"add-on-app",appName:Y.title,appIcon:"",tierId:`addon_${Y.key}_${Y.offerPrice}`,tierName:"Special Add-on",credits:Y.title.toLowerCase().includes("unlimited")?0:1,price:Y.offerPrice})}),g(z),I(!0)},B=(_,L)=>{k(_,L)},k=async(_,L)=>{A(!0);try{if(!await ASe()||typeof window.Razorpay>"u")throw new Error("Could not load payment gateway. Please check your connection and try again.");let Y=(await cr.httpsCallable("createRazorpayOrder")({items:L,guestDetails:_.guestDetails,referredBy:_.referralCode})).data;if(Y.freeOrder){I(!1),!n||n==="loading"?S(!0):r(L),e("Order processed successfully!","success");return}let oe={key:(await cr.httpsCallable("getPaymentConfiguration")()).data.keyId,amount:Y.amount,currency:Y.currency,name:"Powerful Tools Portal",description:Y.description,order_id:Y.razorpayOrderId,prefill:Y.prefill,theme:{color:"#2563EB"},handler:()=>{I(!1),!n||n==="loading"?S(!0):r(L)},modal:{ondismiss:()=>A(!1)}},q=new window.Razorpay(oe);q.on("payment.failed",X=>{e(`Payment failed: ${X.error.description}.`,"error")}),q.open()}catch(D){e(`Checkout failed: ${D.message}`,"error")}finally{A(!1)}},U=_=>{if(!_.enabled)return null;switch(_.type){case"intro":{let{introContent:L}=_;return L?(0,Et.jsx)("section",{id:"section-intro",className:"mb-16",children:(0,Et.jsxs)("header",{className:"text-center my-8 md:my-16",children:[(0,Et.jsx)("h1",{className:"text-4xl md:text-6xl font-extrabold text-[#004AAD] drop-shadow-sm",children:L.mainHeadline}),(0,Et.jsx)("p",{className:"mt-4 text-lg md:text-xl text-[#0062E3] font-semibold",children:L.subHeadline})]})}):null}case"challenge":{let{challengeContent:L}=_;return L?(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"bg-gray-50 rounded-lg shadow-xl p-6 md:p-10 mb-8 max-w-5xl mx-auto",children:[(0,Et.jsx)("h2",{className:"text-3xl font-bold text-center text-[#004AAD] mb-6",children:L.title}),(0,Et.jsx)("p",{className:"text-center text-lg text-gray-700 mb-8",children:L.description}),(0,Et.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 text-center",children:L.callouts.map(D=>(0,Et.jsxs)("div",{className:"bg-blue-50 p-6 rounded-xl shadow-md border-b-4 border-amber-500",children:[(0,Et.jsx)("div",{className:"text-5xl",children:D.icon}),(0,Et.jsx)("h3",{className:"font-bold text-2xl mt-2 text-[#0062E3]",children:D.title}),(0,Et.jsx)("p",{className:"text-sm text-gray-600 font-semibold",dangerouslySetInnerHTML:{__html:D.description}})]},D.id))})]}),(0,Et.jsx)("div",{className:"text-center mt-8",children:(0,Et.jsx)("p",{className:"text-3xl font-extrabold text-red-600 mt-2",children:a?.offerPage?.sections.find(D=>D.type==="intro")?.introContent?.scrollButtonText})}),(0,Et.jsx)("hr",{className:"border-t-2 border-[#C2D9FF] my-12 max-w-xl mx-auto"})]}):null}case"offer_card":{let{offerContent:L}=_;if(!L)return null;let D=L.isBestValue?"border-t-8 border-[#398AF7] ring-4 ring-[#398AF7] ring-opacity-50 relative":"border-t-8 border-gray-400",z=L.isBestValue?"gradient-bg":"bg-gray-600",ee=L.id;return(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("section",{className:"mb-16",children:(0,Et.jsxs)("div",{className:`mb-12 bg-white rounded-lg shadow-2xl p-6 flex flex-col max-w-4xl mx-auto w-full ${D}`,children:[L.isBestValue&&(0,Et.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 bg-red-600 text-white text-sm font-bold px-4 py-2 rounded-full shadow-lg transform rotate-6",children:"BEST VALUE"}),(0,Et.jsx)("h2",{className:"text-center text-3xl md:text-4xl font-bold text-[#004AAD] mb-8",children:L.title}),(0,Et.jsx)("p",{className:"text-lg text-center text-gray-700 mb-6",children:L.description}),(0,Et.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[(0,Et.jsxs)("div",{className:"text-center",children:[L.originalPrice&&(0,Et.jsxs)("p",{className:"text-red-500 line-through text-2xl",children:["Original Price: \u20B9",(L.originalPrice/100).toLocaleString("en-IN")]}),(0,Et.jsxs)("p",{className:"text-6xl font-extrabold text-[#0062E3] my-2",children:["\u20B9",(L.price/100).toLocaleString("en-IN")]}),L.priceSubtitle&&(0,Et.jsx)("p",{className:"text-green-600 font-bold text-2xl",children:L.priceSubtitle})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("ul",{className:"space-y-3 text-gray-700 mb-6",children:L.features.map(Y=>(0,Et.jsxs)("li",{className:"flex items-start",children:[(0,Et.jsx)("span",{className:"text-green-500 mr-2 mt-1",children:"\u2714"}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("span",{dangerouslySetInnerHTML:{__html:Y.text}}),Y.valueText&&(0,Et.jsx)("span",{className:"value-tag",children:Y.valueText})]})]},Y.id))}),L.addons&&L.addons.length>0&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("h4",{className:"text-lg font-bold text-amber-600 mt-4 mb-3 border-t border-amber-300 pt-3",children:"\u{1F680} Exclusive Webinar Add-Ons:"}),(0,Et.jsx)("ul",{className:"space-y-3 bg-blue-50 p-4 rounded-lg shadow-inner",children:L.addons.map(Y=>(0,Et.jsx)("li",{className:"flex items-start",children:(0,Et.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,Et.jsx)("input",{type:"checkbox",checked:!!F[ee]?.[Y.key],onChange:()=>R(ee,Y.key),className:"h-4 w-4 mr-3"}),(0,Et.jsxs)("span",{className:"flex-1",children:[(0,Et.jsx)("p",{className:"font-bold text-gray-800",children:Y.title}),(0,Et.jsxs)("p",{className:"text-sm text-gray-600 mt-0.5",children:[(0,Et.jsx)("span",{className:"font-bold",children:"Add-On Price:"}),(0,Et.jsxs)("span",{className:"text-red-500 line-through mr-1",children:["\u20B9",(Y.originalPrice/100).toLocaleString("en-IN")]}),(0,Et.jsxs)("span",{className:"text-green-600 font-extrabold ml-2",children:["\u20B9",(Y.offerPrice/100).toLocaleString("en-IN")]})]})]})]})},Y.id))})]})]})]}),(0,Et.jsx)("button",{onClick:()=>T(L),className:`mt-8 w-full ${z} text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300`,children:L.buttonText})]})}),(0,Et.jsx)("hr",{className:"border-t-2 border-[#C2D9FF] my-12 max-w-xl mx-auto"})]})}case"final_cta":{let{finalCtaContent:L}=_;if(!L)return null;let D=L.options||[];if(D.length===0&&L.option1Title&&(D.push({id:we(),type:"instant",title:L.option1Title,steps:L.option1Steps||[],buttonText:L.option1ButtonText,isPrimary:!0}),L.option2Title&&D.push({id:we(),type:"qr",title:L.option2Title,qrText:L.option2QrText,note:L.option2Note,isPrimary:!1})),D.length===0)return null;let z=D.length===1?"grid-cols-1 max-w-lg mx-auto":D.length===2?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3";return(0,Et.jsxs)("section",{id:"section-cta",className:"mb-16",children:[(0,Et.jsxs)("div",{className:"max-w-6xl mx-auto w-full",children:[(0,Et.jsxs)("header",{className:"text-center mb-12 bg-white rounded-xl shadow-xl p-8 border-b-8 border-red-600",children:[(0,Et.jsx)("h2",{className:"text-4xl md:text-5xl font-extrabold text-red-600 drop-shadow-sm",children:L.urgencyHeadline}),(0,Et.jsx)("p",{className:"mt-4 text-xl md:text-2xl font-bold text-[#004AAD]",dangerouslySetInnerHTML:{__html:L.urgencySubheadline}})]}),(0,Et.jsxs)("section",{id:"cta",children:[(0,Et.jsx)("h3",{className:"text-center text-3xl md:text-4xl font-bold text-[#004AAD] mb-12",children:L.ctaTitle}),(0,Et.jsx)("div",{className:`grid ${z} gap-8`,children:D.map(ee=>{let Y=ee.isPrimary;return ee.type==="instant"?(0,Et.jsxs)("div",{className:`bg-white rounded-xl shadow-2xl p-6 border-b-8 ${Y?"border-green-600":"border-gray-400"} relative`,children:[Y&&(0,Et.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 bg-green-600 text-white text-sm font-bold px-4 py-1 rounded-full shadow-lg transform rotate-3",children:"FASTEST ACCESS"}),(0,Et.jsx)("h4",{className:`text-2xl font-bold ${Y?"text-green-700":"text-gray-700"} mb-4`,children:ee.title}),(0,Et.jsx)("ol",{className:"space-y-4 text-left text-gray-700 list-decimal list-inside text-lg",children:(ee.steps||[]).map($=>(0,Et.jsx)("li",{className:"pl-2",dangerouslySetInnerHTML:{__html:$.text}},$.id))}),ee.buttonText&&(0,Et.jsx)("a",{href:"https://powerfultools.in/pricing",className:"mt-8 w-full block text-center gradient-bg text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:ee.buttonText})]},ee.id):ee.type==="qr"?(0,Et.jsxs)("div",{className:`bg-white rounded-xl shadow-xl p-6 border-b-8 ${Y?"border-green-600":"border-gray-400"}`,children:[(0,Et.jsx)("h4",{className:`text-2xl font-bold text-center ${Y?"text-green-700":"text-gray-700"} mb-6`,children:ee.title}),(0,Et.jsxs)("div",{className:"text-center",children:[(0,Et.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-inner inline-block",children:[ee.payeeName&&(0,Et.jsx)("h5",{className:"font-semibold text-gray-800 mb-2",children:ee.payeeName}),ee.qrImageUrl?(0,Et.jsx)("img",{src:ee.qrImageUrl,alt:"Scan to Pay with UPI",className:"w-48 mx-auto"}):(0,Et.jsx)("div",{className:"w-48 h-48 mx-auto bg-gray-100 flex items-center justify-center text-center text-gray-400 text-sm p-4",children:"QR Code Image URL is missing"}),ee.qrText&&(0,Et.jsx)("p",{className:"font-mono text-sm mt-2 text-gray-700",children:ee.qrText})]}),(0,Et.jsx)("p",{className:"text-sm text-gray-600 mt-4",children:"Scan to pay with any UPI app"})]}),ee.note&&(0,Et.jsxs)("div",{className:"mt-6 p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,Et.jsx)("p",{className:"font-bold text-red-700",children:"Important Note:"}),(0,Et.jsx)("p",{className:"text-red-700",dangerouslySetInnerHTML:{__html:ee.note}})]})]},ee.id):null})})]})]}),(0,Et.jsxs)("footer",{className:"text-center mt-16 py-8 border-t border-[#83B9FF] max-w-6xl mx-auto w-full",children:[(0,Et.jsx)("p",{className:"text-[#0062E3]",children:L.footerText}),(0,Et.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:L.footerContact})]})]})}default:return null}},E=(0,Rl.useMemo)(()=>a?.offerPage?.sections?[...a.offerPage.sections].sort((_,L)=>_.order-L.order):[],[a]);if(l)return(0,Et.jsx)(Fl,{});if(c)return(0,Et.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,Et.jsx)("main",{className:"flex-grow flex items-center justify-center p-4",children:(0,Et.jsxs)("div",{className:"text-center",children:[(0,Et.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"Page Not Found"}),(0,Et.jsx)("p",{className:"text-gray-600 mt-2",children:c}),(0,Et.jsx)("a",{href:"/",className:"mt-6 inline-block bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700",children:"Go to Homepage"})]})}),(0,Et.jsx)(rs,{})]});if(!a||!a.hasOfferPage||!a.offerPage){let _=a?.offerPageDisabledMessage||"Page Not Found";return(0,Et.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,Et.jsx)("main",{className:"flex-grow flex items-center justify-center p-4",children:(0,Et.jsxs)("div",{className:"text-center",children:[(0,Et.jsx)("h1",{className:"text-2xl font-bold text-red-600",dangerouslySetInnerHTML:{__html:_}}),(0,Et.jsx)("a",{href:"/",className:"mt-8 inline-block bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-blue-700 text-lg",children:"Go to Homepage"})]})}),(0,Et.jsx)(rs,{})]})}return(0,Et.jsxs)("div",{className:"bg-white",children:[(0,Et.jsx)("style",{children:`
                body { font-family: 'Inter', sans-serif; }
                .gradient-bg { background: linear-gradient(135deg, #004AAD, #398AF7); }
                .value-tag { background-color: #e6f7e6; color: #1e8449; padding: 2px 6px; border-radius: 4px; font-size: 0.75rem; font-weight: 700; margin-left: 8px; white-space: nowrap; }
            `}),(0,Et.jsx)("main",{className:"container mx-auto p-4 md:p-8 relative",children:E.map(_=>(0,Et.jsx)(Rl.default.Fragment,{children:U(_)},_.id))}),(0,Et.jsx)(rs,{}),v&&(0,Et.jsx)(Rm,{cart:w,appliedCoupon:null,onClose:()=>I(!1),onPurchase:B,isProcessing:f,showNotification:e,userProfile:n&&n!=="loading"?n:null,allApps:s,allWebinarProducts:[]}),b&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-white z-[100] flex flex-col",children:(0,Et.jsxs)("div",{className:"min-h-dvh flex flex-col bg-slate-50 text-slate-800",children:[(0,Et.jsx)("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 flex items-center justify-center",children:(0,Et.jsx)(db,{})}),(0,Et.jsx)(rs,{})]})})]})},Wre=fSe;var ta=ce(_e()),hSe=()=>{let[t,e]=(0,no.useState)("loading"),[r,n]=(0,no.useState)({show:!1,message:"",type:"success"}),[a,i]=(0,no.useState)(navigator.onLine),[s,o]=(0,no.useState)(!1),[l,u]=(0,no.useState)(null),[c,d]=(0,no.useState)(null),f=R=>{let T=R.replace(/^\//,"");if(T==="")return{view:"home"};if(T.startsWith("blog/")){let k=T.substring(5);if(k)return{view:"blog-post",slug:k}}if(T.startsWith("app/")){let k=T.substring(4);if(k.endsWith("/offers"))return{view:"offer-page",slug:k.replace("/offers","")};if(k)return{view:"landing-page",slug:k}}if(T.startsWith("consultants/")){let k=T.substring(12);if(k)return{view:"consultant-page",slug:k}}if(T.startsWith("booking/")){let k=T.substring(8);if(k)return{view:"booking-page",id:k}}return["about","contact","pricing","privacy","terms","refund","dashboard","shipping","blog","login"].includes(T)?{view:T}:{view:"home"}},[A,v]=(0,no.useState)(f(window.location.pathname)),I=(0,no.useCallback)(R=>{v(f(R))},[]),w=async R=>{if(typeof R=="string"){if(sessionStorage.setItem("lastPurchaseId",R),u(R),window.fbq)try{let T=await Ce.collection("consultation_purchases").doc(R).get();if(T.exists){let B=T.data(),k=B.packagePrice/100;window.fbq("track","Purchase",{value:k.toFixed(2),currency:"INR",content_ids:[B.packageId],content_name:B.packageName,content_type:"product",num_items:1})}}catch(T){console.error("Failed to track consultation purchase:",T)}}else{let T=Array.isArray(R)?R:null;if(d(T),o(!0),window.fbq&&T&&T.length>0){let B=T.reduce((E,_)=>E+_.price,0)/100,k=T.map(E=>E.tierId||E.appId),U=T.map(E=>({id:E.tierId||E.appId,quantity:1}));window.fbq("track","Purchase",{value:B.toFixed(2),currency:"INR",content_ids:k,content_type:"product",contents:U,num_items:T.length})}}};(0,no.useEffect)(()=>{l&&(window.history.pushState({},"",`/booking/${l}`),I(`/booking/${l}`))},[l,I]),(0,no.useEffect)(()=>{let R=()=>{I(window.location.pathname)};return window.addEventListener("popstate",R),()=>window.removeEventListener("popstate",R)},[I]),(0,no.useEffect)(()=>{let R=T=>{let k=T.target.closest("a");if(k&&k.target!=="_blank"&&k.origin===window.location.origin){let U=k.getAttribute("href");if(U&&U.startsWith("#"))return;let E=k.pathname;E.startsWith("/")&&(T.preventDefault(),(window.location.pathname!==E||window.location.search!==k.search)&&(window.history.pushState({},"",E+k.search),I(E)))}};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[I]);let g=(0,no.useCallback)((R,T,B=2e3)=>{n({show:!0,message:R,type:T}),setTimeout(()=>n(k=>({...k,show:!1})),B)},[]);(0,no.useEffect)(()=>{let R=async()=>{try{let k=await Ce.collection("site_content").doc("seo").get();if(k.exists){let U=k.data();if(U){let E=window.location.href,_=U.featuredImageUrl||"https://powerfultools.in/default-og-image.png",L=U.title||"Powerful Tools",D=U.description||"Powerful & affordable Vastu, Numerology, and layout tools designed by experts. Get your instant analysis & more, with more apps coming soon.",z=U.staticPages?.[A.view];z&&(L=z.title||L,D=z.description||D);let ee=document.querySelector("title");ee&&(ee.innerText=L);let Y=document.getElementById("meta-description");Y&&(Y.content=D);let $=document.getElementById("meta-keywords");$&&($.content=U.keywords||"");let j=document.getElementById("og-title");j&&(j.content=L);let K=document.getElementById("og-description");K&&(K.content=D);let oe=document.getElementById("og-image");oe&&(oe.content=_);let q=document.getElementById("og-url");q&&(q.content=E);let X=document.getElementById("twitter-title");X&&(X.content=L);let te=document.getElementById("twitter-description");te&&(te.content=D);let ue=document.getElementById("twitter-image");ue&&(ue.content=_);let be=document.getElementById("twitter-url");be&&(be.content=E);let ge=document.getElementById("canonical-url");ge&&(ge.href=E)}}}catch(B){B.code==="unavailable"?(console.warn("Could not fetch SEO data while offline:",B.message),g("You are offline. Some content may not be up to date.","info",4e3)):console.error("Failed to fetch SEO data:",B)}};if(!["home","blog-post","landing-page","consultant-page","offer-page"].includes(A.view))R();else{let B=document.querySelector("title");B&&B.innerText==="__OG_TITLE__"&&(B.innerText="Powerful Tools")}},[g,A.view]),(0,no.useEffect)(()=>{let R=()=>{i(!0),document.body.classList.remove("is-offline")},T=()=>{i(!1),document.body.classList.add("is-offline")};return navigator.onLine||T(),window.addEventListener("online",R),window.addEventListener("offline",T),()=>{window.removeEventListener("online",R),window.removeEventListener("offline",T),document.body.classList.remove("is-offline")}},[]);let b=(0,no.useCallback)(async()=>{await yf.signOut(),window.location.href="/"},[]);(0,no.useEffect)(()=>{(async T=>{if(!T||!T.view||t==="loading"||t&&(T.view==="home"||T.view==="login"))return;let B=T.view;T.slug?B=`${T.view}/${T.slug}`:T.id&&(B=`${T.view}/${T.id}`);let k=B.replace(/\//g,"_"),U=Ce.collection("page_views").doc(k);try{await U.set({count:zr.increment(1),pageId:B,lastViewed:zr.serverTimestamp()},{merge:!0})}catch(E){console.warn("Page view tracking failed:",E)}})(A)},[A,t]),(0,no.useEffect)(()=>{let R,T=yf.onAuthStateChanged(async B=>{if(R&&R(),B)try{let k=Ce.collection("users").doc(B.uid);R=k.onSnapshot(async U=>{if(U.exists){let E=U.data(),_={email:B.email,...E,id:U.id};e(_)}else if(B.email==="vips1680@gmail.com"){let E={email:B.email,name:"Acharya Preeti Sharma",role:"admin",validity:"9999-12-31",apps:{},createdAt:zr.serverTimestamp()};await k.set(E)}else g("User profile not found. Contact admin.","error"),await b()},U=>{console.error("Error with Firestore listener:",U),g(`Connection to profile lost: ${U.message}`,"error"),b()})}catch(k){console.error("Error setting up user profile listener:",k),g(`Failed to listen for profile updates: ${k.message||"Unknown error"}`,"error"),await b()}else e(null)});return()=>{T(),R&&R()}},[b,g]);let S=async(R,T)=>{e("loading");try{let k=(await yf.signInWithEmailAndPassword(R,T)).user;if(k){let U=await Ce.collection("users").doc(k.uid).get();if(U.exists){let E=U.data(),_=new Date().toISOString().split("T")[0];if(E&&(E.validity||"1970-01-01")<_){g("Your account has expired. Please contact an administrator.","error",5e3),await yf.signOut();return}}window.history.pushState({},"","/dashboard"),I("/dashboard")}}catch(B){let k=B.code?B.code.replace("auth/","").replace(/-/g," "):"Invalid credentials";g(`Login failed: ${k}`,"error"),e(null)}},F=async R=>{if(!R){g("Please enter an email address to reset the password.","error");return}try{await yf.sendPasswordResetEmail(R),g("If an account exists, a password reset link has been sent to your email.","info",6e3)}catch(T){console.error("Password reset error:",T);let B=T.code?T.code.replace("auth/","").replace(/-/g," "):"An error occurred.";g(`Password reset failed: ${B}`,"error")}},O=()=>{if(t==="loading")return(0,ta.jsx)(Fl,{});if(A.view==="landing-page")return(0,ta.jsx)(Dre,{slug:A.slug,showNotification:g,onPurchaseSuccess:w,userProfile:t});if(A.view==="offer-page")return(0,ta.jsx)(Wre,{slug:A.slug,showNotification:g,onPurchaseSuccess:w,userProfile:t});if(A.view==="consultant-page")return(0,ta.jsx)(Ore,{slug:A.slug,showNotification:g,onPurchaseSuccess:w,userProfile:t});if(A.view==="booking-page")return(0,ta.jsx)(qre,{purchaseId:A.id,userProfile:t,showNotification:g});if(t){let R=new Date().toISOString().split("T")[0],T=t.validity||(()=>{let U=new Date;return U.setFullYear(U.getFullYear()+25),U.toISOString().split("T")[0]})(),B=T<R,k=!B&&T===R;if(B)return(0,ta.jsx)(kre,{user:t,onLogout:b});if(t.mustChangePassword)return(0,ta.jsx)(Tre,{user:t,showNotification:g});switch(A.view){case"about":return(0,ta.jsx)(_c,{pageKey:"about",title:"About Us"});case"contact":return(0,ta.jsx)(_c,{pageKey:"contact",title:"Contact Us"});case"pricing":return(0,ta.jsx)(EM,{userProfile:t,showNotification:g,onPurchaseSuccess:w});case"privacy":return(0,ta.jsx)(_c,{pageKey:"privacy",title:"Privacy Policy"});case"terms":return(0,ta.jsx)(_c,{pageKey:"terms",title:"Terms & Conditions"});case"refund":return(0,ta.jsx)(_c,{pageKey:"refund",title:"Cancellation & Refund Policy"});case"shipping":return(0,ta.jsx)(_c,{pageKey:"shipping",title:"Shipping & Delivery Policy"});case"blog":return(0,ta.jsx)(TM,{});case"blog-post":return(0,ta.jsx)(LM,{slug:A.slug});case"dashboard":case"login":case"home":default:return t.role==="admin"?(0,ta.jsx)(are,{currentUser:t,onLogout:b,showNotification:g,isExpiringToday:k}):(0,ta.jsx)(Ere,{user:t,onLogout:b,showNotification:g,isExpiringToday:k,setShowPaymentSuccess:()=>w()})}}switch(A.view){case"about":return(0,ta.jsx)(_c,{pageKey:"about",title:"About Us"});case"contact":return(0,ta.jsx)(_c,{pageKey:"contact",title:"Contact Us"});case"pricing":return(0,ta.jsx)(EM,{userProfile:t,showNotification:g,onPurchaseSuccess:w});case"privacy":return(0,ta.jsx)(_c,{pageKey:"privacy",title:"Privacy Policy"});case"terms":return(0,ta.jsx)(_c,{pageKey:"terms",title:"Terms & Conditions"});case"refund":return(0,ta.jsx)(_c,{pageKey:"refund",title:"Cancellation & Refund Policy"});case"shipping":return(0,ta.jsx)(_c,{pageKey:"shipping",title:"Shipping & Delivery Policy"});case"blog":return(0,ta.jsx)(TM,{});case"blog-post":return(0,ta.jsx)(LM,{slug:A.slug});case"login":return(0,ta.jsxs)("div",{className:"flex flex-col min-h-dvh",children:[(0,ta.jsx)(uK,{onLogin:S,onForgotPassword:F}),(0,ta.jsx)(rs,{})]});case"home":default:return(0,ta.jsx)(Gre,{})}};return(0,ta.jsxs)("div",{className:"font-sans bg-gray-50 min-h-dvh",children:[!a&&(0,ta.jsx)(Pre,{}),r.show&&(0,ta.jsx)(LK,{message:r.message,type:r.type,onClose:()=>n(R=>({...R,show:!1}))}),s&&(0,ta.jsx)(Fre,{onClose:()=>{o(!1),d(null)},items:c}),O()]})},$re=hSe;var FM=ce(_e()),Jre=document.getElementById("root");if(!Jre)throw new Error("Could not find root element to mount to");var pSe=Xre.default.createRoot(Jre);pSe.render((0,FM.jsx)(Yre.default.StrictMode,{children:(0,FM.jsx)($re,{})}));
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

html2canvas/dist/html2canvas.js:
  (*!
   * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
   * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
   * Released under MIT License
   *)
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)

svg-pathdata/lib/SVGPathData.module.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

jspdf/dist/jspdf.es.min.js:
  (** @license
   *
   * jsPDF - PDF Document creation from JavaScript
   * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
   *                      CommitID 00000000
   *
   * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
   *               2015-2021 yWorks GmbH, http://www.yworks.com
   *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
   *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
   *               2010 Aaron Spike, https://github.com/acspike
   *               2012 Willow Systems Corporation, https://github.com/willowsystems
   *               2012 Pablo Hess, https://github.com/pablohess
   *               2012 Florian Jenett, https://github.com/fjenett
   *               2013 Warren Weckesser, https://github.com/warrenweckesser
   *               2013 Youssef Beddad, https://github.com/lifof
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2013 Stefan Slonevskiy, https://github.com/stefslon
   *               2013 Jeremy Morel, https://github.com/jmorel
   *               2013 Christoph Hartmann, https://github.com/chris-rock
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Makes, https://github.com/dollaruw
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Steven Spungin, https://github.com/Flamenco
   *               2014 Kenneth Glassey, https://github.com/Gavvers
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   *
   * Contributor(s):
   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
   *    kim3er, mfo, alnorth, Flamenco
   *)
  (**
   * A class to parse color values
   * @author Stoyan Stefanov <sstoo@gmail.com>
   * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
   * @license Use it if you like it
   *)
  (**
   * @license
   * Joseph Myers does not specify a particular license for his work.
   *
   * Author: Joseph Myers
   * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
   *
   * Modified by: Owen Leong
   *)
  (**
   * @license
   * FPDF is released under a permissive license: there is no usage restriction.
   * You may embed it freely in your application (commercial or not), with or
   * without modifications.
   *
   * Reference: http://www.fpdf.org/en/script/script37.php
   *)
  (**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   * Author: Owen Leong (@owenl131)
   * Date: 15 Oct 2020
   * References:
   * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
   * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
   * http://www.fpdf.org/en/script/script37.php
   *)
  (**
   * @license
   *
   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   *)
  (**
   * @license
   * (c) Dean McNamee <dean@gmail.com>, 2013.
   *
   * https://github.com/deanm/omggif
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to
   * deal in the Software without restriction, including without limitation the
   * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
   * sell copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
   * IN THE SOFTWARE.
   *
   * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
   * including animation and compression.  It does not rely on any specific
   * underlying system, so should run in the browser, Node, or Plask.
   *)
  (**
   * @license
    Copyright (c) 2008, Adobe Systems Incorporated
    All rights reserved.
  
    Redistribution and use in source and binary forms, with or without 
    modification, are permitted provided that the following conditions are
    met:
  
    * Redistributions of source code must retain the above copyright notice, 
      this list of conditions and the following disclaimer.
    
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the 
      documentation and/or other materials provided with the distribution.
    
    * Neither the name of Adobe Systems Incorporated nor the names of its 
      contributors may be used to endorse or promote products derived from 
      this software without specific prior written permission.
  
    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
    IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  *)
  (**
   * @license
   * Copyright (c) 2017 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   *)

jspdf-autotable/dist/jspdf.plugin.autotable.js:
  (*!
   * 
   *               jsPDF AutoTable plugin v3.8.4
   *
   *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
   *               Licensed under the MIT License.
   *               http://opensource.org/licenses/mit-license
   *
   *)

@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/logger/dist/esm/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
firebase/compat/app/dist/esm/index.esm.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/auth-compat/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/functions-compat/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app-compat/dist/esm/index.esm2017.js:
@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/internal.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/webchannel-wrapper/dist/bloom-blob/esm/bloom_blob_es2018.js:
@firebase/webchannel-wrapper/dist/webchannel-blob/esm/webchannel_blob_es2018.js:
  (** @license
  Copyright The Closure Library Authors.
  SPDX-License-Identifier: Apache-2.0
  *)
  (** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore-compat/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/functions/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage-compat/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *  http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

lucide-react/dist/esm/shared/src/utils.js:
lucide-react/dist/esm/defaultAttributes.js:
lucide-react/dist/esm/Icon.js:
lucide-react/dist/esm/createLucideIcon.js:
lucide-react/dist/esm/icons/activity.js:
lucide-react/dist/esm/icons/app-window.js:
lucide-react/dist/esm/icons/apple.js:
lucide-react/dist/esm/icons/arrow-down.js:
lucide-react/dist/esm/icons/arrow-left.js:
lucide-react/dist/esm/icons/arrow-right.js:
lucide-react/dist/esm/icons/arrow-up.js:
lucide-react/dist/esm/icons/award.js:
lucide-react/dist/esm/icons/baggage-claim.js:
lucide-react/dist/esm/icons/bar-chart-2.js:
lucide-react/dist/esm/icons/bar-chart-3.js:
lucide-react/dist/esm/icons/book-open.js:
lucide-react/dist/esm/icons/briefcase.js:
lucide-react/dist/esm/icons/calendar.js:
lucide-react/dist/esm/icons/check.js:
lucide-react/dist/esm/icons/chevron-down.js:
lucide-react/dist/esm/icons/chevron-right.js:
lucide-react/dist/esm/icons/circle-alert.js:
lucide-react/dist/esm/icons/circle-check-big.js:
lucide-react/dist/esm/icons/circle-play.js:
lucide-react/dist/esm/icons/circle-plus.js:
lucide-react/dist/esm/icons/circle-x.js:
lucide-react/dist/esm/icons/clipboard-list.js:
lucide-react/dist/esm/icons/clock.js:
lucide-react/dist/esm/icons/cloud-upload.js:
lucide-react/dist/esm/icons/code.js:
lucide-react/dist/esm/icons/compass.js:
lucide-react/dist/esm/icons/copy-plus.js:
lucide-react/dist/esm/icons/copy.js:
lucide-react/dist/esm/icons/credit-card.js:
lucide-react/dist/esm/icons/crosshair.js:
lucide-react/dist/esm/icons/download.js:
lucide-react/dist/esm/icons/eye-off.js:
lucide-react/dist/esm/icons/eye.js:
lucide-react/dist/esm/icons/facebook.js:
lucide-react/dist/esm/icons/file-text.js:
lucide-react/dist/esm/icons/filter.js:
lucide-react/dist/esm/icons/gavel.js:
lucide-react/dist/esm/icons/gift.js:
lucide-react/dist/esm/icons/globe.js:
lucide-react/dist/esm/icons/hand.js:
lucide-react/dist/esm/icons/home.js:
lucide-react/dist/esm/icons/image.js:
lucide-react/dist/esm/icons/indian-rupee.js:
lucide-react/dist/esm/icons/infinity.js:
lucide-react/dist/esm/icons/info.js:
lucide-react/dist/esm/icons/instagram.js:
lucide-react/dist/esm/icons/key.js:
lucide-react/dist/esm/icons/link.js:
lucide-react/dist/esm/icons/linkedin.js:
lucide-react/dist/esm/icons/loader.js:
lucide-react/dist/esm/icons/log-in.js:
lucide-react/dist/esm/icons/log-out.js:
lucide-react/dist/esm/icons/mail.js:
lucide-react/dist/esm/icons/map-pin.js:
lucide-react/dist/esm/icons/megaphone.js:
lucide-react/dist/esm/icons/message-circle.js:
lucide-react/dist/esm/icons/message-square.js:
lucide-react/dist/esm/icons/percent.js:
lucide-react/dist/esm/icons/phone.js:
lucide-react/dist/esm/icons/pin.js:
lucide-react/dist/esm/icons/plus.js:
lucide-react/dist/esm/icons/power-off.js:
lucide-react/dist/esm/icons/qr-code.js:
lucide-react/dist/esm/icons/radio-receiver.js:
lucide-react/dist/esm/icons/refresh-ccw.js:
lucide-react/dist/esm/icons/refresh-cw.js:
lucide-react/dist/esm/icons/rss.js:
lucide-react/dist/esm/icons/ruler.js:
lucide-react/dist/esm/icons/save.js:
lucide-react/dist/esm/icons/search.js:
lucide-react/dist/esm/icons/send.js:
lucide-react/dist/esm/icons/settings.js:
lucide-react/dist/esm/icons/shield-check.js:
lucide-react/dist/esm/icons/shield.js:
lucide-react/dist/esm/icons/shopping-bag.js:
lucide-react/dist/esm/icons/shopping-cart.js:
lucide-react/dist/esm/icons/skull.js:
lucide-react/dist/esm/icons/smartphone.js:
lucide-react/dist/esm/icons/square-pen.js:
lucide-react/dist/esm/icons/square-percent.js:
lucide-react/dist/esm/icons/square-x.js:
lucide-react/dist/esm/icons/star.js:
lucide-react/dist/esm/icons/tag.js:
lucide-react/dist/esm/icons/tangent.js:
lucide-react/dist/esm/icons/target.js:
lucide-react/dist/esm/icons/trash-2.js:
lucide-react/dist/esm/icons/trending-down.js:
lucide-react/dist/esm/icons/trending-up.js:
lucide-react/dist/esm/icons/triangle-alert.js:
lucide-react/dist/esm/icons/truck.js:
lucide-react/dist/esm/icons/twitter.js:
lucide-react/dist/esm/icons/user-check.js:
lucide-react/dist/esm/icons/user-plus.js:
lucide-react/dist/esm/icons/user-x.js:
lucide-react/dist/esm/icons/user.js:
lucide-react/dist/esm/icons/users.js:
lucide-react/dist/esm/icons/video.js:
lucide-react/dist/esm/icons/wallet.js:
lucide-react/dist/esm/icons/webhook.js:
lucide-react/dist/esm/icons/wifi-off.js:
lucide-react/dist/esm/icons/x.js:
lucide-react/dist/esm/icons/youtube.js:
lucide-react/dist/esm/icons/zap.js:
lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.395.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

qrcode.react/lib/esm/index.js:
  (**
   * @license QR Code generator library (TypeScript)
   * Copyright (c) Project Nayuki.
   * SPDX-License-Identifier: MIT
   *)
  (**
   * @license qrcode.react
   * Copyright (c) Paul O'Shannessy
   * SPDX-License-Identifier: ISC
   *)
*/
//# sourceMappingURL=bundle.js.map
